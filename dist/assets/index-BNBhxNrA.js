function AB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TS={exports:{}},cv={},IS={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function RB(){if(uN)return Dt;uN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function y(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function I(K,H,ae){this.props=K,this.context=H,this.refs=b,this.updater=ae||w}I.prototype.isReactComponent={},I.prototype.setState=function(K,H){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,H,"setState")},I.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function T(){}T.prototype=I.prototype;function R(K,H,ae){this.props=K,this.context=H,this.refs=b,this.updater=ae||w}var C=R.prototype=new T;C.constructor=R,E(C,I.prototype),C.isPureReactComponent=!0;var k=Array.isArray,O=Object.prototype.hasOwnProperty,W={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function X(K,H,ae){var de,_e={},le=null,B=null;if(H!=null)for(de in H.ref!==void 0&&(B=H.ref),H.key!==void 0&&(le=""+H.key),H)O.call(H,de)&&!D.hasOwnProperty(de)&&(_e[de]=H[de]);var M=arguments.length-2;if(M===1)_e.children=ae;else if(1<M){for(var oe=Array(M),ie=0;ie<M;ie++)oe[ie]=arguments[ie+2];_e.children=oe}if(K&&K.defaultProps)for(de in M=K.defaultProps,M)_e[de]===void 0&&(_e[de]=M[de]);return{$$typeof:t,type:K,key:le,ref:B,props:_e,_owner:W.current}}function V(K,H){return{$$typeof:t,type:K.type,key:H,ref:K.ref,props:K.props,_owner:K._owner}}function se(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function Ie(K){var H={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ae){return H[ae]})}var G=/\/+/g;function ee(K,H){return typeof K=="object"&&K!==null&&K.key!=null?Ie(""+K.key):H.toString(36)}function j(K,H,ae,de,_e){var le=typeof K;(le==="undefined"||le==="boolean")&&(K=null);var B=!1;if(K===null)B=!0;else switch(le){case"string":case"number":B=!0;break;case"object":switch(K.$$typeof){case t:case e:B=!0}}if(B)return B=K,_e=_e(B),K=de===""?"."+ee(B,0):de,k(_e)?(ae="",K!=null&&(ae=K.replace(G,"$&/")+"/"),j(_e,H,ae,"",function(ie){return ie})):_e!=null&&(se(_e)&&(_e=V(_e,ae+(!_e.key||B&&B.key===_e.key?"":(""+_e.key).replace(G,"$&/")+"/")+K)),H.push(_e)),1;if(B=0,de=de===""?".":de+":",k(K))for(var M=0;M<K.length;M++){le=K[M];var oe=de+ee(le,M);B+=j(le,H,ae,oe,_e)}else if(oe=y(K),typeof oe=="function")for(K=oe.call(K),M=0;!(le=K.next()).done;)le=le.value,oe=de+ee(le,M++),B+=j(le,H,ae,oe,_e);else if(le==="object")throw H=String(K),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return B}function he(K,H,ae){if(K==null)return K;var de=[],_e=0;return j(K,de,"","",function(le){return H.call(ae,le,_e++)}),de}function Ee(K){if(K._status===-1){var H=K._result;H=H(),H.then(function(ae){(K._status===0||K._status===-1)&&(K._status=1,K._result=ae)},function(ae){(K._status===0||K._status===-1)&&(K._status=2,K._result=ae)}),K._status===-1&&(K._status=0,K._result=H)}if(K._status===1)return K._result.default;throw K._result}var re={current:null},pe={transition:null},me={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:pe,ReactCurrentOwner:W};function Se(){throw Error("act(...) is not supported in production builds of React.")}return Dt.Children={map:he,forEach:function(K,H,ae){he(K,function(){H.apply(this,arguments)},ae)},count:function(K){var H=0;return he(K,function(){H++}),H},toArray:function(K){return he(K,function(H){return H})||[]},only:function(K){if(!se(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Dt.Component=I,Dt.Fragment=n,Dt.Profiler=i,Dt.PureComponent=R,Dt.StrictMode=r,Dt.Suspense=c,Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Dt.act=Se,Dt.cloneElement=function(K,H,ae){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var de=E({},K.props),_e=K.key,le=K.ref,B=K._owner;if(H!=null){if(H.ref!==void 0&&(le=H.ref,B=W.current),H.key!==void 0&&(_e=""+H.key),K.type&&K.type.defaultProps)var M=K.type.defaultProps;for(oe in H)O.call(H,oe)&&!D.hasOwnProperty(oe)&&(de[oe]=H[oe]===void 0&&M!==void 0?M[oe]:H[oe])}var oe=arguments.length-2;if(oe===1)de.children=ae;else if(1<oe){M=Array(oe);for(var ie=0;ie<oe;ie++)M[ie]=arguments[ie+2];de.children=M}return{$$typeof:t,type:K.type,key:_e,ref:le,props:de,_owner:B}},Dt.createContext=function(K){return K={$$typeof:a,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:o,_context:K},K.Consumer=K},Dt.createElement=X,Dt.createFactory=function(K){var H=X.bind(null,K);return H.type=K,H},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(K){return{$$typeof:u,render:K}},Dt.isValidElement=se,Dt.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:Ee}},Dt.memo=function(K,H){return{$$typeof:d,type:K,compare:H===void 0?null:H}},Dt.startTransition=function(K){var H=pe.transition;pe.transition={};try{K()}finally{pe.transition=H}},Dt.unstable_act=Se,Dt.useCallback=function(K,H){return re.current.useCallback(K,H)},Dt.useContext=function(K){return re.current.useContext(K)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(K){return re.current.useDeferredValue(K)},Dt.useEffect=function(K,H){return re.current.useEffect(K,H)},Dt.useId=function(){return re.current.useId()},Dt.useImperativeHandle=function(K,H,ae){return re.current.useImperativeHandle(K,H,ae)},Dt.useInsertionEffect=function(K,H){return re.current.useInsertionEffect(K,H)},Dt.useLayoutEffect=function(K,H){return re.current.useLayoutEffect(K,H)},Dt.useMemo=function(K,H){return re.current.useMemo(K,H)},Dt.useReducer=function(K,H,ae){return re.current.useReducer(K,H,ae)},Dt.useRef=function(K){return re.current.useRef(K)},Dt.useState=function(K){return re.current.useState(K)},Dt.useSyncExternalStore=function(K,H,ae){return re.current.useSyncExternalStore(K,H,ae)},Dt.useTransition=function(){return re.current.useTransition()},Dt.version="18.3.1",Dt}var lN;function _x(){return lN||(lN=1,IS.exports=RB()),IS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN;function NB(){if(cN)return cv;cN=1;var t=_x(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,d){var p,v={},y=null,w=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(w=c.ref);for(p in c)r.call(c,p)&&!o.hasOwnProperty(p)&&(v[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)v[p]===void 0&&(v[p]=c[p]);return{$$typeof:e,type:u,key:y,ref:w,props:v,_owner:i.current}}return cv.Fragment=n,cv.jsx=a,cv.jsxs=a,cv}var fN;function OB(){return fN||(fN=1,TS.exports=NB()),TS.exports}var Z=OB(),te=_x();const eF=ZM(te),GI=AB({__proto__:null,default:eF},[te]);var I0={},CS={exports:{}},Xi={},xS={exports:{}},kS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN;function PB(){return hN||(hN=1,function(t){function e(pe,me){var Se=pe.length;pe.push(me);e:for(;0<Se;){var K=Se-1>>>1,H=pe[K];if(0<i(H,me))pe[K]=me,pe[Se]=H,Se=K;else break e}}function n(pe){return pe.length===0?null:pe[0]}function r(pe){if(pe.length===0)return null;var me=pe[0],Se=pe.pop();if(Se!==me){pe[0]=Se;e:for(var K=0,H=pe.length,ae=H>>>1;K<ae;){var de=2*(K+1)-1,_e=pe[de],le=de+1,B=pe[le];if(0>i(_e,Se))le<H&&0>i(B,_e)?(pe[K]=B,pe[le]=Se,K=le):(pe[K]=_e,pe[de]=Se,K=de);else if(le<H&&0>i(B,Se))pe[K]=B,pe[le]=Se,K=le;else break e}}return me}function i(pe,me){var Se=pe.sortIndex-me.sortIndex;return Se!==0?Se:pe.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],p=1,v=null,y=3,w=!1,E=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(pe){for(var me=n(d);me!==null;){if(me.callback===null)r(d);else if(me.startTime<=pe)r(d),me.sortIndex=me.expirationTime,e(c,me);else break;me=n(d)}}function k(pe){if(b=!1,C(pe),!E)if(n(c)!==null)E=!0,Ee(O);else{var me=n(d);me!==null&&re(k,me.startTime-pe)}}function O(pe,me){E=!1,b&&(b=!1,T(X),X=-1),w=!0;var Se=y;try{for(C(me),v=n(c);v!==null&&(!(v.expirationTime>me)||pe&&!Ie());){var K=v.callback;if(typeof K=="function"){v.callback=null,y=v.priorityLevel;var H=K(v.expirationTime<=me);me=t.unstable_now(),typeof H=="function"?v.callback=H:v===n(c)&&r(c),C(me)}else r(c);v=n(c)}if(v!==null)var ae=!0;else{var de=n(d);de!==null&&re(k,de.startTime-me),ae=!1}return ae}finally{v=null,y=Se,w=!1}}var W=!1,D=null,X=-1,V=5,se=-1;function Ie(){return!(t.unstable_now()-se<V)}function G(){if(D!==null){var pe=t.unstable_now();se=pe;var me=!0;try{me=D(!0,pe)}finally{me?ee():(W=!1,D=null)}}else W=!1}var ee;if(typeof R=="function")ee=function(){R(G)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,he=j.port2;j.port1.onmessage=G,ee=function(){he.postMessage(null)}}else ee=function(){I(G,0)};function Ee(pe){D=pe,W||(W=!0,ee())}function re(pe,me){X=I(function(){pe(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(pe){pe.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,Ee(O))},t.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<pe?Math.floor(1e3/pe):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(pe){switch(y){case 1:case 2:case 3:var me=3;break;default:me=y}var Se=y;y=me;try{return pe()}finally{y=Se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(pe,me){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Se=y;y=pe;try{return me()}finally{y=Se}},t.unstable_scheduleCallback=function(pe,me,Se){var K=t.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?K+Se:K):Se=K,pe){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Se+H,pe={id:p++,callback:me,priorityLevel:pe,startTime:Se,expirationTime:H,sortIndex:-1},Se>K?(pe.sortIndex=Se,e(d,pe),n(c)===null&&pe===n(d)&&(b?(T(X),X=-1):b=!0,re(k,Se-K))):(pe.sortIndex=H,e(c,pe),E||w||(E=!0,Ee(O))),pe},t.unstable_shouldYield=Ie,t.unstable_wrapCallback=function(pe){var me=y;return function(){var Se=y;y=me;try{return pe.apply(this,arguments)}finally{y=Se}}}}(kS)),kS}var dN;function DB(){return dN||(dN=1,xS.exports=PB()),xS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function LB(){if(pN)return Xi;pN=1;var t=_x(),e=DB();function n(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(l,h){a(l,h),a(l+"Capture",h)}function a(l,h){for(i[l]=h,l=0;l<h.length;l++)r.add(h[l])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function y(l){return c.call(v,l)?!0:c.call(p,l)?!1:d.test(l)?v[l]=!0:(p[l]=!0,!1)}function w(l,h,m,_){if(m!==null&&m.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return _?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function E(l,h,m,_){if(h===null||typeof h>"u"||w(l,h,m,_))return!0;if(_)return!1;if(m!==null)switch(m.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function b(l,h,m,_,N,L,$){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=_,this.attributeNamespace=N,this.mustUseProperty=m,this.propertyName=l,this.type=h,this.sanitizeURL=L,this.removeEmptyString=$}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){I[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var h=l[0];I[h]=new b(h,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){I[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){I[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){I[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){I[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){I[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){I[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){I[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function R(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var h=l.replace(T,R);I[h]=new b(h,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var h=l.replace(T,R);I[h]=new b(h,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var h=l.replace(T,R);I[h]=new b(h,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){I[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),I.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){I[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function C(l,h,m,_){var N=I.hasOwnProperty(h)?I[h]:null;(N!==null?N.type!==0:_||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(E(h,m,N,_)&&(m=null),_||N===null?y(h)&&(m===null?l.removeAttribute(h):l.setAttribute(h,""+m)):N.mustUseProperty?l[N.propertyName]=m===null?N.type===3?!1:"":m:(h=N.attributeName,_=N.attributeNamespace,m===null?l.removeAttribute(h):(N=N.type,m=N===3||N===4&&m===!0?"":""+m,_?l.setAttributeNS(_,h,m):l.setAttribute(h,m))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),W=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),pe=Symbol.iterator;function me(l){return l===null||typeof l!="object"?null:(l=pe&&l[pe]||l["@@iterator"],typeof l=="function"?l:null)}var Se=Object.assign,K;function H(l){if(K===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);K=h&&h[1]||""}return`
`+K+l}var ae=!1;function de(l,h){if(!l||ae)return"";ae=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ae){var _=Ae}Reflect.construct(l,[],h)}else{try{h.call()}catch(Ae){_=Ae}l.call(h.prototype)}else{try{throw Error()}catch(Ae){_=Ae}l()}}catch(Ae){if(Ae&&_&&typeof Ae.stack=="string"){for(var N=Ae.stack.split(`
`),L=_.stack.split(`
`),$=N.length-1,ce=L.length-1;1<=$&&0<=ce&&N[$]!==L[ce];)ce--;for(;1<=$&&0<=ce;$--,ce--)if(N[$]!==L[ce]){if($!==1||ce!==1)do if($--,ce--,0>ce||N[$]!==L[ce]){var we=`
`+N[$].replace(" at new "," at ");return l.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",l.displayName)),we}while(1<=$&&0<=ce);break}}}finally{ae=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?H(l):""}function _e(l){switch(l.tag){case 5:return H(l.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return l=de(l.type,!1),l;case 11:return l=de(l.type.render,!1),l;case 1:return l=de(l.type,!0),l;default:return""}}function le(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case D:return"Fragment";case W:return"Portal";case V:return"Profiler";case X:return"StrictMode";case ee:return"Suspense";case j:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case Ie:return(l.displayName||"Context")+".Consumer";case se:return(l._context.displayName||"Context")+".Provider";case G:var h=l.render;return l=l.displayName,l||(l=h.displayName||h.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case he:return h=l.displayName||null,h!==null?h:le(l.type)||"Memo";case Ee:h=l._payload,l=l._init;try{return le(l(h))}catch{}}return null}function B(l){var h=l.type;switch(l.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=h.render,l=l.displayName||l.name||"",h.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(h);case 8:return h===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function M(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function oe(l){var h=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ie(l){var h=oe(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,h),_=""+l[h];if(!l.hasOwnProperty(h)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,L=m.set;return Object.defineProperty(l,h,{configurable:!0,get:function(){return N.call(this)},set:function($){_=""+$,L.call(this,$)}}),Object.defineProperty(l,h,{enumerable:m.enumerable}),{getValue:function(){return _},setValue:function($){_=""+$},stopTracking:function(){l._valueTracker=null,delete l[h]}}}}function Q(l){l._valueTracker||(l._valueTracker=ie(l))}function J(l){if(!l)return!1;var h=l._valueTracker;if(!h)return!0;var m=h.getValue(),_="";return l&&(_=oe(l)?l.checked?"true":"false":l.value),l=_,l!==m?(h.setValue(l),!0):!1}function Ce(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function F(l,h){var m=h.checked;return Se({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Te(l,h){var m=h.defaultValue==null?"":h.defaultValue,_=h.checked!=null?h.checked:h.defaultChecked;m=M(h.value!=null?h.value:m),l._wrapperState={initialChecked:_,initialValue:m,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function z(l,h){h=h.checked,h!=null&&C(l,"checked",h,!1)}function x(l,h){z(l,h);var m=M(h.value),_=h.type;if(m!=null)_==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(_==="submit"||_==="reset"){l.removeAttribute("value");return}h.hasOwnProperty("value")?U(l,h.type,m):h.hasOwnProperty("defaultValue")&&U(l,h.type,M(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(l.defaultChecked=!!h.defaultChecked)}function A(l,h,m){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var _=h.type;if(!(_!=="submit"&&_!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+l._wrapperState.initialValue,m||h===l.value||(l.value=h),l.defaultValue=h}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function U(l,h,m){(h!=="number"||Ce(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var ne=Array.isArray;function ye(l,h,m,_){if(l=l.options,h){h={};for(var N=0;N<m.length;N++)h["$"+m[N]]=!0;for(m=0;m<l.length;m++)N=h.hasOwnProperty("$"+l[m].value),l[m].selected!==N&&(l[m].selected=N),N&&_&&(l[m].defaultSelected=!0)}else{for(m=""+M(m),h=null,N=0;N<l.length;N++){if(l[N].value===m){l[N].selected=!0,_&&(l[N].defaultSelected=!0);return}h!==null||l[N].disabled||(h=l[N])}h!==null&&(h.selected=!0)}}function ue(l,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return Se({},h,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function De(l,h){var m=h.value;if(m==null){if(m=h.children,h=h.defaultValue,m!=null){if(h!=null)throw Error(n(92));if(ne(m)){if(1<m.length)throw Error(n(93));m=m[0]}h=m}h==null&&(h=""),m=h}l._wrapperState={initialValue:M(m)}}function Pe(l,h){var m=M(h.value),_=M(h.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),h.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),_!=null&&(l.defaultValue=""+_)}function Me(l){var h=l.textContent;h===l._wrapperState.initialValue&&h!==""&&h!==null&&(l.value=h)}function Ge(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(l,h){return l==null||l==="http://www.w3.org/1999/xhtml"?Ge(h):l==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ct,Pt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,m,_,N){MSApp.execUnsafeLocalFunction(function(){return l(h,m,_,N)})}:l}(function(l,h){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=h;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=ct.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;h.firstChild;)l.appendChild(h.firstChild)}});function Fr(l,h){if(h){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=h;return}}l.textContent=h}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(l){ti.forEach(function(h){h=h+l.charAt(0).toUpperCase()+l.substring(1),bn[h]=bn[l]})});function cn(l,h,m){return h==null||typeof h=="boolean"||h===""?"":m||typeof h!="number"||h===0||bn.hasOwnProperty(l)&&bn[l]?(""+h).trim():h+"px"}function On(l,h){l=l.style;for(var m in h)if(h.hasOwnProperty(m)){var _=m.indexOf("--")===0,N=cn(m,h[m],_);m==="float"&&(m="cssFloat"),_?l.setProperty(m,N):l[m]=N}}var Wu=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function En(l,h){if(h){if(Wu[l]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Ps(l,h){if(l.indexOf("-")===-1)return typeof h.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=null;function Ds(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ls=null,To=null,or=null;function Ms(l){if(l=cl(l)){if(typeof Ls!="function")throw Error(n(280));var h=l.stateNode;h&&(h=tf(h),Ls(l.stateNode,l.type,h))}}function Ph(l){To?or?or.push(l):or=[l]:To=l}function uw(){if(To){var l=To,h=or;if(or=To=null,Ms(l),h)for(l=0;l<h.length;l++)Ms(h[l])}}function lw(l,h){return l(h)}function Tm(){}var Im=!1;function Ur(l,h,m){if(Im)return l(h,m);Im=!0;try{return lw(l,h,m)}finally{Im=!1,(To!==null||or!==null)&&(Tm(),uw())}}function Fs(l,h){var m=l.stateNode;if(m===null)return null;var _=tf(m);if(_===null)return null;m=_[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(l=l.type,_=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!_;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,h,typeof m));return m}var Cm=!1;if(u)try{var xc={};Object.defineProperty(xc,"passive",{get:function(){Cm=!0}}),window.addEventListener("test",xc,xc),window.removeEventListener("test",xc,xc)}catch{Cm=!1}function cw(l,h,m,_,N,L,$,ce,we){var Ae=Array.prototype.slice.call(arguments,3);try{h.apply(m,Ae)}catch(je){this.onError(je)}}var qu=!1,kc=null,Us=!1,Dh=null,Gu={onError:function(l){qu=!0,kc=l}};function rE(l,h,m,_,N,L,$,ce,we){qu=!1,kc=null,cw.apply(Gu,arguments)}function fw(l,h,m,_,N,L,$,ce,we){if(rE.apply(this,arguments),qu){if(qu){var Ae=kc;qu=!1,kc=null}else throw Error(n(198));Us||(Us=!0,Dh=Ae)}}function Ha(l){var h=l,m=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do h=l,h.flags&4098&&(m=h.return),l=h.return;while(l)}return h.tag===3?m:null}function xm(l){if(l.tag===13){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function km(l){if(Ha(l)!==l)throw Error(n(188))}function Am(l){var h=l.alternate;if(!h){if(h=Ha(l),h===null)throw Error(n(188));return h!==l?null:l}for(var m=l,_=h;;){var N=m.return;if(N===null)break;var L=N.alternate;if(L===null){if(_=N.return,_!==null){m=_;continue}break}if(N.child===L.child){for(L=N.child;L;){if(L===m)return km(N),l;if(L===_)return km(N),h;L=L.sibling}throw Error(n(188))}if(m.return!==_.return)m=N,_=L;else{for(var $=!1,ce=N.child;ce;){if(ce===m){$=!0,m=N,_=L;break}if(ce===_){$=!0,_=N,m=L;break}ce=ce.sibling}if(!$){for(ce=L.child;ce;){if(ce===m){$=!0,m=L,_=N;break}if(ce===_){$=!0,_=L,m=N;break}ce=ce.sibling}if(!$)throw Error(n(189))}}if(m.alternate!==_)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:h}function Lh(l){return l=Am(l),l!==null?hw(l):null}function hw(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var h=hw(l);if(h!==null)return h;l=l.sibling}return null}var dw=e.unstable_scheduleCallback,Fi=e.unstable_cancelCallback,pw=e.unstable_shouldYield,iE=e.unstable_requestPaint,Sn=e.unstable_now,oE=e.unstable_getCurrentPriorityLevel,Mh=e.unstable_ImmediatePriority,Ac=e.unstable_UserBlockingPriority,Ku=e.unstable_NormalPriority,Rm=e.unstable_LowPriority,Fh=e.unstable_IdlePriority,Uh=null,io=null;function Nm(l){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(Uh,l,void 0,(l.current.flags&128)===128)}catch{}}var Ui=Math.clz32?Math.clz32:Rc,js=Math.log,sE=Math.LN2;function Rc(l){return l>>>=0,l===0?32:31-(js(l)/sE|0)|0}var Nc=64,Oc=4194304;function Pc(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function jh(l,h){var m=l.pendingLanes;if(m===0)return 0;var _=0,N=l.suspendedLanes,L=l.pingedLanes,$=m&268435455;if($!==0){var ce=$&~N;ce!==0?_=Pc(ce):(L&=$,L!==0&&(_=Pc(L)))}else $=m&~N,$!==0?_=Pc($):L!==0&&(_=Pc(L));if(_===0)return 0;if(h!==0&&h!==_&&!(h&N)&&(N=_&-_,L=h&-h,N>=L||N===16&&(L&4194240)!==0))return h;if(_&4&&(_|=m&16),h=l.entangledLanes,h!==0)for(l=l.entanglements,h&=_;0<h;)m=31-Ui(h),N=1<<m,_|=l[m],h&=~N;return _}function Bh(l,h){switch(l){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mw(l,h){for(var m=l.suspendedLanes,_=l.pingedLanes,N=l.expirationTimes,L=l.pendingLanes;0<L;){var $=31-Ui(L),ce=1<<$,we=N[$];we===-1?(!(ce&m)||ce&_)&&(N[$]=Bh(ce,h)):we<=h&&(l.expiredLanes|=ce),L&=~ce}}function Dc(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function gw(){var l=Nc;return Nc<<=1,!(Nc&4194240)&&(Nc=64),l}function $u(l){for(var h=[],m=0;31>m;m++)h.push(l);return h}function Bs(l,h,m){l.pendingLanes|=h,h!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,h=31-Ui(h),l[h]=m}function aE(l,h){var m=l.pendingLanes&~h;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=h,l.mutableReadLanes&=h,l.entangledLanes&=h,h=l.entanglements;var _=l.eventTimes;for(l=l.expirationTimes;0<m;){var N=31-Ui(m),L=1<<N;h[N]=0,_[N]=-1,l[N]=-1,m&=~L}}function Lc(l,h){var m=l.entangledLanes|=h;for(l=l.entanglements;m;){var _=31-Ui(m),N=1<<_;N&h|l[_]&h&&(l[_]|=h),m&=~N}}var zt=0;function Om(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var It,es,Yu,Io,Pm,Vh=!1,Xu=[],st=null,Vt=null,ts=null,Mc=new Map,Qu=new Map,ns=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lm(l,h){switch(l){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Mc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(h.pointerId)}}function oo(l,h,m,_,N,L){return l===null||l.nativeEvent!==L?(l={blockedOn:h,domEventName:m,eventSystemFlags:_,nativeEvent:L,targetContainers:[N]},h!==null&&(h=cl(h),h!==null&&es(h)),l):(l.eventSystemFlags|=_,h=l.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),l)}function vw(l,h,m,_,N){switch(h){case"focusin":return st=oo(st,l,h,m,_,N),!0;case"dragenter":return Vt=oo(Vt,l,h,m,_,N),!0;case"mouseover":return ts=oo(ts,l,h,m,_,N),!0;case"pointerover":var L=N.pointerId;return Mc.set(L,oo(Mc.get(L)||null,l,h,m,_,N)),!0;case"gotpointercapture":return L=N.pointerId,Qu.set(L,oo(Qu.get(L)||null,l,h,m,_,N)),!0}return!1}function yw(l){var h=Qs(l.target);if(h!==null){var m=Ha(h);if(m!==null){if(h=m.tag,h===13){if(h=xm(m),h!==null){l.blockedOn=h,Pm(l.priority,function(){Yu(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Fc(l){if(l.blockedOn!==null)return!1;for(var h=l.targetContainers;0<h.length;){var m=qh(l.domEventName,l.eventSystemFlags,h[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var _=new m.constructor(m.type,m);Hu=_,m.target.dispatchEvent(_),Hu=null}else return h=cl(m),h!==null&&es(h),l.blockedOn=m,!1;h.shift()}return!0}function Mm(l,h,m){Fc(l)&&m.delete(h)}function ww(){Vh=!1,st!==null&&Fc(st)&&(st=null),Vt!==null&&Fc(Vt)&&(Vt=null),ts!==null&&Fc(ts)&&(ts=null),Mc.forEach(Mm),Qu.forEach(Mm)}function Ju(l,h){l.blockedOn===h&&(l.blockedOn=null,Vh||(Vh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ww)))}function Uc(l){function h(N){return Ju(N,l)}if(0<Xu.length){Ju(Xu[0],l);for(var m=1;m<Xu.length;m++){var _=Xu[m];_.blockedOn===l&&(_.blockedOn=null)}}for(st!==null&&Ju(st,l),Vt!==null&&Ju(Vt,l),ts!==null&&Ju(ts,l),Mc.forEach(h),Qu.forEach(h),m=0;m<ns.length;m++)_=ns[m],_.blockedOn===l&&(_.blockedOn=null);for(;0<ns.length&&(m=ns[0],m.blockedOn===null);)yw(m),m.blockedOn===null&&ns.shift()}var qa=k.ReactCurrentBatchConfig,rs=!0;function zh(l,h,m,_){var N=zt,L=qa.transition;qa.transition=null;try{zt=1,Wh(l,h,m,_)}finally{zt=N,qa.transition=L}}function uE(l,h,m,_){var N=zt,L=qa.transition;qa.transition=null;try{zt=4,Wh(l,h,m,_)}finally{zt=N,qa.transition=L}}function Wh(l,h,m,_){if(rs){var N=qh(l,h,m,_);if(N===null)td(l,h,_,Hh,m),Lm(l,_);else if(vw(N,l,h,m,_))_.stopPropagation();else if(Lm(l,_),h&4&&-1<Dm.indexOf(l)){for(;N!==null;){var L=cl(N);if(L!==null&&It(L),L=qh(l,h,m,_),L===null&&td(l,h,_,Hh,m),L===N)break;N=L}N!==null&&_.stopPropagation()}else td(l,h,_,null,m)}}var Hh=null;function qh(l,h,m,_){if(Hh=null,l=Ds(_),l=Qs(l),l!==null)if(h=Ha(l),h===null)l=null;else if(m=h.tag,m===13){if(l=xm(h),l!==null)return l;l=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;l=null}else h!==l&&(l=null);return Hh=l,null}function _w(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oE()){case Mh:return 1;case Ac:return 4;case Ku:case Rm:return 16;case Fh:return 536870912;default:return 16}default:return 16}}var Vs=null,mr=null,Co=null;function bw(){if(Co)return Co;var l,h=mr,m=h.length,_,N="value"in Vs?Vs.value:Vs.textContent,L=N.length;for(l=0;l<m&&h[l]===N[l];l++);var $=m-l;for(_=1;_<=$&&h[m-_]===N[L-_];_++);return Co=N.slice(l,1<_?1-_:void 0)}function zs(l){var h=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),32<=l||l===13?l:0}function Gh(){return!0}function Ew(){return!1}function gr(l){function h(m,_,N,L,$){this._reactName=m,this._targetInst=N,this.type=_,this.nativeEvent=L,this.target=$,this.currentTarget=null;for(var ce in l)l.hasOwnProperty(ce)&&(m=l[ce],this[ce]=m?m(L):L[ce]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?Gh:Ew,this.isPropagationStopped=Ew,this}return Se(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Gh)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Gh)},persist:function(){},isPersistent:Gh}),h}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=gr(is),Ga=Se({},is,{view:0,detail:0}),Fm=gr(Ga),Bc,ni,Zu,Kh=Se({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Zu&&(Zu&&l.type==="mousemove"?(Bc=l.screenX-Zu.screenX,ni=l.screenY-Zu.screenY):ni=Bc=0,Zu=l),Bc)},movementY:function(l){return"movementY"in l?l.movementY:ni}}),$h=gr(Kh),bi=Se({},Kh,{dataTransfer:0}),Sw=gr(bi),Tw=Se({},Ga,{relatedTarget:0}),Yh=gr(Tw),Iw=Se({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=gr(Iw),Xh=Se({},is,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Um=gr(Xh),jm=Se({},is,{data:0}),vr=gr(jm),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vm(l){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(l):(l=Qh[l])?!!h[l]:!1}function Ws(){return Vm}var xw=Se({},Ga,{key:function(l){if(l.key){var h=Cw[l.key]||l.key;if(h!=="Unidentified")return h}return l.type==="keypress"?(l=zs(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Bm[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(l){return l.type==="keypress"?zs(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?zs(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),kw=gr(xw),cE=Se({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ka=gr(cE),zm=Se({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),$a=gr(zm),Aw=Se({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),fE=gr(Aw),Hs=Se({},Kh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Vc=gr(Hs),zc=[9,13,27,32],Wc=u&&"CompositionEvent"in window,fn=null;u&&"documentMode"in document&&(fn=document.documentMode);var ji=u&&"TextEvent"in window&&!fn,jr=u&&(!Wc||fn&&8<fn&&11>=fn),Hc=" ",el=!1;function tl(l,h){switch(l){case"keyup":return zc.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rw(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ya=!1;function hE(l,h){switch(l){case"compositionend":return Rw(h);case"keypress":return h.which!==32?null:(el=!0,Hc);case"textInput":return l=h.data,l===Hc&&el?null:l;default:return null}}function dE(l,h){if(Ya)return l==="compositionend"||!Wc&&tl(l,h)?(l=bw(),Co=mr=Vs=null,Ya=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return jr&&h.locale!=="ko"?null:h.data;default:return null}}var pE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nw(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h==="input"?!!pE[l.type]:h==="textarea"}function qs(l,h,m,_){Ph(_),h=nd(h,"onChange"),0<h.length&&(m=new jc("onChange","change",null,m,_),l.push({event:m,listeners:h}))}var Bi=null,nl=null;function xo(l){Zm(l,0)}function rl(l){var h=fl(l);if(J(h))return l}function Ow(l,h){if(l==="change")return h}var Wm=!1;if(u){var Gs;if(u){var Hm="oninput"in document;if(!Hm){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),Hm=typeof qm.oninput=="function"}Gs=Hm}else Gs=!1;Wm=Gs&&(!document.documentMode||9<document.documentMode)}function Pw(){Bi&&(Bi.detachEvent("onpropertychange",Jh),nl=Bi=null)}function Jh(l){if(l.propertyName==="value"&&rl(nl)){var h=[];qs(h,nl,l,Ds(l)),Ur(xo,h)}}function Dw(l,h,m){l==="focusin"?(Pw(),Bi=h,nl=m,Bi.attachEvent("onpropertychange",Jh)):l==="focusout"&&Pw()}function mE(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return rl(nl)}function Lw(l,h){if(l==="click")return rl(h)}function Gm(l,h){if(l==="input"||l==="change")return rl(h)}function qc(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var Vi=typeof Object.is=="function"?Object.is:qc;function il(l,h){if(Vi(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var m=Object.keys(l),_=Object.keys(h);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var N=m[_];if(!c.call(h,N)||!Vi(l[N],h[N]))return!1}return!0}function Mw(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Km(l,h){var m=Mw(l);l=0;for(var _;m;){if(m.nodeType===3){if(_=l+m.textContent.length,l<=h&&_>=h)return{node:m,offset:h-l};l=_}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Mw(m)}}function Ks(l,h){return l&&h?l===h?!0:l&&l.nodeType===3?!1:h&&h.nodeType===3?Ks(l,h.parentNode):"contains"in l?l.contains(h):l.compareDocumentPosition?!!(l.compareDocumentPosition(h)&16):!1:!1}function $m(){for(var l=window,h=Ce();h instanceof l.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)l=h.contentWindow;else break;h=Ce(l.document)}return h}function Ym(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h&&(h==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||h==="textarea"||l.contentEditable==="true")}function gE(l){var h=$m(),m=l.focusedElem,_=l.selectionRange;if(h!==m&&m&&m.ownerDocument&&Ks(m.ownerDocument.documentElement,m)){if(_!==null&&Ym(m)){if(h=_.start,l=_.end,l===void 0&&(l=h),"selectionStart"in m)m.selectionStart=h,m.selectionEnd=Math.min(l,m.value.length);else if(l=(h=m.ownerDocument||document)&&h.defaultView||window,l.getSelection){l=l.getSelection();var N=m.textContent.length,L=Math.min(_.start,N);_=_.end===void 0?L:Math.min(_.end,N),!l.extend&&L>_&&(N=_,_=L,L=N),N=Km(m,L);var $=Km(m,_);N&&$&&(l.rangeCount!==1||l.anchorNode!==N.node||l.anchorOffset!==N.offset||l.focusNode!==$.node||l.focusOffset!==$.offset)&&(h=h.createRange(),h.setStart(N.node,N.offset),l.removeAllRanges(),L>_?(l.addRange(h),l.extend($.node,$.offset)):(h.setEnd($.node,$.offset),l.addRange(h)))}}for(h=[],l=m;l=l.parentNode;)l.nodeType===1&&h.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<h.length;m++)l=h[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var vE=u&&"documentMode"in document&&11>=document.documentMode,os=null,Xm=null,Xa=null,Gc=!1;function zi(l,h,m){var _=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Gc||os==null||os!==Ce(_)||(_=os,"selectionStart"in _&&Ym(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Xa&&il(Xa,_)||(Xa=_,_=nd(Xm,"onSelect"),0<_.length&&(h=new jc("onSelect","select",null,h,m),l.push({event:h,listeners:_}),h.target=os)))}function Ei(l,h){var m={};return m[l.toLowerCase()]=h.toLowerCase(),m["Webkit"+l]="webkit"+h,m["Moz"+l]="moz"+h,m}var Qa={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},Qm={},Zh={};u&&(Zh=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Kc(l){if(Qm[l])return Qm[l];if(!Qa[l])return l;var h=Qa[l],m;for(m in h)if(h.hasOwnProperty(m)&&m in Zh)return Qm[l]=h[m];return l}var Ja=Kc("animationend"),Jm=Kc("animationiteration"),Za=Kc("animationstart"),Kn=Kc("transitionend"),hn=new Map,ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(l,h){hn.set(l,h),o(h,[l])}for(var ol=0;ol<ed.length;ol++){var $s=ed[ol],$c=$s.toLowerCase(),Yc=$s[0].toUpperCase()+$s.slice(1);ri($c,"on"+Yc)}ri(Ja,"onAnimationEnd"),ri(Jm,"onAnimationIteration"),ri(Za,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Kn,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),al=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function Ys(l,h,m){var _=l.type||"unknown-event";l.currentTarget=m,fw(_,h,void 0,l),l.currentTarget=null}function Zm(l,h){h=(h&4)!==0;for(var m=0;m<l.length;m++){var _=l[m],N=_.event;_=_.listeners;e:{var L=void 0;if(h)for(var $=_.length-1;0<=$;$--){var ce=_[$],we=ce.instance,Ae=ce.currentTarget;if(ce=ce.listener,we!==L&&N.isPropagationStopped())break e;Ys(N,ce,Ae),L=we}else for($=0;$<_.length;$++){if(ce=_[$],we=ce.instance,Ae=ce.currentTarget,ce=ce.listener,we!==L&&N.isPropagationStopped())break e;Ys(N,ce,Ae),L=we}}}if(Us)throw l=Dh,Us=!1,Dh=null,l}function on(l,h){var m=h[ug];m===void 0&&(m=h[ug]=new Set);var _=l+"__bubble";m.has(_)||(ll(h,l,2,!1),m.add(_))}function ko(l,h,m){var _=0;h&&(_|=4),ll(m,l,_,h)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Xc(l){if(!l[ul]){l[ul]=!0,r.forEach(function(m){m!=="selectionchange"&&(al.has(m)||ko(m,!1,l),ko(m,!0,l))});var h=l.nodeType===9?l:l.ownerDocument;h===null||h[ul]||(h[ul]=!0,ko("selectionchange",!1,h))}}function ll(l,h,m,_){switch(_w(h)){case 1:var N=zh;break;case 4:N=uE;break;default:N=Wh}m=N.bind(null,h,m,l),N=void 0,!Cm||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),_?N!==void 0?l.addEventListener(h,m,{capture:!0,passive:N}):l.addEventListener(h,m,!0):N!==void 0?l.addEventListener(h,m,{passive:N}):l.addEventListener(h,m,!1)}function td(l,h,m,_,N){var L=_;if(!(h&1)&&!(h&2)&&_!==null)e:for(;;){if(_===null)return;var $=_.tag;if($===3||$===4){var ce=_.stateNode.containerInfo;if(ce===N||ce.nodeType===8&&ce.parentNode===N)break;if($===4)for($=_.return;$!==null;){var we=$.tag;if((we===3||we===4)&&(we=$.stateNode.containerInfo,we===N||we.nodeType===8&&we.parentNode===N))return;$=$.return}for(;ce!==null;){if($=Qs(ce),$===null)return;if(we=$.tag,we===5||we===6){_=L=$;continue e}ce=ce.parentNode}}_=_.return}Ur(function(){var Ae=L,je=Ds(m),ze=[];e:{var Fe=hn.get(l);if(Fe!==void 0){var Xe=jc,Je=l;switch(l){case"keypress":if(zs(m)===0)break e;case"keydown":case"keyup":Xe=kw;break;case"focusin":Je="focus",Xe=Yh;break;case"focusout":Je="blur",Xe=Yh;break;case"beforeblur":case"afterblur":Xe=Yh;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Sw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=$a;break;case Ja:case Jm:case Za:Xe=lE;break;case Kn:Xe=fE;break;case"scroll":Xe=Fm;break;case"wheel":Xe=Vc;break;case"copy":case"cut":case"paste":Xe=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Ka}var rt=(h&4)!==0,wn=!rt&&l==="scroll",xe=rt?Fe!==null?Fe+"Capture":null:Fe;rt=[];for(var be=Ae,ke;be!==null;){ke=be;var He=ke.stateNode;if(ke.tag===5&&He!==null&&(ke=He,xe!==null&&(He=Fs(be,xe),He!=null&&rt.push(Qc(be,He,ke)))),wn)break;be=be.return}0<rt.length&&(Fe=new Xe(Fe,Je,null,m,je),ze.push({event:Fe,listeners:rt}))}}if(!(h&7)){e:{if(Fe=l==="mouseover"||l==="pointerover",Xe=l==="mouseout"||l==="pointerout",Fe&&m!==Hu&&(Je=m.relatedTarget||m.fromElement)&&(Qs(Je)||Je[as]))break e;if((Xe||Fe)&&(Fe=je.window===je?je:(Fe=je.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Xe?(Je=m.relatedTarget||m.toElement,Xe=Ae,Je=Je?Qs(Je):null,Je!==null&&(wn=Ha(Je),Je!==wn||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(Xe=null,Je=Ae),Xe!==Je)){if(rt=$h,He="onMouseLeave",xe="onMouseEnter",be="mouse",(l==="pointerout"||l==="pointerover")&&(rt=Ka,He="onPointerLeave",xe="onPointerEnter",be="pointer"),wn=Xe==null?Fe:fl(Xe),ke=Je==null?Fe:fl(Je),Fe=new rt(He,be+"leave",Xe,m,je),Fe.target=wn,Fe.relatedTarget=ke,He=null,Qs(je)===Ae&&(rt=new rt(xe,be+"enter",Je,m,je),rt.target=ke,rt.relatedTarget=wn,He=rt),wn=He,Xe&&Je)t:{for(rt=Xe,xe=Je,be=0,ke=rt;ke;ke=eu(ke))be++;for(ke=0,He=xe;He;He=eu(He))ke++;for(;0<be-ke;)rt=eu(rt),be--;for(;0<ke-be;)xe=eu(xe),ke--;for(;be--;){if(rt===xe||xe!==null&&rt===xe.alternate)break t;rt=eu(rt),xe=eu(xe)}rt=null}else rt=null;Xe!==null&&rd(ze,Fe,Xe,rt,!1),Je!==null&&wn!==null&&rd(ze,wn,Je,rt,!0)}}e:{if(Fe=Ae?fl(Ae):window,Xe=Fe.nodeName&&Fe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Fe.type==="file")var it=Ow;else if(Nw(Fe))if(Wm)it=Gm;else{it=mE;var ft=Dw}else(Xe=Fe.nodeName)&&Xe.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(it=Lw);if(it&&(it=it(l,Ae))){qs(ze,it,m,je);break e}ft&&ft(l,Fe,Ae),l==="focusout"&&(ft=Fe._wrapperState)&&ft.controlled&&Fe.type==="number"&&U(Fe,"number",Fe.value)}switch(ft=Ae?fl(Ae):window,l){case"focusin":(Nw(ft)||ft.contentEditable==="true")&&(os=ft,Xm=Ae,Xa=null);break;case"focusout":Xa=Xm=os=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,zi(ze,m,je);break;case"selectionchange":if(vE)break;case"keydown":case"keyup":zi(ze,m,je)}var ht;if(Wc)e:{switch(l){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Ya?tl(l,m)&&(mt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(mt="onCompositionStart");mt&&(jr&&m.locale!=="ko"&&(Ya||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ya&&(ht=bw()):(Vs=je,mr="value"in Vs?Vs.value:Vs.textContent,Ya=!0)),ft=nd(Ae,mt),0<ft.length&&(mt=new vr(mt,l,null,m,je),ze.push({event:mt,listeners:ft}),ht?mt.data=ht:(ht=Rw(m),ht!==null&&(mt.data=ht)))),(ht=ji?hE(l,m):dE(l,m))&&(Ae=nd(Ae,"onBeforeInput"),0<Ae.length&&(je=new vr("onBeforeInput","beforeinput",null,m,je),ze.push({event:je,listeners:Ae}),je.data=ht))}Zm(ze,h)})}function Qc(l,h,m){return{instance:l,listener:h,currentTarget:m}}function nd(l,h){for(var m=h+"Capture",_=[];l!==null;){var N=l,L=N.stateNode;N.tag===5&&L!==null&&(N=L,L=Fs(l,m),L!=null&&_.unshift(Qc(l,L,N)),L=Fs(l,h),L!=null&&_.push(Qc(l,L,N))),l=l.return}return _}function eu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function rd(l,h,m,_,N){for(var L=h._reactName,$=[];m!==null&&m!==_;){var ce=m,we=ce.alternate,Ae=ce.stateNode;if(we!==null&&we===_)break;ce.tag===5&&Ae!==null&&(ce=Ae,N?(we=Fs(m,L),we!=null&&$.unshift(Qc(m,we,ce))):N||(we=Fs(m,L),we!=null&&$.push(Qc(m,we,ce)))),m=m.return}$.length!==0&&l.push({event:h,listeners:$})}var eg=/\r\n?/g,tg=/\u0000|\uFFFD/g;function tt(l){return(typeof l=="string"?l:""+l).replace(eg,`
`).replace(tg,"")}function $n(l,h,m){if(h=tt(h),tt(l)!==h&&m)throw Error(n(425))}function Si(){}var ng=null,rg=null;function Jc(l,h){return l==="textarea"||l==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,ig=typeof clearTimeout=="function"?clearTimeout:void 0,og=typeof Promise=="function"?Promise:void 0,sg=typeof queueMicrotask=="function"?queueMicrotask:typeof og<"u"?function(l){return og.resolve(null).then(l).catch(ag)}:Zc;function ag(l){setTimeout(function(){throw l})}function ef(l,h){var m=h,_=0;do{var N=m.nextSibling;if(l.removeChild(m),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(_===0){l.removeChild(N),Uc(h);return}_--}else m!=="$"&&m!=="$?"&&m!=="$!"||_++;m=N}while(m);Uc(h)}function Wi(l){for(;l!=null;l=l.nextSibling){var h=l.nodeType;if(h===1||h===3)break;if(h===8){if(h=l.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return l}function Fw(l){l=l.previousSibling;for(var h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(h===0)return l;h--}else m==="/$"&&h++}l=l.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Xs,ss="__reactProps$"+Xs,as="__reactContainer$"+Xs,ug="__reactEvents$"+Xs,yE="__reactListeners$"+Xs,wE="__reactHandles$"+Xs;function Qs(l){var h=l[Ti];if(h)return h;for(var m=l.parentNode;m;){if(h=m[as]||m[Ti]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(l=Fw(l);l!==null;){if(m=l[Ti])return m;l=Fw(l)}return h}l=m,m=l.parentNode}return null}function cl(l){return l=l[Ti]||l[as],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function fl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function tf(l){return l[ss]||null}var lg=[],hl=-1;function Ao(l){return{current:l}}function sn(l){0>hl||(l.current=lg[hl],lg[hl]=null,hl--)}function Qt(l,h){hl++,lg[hl]=l.current,l.current=h}var Js={},yr=Ao(Js),Br=Ao(!1),tu=Js;function dl(l,h){var m=l.type.contextTypes;if(!m)return Js;var _=l.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===h)return _.__reactInternalMemoizedMaskedChildContext;var N={},L;for(L in m)N[L]=h[L];return _&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=N),N}function Vr(l){return l=l.childContextTypes,l!=null}function nu(){sn(Br),sn(yr)}function cg(l,h,m){if(yr.current!==Js)throw Error(n(168));Qt(yr,h),Qt(Br,m)}function fg(l,h,m){var _=l.stateNode;if(h=h.childContextTypes,typeof _.getChildContext!="function")return m;_=_.getChildContext();for(var N in _)if(!(N in h))throw Error(n(108,B(l)||"Unknown",N));return Se({},m,_)}function pl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Js,tu=yr.current,Qt(yr,l),Qt(Br,Br.current),!0}function hg(l,h,m){var _=l.stateNode;if(!_)throw Error(n(169));m?(l=fg(l,h,tu),_.__reactInternalMemoizedMergedChildContext=l,sn(Br),sn(yr),Qt(yr,l)):sn(Br),Qt(Br,m)}var us=null,nf=!1,id=!1;function dg(l){us===null?us=[l]:us.push(l)}function Uw(l){nf=!0,dg(l)}function so(){if(!id&&us!==null){id=!0;var l=0,h=zt;try{var m=us;for(zt=1;l<m.length;l++){var _=m[l];do _=_(!0);while(_!==null)}us=null,nf=!1}catch(N){throw us!==null&&(us=us.slice(l+1)),dw(Mh,so),N}finally{zt=h,id=!1}}return null}var ml=[],Ro=0,od=null,sd=0,Hi=[],zr=0,No=null,Oo=1,Po="";function Do(l,h){ml[Ro++]=sd,ml[Ro++]=od,od=l,sd=h}function ad(l,h,m){Hi[zr++]=Oo,Hi[zr++]=Po,Hi[zr++]=No,No=l;var _=Oo;l=Po;var N=32-Ui(_)-1;_&=~(1<<N),m+=1;var L=32-Ui(h)+N;if(30<L){var $=N-N%5;L=(_&(1<<$)-1).toString(32),_>>=$,N-=$,Oo=1<<32-Ui(h)+N|m<<N|_,Po=L+l}else Oo=1<<L|m<<N|_,Po=l}function rf(l){l.return!==null&&(Do(l,1),ad(l,1,0))}function ud(l){for(;l===od;)od=ml[--Ro],ml[Ro]=null,sd=ml[--Ro],ml[Ro]=null;for(;l===No;)No=Hi[--zr],Hi[zr]=null,Po=Hi[--zr],Hi[zr]=null,Oo=Hi[--zr],Hi[zr]=null}var Wr=null,ii=null,an=!1,Pn=null;function pg(l,h){var m=ur(5,null,null,0);m.elementType="DELETED",m.stateNode=h,m.return=l,h=l.deletions,h===null?(l.deletions=[m],l.flags|=16):h.push(m)}function mg(l,h){switch(l.tag){case 5:var m=l.type;return h=h.nodeType!==1||m.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(l.stateNode=h,Wr=l,ii=Wi(h.firstChild),!0):!1;case 6:return h=l.pendingProps===""||h.nodeType!==3?null:h,h!==null?(l.stateNode=h,Wr=l,ii=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(m=No!==null?{id:Oo,overflow:Po}:null,l.memoizedState={dehydrated:h,treeContext:m,retryLane:1073741824},m=ur(18,null,null,0),m.stateNode=h,m.return=l,l.child=m,Wr=l,ii=null,!0):!1;default:return!1}}function ld(l){return(l.mode&1)!==0&&(l.flags&128)===0}function cd(l){if(an){var h=ii;if(h){var m=h;if(!mg(l,h)){if(ld(l))throw Error(n(418));h=Wi(m.nextSibling);var _=Wr;h&&mg(l,h)?pg(_,m):(l.flags=l.flags&-4097|2,an=!1,Wr=l)}}else{if(ld(l))throw Error(n(418));l.flags=l.flags&-4097|2,an=!1,Wr=l}}}function gg(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Wr=l}function ru(l){if(l!==Wr)return!1;if(!an)return gg(l),an=!0,!1;var h;if((h=l.tag!==3)&&!(h=l.tag!==5)&&(h=l.type,h=h!=="head"&&h!=="body"&&!Jc(l.type,l.memoizedProps)),h&&(h=ii)){if(ld(l))throw gl(),Error(n(418));for(;h;)pg(l,h),h=Wi(h.nextSibling)}if(gg(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(h===0){ii=Wi(l.nextSibling);break e}h--}else m!=="$"&&m!=="$!"&&m!=="$?"||h++}l=l.nextSibling}ii=null}}else ii=Wr?Wi(l.stateNode.nextSibling):null;return!0}function gl(){for(var l=ii;l;)l=Wi(l.nextSibling)}function ls(){ii=Wr=null,an=!1}function Zs(l){Pn===null?Pn=[l]:Pn.push(l)}var vl=k.ReactCurrentBatchConfig;function ao(l,h,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var _=m.stateNode}if(!_)throw Error(n(147,l));var N=_,L=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function($){var ce=N.refs;$===null?delete ce[L]:ce[L]=$},h._stringRef=L,h)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function yl(l,h){throw l=Object.prototype.toString.call(h),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l))}function jw(l){var h=l._init;return h(l._payload)}function Lo(l){function h(xe,be){if(l){var ke=xe.deletions;ke===null?(xe.deletions=[be],xe.flags|=16):ke.push(be)}}function m(xe,be){if(!l)return null;for(;be!==null;)h(xe,be),be=be.sibling;return null}function _(xe,be){for(xe=new Map;be!==null;)be.key!==null?xe.set(be.key,be):xe.set(be.index,be),be=be.sibling;return xe}function N(xe,be){return xe=ma(xe,be),xe.index=0,xe.sibling=null,xe}function L(xe,be,ke){return xe.index=ke,l?(ke=xe.alternate,ke!==null?(ke=ke.index,ke<be?(xe.flags|=2,be):ke):(xe.flags|=2,be)):(xe.flags|=1048576,be)}function $(xe){return l&&xe.alternate===null&&(xe.flags|=2),xe}function ce(xe,be,ke,He){return be===null||be.tag!==6?(be=tv(ke,xe.mode,He),be.return=xe,be):(be=N(be,ke),be.return=xe,be)}function we(xe,be,ke,He){var it=ke.type;return it===D?je(xe,be,ke.props.children,He,ke.key):be!==null&&(be.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ee&&jw(it)===be.type)?(He=N(be,ke.props),He.ref=ao(xe,be,ke),He.return=xe,He):(He=Vl(ke.type,ke.key,ke.props,null,xe.mode,He),He.ref=ao(xe,be,ke),He.return=xe,He)}function Ae(xe,be,ke,He){return be===null||be.tag!==4||be.stateNode.containerInfo!==ke.containerInfo||be.stateNode.implementation!==ke.implementation?(be=zl(ke,xe.mode,He),be.return=xe,be):(be=N(be,ke.children||[]),be.return=xe,be)}function je(xe,be,ke,He,it){return be===null||be.tag!==7?(be=du(ke,xe.mode,He,it),be.return=xe,be):(be=N(be,ke),be.return=xe,be)}function ze(xe,be,ke){if(typeof be=="string"&&be!==""||typeof be=="number")return be=tv(""+be,xe.mode,ke),be.return=xe,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case O:return ke=Vl(be.type,be.key,be.props,null,xe.mode,ke),ke.ref=ao(xe,null,be),ke.return=xe,ke;case W:return be=zl(be,xe.mode,ke),be.return=xe,be;case Ee:var He=be._init;return ze(xe,He(be._payload),ke)}if(ne(be)||me(be))return be=du(be,xe.mode,ke,null),be.return=xe,be;yl(xe,be)}return null}function Fe(xe,be,ke,He){var it=be!==null?be.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return it!==null?null:ce(xe,be,""+ke,He);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case O:return ke.key===it?we(xe,be,ke,He):null;case W:return ke.key===it?Ae(xe,be,ke,He):null;case Ee:return it=ke._init,Fe(xe,be,it(ke._payload),He)}if(ne(ke)||me(ke))return it!==null?null:je(xe,be,ke,He,null);yl(xe,ke)}return null}function Xe(xe,be,ke,He,it){if(typeof He=="string"&&He!==""||typeof He=="number")return xe=xe.get(ke)||null,ce(be,xe,""+He,it);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case O:return xe=xe.get(He.key===null?ke:He.key)||null,we(be,xe,He,it);case W:return xe=xe.get(He.key===null?ke:He.key)||null,Ae(be,xe,He,it);case Ee:var ft=He._init;return Xe(xe,be,ke,ft(He._payload),it)}if(ne(He)||me(He))return xe=xe.get(ke)||null,je(be,xe,He,it,null);yl(be,He)}return null}function Je(xe,be,ke,He){for(var it=null,ft=null,ht=be,mt=be=0,mn=null;ht!==null&&mt<ke.length;mt++){ht.index>mt?(mn=ht,ht=null):mn=ht.sibling;var jt=Fe(xe,ht,ke[mt],He);if(jt===null){ht===null&&(ht=mn);break}l&&ht&&jt.alternate===null&&h(xe,ht),be=L(jt,be,mt),ft===null?it=jt:ft.sibling=jt,ft=jt,ht=mn}if(mt===ke.length)return m(xe,ht),an&&Do(xe,mt),it;if(ht===null){for(;mt<ke.length;mt++)ht=ze(xe,ke[mt],He),ht!==null&&(be=L(ht,be,mt),ft===null?it=ht:ft.sibling=ht,ft=ht);return an&&Do(xe,mt),it}for(ht=_(xe,ht);mt<ke.length;mt++)mn=Xe(ht,xe,mt,ke[mt],He),mn!==null&&(l&&mn.alternate!==null&&ht.delete(mn.key===null?mt:mn.key),be=L(mn,be,mt),ft===null?it=mn:ft.sibling=mn,ft=mn);return l&&ht.forEach(function(ws){return h(xe,ws)}),an&&Do(xe,mt),it}function rt(xe,be,ke,He){var it=me(ke);if(typeof it!="function")throw Error(n(150));if(ke=it.call(ke),ke==null)throw Error(n(151));for(var ft=it=null,ht=be,mt=be=0,mn=null,jt=ke.next();ht!==null&&!jt.done;mt++,jt=ke.next()){ht.index>mt?(mn=ht,ht=null):mn=ht.sibling;var ws=Fe(xe,ht,jt.value,He);if(ws===null){ht===null&&(ht=mn);break}l&&ht&&ws.alternate===null&&h(xe,ht),be=L(ws,be,mt),ft===null?it=ws:ft.sibling=ws,ft=ws,ht=mn}if(jt.done)return m(xe,ht),an&&Do(xe,mt),it;if(ht===null){for(;!jt.done;mt++,jt=ke.next())jt=ze(xe,jt.value,He),jt!==null&&(be=L(jt,be,mt),ft===null?it=jt:ft.sibling=jt,ft=jt);return an&&Do(xe,mt),it}for(ht=_(xe,ht);!jt.done;mt++,jt=ke.next())jt=Xe(ht,xe,mt,jt.value,He),jt!==null&&(l&&jt.alternate!==null&&ht.delete(jt.key===null?mt:jt.key),be=L(jt,be,mt),ft===null?it=jt:ft.sibling=jt,ft=jt);return l&&ht.forEach(function(UE){return h(xe,UE)}),an&&Do(xe,mt),it}function wn(xe,be,ke,He){if(typeof ke=="object"&&ke!==null&&ke.type===D&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case O:e:{for(var it=ke.key,ft=be;ft!==null;){if(ft.key===it){if(it=ke.type,it===D){if(ft.tag===7){m(xe,ft.sibling),be=N(ft,ke.props.children),be.return=xe,xe=be;break e}}else if(ft.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ee&&jw(it)===ft.type){m(xe,ft.sibling),be=N(ft,ke.props),be.ref=ao(xe,ft,ke),be.return=xe,xe=be;break e}m(xe,ft);break}else h(xe,ft);ft=ft.sibling}ke.type===D?(be=du(ke.props.children,xe.mode,He,ke.key),be.return=xe,xe=be):(He=Vl(ke.type,ke.key,ke.props,null,xe.mode,He),He.ref=ao(xe,be,ke),He.return=xe,xe=He)}return $(xe);case W:e:{for(ft=ke.key;be!==null;){if(be.key===ft)if(be.tag===4&&be.stateNode.containerInfo===ke.containerInfo&&be.stateNode.implementation===ke.implementation){m(xe,be.sibling),be=N(be,ke.children||[]),be.return=xe,xe=be;break e}else{m(xe,be);break}else h(xe,be);be=be.sibling}be=zl(ke,xe.mode,He),be.return=xe,xe=be}return $(xe);case Ee:return ft=ke._init,wn(xe,be,ft(ke._payload),He)}if(ne(ke))return Je(xe,be,ke,He);if(me(ke))return rt(xe,be,ke,He);yl(xe,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,be!==null&&be.tag===6?(m(xe,be.sibling),be=N(be,ke),be.return=xe,xe=be):(m(xe,be),be=tv(ke,xe.mode,He),be.return=xe,xe=be),$(xe)):m(xe,be)}return wn}var ea=Lo(!0),Bw=Lo(!1),Mo=Ao(null),of=null,Yn=null,cs=null;function fd(){cs=Yn=of=null}function fs(l){var h=Mo.current;sn(Mo),l._currentValue=h}function hd(l,h,m){for(;l!==null;){var _=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,_!==null&&(_.childLanes|=h)):_!==null&&(_.childLanes&h)!==h&&(_.childLanes|=h),l===m)break;l=l.return}}function qi(l,h){of=l,cs=Yn=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&h&&(si=!0),l.firstContext=null)}function Ii(l){var h=l._currentValue;if(cs!==l)if(l={context:l,memoizedValue:h,next:null},Yn===null){if(of===null)throw Error(n(308));Yn=l,of.dependencies={lanes:0,firstContext:l}}else Yn=Yn.next=l;return h}var Gi=null;function dd(l){Gi===null?Gi=[l]:Gi.push(l)}function hs(l,h,m,_){var N=h.interleaved;return N===null?(m.next=m,dd(h)):(m.next=N.next,N.next=m),h.interleaved=m,ds(l,_)}function ds(l,h){l.lanes|=h;var m=l.alternate;for(m!==null&&(m.lanes|=h),m=l,l=l.return;l!==null;)l.childLanes|=h,m=l.alternate,m!==null&&(m.childLanes|=h),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Bn=!1;function pd(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function md(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function wr(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function ta(l,h,m){var _=l.updateQueue;if(_===null)return null;if(_=_.shared,Ut&2){var N=_.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),_.pending=h,ds(l,m)}return N=_.interleaved,N===null?(h.next=h,dd(_)):(h.next=N.next,N.next=h),_.interleaved=h,ds(l,m)}function na(l,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194240)!==0)){var _=h.lanes;_&=l.pendingLanes,m|=_,h.lanes=m,Lc(l,m)}}function Fo(l,h){var m=l.updateQueue,_=l.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var N=null,L=null;if(m=m.firstBaseUpdate,m!==null){do{var $={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};L===null?N=L=$:L=L.next=$,m=m.next}while(m!==null);L===null?N=L=h:L=L.next=h}else N=L=h;m={baseState:_.baseState,firstBaseUpdate:N,lastBaseUpdate:L,shared:_.shared,effects:_.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=h}function sf(l,h,m,_){var N=l.updateQueue;Bn=!1;var L=N.firstBaseUpdate,$=N.lastBaseUpdate,ce=N.shared.pending;if(ce!==null){N.shared.pending=null;var we=ce,Ae=we.next;we.next=null,$===null?L=Ae:$.next=Ae,$=we;var je=l.alternate;je!==null&&(je=je.updateQueue,ce=je.lastBaseUpdate,ce!==$&&(ce===null?je.firstBaseUpdate=Ae:ce.next=Ae,je.lastBaseUpdate=we))}if(L!==null){var ze=N.baseState;$=0,je=Ae=we=null,ce=L;do{var Fe=ce.lane,Xe=ce.eventTime;if((_&Fe)===Fe){je!==null&&(je=je.next={eventTime:Xe,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var Je=l,rt=ce;switch(Fe=h,Xe=m,rt.tag){case 1:if(Je=rt.payload,typeof Je=="function"){ze=Je.call(Xe,ze,Fe);break e}ze=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=rt.payload,Fe=typeof Je=="function"?Je.call(Xe,ze,Fe):Je,Fe==null)break e;ze=Se({},ze,Fe);break e;case 2:Bn=!0}}ce.callback!==null&&ce.lane!==0&&(l.flags|=64,Fe=N.effects,Fe===null?N.effects=[ce]:Fe.push(ce))}else Xe={eventTime:Xe,lane:Fe,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},je===null?(Ae=je=Xe,we=ze):je=je.next=Xe,$|=Fe;if(ce=ce.next,ce===null){if(ce=N.shared.pending,ce===null)break;Fe=ce,ce=Fe.next,Fe.next=null,N.lastBaseUpdate=Fe,N.shared.pending=null}}while(!0);if(je===null&&(we=ze),N.baseState=we,N.firstBaseUpdate=Ae,N.lastBaseUpdate=je,h=N.shared.interleaved,h!==null){N=h;do $|=N.lane,N=N.next;while(N!==h)}else L===null&&(N.shared.lanes=0);fa|=$,l.lanes=$,l.memoizedState=ze}}function gd(l,h,m){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var _=l[h],N=_.callback;if(N!==null){if(_.callback=null,_=m,typeof N!="function")throw Error(n(191,N));N.call(_)}}}var iu={},Dn=Ao(iu),wl=Ao(iu),af=Ao(iu);function ps(l){if(l===iu)throw Error(n(174));return l}function vg(l,h){switch(Qt(af,h),Qt(wl,l),Qt(Dn,iu),l=h.nodeType,l){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:et(null,"");break;default:l=l===8?h.parentNode:h,h=l.namespaceURI||null,l=l.tagName,h=et(h,l)}sn(Dn),Qt(Dn,h)}function ra(){sn(Dn),sn(wl),sn(af)}function _l(l){ps(af.current);var h=ps(Dn.current),m=et(h,l.type);h!==m&&(Qt(wl,l),Qt(Dn,m))}function bl(l){wl.current===l&&(sn(Dn),sn(wl))}var Jt=Ao(0);function uf(l){for(var h=l;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var lf=[];function El(){for(var l=0;l<lf.length;l++)lf[l]._workInProgressVersionPrimary=null;lf.length=0}var cf=k.ReactCurrentDispatcher,Sl=k.ReactCurrentBatchConfig,ia=0,dn=null,Cn=null,Ln=null,oa=!1,Tl=!1,ou=0,_E=0;function _r(){throw Error(n(321))}function vd(l,h){if(h===null)return!1;for(var m=0;m<h.length&&m<l.length;m++)if(!Vi(l[m],h[m]))return!1;return!0}function ff(l,h,m,_,N,L){if(ia=L,dn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,cf.current=l===null||l.memoizedState===null?Sg:EE,l=m(_,N),Tl){L=0;do{if(Tl=!1,ou=0,25<=L)throw Error(n(301));L+=1,Ln=Cn=null,h.updateQueue=null,cf.current=SE,l=m(_,N)}while(Tl)}if(cf.current=su,h=Cn!==null&&Cn.next!==null,ia=0,Ln=Cn=dn=null,oa=!1,h)throw Error(n(300));return l}function Il(){var l=ou!==0;return ou=0,l}function Ki(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?dn.memoizedState=Ln=l:Ln=Ln.next=l,Ln}function vn(){if(Cn===null){var l=dn.alternate;l=l!==null?l.memoizedState:null}else l=Cn.next;var h=Ln===null?dn.memoizedState:Ln.next;if(h!==null)Ln=h,Cn=l;else{if(l===null)throw Error(n(310));Cn=l,l={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Ln===null?dn.memoizedState=Ln=l:Ln=Ln.next=l}return Ln}function sa(l,h){return typeof h=="function"?h(l):h}function Cl(l){var h=vn(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var _=Cn,N=_.baseQueue,L=m.pending;if(L!==null){if(N!==null){var $=N.next;N.next=L.next,L.next=$}_.baseQueue=N=L,m.pending=null}if(N!==null){L=N.next,_=_.baseState;var ce=$=null,we=null,Ae=L;do{var je=Ae.lane;if((ia&je)===je)we!==null&&(we=we.next={lane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),_=Ae.hasEagerState?Ae.eagerState:l(_,Ae.action);else{var ze={lane:je,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null};we===null?(ce=we=ze,$=_):we=we.next=ze,dn.lanes|=je,fa|=je}Ae=Ae.next}while(Ae!==null&&Ae!==L);we===null?$=_:we.next=ce,Vi(_,h.memoizedState)||(si=!0),h.memoizedState=_,h.baseState=$,h.baseQueue=we,m.lastRenderedState=_}if(l=m.interleaved,l!==null){N=l;do L=N.lane,dn.lanes|=L,fa|=L,N=N.next;while(N!==l)}else N===null&&(m.lanes=0);return[h.memoizedState,m.dispatch]}function hf(l){var h=vn(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var _=m.dispatch,N=m.pending,L=h.memoizedState;if(N!==null){m.pending=null;var $=N=N.next;do L=l(L,$.action),$=$.next;while($!==N);Vi(L,h.memoizedState)||(si=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),m.lastRenderedState=L}return[L,_]}function yg(){}function xl(l,h){var m=dn,_=vn(),N=h(),L=!Vi(_.memoizedState,N);if(L&&(_.memoizedState=N,si=!0),_=_.queue,Rl(wg.bind(null,m,_,l),[l]),_.getSnapshot!==h||L||Ln!==null&&Ln.memoizedState.tag&1){if(m.flags|=2048,df(9,Al.bind(null,m,_,N,h),void 0,null),Xn===null)throw Error(n(349));ia&30||kl(m,h,N)}return N}function kl(l,h,m){l.flags|=16384,l={getSnapshot:h,value:m},h=dn.updateQueue,h===null?(h={lastEffect:null,stores:null},dn.updateQueue=h,h.stores=[l]):(m=h.stores,m===null?h.stores=[l]:m.push(l))}function Al(l,h,m,_){h.value=m,h.getSnapshot=_,Vw(h)&&zw(l)}function wg(l,h,m){return m(function(){Vw(h)&&zw(l)})}function Vw(l){var h=l.getSnapshot;l=l.value;try{var m=h();return!Vi(l,m)}catch{return!0}}function zw(l){var h=ds(l,1);h!==null&&li(h,l,1,-1)}function Ww(l){var h=Ki();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:l},h.queue=l,l=l.dispatch=Kw.bind(null,dn,l),[h.memoizedState,l]}function df(l,h,m,_){return l={tag:l,create:h,destroy:m,deps:_,next:null},h=dn.updateQueue,h===null?(h={lastEffect:null,stores:null},dn.updateQueue=h,h.lastEffect=l.next=l):(m=h.lastEffect,m===null?h.lastEffect=l.next=l:(_=m.next,m.next=l,l.next=_,h.lastEffect=l)),l}function Hw(){return vn().memoizedState}function pf(l,h,m,_){var N=Ki();dn.flags|=l,N.memoizedState=df(1|h,m,void 0,_===void 0?null:_)}function mf(l,h,m,_){var N=vn();_=_===void 0?null:_;var L=void 0;if(Cn!==null){var $=Cn.memoizedState;if(L=$.destroy,_!==null&&vd(_,$.deps)){N.memoizedState=df(h,m,L,_);return}}dn.flags|=l,N.memoizedState=df(1|h,m,L,_)}function _g(l,h){return pf(8390656,8,l,h)}function Rl(l,h){return mf(2048,8,l,h)}function bg(l,h){return mf(4,2,l,h)}function Nl(l,h){return mf(4,4,l,h)}function gf(l,h){if(typeof h=="function")return l=l(),h(l),function(){h(null)};if(h!=null)return l=l(),h.current=l,function(){h.current=null}}function qw(l,h,m){return m=m!=null?m.concat([l]):null,mf(4,4,gf.bind(null,h,l),m)}function uo(){}function aa(l,h){var m=vn();h=h===void 0?null:h;var _=m.memoizedState;return _!==null&&h!==null&&vd(h,_[1])?_[0]:(m.memoizedState=[l,h],l)}function Ol(l,h){var m=vn();h=h===void 0?null:h;var _=m.memoizedState;return _!==null&&h!==null&&vd(h,_[1])?_[0]:(l=l(),m.memoizedState=[l,h],l)}function vf(l,h,m){return ia&21?(Vi(m,h)||(m=gw(),dn.lanes|=m,fa|=m,l.baseState=!0),h):(l.baseState&&(l.baseState=!1,si=!0),l.memoizedState=m)}function bE(l,h){var m=zt;zt=m!==0&&4>m?m:4,l(!0);var _=Sl.transition;Sl.transition={};try{l(!1),h()}finally{zt=m,Sl.transition=_}}function yd(){return vn().memoizedState}function Gw(l,h,m){var _=Bo(l);if(m={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null},yf(l))Pl(h,m);else if(m=hs(l,h,m,_),m!==null){var N=Cr();li(m,l,_,N),Eg(m,h,_)}}function Kw(l,h,m){var _=Bo(l),N={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null};if(yf(l))Pl(h,N);else{var L=l.alternate;if(l.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var $=h.lastRenderedState,ce=L($,m);if(N.hasEagerState=!0,N.eagerState=ce,Vi(ce,$)){var we=h.interleaved;we===null?(N.next=N,dd(h)):(N.next=we.next,we.next=N),h.interleaved=N;return}}catch{}finally{}m=hs(l,h,N,_),m!==null&&(N=Cr(),li(m,l,_,N),Eg(m,h,_))}}function yf(l){var h=l.alternate;return l===dn||h!==null&&h===dn}function Pl(l,h){Tl=oa=!0;var m=l.pending;m===null?h.next=h:(h.next=m.next,m.next=h),l.pending=h}function Eg(l,h,m){if(m&4194240){var _=h.lanes;_&=l.pendingLanes,m|=_,h.lanes=m,Lc(l,m)}}var su={readContext:Ii,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},Sg={readContext:Ii,useCallback:function(l,h){return Ki().memoizedState=[l,h===void 0?null:h],l},useContext:Ii,useEffect:_g,useImperativeHandle:function(l,h,m){return m=m!=null?m.concat([l]):null,pf(4194308,4,gf.bind(null,h,l),m)},useLayoutEffect:function(l,h){return pf(4194308,4,l,h)},useInsertionEffect:function(l,h){return pf(4,2,l,h)},useMemo:function(l,h){var m=Ki();return h=h===void 0?null:h,l=l(),m.memoizedState=[l,h],l},useReducer:function(l,h,m){var _=Ki();return h=m!==void 0?m(h):h,_.memoizedState=_.baseState=h,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:h},_.queue=l,l=l.dispatch=Gw.bind(null,dn,l),[_.memoizedState,l]},useRef:function(l){var h=Ki();return l={current:l},h.memoizedState=l},useState:Ww,useDebugValue:uo,useDeferredValue:function(l){return Ki().memoizedState=l},useTransition:function(){var l=Ww(!1),h=l[0];return l=bE.bind(null,l[1]),Ki().memoizedState=l,[h,l]},useMutableSource:function(){},useSyncExternalStore:function(l,h,m){var _=dn,N=Ki();if(an){if(m===void 0)throw Error(n(407));m=m()}else{if(m=h(),Xn===null)throw Error(n(349));ia&30||kl(_,h,m)}N.memoizedState=m;var L={value:m,getSnapshot:h};return N.queue=L,_g(wg.bind(null,_,L,l),[l]),_.flags|=2048,df(9,Al.bind(null,_,L,m,h),void 0,null),m},useId:function(){var l=Ki(),h=Xn.identifierPrefix;if(an){var m=Po,_=Oo;m=(_&~(1<<32-Ui(_)-1)).toString(32)+m,h=":"+h+"R"+m,m=ou++,0<m&&(h+="H"+m.toString(32)),h+=":"}else m=_E++,h=":"+h+"r"+m.toString(32)+":";return l.memoizedState=h},unstable_isNewReconciler:!1},EE={readContext:Ii,useCallback:aa,useContext:Ii,useEffect:Rl,useImperativeHandle:qw,useInsertionEffect:bg,useLayoutEffect:Nl,useMemo:Ol,useReducer:Cl,useRef:Hw,useState:function(){return Cl(sa)},useDebugValue:uo,useDeferredValue:function(l){var h=vn();return vf(h,Cn.memoizedState,l)},useTransition:function(){var l=Cl(sa)[0],h=vn().memoizedState;return[l,h]},useMutableSource:yg,useSyncExternalStore:xl,useId:yd,unstable_isNewReconciler:!1},SE={readContext:Ii,useCallback:aa,useContext:Ii,useEffect:Rl,useImperativeHandle:qw,useInsertionEffect:bg,useLayoutEffect:Nl,useMemo:Ol,useReducer:hf,useRef:Hw,useState:function(){return hf(sa)},useDebugValue:uo,useDeferredValue:function(l){var h=vn();return Cn===null?h.memoizedState=l:vf(h,Cn.memoizedState,l)},useTransition:function(){var l=hf(sa)[0],h=vn().memoizedState;return[l,h]},useMutableSource:yg,useSyncExternalStore:xl,useId:yd,unstable_isNewReconciler:!1};function oi(l,h){if(l&&l.defaultProps){h=Se({},h),l=l.defaultProps;for(var m in l)h[m]===void 0&&(h[m]=l[m]);return h}return h}function Tg(l,h,m,_){h=l.memoizedState,m=m(_,h),m=m==null?h:Se({},h,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var wd={isMounted:function(l){return(l=l._reactInternals)?Ha(l)===l:!1},enqueueSetState:function(l,h,m){l=l._reactInternals;var _=Cr(),N=Bo(l),L=wr(_,N);L.payload=h,m!=null&&(L.callback=m),h=ta(l,L,N),h!==null&&(li(h,l,N,_),na(h,l,N))},enqueueReplaceState:function(l,h,m){l=l._reactInternals;var _=Cr(),N=Bo(l),L=wr(_,N);L.tag=1,L.payload=h,m!=null&&(L.callback=m),h=ta(l,L,N),h!==null&&(li(h,l,N,_),na(h,l,N))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var m=Cr(),_=Bo(l),N=wr(m,_);N.tag=2,h!=null&&(N.callback=h),h=ta(l,N,_),h!==null&&(li(h,l,_,m),na(h,l,_))}};function _d(l,h,m,_,N,L,$){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,L,$):h.prototype&&h.prototype.isPureReactComponent?!il(m,_)||!il(N,L):!0}function wf(l,h,m){var _=!1,N=Js,L=h.contextType;return typeof L=="object"&&L!==null?L=Ii(L):(N=Vr(h)?tu:yr.current,_=h.contextTypes,L=(_=_!=null)?dl(l,N):Js),h=new h(m,L),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=wd,l.stateNode=h,h._reactInternals=l,_&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=N,l.__reactInternalMemoizedMaskedChildContext=L),h}function $i(l,h,m,_){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,_),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,_),h.state!==l&&wd.enqueueReplaceState(h,h.state,null)}function _f(l,h,m,_){var N=l.stateNode;N.props=m,N.state=l.memoizedState,N.refs={},pd(l);var L=h.contextType;typeof L=="object"&&L!==null?N.context=Ii(L):(L=Vr(h)?tu:yr.current,N.context=dl(l,L)),N.state=l.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(Tg(l,h,L,m),N.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(h=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),h!==N.state&&wd.enqueueReplaceState(N,N.state,null),sf(l,m,N,_),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308)}function br(l,h){try{var m="",_=h;do m+=_e(_),_=_.return;while(_);var N=m}catch(L){N=`
Error generating stack: `+L.message+`
`+L.stack}return{value:l,source:h,stack:N,digest:null}}function Ig(l,h,m){return{value:l,source:null,stack:m??null,digest:h??null}}function Cg(l,h){try{console.error(h.value)}catch(m){setTimeout(function(){throw m})}}var TE=typeof WeakMap=="function"?WeakMap:Map;function $w(l,h,m){m=wr(-1,m),m.tag=3,m.payload={element:null};var _=h.value;return m.callback=function(){If||(If=!0,Yg=_),Cg(l,h)},m}function xg(l,h,m){m=wr(-1,m),m.tag=3;var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var N=h.value;m.payload=function(){return _(N)},m.callback=function(){Cg(l,h)}}var L=l.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(m.callback=function(){Cg(l,h),typeof _!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})}),m}function bf(l,h,m){var _=l.pingCache;if(_===null){_=l.pingCache=new TE;var N=new Set;_.set(h,N)}else N=_.get(h),N===void 0&&(N=new Set,_.set(h,N));N.has(m)||(N.add(m),l=PE.bind(null,l,h,m),h.then(l,l))}function bd(l){do{var h;if((h=l.tag===13)&&(h=l.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return l;l=l.return}while(l!==null);return null}function kg(l,h,m,_,N){return l.mode&1?(l.flags|=65536,l.lanes=N,l):(l===h?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(h=wr(-1,1),h.tag=2,ta(m,h,1))),m.lanes|=1),l)}var Yw=k.ReactCurrentOwner,si=!1;function Er(l,h,m,_){h.child=l===null?Bw(h,null,m,_):ea(h,l.child,m,_)}function Xw(l,h,m,_,N){m=m.render;var L=h.ref;return qi(h,N),_=ff(l,h,m,_,L,N),m=Il(),l!==null&&!si?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~N,lo(l,h,N)):(an&&m&&rf(h),h.flags|=1,Er(l,h,_,N),h.child)}function Qw(l,h,m,_,N){if(l===null){var L=m.type;return typeof L=="function"&&!Zg(L)&&L.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(h.tag=15,h.type=L,Ag(l,h,L,_,N)):(l=Vl(m.type,null,_,h,h.mode,N),l.ref=h.ref,l.return=h,h.child=l)}if(L=l.child,!(l.lanes&N)){var $=L.memoizedProps;if(m=m.compare,m=m!==null?m:il,m($,_)&&l.ref===h.ref)return lo(l,h,N)}return h.flags|=1,l=ma(L,_),l.ref=h.ref,l.return=h,h.child=l}function Ag(l,h,m,_,N){if(l!==null){var L=l.memoizedProps;if(il(L,_)&&l.ref===h.ref)if(si=!1,h.pendingProps=_=L,(l.lanes&N)!==0)l.flags&131072&&(si=!0);else return h.lanes=l.lanes,lo(l,h,N)}return Ng(l,h,m,_,N)}function ua(l,h,m){var _=h.pendingProps,N=_.children,L=l!==null?l.memoizedState:null;if(_.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(ca,ai),ai|=m;else{if(!(m&1073741824))return l=L!==null?L.baseLanes|m:m,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l,cachePool:null,transitions:null},h.updateQueue=null,Qt(ca,ai),ai|=l,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=L!==null?L.baseLanes:m,Qt(ca,ai),ai|=_}else L!==null?(_=L.baseLanes|m,h.memoizedState=null):_=m,Qt(ca,ai),ai|=_;return Er(l,h,N,m),h.child}function Rg(l,h){var m=h.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(h.flags|=512,h.flags|=2097152)}function Ng(l,h,m,_,N){var L=Vr(m)?tu:yr.current;return L=dl(h,L),qi(h,N),m=ff(l,h,m,_,L,N),_=Il(),l!==null&&!si?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~N,lo(l,h,N)):(an&&_&&rf(h),h.flags|=1,Er(l,h,m,N),h.child)}function Jw(l,h,m,_,N){if(Vr(m)){var L=!0;pl(h)}else L=!1;if(qi(h,N),h.stateNode===null)Dl(l,h),wf(h,m,_),_f(h,m,_,N),_=!0;else if(l===null){var $=h.stateNode,ce=h.memoizedProps;$.props=ce;var we=$.context,Ae=m.contextType;typeof Ae=="object"&&Ae!==null?Ae=Ii(Ae):(Ae=Vr(m)?tu:yr.current,Ae=dl(h,Ae));var je=m.getDerivedStateFromProps,ze=typeof je=="function"||typeof $.getSnapshotBeforeUpdate=="function";ze||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ce!==_||we!==Ae)&&$i(h,$,_,Ae),Bn=!1;var Fe=h.memoizedState;$.state=Fe,sf(h,_,$,N),we=h.memoizedState,ce!==_||Fe!==we||Br.current||Bn?(typeof je=="function"&&(Tg(h,m,je,_),we=h.memoizedState),(ce=Bn||_d(h,m,ce,_,Fe,we,Ae))?(ze||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(h.flags|=4194308)):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=_,h.memoizedState=we),$.props=_,$.state=we,$.context=Ae,_=ce):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),_=!1)}else{$=h.stateNode,md(l,h),ce=h.memoizedProps,Ae=h.type===h.elementType?ce:oi(h.type,ce),$.props=Ae,ze=h.pendingProps,Fe=$.context,we=m.contextType,typeof we=="object"&&we!==null?we=Ii(we):(we=Vr(m)?tu:yr.current,we=dl(h,we));var Xe=m.getDerivedStateFromProps;(je=typeof Xe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ce!==ze||Fe!==we)&&$i(h,$,_,we),Bn=!1,Fe=h.memoizedState,$.state=Fe,sf(h,_,$,N);var Je=h.memoizedState;ce!==ze||Fe!==Je||Br.current||Bn?(typeof Xe=="function"&&(Tg(h,m,Xe,_),Je=h.memoizedState),(Ae=Bn||_d(h,m,Ae,_,Fe,Je,we)||!1)?(je||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(_,Je,we),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(_,Je,we)),typeof $.componentDidUpdate=="function"&&(h.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof $.componentDidUpdate!="function"||ce===l.memoizedProps&&Fe===l.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ce===l.memoizedProps&&Fe===l.memoizedState||(h.flags|=1024),h.memoizedProps=_,h.memoizedState=Je),$.props=_,$.state=Je,$.context=we,_=Ae):(typeof $.componentDidUpdate!="function"||ce===l.memoizedProps&&Fe===l.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ce===l.memoizedProps&&Fe===l.memoizedState||(h.flags|=1024),_=!1)}return Sr(l,h,m,_,L,N)}function Sr(l,h,m,_,N,L){Rg(l,h);var $=(h.flags&128)!==0;if(!_&&!$)return N&&hg(h,m,!1),lo(l,h,L);_=h.stateNode,Yw.current=h;var ce=$&&typeof m.getDerivedStateFromError!="function"?null:_.render();return h.flags|=1,l!==null&&$?(h.child=ea(h,l.child,null,L),h.child=ea(h,null,ce,L)):Er(l,h,ce,L),h.memoizedState=_.state,N&&hg(h,m,!0),h.child}function Ed(l){var h=l.stateNode;h.pendingContext?cg(l,h.pendingContext,h.pendingContext!==h.context):h.context&&cg(l,h.context,!1),vg(l,h.containerInfo)}function Zw(l,h,m,_,N){return ls(),Zs(N),h.flags|=256,Er(l,h,m,_),h.child}var Og={dehydrated:null,treeContext:null,retryLane:0};function Pg(l){return{baseLanes:l,cachePool:null,transitions:null}}function Dg(l,h,m){var _=h.pendingProps,N=Jt.current,L=!1,$=(h.flags&128)!==0,ce;if((ce=$)||(ce=l!==null&&l.memoizedState===null?!1:(N&2)!==0),ce?(L=!0,h.flags&=-129):(l===null||l.memoizedState!==null)&&(N|=1),Qt(Jt,N&1),l===null)return cd(h),l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(h.mode&1?l.data==="$!"?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):($=_.children,l=_.fallback,L?(_=h.mode,L=h.child,$={mode:"hidden",children:$},!(_&1)&&L!==null?(L.childLanes=0,L.pendingProps=$):L=Md($,_,0,null),l=du(l,_,m,null),L.return=h,l.return=h,L.sibling=l,h.child=L,h.child.memoizedState=Pg(m),h.memoizedState=Og,l):Lg(h,$));if(N=l.memoizedState,N!==null&&(ce=N.dehydrated,ce!==null))return Mg(l,h,$,_,ce,N,m);if(L){L=_.fallback,$=h.mode,N=l.child,ce=N.sibling;var we={mode:"hidden",children:_.children};return!($&1)&&h.child!==N?(_=h.child,_.childLanes=0,_.pendingProps=we,h.deletions=null):(_=ma(N,we),_.subtreeFlags=N.subtreeFlags&14680064),ce!==null?L=ma(ce,L):(L=du(L,$,m,null),L.flags|=2),L.return=h,_.return=h,_.sibling=L,h.child=_,_=L,L=h.child,$=l.child.memoizedState,$=$===null?Pg(m):{baseLanes:$.baseLanes|m,cachePool:null,transitions:$.transitions},L.memoizedState=$,L.childLanes=l.childLanes&~m,h.memoizedState=Og,_}return L=l.child,l=L.sibling,_=ma(L,{mode:"visible",children:_.children}),!(h.mode&1)&&(_.lanes=m),_.return=h,_.sibling=null,l!==null&&(m=h.deletions,m===null?(h.deletions=[l],h.flags|=16):m.push(l)),h.child=_,h.memoizedState=null,_}function Lg(l,h){return h=Md({mode:"visible",children:h},l.mode,0,null),h.return=l,l.child=h}function Sd(l,h,m,_){return _!==null&&Zs(_),ea(h,l.child,null,m),l=Lg(h,h.pendingProps.children),l.flags|=2,h.memoizedState=null,l}function Mg(l,h,m,_,N,L,$){if(m)return h.flags&256?(h.flags&=-257,_=Ig(Error(n(422))),Sd(l,h,$,_)):h.memoizedState!==null?(h.child=l.child,h.flags|=128,null):(L=_.fallback,N=h.mode,_=Md({mode:"visible",children:_.children},N,0,null),L=du(L,N,$,null),L.flags|=2,_.return=h,L.return=h,_.sibling=L,h.child=_,h.mode&1&&ea(h,l.child,null,$),h.child.memoizedState=Pg($),h.memoizedState=Og,L);if(!(h.mode&1))return Sd(l,h,$,null);if(N.data==="$!"){if(_=N.nextSibling&&N.nextSibling.dataset,_)var ce=_.dgst;return _=ce,L=Error(n(419)),_=Ig(L,_,void 0),Sd(l,h,$,_)}if(ce=($&l.childLanes)!==0,si||ce){if(_=Xn,_!==null){switch($&-$){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=N&(_.suspendedLanes|$)?0:N,N!==0&&N!==L.retryLane&&(L.retryLane=N,ds(l,N),li(_,l,N,-1))}return kf(),_=Ig(Error(n(421))),Sd(l,h,$,_)}return N.data==="$?"?(h.flags|=128,h.child=l.child,h=Jg.bind(null,l),N._reactRetry=h,null):(l=L.treeContext,ii=Wi(N.nextSibling),Wr=h,an=!0,Pn=null,l!==null&&(Hi[zr++]=Oo,Hi[zr++]=Po,Hi[zr++]=No,Oo=l.id,Po=l.overflow,No=h),h=Lg(h,_.children),h.flags|=4096,h)}function Td(l,h,m){l.lanes|=h;var _=l.alternate;_!==null&&(_.lanes|=h),hd(l.return,h,m)}function Id(l,h,m,_,N){var L=l.memoizedState;L===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:N}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=_,L.tail=m,L.tailMode=N)}function Cd(l,h,m){var _=h.pendingProps,N=_.revealOrder,L=_.tail;if(Er(l,h,_.children,m),_=Jt.current,_&2)_=_&1|2,h.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Td(l,m,h);else if(l.tag===19)Td(l,m,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}_&=1}if(Qt(Jt,_),!(h.mode&1))h.memoizedState=null;else switch(N){case"forwards":for(m=h.child,N=null;m!==null;)l=m.alternate,l!==null&&uf(l)===null&&(N=m),m=m.sibling;m=N,m===null?(N=h.child,h.child=null):(N=m.sibling,m.sibling=null),Id(h,!1,N,m,L);break;case"backwards":for(m=null,N=h.child,h.child=null;N!==null;){if(l=N.alternate,l!==null&&uf(l)===null){h.child=N;break}l=N.sibling,N.sibling=m,m=N,N=l}Id(h,!0,m,null,L);break;case"together":Id(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Dl(l,h){!(h.mode&1)&&l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2)}function lo(l,h,m){if(l!==null&&(h.dependencies=l.dependencies),fa|=h.lanes,!(m&h.childLanes))return null;if(l!==null&&h.child!==l.child)throw Error(n(153));if(h.child!==null){for(l=h.child,m=ma(l,l.pendingProps),h.child=m,m.return=h;l.sibling!==null;)l=l.sibling,m=m.sibling=ma(l,l.pendingProps),m.return=h;m.sibling=null}return h.child}function Fg(l,h,m){switch(h.tag){case 3:Ed(h),ls();break;case 5:_l(h);break;case 1:Vr(h.type)&&pl(h);break;case 4:vg(h,h.stateNode.containerInfo);break;case 10:var _=h.type._context,N=h.memoizedProps.value;Qt(Mo,_._currentValue),_._currentValue=N;break;case 13:if(_=h.memoizedState,_!==null)return _.dehydrated!==null?(Qt(Jt,Jt.current&1),h.flags|=128,null):m&h.child.childLanes?Dg(l,h,m):(Qt(Jt,Jt.current&1),l=lo(l,h,m),l!==null?l.sibling:null);Qt(Jt,Jt.current&1);break;case 19:if(_=(m&h.childLanes)!==0,l.flags&128){if(_)return Cd(l,h,m);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Qt(Jt,Jt.current),_)break;return null;case 22:case 23:return h.lanes=0,ua(l,h,m)}return lo(l,h,m)}var e0,Ug,t0,n0;e0=function(l,h){for(var m=h.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Ug=function(){},t0=function(l,h,m,_){var N=l.memoizedProps;if(N!==_){l=h.stateNode,ps(Dn.current);var L=null;switch(m){case"input":N=F(l,N),_=F(l,_),L=[];break;case"select":N=Se({},N,{value:void 0}),_=Se({},_,{value:void 0}),L=[];break;case"textarea":N=ue(l,N),_=ue(l,_),L=[];break;default:typeof N.onClick!="function"&&typeof _.onClick=="function"&&(l.onclick=Si)}En(m,_);var $;m=null;for(Ae in N)if(!_.hasOwnProperty(Ae)&&N.hasOwnProperty(Ae)&&N[Ae]!=null)if(Ae==="style"){var ce=N[Ae];for($ in ce)ce.hasOwnProperty($)&&(m||(m={}),m[$]="")}else Ae!=="dangerouslySetInnerHTML"&&Ae!=="children"&&Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(i.hasOwnProperty(Ae)?L||(L=[]):(L=L||[]).push(Ae,null));for(Ae in _){var we=_[Ae];if(ce=N!=null?N[Ae]:void 0,_.hasOwnProperty(Ae)&&we!==ce&&(we!=null||ce!=null))if(Ae==="style")if(ce){for($ in ce)!ce.hasOwnProperty($)||we&&we.hasOwnProperty($)||(m||(m={}),m[$]="");for($ in we)we.hasOwnProperty($)&&ce[$]!==we[$]&&(m||(m={}),m[$]=we[$])}else m||(L||(L=[]),L.push(Ae,m)),m=we;else Ae==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,ce=ce?ce.__html:void 0,we!=null&&ce!==we&&(L=L||[]).push(Ae,we)):Ae==="children"?typeof we!="string"&&typeof we!="number"||(L=L||[]).push(Ae,""+we):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ae)?(we!=null&&Ae==="onScroll"&&on("scroll",l),L||ce===we||(L=[])):(L=L||[]).push(Ae,we))}m&&(L=L||[]).push("style",m);var Ae=L;(h.updateQueue=Ae)&&(h.flags|=4)}},n0=function(l,h,m,_){m!==_&&(h.flags|=4)};function Ef(l,h){if(!an)switch(l.tailMode){case"hidden":h=l.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function Tr(l){var h=l.alternate!==null&&l.alternate.child===l.child,m=0,_=0;if(h)for(var N=l.child;N!==null;)m|=N.lanes|N.childLanes,_|=N.subtreeFlags&14680064,_|=N.flags&14680064,N.return=l,N=N.sibling;else for(N=l.child;N!==null;)m|=N.lanes|N.childLanes,_|=N.subtreeFlags,_|=N.flags,N.return=l,N=N.sibling;return l.subtreeFlags|=_,l.childLanes=m,h}function IE(l,h,m){var _=h.pendingProps;switch(ud(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(h),null;case 1:return Vr(h.type)&&nu(),Tr(h),null;case 3:return _=h.stateNode,ra(),sn(Br),sn(yr),El(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(l===null||l.child===null)&&(ru(h)?h.flags|=4:l===null||l.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Pn!==null&&(ha(Pn),Pn=null))),Ug(l,h),Tr(h),null;case 5:bl(h);var N=ps(af.current);if(m=h.type,l!==null&&h.stateNode!=null)t0(l,h,m,_,N),l.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!_){if(h.stateNode===null)throw Error(n(166));return Tr(h),null}if(l=ps(Dn.current),ru(h)){_=h.stateNode,m=h.type;var L=h.memoizedProps;switch(_[Ti]=h,_[ss]=L,l=(h.mode&1)!==0,m){case"dialog":on("cancel",_),on("close",_);break;case"iframe":case"object":case"embed":on("load",_);break;case"video":case"audio":for(N=0;N<sl.length;N++)on(sl[N],_);break;case"source":on("error",_);break;case"img":case"image":case"link":on("error",_),on("load",_);break;case"details":on("toggle",_);break;case"input":Te(_,L),on("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!L.multiple},on("invalid",_);break;case"textarea":De(_,L),on("invalid",_)}En(m,L),N=null;for(var $ in L)if(L.hasOwnProperty($)){var ce=L[$];$==="children"?typeof ce=="string"?_.textContent!==ce&&(L.suppressHydrationWarning!==!0&&$n(_.textContent,ce,l),N=["children",ce]):typeof ce=="number"&&_.textContent!==""+ce&&(L.suppressHydrationWarning!==!0&&$n(_.textContent,ce,l),N=["children",""+ce]):i.hasOwnProperty($)&&ce!=null&&$==="onScroll"&&on("scroll",_)}switch(m){case"input":Q(_),A(_,L,!0);break;case"textarea":Q(_),Me(_);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(_.onclick=Si)}_=N,h.updateQueue=_,_!==null&&(h.flags|=4)}else{$=N.nodeType===9?N:N.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ge(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=$.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof _.is=="string"?l=$.createElement(m,{is:_.is}):(l=$.createElement(m),m==="select"&&($=l,_.multiple?$.multiple=!0:_.size&&($.size=_.size))):l=$.createElementNS(l,m),l[Ti]=h,l[ss]=_,e0(l,h,!1,!1),h.stateNode=l;e:{switch($=Ps(m,_),m){case"dialog":on("cancel",l),on("close",l),N=_;break;case"iframe":case"object":case"embed":on("load",l),N=_;break;case"video":case"audio":for(N=0;N<sl.length;N++)on(sl[N],l);N=_;break;case"source":on("error",l),N=_;break;case"img":case"image":case"link":on("error",l),on("load",l),N=_;break;case"details":on("toggle",l),N=_;break;case"input":Te(l,_),N=F(l,_),on("invalid",l);break;case"option":N=_;break;case"select":l._wrapperState={wasMultiple:!!_.multiple},N=Se({},_,{value:void 0}),on("invalid",l);break;case"textarea":De(l,_),N=ue(l,_),on("invalid",l);break;default:N=_}En(m,N),ce=N;for(L in ce)if(ce.hasOwnProperty(L)){var we=ce[L];L==="style"?On(l,we):L==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,we!=null&&Pt(l,we)):L==="children"?typeof we=="string"?(m!=="textarea"||we!=="")&&Fr(l,we):typeof we=="number"&&Fr(l,""+we):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?we!=null&&L==="onScroll"&&on("scroll",l):we!=null&&C(l,L,we,$))}switch(m){case"input":Q(l),A(l,_,!1);break;case"textarea":Q(l),Me(l);break;case"option":_.value!=null&&l.setAttribute("value",""+M(_.value));break;case"select":l.multiple=!!_.multiple,L=_.value,L!=null?ye(l,!!_.multiple,L,!1):_.defaultValue!=null&&ye(l,!!_.multiple,_.defaultValue,!0);break;default:typeof N.onClick=="function"&&(l.onclick=Si)}switch(m){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Tr(h),null;case 6:if(l&&h.stateNode!=null)n0(l,h,l.memoizedProps,_);else{if(typeof _!="string"&&h.stateNode===null)throw Error(n(166));if(m=ps(af.current),ps(Dn.current),ru(h)){if(_=h.stateNode,m=h.memoizedProps,_[Ti]=h,(L=_.nodeValue!==m)&&(l=Wr,l!==null))switch(l.tag){case 3:$n(_.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&$n(_.nodeValue,m,(l.mode&1)!==0)}L&&(h.flags|=4)}else _=(m.nodeType===9?m:m.ownerDocument).createTextNode(_),_[Ti]=h,h.stateNode=_}return Tr(h),null;case 13:if(sn(Jt),_=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(an&&ii!==null&&h.mode&1&&!(h.flags&128))gl(),ls(),h.flags|=98560,L=!1;else if(L=ru(h),_!==null&&_.dehydrated!==null){if(l===null){if(!L)throw Error(n(318));if(L=h.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(n(317));L[Ti]=h}else ls(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;Tr(h),L=!1}else Pn!==null&&(ha(Pn),Pn=null),L=!0;if(!L)return h.flags&65536?h:null}return h.flags&128?(h.lanes=m,h):(_=_!==null,_!==(l!==null&&l.memoizedState!==null)&&_&&(h.child.flags|=8192,h.mode&1&&(l===null||Jt.current&1?xn===0&&(xn=3):kf())),h.updateQueue!==null&&(h.flags|=4),Tr(h),null);case 4:return ra(),Ug(l,h),l===null&&Xc(h.stateNode.containerInfo),Tr(h),null;case 10:return fs(h.type._context),Tr(h),null;case 17:return Vr(h.type)&&nu(),Tr(h),null;case 19:if(sn(Jt),L=h.memoizedState,L===null)return Tr(h),null;if(_=(h.flags&128)!==0,$=L.rendering,$===null)if(_)Ef(L,!1);else{if(xn!==0||l!==null&&l.flags&128)for(l=h.child;l!==null;){if($=uf(l),$!==null){for(h.flags|=128,Ef(L,!1),_=$.updateQueue,_!==null&&(h.updateQueue=_,h.flags|=4),h.subtreeFlags=0,_=m,m=h.child;m!==null;)L=m,l=_,L.flags&=14680066,$=L.alternate,$===null?(L.childLanes=0,L.lanes=l,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=$.childLanes,L.lanes=$.lanes,L.child=$.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=$.memoizedProps,L.memoizedState=$.memoizedState,L.updateQueue=$.updateQueue,L.type=$.type,l=$.dependencies,L.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return Qt(Jt,Jt.current&1|2),h.child}l=l.sibling}L.tail!==null&&Sn()>au&&(h.flags|=128,_=!0,Ef(L,!1),h.lanes=4194304)}else{if(!_)if(l=uf($),l!==null){if(h.flags|=128,_=!0,m=l.updateQueue,m!==null&&(h.updateQueue=m,h.flags|=4),Ef(L,!0),L.tail===null&&L.tailMode==="hidden"&&!$.alternate&&!an)return Tr(h),null}else 2*Sn()-L.renderingStartTime>au&&m!==1073741824&&(h.flags|=128,_=!0,Ef(L,!1),h.lanes=4194304);L.isBackwards?($.sibling=h.child,h.child=$):(m=L.last,m!==null?m.sibling=$:h.child=$,L.last=$)}return L.tail!==null?(h=L.tail,L.rendering=h,L.tail=h.sibling,L.renderingStartTime=Sn(),h.sibling=null,m=Jt.current,Qt(Jt,_?m&1|2:m&1),h):(Tr(h),null);case 22:case 23:return cu(),_=h.memoizedState!==null,l!==null&&l.memoizedState!==null!==_&&(h.flags|=8192),_&&h.mode&1?ai&1073741824&&(Tr(h),h.subtreeFlags&6&&(h.flags|=8192)):Tr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function CE(l,h){switch(ud(h),h.tag){case 1:return Vr(h.type)&&nu(),l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 3:return ra(),sn(Br),sn(yr),El(),l=h.flags,l&65536&&!(l&128)?(h.flags=l&-65537|128,h):null;case 5:return bl(h),null;case 13:if(sn(Jt),l=h.memoizedState,l!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(n(340));ls()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 19:return sn(Jt),null;case 4:return ra(),null;case 10:return fs(h.type._context),null;case 22:case 23:return cu(),null;case 24:return null;default:return null}}var xd=!1,Ir=!1,xE=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Ll(l,h){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(_){Zt(l,h,_)}else m.current=null}function jg(l,h,m){try{m()}catch(_){Zt(l,h,_)}}var r0=!1;function kE(l,h){if(ng=rs,l=$m(),Ym(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var _=m.getSelection&&m.getSelection();if(_&&_.rangeCount!==0){m=_.anchorNode;var N=_.anchorOffset,L=_.focusNode;_=_.focusOffset;try{m.nodeType,L.nodeType}catch{m=null;break e}var $=0,ce=-1,we=-1,Ae=0,je=0,ze=l,Fe=null;t:for(;;){for(var Xe;ze!==m||N!==0&&ze.nodeType!==3||(ce=$+N),ze!==L||_!==0&&ze.nodeType!==3||(we=$+_),ze.nodeType===3&&($+=ze.nodeValue.length),(Xe=ze.firstChild)!==null;)Fe=ze,ze=Xe;for(;;){if(ze===l)break t;if(Fe===m&&++Ae===N&&(ce=$),Fe===L&&++je===_&&(we=$),(Xe=ze.nextSibling)!==null)break;ze=Fe,Fe=ze.parentNode}ze=Xe}m=ce===-1||we===-1?null:{start:ce,end:we}}else m=null}m=m||{start:0,end:0}}else m=null;for(rg={focusedElem:l,selectionRange:m},rs=!1,Qe=h;Qe!==null;)if(h=Qe,l=h.child,(h.subtreeFlags&1028)!==0&&l!==null)l.return=h,Qe=l;else for(;Qe!==null;){h=Qe;try{var Je=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var rt=Je.memoizedProps,wn=Je.memoizedState,xe=h.stateNode,be=xe.getSnapshotBeforeUpdate(h.elementType===h.type?rt:oi(h.type,rt),wn);xe.__reactInternalSnapshotBeforeUpdate=be}break;case 3:var ke=h.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(He){Zt(h,h.return,He)}if(l=h.sibling,l!==null){l.return=h.return,Qe=l;break}Qe=h.return}return Je=r0,r0=!1,Je}function Sf(l,h,m){var _=h.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var N=_=_.next;do{if((N.tag&l)===l){var L=N.destroy;N.destroy=void 0,L!==void 0&&jg(h,m,L)}N=N.next}while(N!==_)}}function kd(l,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&l)===l){var _=m.create;m.destroy=_()}m=m.next}while(m!==h)}}function Bg(l){var h=l.ref;if(h!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof h=="function"?h(l):h.current=l}}function Vg(l){var h=l.alternate;h!==null&&(l.alternate=null,Vg(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode,h!==null&&(delete h[Ti],delete h[ss],delete h[ug],delete h[yE],delete h[wE])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function zg(l){return l.tag===5||l.tag===3||l.tag===4}function i0(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||zg(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Wg(l,h,m){var _=l.tag;if(_===5||_===6)l=l.stateNode,h?m.nodeType===8?m.parentNode.insertBefore(l,h):m.insertBefore(l,h):(m.nodeType===8?(h=m.parentNode,h.insertBefore(l,m)):(h=m,h.appendChild(l)),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=Si));else if(_!==4&&(l=l.child,l!==null))for(Wg(l,h,m),l=l.sibling;l!==null;)Wg(l,h,m),l=l.sibling}function Hg(l,h,m){var _=l.tag;if(_===5||_===6)l=l.stateNode,h?m.insertBefore(l,h):m.appendChild(l);else if(_!==4&&(l=l.child,l!==null))for(Hg(l,h,m),l=l.sibling;l!==null;)Hg(l,h,m),l=l.sibling}var sr=null,co=!1;function la(l,h,m){for(m=m.child;m!==null;)o0(l,h,m),m=m.sibling}function o0(l,h,m){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(Uh,m)}catch{}switch(m.tag){case 5:Ir||Ll(m,h);case 6:var _=sr,N=co;sr=null,la(l,h,m),sr=_,co=N,sr!==null&&(co?(l=sr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):sr.removeChild(m.stateNode));break;case 18:sr!==null&&(co?(l=sr,m=m.stateNode,l.nodeType===8?ef(l.parentNode,m):l.nodeType===1&&ef(l,m),Uc(l)):ef(sr,m.stateNode));break;case 4:_=sr,N=co,sr=m.stateNode.containerInfo,co=!0,la(l,h,m),sr=_,co=N;break;case 0:case 11:case 14:case 15:if(!Ir&&(_=m.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){N=_=_.next;do{var L=N,$=L.destroy;L=L.tag,$!==void 0&&(L&2||L&4)&&jg(m,h,$),N=N.next}while(N!==_)}la(l,h,m);break;case 1:if(!Ir&&(Ll(m,h),_=m.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=m.memoizedProps,_.state=m.memoizedState,_.componentWillUnmount()}catch(ce){Zt(m,h,ce)}la(l,h,m);break;case 21:la(l,h,m);break;case 22:m.mode&1?(Ir=(_=Ir)||m.memoizedState!==null,la(l,h,m),Ir=_):la(l,h,m);break;default:la(l,h,m)}}function qg(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new xE),h.forEach(function(_){var N=Af.bind(null,l,_);m.has(_)||(m.add(_),_.then(N,N))})}}function fo(l,h){var m=h.deletions;if(m!==null)for(var _=0;_<m.length;_++){var N=m[_];try{var L=l,$=h,ce=$;e:for(;ce!==null;){switch(ce.tag){case 5:sr=ce.stateNode,co=!1;break e;case 3:sr=ce.stateNode.containerInfo,co=!0;break e;case 4:sr=ce.stateNode.containerInfo,co=!0;break e}ce=ce.return}if(sr===null)throw Error(n(160));o0(L,$,N),sr=null,co=!1;var we=N.alternate;we!==null&&(we.return=null),N.return=null}catch(Ae){Zt(N,h,Ae)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)s0(h,l),h=h.sibling}function s0(l,h){var m=l.alternate,_=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(fo(h,l),Uo(l),_&4){try{Sf(3,l,l.return),kd(3,l)}catch(rt){Zt(l,l.return,rt)}try{Sf(5,l,l.return)}catch(rt){Zt(l,l.return,rt)}}break;case 1:fo(h,l),Uo(l),_&512&&m!==null&&Ll(m,m.return);break;case 5:if(fo(h,l),Uo(l),_&512&&m!==null&&Ll(m,m.return),l.flags&32){var N=l.stateNode;try{Fr(N,"")}catch(rt){Zt(l,l.return,rt)}}if(_&4&&(N=l.stateNode,N!=null)){var L=l.memoizedProps,$=m!==null?m.memoizedProps:L,ce=l.type,we=l.updateQueue;if(l.updateQueue=null,we!==null)try{ce==="input"&&L.type==="radio"&&L.name!=null&&z(N,L),Ps(ce,$);var Ae=Ps(ce,L);for($=0;$<we.length;$+=2){var je=we[$],ze=we[$+1];je==="style"?On(N,ze):je==="dangerouslySetInnerHTML"?Pt(N,ze):je==="children"?Fr(N,ze):C(N,je,ze,Ae)}switch(ce){case"input":x(N,L);break;case"textarea":Pe(N,L);break;case"select":var Fe=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!L.multiple;var Xe=L.value;Xe!=null?ye(N,!!L.multiple,Xe,!1):Fe!==!!L.multiple&&(L.defaultValue!=null?ye(N,!!L.multiple,L.defaultValue,!0):ye(N,!!L.multiple,L.multiple?[]:"",!1))}N[ss]=L}catch(rt){Zt(l,l.return,rt)}}break;case 6:if(fo(h,l),Uo(l),_&4){if(l.stateNode===null)throw Error(n(162));N=l.stateNode,L=l.memoizedProps;try{N.nodeValue=L}catch(rt){Zt(l,l.return,rt)}}break;case 3:if(fo(h,l),Uo(l),_&4&&m!==null&&m.memoizedState.isDehydrated)try{Uc(h.containerInfo)}catch(rt){Zt(l,l.return,rt)}break;case 4:fo(h,l),Uo(l);break;case 13:fo(h,l),Uo(l),N=l.child,N.flags&8192&&(L=N.memoizedState!==null,N.stateNode.isHidden=L,!L||N.alternate!==null&&N.alternate.memoizedState!==null||($g=Sn())),_&4&&qg(l);break;case 22:if(je=m!==null&&m.memoizedState!==null,l.mode&1?(Ir=(Ae=Ir)||je,fo(h,l),Ir=Ae):fo(h,l),Uo(l),_&8192){if(Ae=l.memoizedState!==null,(l.stateNode.isHidden=Ae)&&!je&&l.mode&1)for(Qe=l,je=l.child;je!==null;){for(ze=Qe=je;Qe!==null;){switch(Fe=Qe,Xe=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Sf(4,Fe,Fe.return);break;case 1:Ll(Fe,Fe.return);var Je=Fe.stateNode;if(typeof Je.componentWillUnmount=="function"){_=Fe,m=Fe.return;try{h=_,Je.props=h.memoizedProps,Je.state=h.memoizedState,Je.componentWillUnmount()}catch(rt){Zt(_,m,rt)}}break;case 5:Ll(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){Ad(ze);continue}}Xe!==null?(Xe.return=Fe,Qe=Xe):Ad(ze)}je=je.sibling}e:for(je=null,ze=l;;){if(ze.tag===5){if(je===null){je=ze;try{N=ze.stateNode,Ae?(L=N.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(ce=ze.stateNode,we=ze.memoizedProps.style,$=we!=null&&we.hasOwnProperty("display")?we.display:null,ce.style.display=cn("display",$))}catch(rt){Zt(l,l.return,rt)}}}else if(ze.tag===6){if(je===null)try{ze.stateNode.nodeValue=Ae?"":ze.memoizedProps}catch(rt){Zt(l,l.return,rt)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===l)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===l)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===l)break e;je===ze&&(je=null),ze=ze.return}je===ze&&(je=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:fo(h,l),Uo(l),_&4&&qg(l);break;case 21:break;default:fo(h,l),Uo(l)}}function Uo(l){var h=l.flags;if(h&2){try{e:{for(var m=l.return;m!==null;){if(zg(m)){var _=m;break e}m=m.return}throw Error(n(160))}switch(_.tag){case 5:var N=_.stateNode;_.flags&32&&(Fr(N,""),_.flags&=-33);var L=i0(l);Hg(l,L,N);break;case 3:case 4:var $=_.stateNode.containerInfo,ce=i0(l);Wg(l,ce,$);break;default:throw Error(n(161))}}catch(we){Zt(l,l.return,we)}l.flags&=-3}h&4096&&(l.flags&=-4097)}function AE(l,h,m){Qe=l,xt(l)}function xt(l,h,m){for(var _=(l.mode&1)!==0;Qe!==null;){var N=Qe,L=N.child;if(N.tag===22&&_){var $=N.memoizedState!==null||xd;if(!$){var ce=N.alternate,we=ce!==null&&ce.memoizedState!==null||Ir;ce=xd;var Ae=Ir;if(xd=$,(Ir=we)&&!Ae)for(Qe=N;Qe!==null;)$=Qe,we=$.child,$.tag===22&&$.memoizedState!==null?a0(N):we!==null?(we.return=$,Qe=we):a0(N);for(;L!==null;)Qe=L,xt(L),L=L.sibling;Qe=N,xd=ce,Ir=Ae}Gg(l)}else N.subtreeFlags&8772&&L!==null?(L.return=N,Qe=L):Gg(l)}}function Gg(l){for(;Qe!==null;){var h=Qe;if(h.flags&8772){var m=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Ir||kd(5,h);break;case 1:var _=h.stateNode;if(h.flags&4&&!Ir)if(m===null)_.componentDidMount();else{var N=h.elementType===h.type?m.memoizedProps:oi(h.type,m.memoizedProps);_.componentDidUpdate(N,m.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&gd(h,L,_);break;case 3:var $=h.updateQueue;if($!==null){if(m=null,h.child!==null)switch(h.child.tag){case 5:m=h.child.stateNode;break;case 1:m=h.child.stateNode}gd(h,$,m)}break;case 5:var ce=h.stateNode;if(m===null&&h.flags&4){m=ce;var we=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":we.autoFocus&&m.focus();break;case"img":we.src&&(m.src=we.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Ae=h.alternate;if(Ae!==null){var je=Ae.memoizedState;if(je!==null){var ze=je.dehydrated;ze!==null&&Uc(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ir||h.flags&512&&Bg(h)}catch(Fe){Zt(h,h.return,Fe)}}if(h===l){Qe=null;break}if(m=h.sibling,m!==null){m.return=h.return,Qe=m;break}Qe=h.return}}function Ad(l){for(;Qe!==null;){var h=Qe;if(h===l){Qe=null;break}var m=h.sibling;if(m!==null){m.return=h.return,Qe=m;break}Qe=h.return}}function a0(l){for(;Qe!==null;){var h=Qe;try{switch(h.tag){case 0:case 11:case 15:var m=h.return;try{kd(4,h)}catch(we){Zt(h,m,we)}break;case 1:var _=h.stateNode;if(typeof _.componentDidMount=="function"){var N=h.return;try{_.componentDidMount()}catch(we){Zt(h,N,we)}}var L=h.return;try{Bg(h)}catch(we){Zt(h,L,we)}break;case 5:var $=h.return;try{Bg(h)}catch(we){Zt(h,$,we)}}}catch(we){Zt(h,h.return,we)}if(h===l){Qe=null;break}var ce=h.sibling;if(ce!==null){ce.return=h.return,Qe=ce;break}Qe=h.return}}var RE=Math.ceil,Rd=k.ReactCurrentDispatcher,Kg=k.ReactCurrentOwner,Yi=k.ReactCurrentBatchConfig,Ut=0,Xn=null,yn=null,ar=0,ai=0,ca=Ao(0),xn=0,Ml=null,fa=0,Tf=0,Nd=0,ms=null,ui=null,$g=0,au=1/0,jo=null,If=!1,Yg=null,gs=null,Cf=!1,vs=null,xf=0,uu=0,Od=null,Fl=-1,Pd=0;function Cr(){return Ut&6?Sn():Fl!==-1?Fl:Fl=Sn()}function Bo(l){return l.mode&1?Ut&2&&ar!==0?ar&-ar:vl.transition!==null?(Pd===0&&(Pd=gw()),Pd):(l=zt,l!==0||(l=window.event,l=l===void 0?16:_w(l.type)),l):1}function li(l,h,m,_){if(50<uu)throw uu=0,Od=null,Error(n(185));Bs(l,m,_),(!(Ut&2)||l!==Xn)&&(l===Xn&&(!(Ut&2)&&(Tf|=m),xn===4&&ys(l,ar)),xr(l,_),m===1&&Ut===0&&!(h.mode&1)&&(au=Sn()+500,nf&&so()))}function xr(l,h){var m=l.callbackNode;mw(l,h);var _=jh(l,l===Xn?ar:0);if(_===0)m!==null&&Fi(m),l.callbackNode=null,l.callbackPriority=0;else if(h=_&-_,l.callbackPriority!==h){if(m!=null&&Fi(m),h===1)l.tag===0?Uw(l0.bind(null,l)):dg(l0.bind(null,l)),sg(function(){!(Ut&6)&&so()}),m=null;else{switch(Om(_)){case 1:m=Mh;break;case 4:m=Ac;break;case 16:m=Ku;break;case 536870912:m=Fh;break;default:m=Ku}m=hu(m,Ul.bind(null,l))}l.callbackPriority=h,l.callbackNode=m}}function Ul(l,h){if(Fl=-1,Pd=0,Ut&6)throw Error(n(327));var m=l.callbackNode;if(Bl()&&l.callbackNode!==m)return null;var _=jh(l,l===Xn?ar:0);if(_===0)return null;if(_&30||_&l.expiredLanes||h)h=jl(l,_);else{h=_;var N=Ut;Ut|=2;var L=c0();(Xn!==l||ar!==h)&&(jo=null,au=Sn()+500,Vo(l,h));do try{NE();break}catch(ce){Xg(l,ce)}while(!0);fd(),Rd.current=L,Ut=N,yn!==null?h=0:(Xn=null,ar=0,h=xn)}if(h!==0){if(h===2&&(N=Dc(l),N!==0&&(_=N,h=lu(l,N))),h===1)throw m=Ml,Vo(l,0),ys(l,_),xr(l,Sn()),m;if(h===6)ys(l,_);else{if(N=l.current.alternate,!(_&30)&&!u0(N)&&(h=jl(l,_),h===2&&(L=Dc(l),L!==0&&(_=L,h=lu(l,L))),h===1))throw m=Ml,Vo(l,0),ys(l,_),xr(l,Sn()),m;switch(l.finishedWork=N,l.finishedLanes=_,h){case 0:case 1:throw Error(n(345));case 2:fu(l,ui,jo);break;case 3:if(ys(l,_),(_&130023424)===_&&(h=$g+500-Sn(),10<h)){if(jh(l,0)!==0)break;if(N=l.suspendedLanes,(N&_)!==_){Cr(),l.pingedLanes|=l.suspendedLanes&N;break}l.timeoutHandle=Zc(fu.bind(null,l,ui,jo),h);break}fu(l,ui,jo);break;case 4:if(ys(l,_),(_&4194240)===_)break;for(h=l.eventTimes,N=-1;0<_;){var $=31-Ui(_);L=1<<$,$=h[$],$>N&&(N=$),_&=~L}if(_=N,_=Sn()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*RE(_/1960))-_,10<_){l.timeoutHandle=Zc(fu.bind(null,l,ui,jo),_);break}fu(l,ui,jo);break;case 5:fu(l,ui,jo);break;default:throw Error(n(329))}}}return xr(l,Sn()),l.callbackNode===m?Ul.bind(null,l):null}function lu(l,h){var m=ms;return l.current.memoizedState.isDehydrated&&(Vo(l,h).flags|=256),l=jl(l,h),l!==2&&(h=ui,ui=m,h!==null&&ha(h)),l}function ha(l){ui===null?ui=l:ui.push.apply(ui,l)}function u0(l){for(var h=l;;){if(h.flags&16384){var m=h.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var _=0;_<m.length;_++){var N=m[_],L=N.getSnapshot;N=N.value;try{if(!Vi(L(),N))return!1}catch{return!1}}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ys(l,h){for(h&=~Nd,h&=~Tf,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var m=31-Ui(h),_=1<<m;l[m]=-1,h&=~_}}function l0(l){if(Ut&6)throw Error(n(327));Bl();var h=jh(l,0);if(!(h&1))return xr(l,Sn()),null;var m=jl(l,h);if(l.tag!==0&&m===2){var _=Dc(l);_!==0&&(h=_,m=lu(l,_))}if(m===1)throw m=Ml,Vo(l,0),ys(l,h),xr(l,Sn()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=h,fu(l,ui,jo),xr(l,Sn()),null}function Dd(l,h){var m=Ut;Ut|=1;try{return l(h)}finally{Ut=m,Ut===0&&(au=Sn()+500,nf&&so())}}function da(l){vs!==null&&vs.tag===0&&!(Ut&6)&&Bl();var h=Ut;Ut|=1;var m=Yi.transition,_=zt;try{if(Yi.transition=null,zt=1,l)return l()}finally{zt=_,Yi.transition=m,Ut=h,!(Ut&6)&&so()}}function cu(){ai=ca.current,sn(ca)}function Vo(l,h){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,ig(m)),yn!==null)for(m=yn.return;m!==null;){var _=m;switch(ud(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&nu();break;case 3:ra(),sn(Br),sn(yr),El();break;case 5:bl(_);break;case 4:ra();break;case 13:sn(Jt);break;case 19:sn(Jt);break;case 10:fs(_.type._context);break;case 22:case 23:cu()}m=m.return}if(Xn=l,yn=l=ma(l.current,null),ar=ai=h,xn=0,Ml=null,Nd=Tf=fa=0,ui=ms=null,Gi!==null){for(h=0;h<Gi.length;h++)if(m=Gi[h],_=m.interleaved,_!==null){m.interleaved=null;var N=_.next,L=m.pending;if(L!==null){var $=L.next;L.next=N,_.next=$}m.pending=_}Gi=null}return l}function Xg(l,h){do{var m=yn;try{if(fd(),cf.current=su,oa){for(var _=dn.memoizedState;_!==null;){var N=_.queue;N!==null&&(N.pending=null),_=_.next}oa=!1}if(ia=0,Ln=Cn=dn=null,Tl=!1,ou=0,Kg.current=null,m===null||m.return===null){xn=1,Ml=h,yn=null;break}e:{var L=l,$=m.return,ce=m,we=h;if(h=ar,ce.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var Ae=we,je=ce,ze=je.tag;if(!(je.mode&1)&&(ze===0||ze===11||ze===15)){var Fe=je.alternate;Fe?(je.updateQueue=Fe.updateQueue,je.memoizedState=Fe.memoizedState,je.lanes=Fe.lanes):(je.updateQueue=null,je.memoizedState=null)}var Xe=bd($);if(Xe!==null){Xe.flags&=-257,kg(Xe,$,ce,L,h),Xe.mode&1&&bf(L,Ae,h),h=Xe,we=Ae;var Je=h.updateQueue;if(Je===null){var rt=new Set;rt.add(we),h.updateQueue=rt}else Je.add(we);break e}else{if(!(h&1)){bf(L,Ae,h),kf();break e}we=Error(n(426))}}else if(an&&ce.mode&1){var wn=bd($);if(wn!==null){!(wn.flags&65536)&&(wn.flags|=256),kg(wn,$,ce,L,h),Zs(br(we,ce));break e}}L=we=br(we,ce),xn!==4&&(xn=2),ms===null?ms=[L]:ms.push(L),L=$;do{switch(L.tag){case 3:L.flags|=65536,h&=-h,L.lanes|=h;var xe=$w(L,we,h);Fo(L,xe);break e;case 1:ce=we;var be=L.type,ke=L.stateNode;if(!(L.flags&128)&&(typeof be.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(gs===null||!gs.has(ke)))){L.flags|=65536,h&=-h,L.lanes|=h;var He=xg(L,ce,h);Fo(L,He);break e}}L=L.return}while(L!==null)}Ld(m)}catch(it){h=it,yn===m&&m!==null&&(yn=m=m.return);continue}break}while(!0)}function c0(){var l=Rd.current;return Rd.current=su,l===null?su:l}function kf(){(xn===0||xn===3||xn===2)&&(xn=4),Xn===null||!(fa&268435455)&&!(Tf&268435455)||ys(Xn,ar)}function jl(l,h){var m=Ut;Ut|=2;var _=c0();(Xn!==l||ar!==h)&&(jo=null,Vo(l,h));do try{f0();break}catch(N){Xg(l,N)}while(!0);if(fd(),Ut=m,Rd.current=_,yn!==null)throw Error(n(261));return Xn=null,ar=0,xn}function f0(){for(;yn!==null;)h0(yn)}function NE(){for(;yn!==null&&!pw();)h0(yn)}function h0(l){var h=pa(l.alternate,l,ai);l.memoizedProps=l.pendingProps,h===null?Ld(l):yn=h,Kg.current=null}function Ld(l){var h=l;do{var m=h.alternate;if(l=h.return,h.flags&32768){if(m=CE(m,h),m!==null){m.flags&=32767,yn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{xn=6,yn=null;return}}else if(m=IE(m,h,ai),m!==null){yn=m;return}if(h=h.sibling,h!==null){yn=h;return}yn=h=l}while(h!==null);xn===0&&(xn=5)}function fu(l,h,m){var _=zt,N=Yi.transition;try{Yi.transition=null,zt=1,OE(l,h,m,_)}finally{Yi.transition=N,zt=_}return null}function OE(l,h,m,_){do Bl();while(vs!==null);if(Ut&6)throw Error(n(327));m=l.finishedWork;var N=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var L=m.lanes|m.childLanes;if(aE(l,L),l===Xn&&(yn=Xn=null,ar=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||Cf||(Cf=!0,hu(Ku,function(){return Bl(),null})),L=(m.flags&15990)!==0,m.subtreeFlags&15990||L){L=Yi.transition,Yi.transition=null;var $=zt;zt=1;var ce=Ut;Ut|=4,Kg.current=null,kE(l,m),s0(m,l),gE(rg),rs=!!ng,rg=ng=null,l.current=m,AE(m),iE(),Ut=ce,zt=$,Yi.transition=L}else l.current=m;if(Cf&&(Cf=!1,vs=l,xf=N),L=l.pendingLanes,L===0&&(gs=null),Nm(m.stateNode),xr(l,Sn()),h!==null)for(_=l.onRecoverableError,m=0;m<h.length;m++)N=h[m],_(N.value,{componentStack:N.stack,digest:N.digest});if(If)throw If=!1,l=Yg,Yg=null,l;return xf&1&&l.tag!==0&&Bl(),L=l.pendingLanes,L&1?l===Od?uu++:(uu=0,Od=l):uu=0,so(),null}function Bl(){if(vs!==null){var l=Om(xf),h=Yi.transition,m=zt;try{if(Yi.transition=null,zt=16>l?16:l,vs===null)var _=!1;else{if(l=vs,vs=null,xf=0,Ut&6)throw Error(n(331));var N=Ut;for(Ut|=4,Qe=l.current;Qe!==null;){var L=Qe,$=L.child;if(Qe.flags&16){var ce=L.deletions;if(ce!==null){for(var we=0;we<ce.length;we++){var Ae=ce[we];for(Qe=Ae;Qe!==null;){var je=Qe;switch(je.tag){case 0:case 11:case 15:Sf(8,je,L)}var ze=je.child;if(ze!==null)ze.return=je,Qe=ze;else for(;Qe!==null;){je=Qe;var Fe=je.sibling,Xe=je.return;if(Vg(je),je===Ae){Qe=null;break}if(Fe!==null){Fe.return=Xe,Qe=Fe;break}Qe=Xe}}}var Je=L.alternate;if(Je!==null){var rt=Je.child;if(rt!==null){Je.child=null;do{var wn=rt.sibling;rt.sibling=null,rt=wn}while(rt!==null)}}Qe=L}}if(L.subtreeFlags&2064&&$!==null)$.return=L,Qe=$;else e:for(;Qe!==null;){if(L=Qe,L.flags&2048)switch(L.tag){case 0:case 11:case 15:Sf(9,L,L.return)}var xe=L.sibling;if(xe!==null){xe.return=L.return,Qe=xe;break e}Qe=L.return}}var be=l.current;for(Qe=be;Qe!==null;){$=Qe;var ke=$.child;if($.subtreeFlags&2064&&ke!==null)ke.return=$,Qe=ke;else e:for($=be;Qe!==null;){if(ce=Qe,ce.flags&2048)try{switch(ce.tag){case 0:case 11:case 15:kd(9,ce)}}catch(it){Zt(ce,ce.return,it)}if(ce===$){Qe=null;break e}var He=ce.sibling;if(He!==null){He.return=ce.return,Qe=He;break e}Qe=ce.return}}if(Ut=N,so(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(Uh,l)}catch{}_=!0}return _}finally{zt=m,Yi.transition=h}}return!1}function d0(l,h,m){h=br(m,h),h=$w(l,h,1),l=ta(l,h,1),h=Cr(),l!==null&&(Bs(l,1,h),xr(l,h))}function Zt(l,h,m){if(l.tag===3)d0(l,l,m);else for(;h!==null;){if(h.tag===3){d0(h,l,m);break}else if(h.tag===1){var _=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(gs===null||!gs.has(_))){l=br(m,l),l=xg(h,l,1),h=ta(h,l,1),l=Cr(),h!==null&&(Bs(h,1,l),xr(h,l));break}}h=h.return}}function PE(l,h,m){var _=l.pingCache;_!==null&&_.delete(h),h=Cr(),l.pingedLanes|=l.suspendedLanes&m,Xn===l&&(ar&m)===m&&(xn===4||xn===3&&(ar&130023424)===ar&&500>Sn()-$g?Vo(l,0):Nd|=m),xr(l,h)}function Qg(l,h){h===0&&(l.mode&1?(h=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):h=1);var m=Cr();l=ds(l,h),l!==null&&(Bs(l,h,m),xr(l,m))}function Jg(l){var h=l.memoizedState,m=0;h!==null&&(m=h.retryLane),Qg(l,m)}function Af(l,h){var m=0;switch(l.tag){case 13:var _=l.stateNode,N=l.memoizedState;N!==null&&(m=N.retryLane);break;case 19:_=l.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(h),Qg(l,m)}var pa;pa=function(l,h,m){if(l!==null)if(l.memoizedProps!==h.pendingProps||Br.current)si=!0;else{if(!(l.lanes&m)&&!(h.flags&128))return si=!1,Fg(l,h,m);si=!!(l.flags&131072)}else si=!1,an&&h.flags&1048576&&ad(h,sd,h.index);switch(h.lanes=0,h.tag){case 2:var _=h.type;Dl(l,h),l=h.pendingProps;var N=dl(h,yr.current);qi(h,m),N=ff(null,h,_,l,N,m);var L=Il();return h.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Vr(_)?(L=!0,pl(h)):L=!1,h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,pd(h),N.updater=wd,h.stateNode=N,N._reactInternals=h,_f(h,_,l,m),h=Sr(null,h,_,!0,L,m)):(h.tag=0,an&&L&&rf(h),Er(null,h,N,m),h=h.child),h;case 16:_=h.elementType;e:{switch(Dl(l,h),l=h.pendingProps,N=_._init,_=N(_._payload),h.type=_,N=h.tag=ev(_),l=oi(_,l),N){case 0:h=Ng(null,h,_,l,m);break e;case 1:h=Jw(null,h,_,l,m);break e;case 11:h=Xw(null,h,_,l,m);break e;case 14:h=Qw(null,h,_,oi(_.type,l),m);break e}throw Error(n(306,_,""))}return h;case 0:return _=h.type,N=h.pendingProps,N=h.elementType===_?N:oi(_,N),Ng(l,h,_,N,m);case 1:return _=h.type,N=h.pendingProps,N=h.elementType===_?N:oi(_,N),Jw(l,h,_,N,m);case 3:e:{if(Ed(h),l===null)throw Error(n(387));_=h.pendingProps,L=h.memoizedState,N=L.element,md(l,h),sf(h,_,null,m);var $=h.memoizedState;if(_=$.element,L.isDehydrated)if(L={element:_,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){N=br(Error(n(423)),h),h=Zw(l,h,_,m,N);break e}else if(_!==N){N=br(Error(n(424)),h),h=Zw(l,h,_,m,N);break e}else for(ii=Wi(h.stateNode.containerInfo.firstChild),Wr=h,an=!0,Pn=null,m=Bw(h,null,_,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ls(),_===N){h=lo(l,h,m);break e}Er(l,h,_,m)}h=h.child}return h;case 5:return _l(h),l===null&&cd(h),_=h.type,N=h.pendingProps,L=l!==null?l.memoizedProps:null,$=N.children,Jc(_,N)?$=null:L!==null&&Jc(_,L)&&(h.flags|=32),Rg(l,h),Er(l,h,$,m),h.child;case 6:return l===null&&cd(h),null;case 13:return Dg(l,h,m);case 4:return vg(h,h.stateNode.containerInfo),_=h.pendingProps,l===null?h.child=ea(h,null,_,m):Er(l,h,_,m),h.child;case 11:return _=h.type,N=h.pendingProps,N=h.elementType===_?N:oi(_,N),Xw(l,h,_,N,m);case 7:return Er(l,h,h.pendingProps,m),h.child;case 8:return Er(l,h,h.pendingProps.children,m),h.child;case 12:return Er(l,h,h.pendingProps.children,m),h.child;case 10:e:{if(_=h.type._context,N=h.pendingProps,L=h.memoizedProps,$=N.value,Qt(Mo,_._currentValue),_._currentValue=$,L!==null)if(Vi(L.value,$)){if(L.children===N.children&&!Br.current){h=lo(l,h,m);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var ce=L.dependencies;if(ce!==null){$=L.child;for(var we=ce.firstContext;we!==null;){if(we.context===_){if(L.tag===1){we=wr(-1,m&-m),we.tag=2;var Ae=L.updateQueue;if(Ae!==null){Ae=Ae.shared;var je=Ae.pending;je===null?we.next=we:(we.next=je.next,je.next=we),Ae.pending=we}}L.lanes|=m,we=L.alternate,we!==null&&(we.lanes|=m),hd(L.return,m,h),ce.lanes|=m;break}we=we.next}}else if(L.tag===10)$=L.type===h.type?null:L.child;else if(L.tag===18){if($=L.return,$===null)throw Error(n(341));$.lanes|=m,ce=$.alternate,ce!==null&&(ce.lanes|=m),hd($,m,h),$=L.sibling}else $=L.child;if($!==null)$.return=L;else for($=L;$!==null;){if($===h){$=null;break}if(L=$.sibling,L!==null){L.return=$.return,$=L;break}$=$.return}L=$}Er(l,h,N.children,m),h=h.child}return h;case 9:return N=h.type,_=h.pendingProps.children,qi(h,m),N=Ii(N),_=_(N),h.flags|=1,Er(l,h,_,m),h.child;case 14:return _=h.type,N=oi(_,h.pendingProps),N=oi(_.type,N),Qw(l,h,_,N,m);case 15:return Ag(l,h,h.type,h.pendingProps,m);case 17:return _=h.type,N=h.pendingProps,N=h.elementType===_?N:oi(_,N),Dl(l,h),h.tag=1,Vr(_)?(l=!0,pl(h)):l=!1,qi(h,m),wf(h,_,N),_f(h,_,N,m),Sr(null,h,_,!0,l,m);case 19:return Cd(l,h,m);case 22:return ua(l,h,m)}throw Error(n(156,h.tag))};function hu(l,h){return dw(l,h)}function DE(l,h,m,_){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(l,h,m,_){return new DE(l,h,m,_)}function Zg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ev(l){if(typeof l=="function")return Zg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===G)return 11;if(l===he)return 14}return 2}function ma(l,h){var m=l.alternate;return m===null?(m=ur(l.tag,h,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=h,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,h=l.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Vl(l,h,m,_,N,L){var $=2;if(_=l,typeof l=="function")Zg(l)&&($=1);else if(typeof l=="string")$=5;else e:switch(l){case D:return du(m.children,N,L,h);case X:$=8,N|=8;break;case V:return l=ur(12,m,h,N|2),l.elementType=V,l.lanes=L,l;case ee:return l=ur(13,m,h,N),l.elementType=ee,l.lanes=L,l;case j:return l=ur(19,m,h,N),l.elementType=j,l.lanes=L,l;case re:return Md(m,N,L,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case se:$=10;break e;case Ie:$=9;break e;case G:$=11;break e;case he:$=14;break e;case Ee:$=16,_=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return h=ur($,m,h,N),h.elementType=l,h.type=_,h.lanes=L,h}function du(l,h,m,_){return l=ur(7,l,_,h),l.lanes=m,l}function Md(l,h,m,_){return l=ur(22,l,_,h),l.elementType=re,l.lanes=m,l.stateNode={isHidden:!1},l}function tv(l,h,m){return l=ur(6,l,null,h),l.lanes=m,l}function zl(l,h,m){return h=ur(4,l.children!==null?l.children:[],l.key,h),h.lanes=m,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function Fd(l,h,m,_,N){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$u(0),this.expirationTimes=$u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.identifierPrefix=_,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Ud(l,h,m,_,N,L,$,ce,we){return l=new Fd(l,h,m,ce,we),h===1?(h=1,L===!0&&(h|=8)):h=0,L=ur(3,null,null,h),l.current=L,L.stateNode=l,L.memoizedState={element:_,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},pd(L),l}function LE(l,h,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:_==null?null:""+_,children:l,containerInfo:h,implementation:m}}function nv(l){if(!l)return Js;l=l._reactInternals;e:{if(Ha(l)!==l||l.tag!==1)throw Error(n(170));var h=l;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Vr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(Vr(m))return fg(l,m,h)}return h}function jd(l,h,m,_,N,L,$,ce,we){return l=Ud(m,_,!0,l,N,L,$,ce,we),l.context=nv(null),m=l.current,_=Cr(),N=Bo(m),L=wr(_,N),L.callback=h??null,ta(m,L,N),l.current.lanes=N,Bs(l,N,_),xr(l,_),l}function Rf(l,h,m,_){var N=h.current,L=Cr(),$=Bo(N);return m=nv(m),h.context===null?h.context=m:h.pendingContext=m,h=wr(L,$),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=ta(N,h,$),l!==null&&(li(l,N,$,L),na(l,N,$)),$}function Wl(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Bd(l,h){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<h?m:h}}function Vd(l,h){Bd(l,h),(l=l.alternate)&&Bd(l,h)}var rv=typeof reportError=="function"?reportError:function(l){console.error(l)};function iv(l){this._internalRoot=l}Nf.prototype.render=iv.prototype.render=function(l){var h=this._internalRoot;if(h===null)throw Error(n(409));Rf(l,h,null,null)},Nf.prototype.unmount=iv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var h=l.containerInfo;da(function(){Rf(null,l,null,null)}),h[as]=null}};function Nf(l){this._internalRoot=l}Nf.prototype.unstable_scheduleHydration=function(l){if(l){var h=Io();l={blockedOn:null,target:l,priority:h};for(var m=0;m<ns.length&&h!==0&&h<ns[m].priority;m++);ns.splice(m,0,l),m===0&&yw(l)}};function Hl(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function zd(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function p0(){}function ME(l,h,m,_,N){if(N){if(typeof _=="function"){var L=_;_=function(){var Ae=Wl($);L.call(Ae)}}var $=jd(h,_,l,0,null,!1,!1,"",p0);return l._reactRootContainer=$,l[as]=$.current,Xc(l.nodeType===8?l.parentNode:l),da(),$}for(;N=l.lastChild;)l.removeChild(N);if(typeof _=="function"){var ce=_;_=function(){var Ae=Wl(we);ce.call(Ae)}}var we=Ud(l,0,!1,null,null,!1,!1,"",p0);return l._reactRootContainer=we,l[as]=we.current,Xc(l.nodeType===8?l.parentNode:l),da(function(){Rf(h,we,m,_)}),we}function Of(l,h,m,_,N){var L=m._reactRootContainer;if(L){var $=L;if(typeof N=="function"){var ce=N;N=function(){var we=Wl($);ce.call(we)}}Rf(h,$,l,N)}else $=ME(m,h,l,N,_);return Wl($)}It=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.current.memoizedState.isDehydrated){var m=Pc(h.pendingLanes);m!==0&&(Lc(h,m|1),xr(h,Sn()),!(Ut&6)&&(au=Sn()+500,so()))}break;case 13:da(function(){var _=ds(l,1);if(_!==null){var N=Cr();li(_,l,1,N)}}),Vd(l,1)}},es=function(l){if(l.tag===13){var h=ds(l,134217728);if(h!==null){var m=Cr();li(h,l,134217728,m)}Vd(l,134217728)}},Yu=function(l){if(l.tag===13){var h=Bo(l),m=ds(l,h);if(m!==null){var _=Cr();li(m,l,h,_)}Vd(l,h)}},Io=function(){return zt},Pm=function(l,h){var m=zt;try{return zt=l,h()}finally{zt=m}},Ls=function(l,h,m){switch(h){case"input":if(x(l,m),h=m.name,m.type==="radio"&&h!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<m.length;h++){var _=m[h];if(_!==l&&_.form===l.form){var N=tf(_);if(!N)throw Error(n(90));J(_),x(_,N)}}}break;case"textarea":Pe(l,m);break;case"select":h=m.value,h!=null&&ye(l,!!m.multiple,h,!1)}},lw=Dd,Tm=da;var m0={usingClientEntryPoint:!1,Events:[cl,fl,tf,Ph,uw,Dd]},pu={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FE={bundleType:pu.bundleType,version:pu.version,rendererPackageName:pu.rendererPackageName,rendererConfig:pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Lh(l),l===null?null:l.stateNode},findFiberByHostInstance:pu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Uh=Wd.inject(FE),io=Wd}catch{}}return Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m0,Xi.createPortal=function(l,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(h))throw Error(n(200));return LE(l,h,null,m)},Xi.createRoot=function(l,h){if(!Hl(l))throw Error(n(299));var m=!1,_="",N=rv;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),h=Ud(l,1,!1,null,null,m,!1,_,N),l[as]=h.current,Xc(l.nodeType===8?l.parentNode:l),new iv(h)},Xi.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Lh(h),l=l===null?null:l.stateNode,l},Xi.flushSync=function(l){return da(l)},Xi.hydrate=function(l,h,m){if(!zd(h))throw Error(n(200));return Of(null,l,h,!0,m)},Xi.hydrateRoot=function(l,h,m){if(!Hl(l))throw Error(n(405));var _=m!=null&&m.hydratedSources||null,N=!1,L="",$=rv;if(m!=null&&(m.unstable_strictMode===!0&&(N=!0),m.identifierPrefix!==void 0&&(L=m.identifierPrefix),m.onRecoverableError!==void 0&&($=m.onRecoverableError)),h=jd(h,null,l,1,m??null,N,!1,L,$),l[as]=h.current,Xc(l),_)for(l=0;l<_.length;l++)m=_[l],N=m._getVersion,N=N(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,N]:h.mutableSourceEagerHydrationData.push(m,N);return new Nf(h)},Xi.render=function(l,h,m){if(!zd(h))throw Error(n(200));return Of(null,l,h,!1,m)},Xi.unmountComponentAtNode=function(l){if(!zd(l))throw Error(n(40));return l._reactRootContainer?(da(function(){Of(null,null,l,!1,function(){l._reactRootContainer=null,l[as]=null})}),!0):!1},Xi.unstable_batchedUpdates=Dd,Xi.unstable_renderSubtreeIntoContainer=function(l,h,m,_){if(!zd(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Of(l,h,m,!1,_)},Xi.version="18.3.1-next-f1338f8080-20240426",Xi}var mN;function tF(){if(mN)return CS.exports;mN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),CS.exports=LB(),CS.exports}var gN;function MB(){if(gN)return I0;gN=1;var t=tF();return I0.createRoot=t.createRoot,I0.hydrateRoot=t.hydrateRoot,I0}var FB=MB();const UB=ZM(FB);var jB=tF();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(this,arguments)}var ic;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ic||(ic={}));const vN="popstate";function BB(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:u}=r.location;return KI("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:E_(i)}return zB(e,n,null,t)}function Nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nF(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VB(){return Math.random().toString(36).substr(2,8)}function yN(t,e){return{usr:t.state,key:t.key,idx:e}}function KI(t,e,n,r){return n===void 0&&(n=null),$v({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zp(e):e,{state:n,key:e&&e.key||r||VB()})}function E_(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,u=ic.Pop,c=null,d=p();d==null&&(d=0,a.replaceState($v({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function v(){u=ic.Pop;let I=p(),T=I==null?null:I-d;d=I,c&&c({action:u,location:b.location,delta:T})}function y(I,T){u=ic.Push;let R=KI(b.location,I,T);d=p()+1;let C=yN(R,d),k=b.createHref(R);try{a.pushState(C,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(k)}o&&c&&c({action:u,location:b.location,delta:1})}function w(I,T){u=ic.Replace;let R=KI(b.location,I,T);d=p();let C=yN(R,d),k=b.createHref(R);a.replaceState(C,"",k),o&&c&&c({action:u,location:b.location,delta:0})}function E(I){let T=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof I=="string"?I:E_(I);return R=R.replace(/ $/,"%20"),Nn(T,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,T)}let b={get action(){return u},get location(){return t(i,a)},listen(I){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(vN,v),c=I,()=>{i.removeEventListener(vN,v),c=null}},createHref(I){return e(i,I)},createURL:E,encodeLocation(I){let T=E(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:w,go(I){return a.go(I)}};return b}var wN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wN||(wN={}));function WB(t,e,n){return n===void 0&&(n="/"),HB(t,e,n)}function HB(t,e,n,r){let i=typeof e=="string"?Zp(e):e,o=_p(i.pathname||"/",n);if(o==null)return null;let a=rF(t);qB(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let d=n8(o);u=e8(a[c],d)}return u}function rF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Nn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=sc([r,c.relativePath]),p=n.concat(c);o.children&&o.children.length>0&&(Nn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),rF(o.children,e,p,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:JB(d,o.index),routesMeta:p})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of iF(o.path))i(o,a,c)}),e}function iF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=iF(r.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function qB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GB=/^:[\w-]+$/,KB=3,$B=2,YB=1,XB=10,QB=-2,_N=t=>t==="*";function JB(t,e){let n=t.split("/"),r=n.length;return n.some(_N)&&(r+=QB),e&&(r+=$B),n.filter(i=>!_N(i)).reduce((i,o)=>i+(GB.test(o)?KB:o===""?YB:XB),r)}function ZB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function e8(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",v=$I({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),y=c.route;if(!v)return null;Object.assign(i,v.params),a.push({params:i,pathname:sc([o,v.pathname]),pathnameBase:s8(sc([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=sc([o,v.pathnameBase]))}return a}function $I(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,p,v)=>{let{paramName:y,isOptional:w}=p;if(y==="*"){let b=u[v]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const E=u[v];return w&&!E?d[y]=void 0:d[y]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function t8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nF(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function n8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nF(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _p(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function r8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zp(t):t;return{pathname:n?n.startsWith("/")?n:i8(n,e):e,search:a8(r),hash:u8(i)}}function i8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function AS(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bx(t,e){let n=o8(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ex(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zp(t):(i=$v({},t),Nn(!i.pathname||!i.pathname.includes("?"),AS("?","pathname","search",i)),Nn(!i.pathname||!i.pathname.includes("#"),AS("#","pathname","hash",i)),Nn(!i.search||!i.search.includes("#"),AS("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,u;if(a==null)u=n;else{let v=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}u=v>=0?e[v]:"/"}let c=r8(i,u),d=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const sc=t=>t.join("/").replace(/\/\/+/g,"/"),s8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,u8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function l8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oF=["post","put","patch","delete"];new Set(oF);const c8=["get",...oF];new Set(c8);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(this,arguments)}const kb=te.createContext(null),sF=te.createContext(null),Lu=te.createContext(null),Ab=te.createContext(null),Mu=te.createContext({outlet:null,matches:[],isDataRoute:!1}),aF=te.createContext(null);function f8(t,e){let{relative:n}=e===void 0?{}:e;em()||Nn(!1);let{basename:r,navigator:i}=te.useContext(Lu),{hash:o,pathname:a,search:u}=Nb(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:sc([r,a])),i.createHref({pathname:c,search:u,hash:o})}function em(){return te.useContext(Ab)!=null}function tm(){return em()||Nn(!1),te.useContext(Ab).location}function uF(t){te.useContext(Lu).static||te.useLayoutEffect(t)}function Rb(){let{isDataRoute:t}=te.useContext(Mu);return t?I8():h8()}function h8(){em()||Nn(!1);let t=te.useContext(kb),{basename:e,future:n,navigator:r}=te.useContext(Lu),{matches:i}=te.useContext(Mu),{pathname:o}=tm(),a=JSON.stringify(bx(i,n.v7_relativeSplatPath)),u=te.useRef(!1);return uF(()=>{u.current=!0}),te.useCallback(function(d,p){if(p===void 0&&(p={}),!u.current)return;if(typeof d=="number"){r.go(d);return}let v=Ex(d,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:sc([e,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[e,r,a,o,t])}function d8(){let{matches:t}=te.useContext(Mu),e=t[t.length-1];return e?e.params:{}}function Nb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=te.useContext(Lu),{matches:i}=te.useContext(Mu),{pathname:o}=tm(),a=JSON.stringify(bx(i,r.v7_relativeSplatPath));return te.useMemo(()=>Ex(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function p8(t,e){return m8(t,e)}function m8(t,e,n,r){em()||Nn(!1);let{navigator:i}=te.useContext(Lu),{matches:o}=te.useContext(Mu),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=tm(),p;if(e){var v;let I=typeof e=="string"?Zp(e):e;c==="/"||(v=I.pathname)!=null&&v.startsWith(c)||Nn(!1),p=I}else p=d;let y=p.pathname||"/",w=y;if(c!=="/"){let I=c.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=WB(t,{pathname:w}),b=_8(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:sc([c,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:sc([c,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,r);return e&&b?te.createElement(Ab.Provider,{value:{location:Yv({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ic.Pop}},b):b}function g8(){let t=T8(),e=l8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),n?te.createElement("pre",{style:i},n):null,null)}const v8=te.createElement(g8,null);class y8 extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?te.createElement(Mu.Provider,{value:this.props.routeContext},te.createElement(aF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w8(t){let{routeContext:e,match:n,children:r}=t,i=te.useContext(kb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(Mu.Provider,{value:e},r)}function _8(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);p>=0||Nn(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let v=a[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=p),v.route.id){let{loaderData:y,errors:w}=n,E=v.route.loader&&y[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,v,y)=>{let w,E=!1,b=null,I=null;n&&(w=u&&v.route.id?u[v.route.id]:void 0,b=v.route.errorElement||v8,c&&(d<0&&y===0?(E=!0,I=null):d===y&&(E=!0,I=v.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,y+1)),R=()=>{let C;return w?C=b:E?C=I:v.route.Component?C=te.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=p,te.createElement(w8,{match:v,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:C})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?te.createElement(y8,{location:n.location,revalidation:n.revalidation,component:b,error:w,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}var lF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lF||{}),S_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(S_||{});function b8(t){let e=te.useContext(kb);return e||Nn(!1),e}function E8(t){let e=te.useContext(sF);return e||Nn(!1),e}function S8(t){let e=te.useContext(Mu);return e||Nn(!1),e}function cF(t){let e=S8(),n=e.matches[e.matches.length-1];return n.route.id||Nn(!1),n.route.id}function T8(){var t;let e=te.useContext(aF),n=E8(S_.UseRouteError),r=cF(S_.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function I8(){let{router:t}=b8(lF.UseNavigateStable),e=cF(S_.UseNavigateStable),n=te.useRef(!1);return uF(()=>{n.current=!0}),te.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yv({fromRouteId:e},o)))},[t,e])}const bN={};function C8(t,e){bN[e]||(bN[e]=!0,console.warn(e))}const EN=(t,e,n)=>C8(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function x8(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&EN("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&EN("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Xd(t){let{to:e,replace:n,state:r,relative:i}=t;em()||Nn(!1);let{future:o,static:a}=te.useContext(Lu),{matches:u}=te.useContext(Mu),{pathname:c}=tm(),d=Rb(),p=Ex(e,bx(u,o.v7_relativeSplatPath),c,i==="path"),v=JSON.stringify(p);return te.useEffect(()=>d(JSON.parse(v),{replace:n,state:r,relative:i}),[d,v,i,n,r]),null}function Ia(t){Nn(!1)}function k8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ic.Pop,navigator:o,static:a=!1,future:u}=t;em()&&Nn(!1);let c=e.replace(/^\/*/,"/"),d=te.useMemo(()=>({basename:c,navigator:o,static:a,future:Yv({v7_relativeSplatPath:!1},u)}),[c,u,o,a]);typeof r=="string"&&(r=Zp(r));let{pathname:p="/",search:v="",hash:y="",state:w=null,key:E="default"}=r,b=te.useMemo(()=>{let I=_p(p,c);return I==null?null:{location:{pathname:I,search:v,hash:y,state:w,key:E},navigationType:i}},[c,p,v,y,w,E,i]);return b==null?null:te.createElement(Lu.Provider,{value:d},te.createElement(Ab.Provider,{children:n,value:b}))}function fF(t){let{children:e,location:n}=t;return p8(YI(e),n)}new Promise(()=>{});function YI(t,e){e===void 0&&(e=[]);let n=[];return te.Children.forEach(t,(r,i)=>{if(!te.isValidElement(r))return;let o=[...e,i];if(r.type===te.Fragment){n.push.apply(n,YI(r.props.children,o));return}r.type!==Ia&&Nn(!1),!r.props.index||!r.props.children||Nn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=YI(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(this,arguments)}function hF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function A8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R8(t,e){return t.button===0&&(!e||e==="_self")&&!A8(t)}const N8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O8=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],P8="6";try{window.__reactRouterVersion=P8}catch{}const D8=te.createContext({isTransitioning:!1}),L8="startTransition",SN=GI[L8];function M8(t){let{basename:e,children:n,future:r,window:i}=t,o=te.useRef();o.current==null&&(o.current=BB({window:i,v5Compat:!0}));let a=o.current,[u,c]=te.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},p=te.useCallback(v=>{d&&SN?SN(()=>c(v)):c(v)},[c,d]);return te.useLayoutEffect(()=>a.listen(p),[a,p]),te.useEffect(()=>x8(r),[r]),te.createElement(k8,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}const F8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sx=te.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:u,target:c,to:d,preventScrollReset:p,viewTransition:v}=e,y=hF(e,N8),{basename:w}=te.useContext(Lu),E,b=!1;if(typeof d=="string"&&U8.test(d)&&(E=d,F8))try{let C=new URL(window.location.href),k=d.startsWith("//")?new URL(C.protocol+d):new URL(d),O=_p(k.pathname,w);k.origin===C.origin&&O!=null?d=O+k.search+k.hash:b=!0}catch{}let I=f8(d,{relative:i}),T=B8(d,{replace:a,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:v});function R(C){r&&r(C),C.defaultPrevented||T(C)}return te.createElement("a",T_({},y,{href:E||I,onClick:b||o?r:R,ref:n,target:c}))}),cp=te.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:u,to:c,viewTransition:d,children:p}=e,v=hF(e,O8),y=Nb(c,{relative:v.relative}),w=tm(),E=te.useContext(sF),{navigator:b,basename:I}=te.useContext(Lu),T=E!=null&&V8(y)&&d===!0,R=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,C=w.pathname,k=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(C=C.toLowerCase(),k=k?k.toLowerCase():null,R=R.toLowerCase()),k&&I&&(k=_p(k,I)||k);const O=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let W=C===R||!a&&C.startsWith(R)&&C.charAt(O)==="/",D=k!=null&&(k===R||!a&&k.startsWith(R)&&k.charAt(R.length)==="/"),X={isActive:W,isPending:D,isTransitioning:T},V=W?r:void 0,se;typeof o=="function"?se=o(X):se=[o,W?"active":null,D?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof u=="function"?u(X):u;return te.createElement(Sx,T_({},v,{"aria-current":V,className:se,ref:n,style:Ie,to:c,viewTransition:d}),typeof p=="function"?p(X):p)});var XI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(XI||(XI={}));var TN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TN||(TN={}));function j8(t){let e=te.useContext(kb);return e||Nn(!1),e}function B8(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:u}=e===void 0?{}:e,c=Rb(),d=tm(),p=Nb(t,{relative:a});return te.useCallback(v=>{if(R8(v,n)){v.preventDefault();let y=r!==void 0?r:E_(d)===E_(p);c(t,{replace:y,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[d,c,p,r,i,n,t,o,a,u])}function V8(t,e){e===void 0&&(e={});let n=te.useContext(D8);n==null&&Nn(!1);let{basename:r}=j8(XI.useViewTransitionState),i=Nb(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=_p(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=_p(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $I(i.pathname,a)!=null||$I(i.pathname,o)!=null}function bp({src:t}){return Z.jsx("div",{className:"avatar",children:Z.jsx("img",{src:t,alt:"avatar of the user"})})}function z8({projects:t}){const[e,n]=te.useState(""),r=t.filter(i=>i.name.toLowerCase().includes(e.toLowerCase()));return Z.jsxs("div",{className:"project-list-container",children:[Z.jsx("div",{className:"search-bar",children:Z.jsx("input",{type:"text",placeholder:"Search",value:e,onChange:i=>n(i.target.value)})}),Z.jsxs("div",{className:"project-list",children:[r.length===0&&Z.jsx("p",{children:"There are no projects yet"}),r.map(i=>Z.jsxs(Sx,{to:`/projects/${i.id}`,children:[Z.jsx("h4",{children:i.name}),Z.jsx("p",{children:i.dueDate.toDate().toDateString()}),Z.jsx("div",{className:"assigned-to",children:Z.jsx("ul",{children:i.assignedUsersList.map(o=>Z.jsx("li",{children:Z.jsx(bp,{src:o.photoURL})},o.photoURL))})})]},i.id))]})]})}const IN=["Active","Completed"];function W8({currentFilter:t,changeFilter:e}){const[n,r]=te.useState(window.innerWidth),[i,o]=te.useState(!1);te.useEffect(()=>(window.addEventListener("resize",()=>r(window.innerWidth)),()=>window.removeEventListener("resize",()=>r(window.innerWidth))),[]);const a=700,u=c=>{e(c)};return Z.jsx(Z.Fragment,{children:n>=a?Z.jsxs("div",{className:"project-filter",children:[Z.jsx("nav",{children:Z.jsx("p",{children:"PROJECT LIST"})}),Z.jsx("div",{className:"flex gap-4",children:IN.map(c=>Z.jsx("button",{onClick:()=>{u(c)},className:t===c?"active":"",children:c},c))})]}):Z.jsxs("div",{className:"menu-container",children:[Z.jsx("div",{className:"drop-down-container",children:Z.jsx("p",{children:"PROJECT LIST"})}),i&&Z.jsx("nav",{children:IN.map(c=>Z.jsxs("button",{onClick:()=>{u(c),o(!1)},className:t===c?"active":"",children:[c,"omom"]},c))})]})})}var QI=function(t,e){return QI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},QI(t,e)};function Ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");QI(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vt=function(){return vt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},vt.apply(this,arguments)};function ve(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(p){try{d(r.next(p))}catch(v){a(v)}}function c(p){try{d(r.throw(p))}catch(v){a(v)}}function d(p){p.done?o(p.value):i(p.value).then(u,c)}d((r=r.apply(t,e||[])).next())})}function ge(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(d){return function(p){return c([d,p])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(p){d=[6,p],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Lr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $r(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Ct(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dF={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe=function(t,e){if(!t)throw nm(e)},nm=function(t){return new Error("Firebase Database ("+dF.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pF=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},H8=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,p=o>>2,v=(o&3)<<4|u>>4,y=(u&15)<<2|d>>6,w=d&63;c||(w=64,a||(y=64)),r.push(n[p],n[v],n[y],n[w])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pF(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,u=a?n[t.charAt(i)]:0;++i;var c=i<t.length,d=c?n[t.charAt(i)]:64;++i;var p=i<t.length,v=p?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||v==null)throw Error();var y=o<<2|u>>4;if(r.push(y),d!==64){var w=u<<4&240|d>>2;if(r.push(w),v!==64){var E=d<<6&192|v;r.push(E)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mF=function(t){var e=pF(t);return Ob.encodeByteArray(e,!0)},CN=function(t){return mF(t).replace(/\./g,"")},xN=function(t){try{return Ob.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){return Xv(void 0,t)}function Xv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!q8(r)||(t[r]=Xv(t[r],e[r]));return t}function q8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=vt({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[CN(JSON.stringify(n)),CN(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ix(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oh())}function vF(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G8(){return typeof self=="object"&&self.self===self}function Cx(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K8(){return oh().indexOf("Electron/")>=0}function $8(){var t=oh();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Y8(){return oh().indexOf("MSAppHost/")>=0}function X8(){return dF.NODE_ADMIN===!0}function Q8(){return!vF()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xy(){return"indexedDB"in self&&indexedDB!=null}function xx(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function wF(){return!(!navigator||!navigator.cookieEnabled)}function J8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z8="FirebaseError",rm=function(t){Ye(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=Z8,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Fu.prototype.create),o}return e}(Error),Fu=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],u=a?eV(a,i):"Error",c=this.serviceName+": "+u+" ("+o+").",d=new rm(o,c,i);return d},t}();function eV(t,e){return t.replace(tV,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var tV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){return JSON.parse(t)}function fr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kx=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Qv(xN(o[0])||""),n=Qv(xN(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},nV=function(t){var e=kx(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},rV=function(t){var e=kx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iV=function(t){var e=kx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sh(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function JI(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function I_(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){for(var e=[],n=function(c,d){Array.isArray(d)?d.forEach(function(p){e.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):e.push(encodeURIComponent(c)+"="+encodeURIComponent(d))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],u=o[1];n(a,u)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sV=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],d=this.chain_[3],p=this.chain_[4],v,y,i=0;i<80;i++){i<40?i<20?(v=d^u&(c^d),y=1518500249):(v=u^c^d,y=1859775393):i<60?(v=u&c|d&(u|c),y=2400959708):(v=u^c^d,y=3395469782);var o=(a<<5|a>>>27)+v+p+y+r[i]&4294967295;p=d,d=c,c=(u<<30|u>>>2)&4294967295,u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();function aV(t,e){var n=new uV(t,e);return n.subscribe.bind(n)}var uV=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lV(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=RS),o.error===void 0&&(o.error=RS),o.complete===void 0&&(o.complete=RS);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function lV(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function RS(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Ji(t,e){return t+" failed: "+e+" argument "}function Rr(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Ji(t,e)+"must be a valid function.")}function kN(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(Ji(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cV=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,qe(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pb=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fV=1e3,hV=2,dV=4*60*60*1e3,pV=.5;function ZI(t,e,n){e===void 0&&(e=fV),n===void 0&&(n=hV);var r=e*Math.pow(n,t),i=Math.round(pV*r*(Math.random()-.5)*2);return Math.min(dV,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}var yi=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _F=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new Pr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(gV(e))try{this.getOrInitializeService({instanceIdentifier:jf})}catch{}try{for(var i=Lr(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=$r(o.value,2),u=a[0],c=a[1],d=this.normalizeInstanceIdentifier(u);try{var p=this.getOrInitializeService({instanceIdentifier:d});c.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=jf),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ct(Ct([],$r(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),$r(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=jf),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=jf),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.options,o=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=Lr(this.instancesDeferred.entries()),d=c.next();!d.done;d=c.next()){var p=$r(d.value,2),v=p[0],y=p[1],w=this.normalizeInstanceIdentifier(v);a===w&&y.resolve(u)}}catch(E){n={error:E}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return u},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var a=this.instances.get(i);return a&&e(a,i),function(){o.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var a=Lr(o),u=a.next();!u.done;u=a.next()){var c=u.value;try{c(e,n)}catch{}}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:mV(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=jf),this.component?this.component.multipleInstances?e:jf:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function mV(t){return t===jf?void 0:t}function gV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bF=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new _F(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Is(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lf,Ax=[],Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));var EF={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},vV=Lt.INFO,yV=(Lf={},Lf[Lt.DEBUG]="log",Lf[Lt.VERBOSE]="log",Lf[Lt.INFO]="info",Lf[Lt.WARN]="warn",Lf[Lt.ERROR]="error",Lf),wV=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=yV[e];if(o)console[o].apply(console,Is(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},wh=function(){function t(e){this.name=e,this._logLevel=vV,this._logHandler=wV,this._userLogHandler=null,Ax.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Lt))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?EF[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.DEBUG],e)),this._logHandler.apply(this,Is([this,Lt.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.VERBOSE],e)),this._logHandler.apply(this,Is([this,Lt.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.INFO],e)),this._logHandler.apply(this,Is([this,Lt.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.WARN],e)),this._logHandler.apply(this,Is([this,Lt.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.ERROR],e)),this._logHandler.apply(this,Is([this,Lt.ERROR],e))},t}();function _V(t){Ax.forEach(function(e){e.setLogLevel(t)})}function bV(t,e){for(var n=function(a){var u=null;e&&e.level&&(u=EF[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(c,d){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var y=p.map(function(w){if(w==null)return null;if(typeof w=="string")return w;if(typeof w=="number"||typeof w=="boolean")return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch{return null}}).filter(function(w){return w}).join(" ");d>=(u??c.logLevel)&&t({level:Lt[d].toLowerCase(),message:y,args:p,type:c.name})}},r=0,i=Ax;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kl,EV=(Kl={},Kl["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Kl["bad-app-name"]="Illegal App name: '{$appName}",Kl["duplicate-app"]="Firebase App named '{$appName}' already exists",Kl["app-deleted"]="Firebase App named '{$appName}' already deleted",Kl["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Kl["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Kl),ip=new Fu("app","Firebase",EV),SF="@firebase/app",SV="0.6.30",TV="@firebase/analytics",IV="@firebase/app-check",CV="@firebase/auth",xV="@firebase/database",kV="@firebase/functions",AV="@firebase/installations",RV="@firebase/messaging",NV="@firebase/performance",OV="@firebase/remote-config",PV="@firebase/storage",DV="@firebase/firestore",LV="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci,C_="[DEFAULT]",MV=(ci={},ci[SF]="fire-core",ci[TV]="fire-analytics",ci[IV]="fire-app-check",ci[CV]="fire-auth",ci[xV]="fire-rtdb",ci[kV]="fire-fn",ci[AV]="fire-iid",ci[RV]="fire-fcm",ci[NV]="fire-perf",ci[OV]="fire-rc",ci[PV]="fire-gcs",ci[DV]="fire-fst",ci["fire-js"]="fire-js",ci[LV]="fire-js-all",ci);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ep=new wh("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a_=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=gF(e),this.container=new bF(n.name),this._addComponent(new yi("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=C_),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=C_),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Ep.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ip.create("app-deleted",{appName:this.name_})},t}();a_.prototype.name&&a_.prototype.options||a_.prototype.delete||console.log("dc");var FV="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:d,setLogLevel:_V,onLog:p,apps:null,SDK_VERSION:FV,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(y){delete e[y]}function o(y){if(y=y||C_,!bo(e,y))throw ip.create("no-app",{appName:y});return e[y]}o.App=t;function a(y,w){if(w===void 0&&(w={}),typeof w!="object"||w===null){var E=w;w={name:E}}var b=w;b.name===void 0&&(b.name=C_);var I=b.name;if(typeof I!="string"||!I)throw ip.create("bad-app-name",{appName:String(I)});if(bo(e,I))throw ip.create("duplicate-app",{appName:I});var T=new t(y,b,r);return e[I]=T,T}function u(){return Object.keys(e).map(function(y){return e[y]})}function c(y){var w=y.name;if(n.has(w))return Ep.debug("There were multiple attempts to register component "+w+"."),y.type==="PUBLIC"?r[w]:null;if(n.set(w,y),y.type==="PUBLIC"){var E=function(R){if(R===void 0&&(R=o()),typeof R[w]!="function")throw ip.create("invalid-app-argument",{appName:w});return R[w]()};y.serviceProps!==void 0&&Xv(E,y.serviceProps),r[w]=E,t.prototype[w]=function(){for(var R=[],C=0;C<arguments.length;C++)R[C]=arguments[C];var k=this._getService.bind(this,w);return k.apply(this,y.multipleInstances?R:[])}}for(var b=0,I=Object.keys(e);b<I.length;b++){var T=I[b];e[T]._addComponent(y)}return y.type==="PUBLIC"?r[w]:null}function d(y,w,E){var b,I=(b=MV[y])!==null&&b!==void 0?b:y;E&&(I+="-"+E);var T=I.match(/\s|\//),R=w.match(/\s|\//);if(T||R){var C=['Unable to register library "'+I+'" with version "'+w+'":'];T&&C.push('library name "'+I+'" contains illegal characters (whitespace or "/")'),T&&R&&C.push("and"),R&&C.push('version name "'+w+'" contains illegal characters (whitespace or "/")'),Ep.warn(C.join(" "));return}c(new yi(I+"-version",function(){return{library:I,version:w}},"VERSION"))}function p(y,w){if(y!==null&&typeof y!="function")throw ip.create("invalid-log-argument");bV(y,w)}function v(y,w){if(w==="serverAuth")return null;var E=w;return E}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(){var t=UV(a_);t.INTERNAL=vt(vt({},t.INTERNAL),{createFirebaseNamespace:TF,extendNamespace:e,createSubscribe:aV,ErrorFactory:Fu,deepExtend:Xv});function e(n){Xv(t,n)}return t}var Rx=TF();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jV=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(BV(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function BV(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t,e){t.INTERNAL.registerComponent(new yi("platform-logger",function(n){return new jV(n)},"PRIVATE")),t.registerVersion(SF,SV,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(G8()&&self.firebase!==void 0){Ep.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var AN=self.firebase.SDK_VERSION;AN&&AN.indexOf("LITE")>=0&&Ep.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var zV=Rx.initializeApp;Rx.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vF()&&Ep.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),zV.apply(void 0,t)};var at=Rx;VV(at);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,f,g){s!=Array.prototype&&s!=Object.prototype&&(s[f]=g.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var f=0;f<s.length;++f){var g=s[f];if(g&&g.Math==Math)return g}return globalThis}var r=n(this);function i(s,f){if(f){var g=r;s=s.split(".");for(var S=0;S<s.length-1;S++){var P=s[S];P in g||(g[P]={}),g=g[P]}s=s[s.length-1],S=g[s],f=f(S),f!=S&&f!=null&&e(g,s,{configurable:!0,writable:!0,value:f})}}function o(s){var f=0;return function(){return f<s.length?{done:!1,value:s[f++]}:{done:!0}}}function a(s){var f=typeof Symbol<"u"&&Symbol.iterator&&s[Symbol.iterator];return f?f.call(s):{next:o(s)}}i("Promise",function(s){function f(Y){this.b=0,this.c=void 0,this.a=[];var fe=this.f();try{Y(fe.resolve,fe.reject)}catch(Le){fe.reject(Le)}}function g(){this.a=null}function S(Y){return Y instanceof f?Y:new f(function(fe){fe(Y)})}if(s)return s;g.prototype.b=function(Y){if(this.a==null){this.a=[];var fe=this;this.c(function(){fe.g()})}this.a.push(Y)};var P=r.setTimeout;g.prototype.c=function(Y){P(Y,0)},g.prototype.g=function(){for(;this.a&&this.a.length;){var Y=this.a;this.a=[];for(var fe=0;fe<Y.length;++fe){var Le=Y[fe];Y[fe]=null;try{Le()}catch(Ue){this.f(Ue)}}}this.a=null},g.prototype.f=function(Y){this.c(function(){throw Y})},f.prototype.f=function(){function Y(Ue){return function(_t){Le||(Le=!0,Ue.call(fe,_t))}}var fe=this,Le=!1;return{resolve:Y(this.m),reject:Y(this.g)}},f.prototype.m=function(Y){if(Y===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Y instanceof f)this.s(Y);else{e:switch(typeof Y){case"object":var fe=Y!=null;break e;case"function":fe=!0;break e;default:fe=!1}fe?this.v(Y):this.h(Y)}},f.prototype.v=function(Y){var fe=void 0;try{fe=Y.then}catch(Le){this.g(Le);return}typeof fe=="function"?this.u(fe,Y):this.h(Y)},f.prototype.g=function(Y){this.i(2,Y)},f.prototype.h=function(Y){this.i(1,Y)},f.prototype.i=function(Y,fe){if(this.b!=0)throw Error("Cannot settle("+Y+", "+fe+"): Promise already settled in state"+this.b);this.b=Y,this.c=fe,this.l()},f.prototype.l=function(){if(this.a!=null){for(var Y=0;Y<this.a.length;++Y)q.b(this.a[Y]);this.a=null}};var q=new g;return f.prototype.s=function(Y){var fe=this.f();Y.Ra(fe.resolve,fe.reject)},f.prototype.u=function(Y,fe){var Le=this.f();try{Y.call(fe,Le.resolve,Le.reject)}catch(Ue){Le.reject(Ue)}},f.prototype.then=function(Y,fe){function Le(Wt,kr){return typeof Wt=="function"?function(mu){try{Ue(Wt(mu))}catch(SS){_t(SS)}}:kr}var Ue,_t,en=new f(function(Wt,kr){Ue=Wt,_t=kr});return this.Ra(Le(Y,Ue),Le(fe,_t)),en},f.prototype.catch=function(Y){return this.then(void 0,Y)},f.prototype.Ra=function(Y,fe){function Le(){switch(Ue.b){case 1:Y(Ue.c);break;case 2:fe(Ue.c);break;default:throw Error("Unexpected state: "+Ue.b)}}var Ue=this;this.a==null?q.b(Le):this.a.push(Le)},f.resolve=S,f.reject=function(Y){return new f(function(fe,Le){Le(Y)})},f.race=function(Y){return new f(function(fe,Le){for(var Ue=a(Y),_t=Ue.next();!_t.done;_t=Ue.next())S(_t.value).Ra(fe,Le)})},f.all=function(Y){var fe=a(Y),Le=fe.next();return Le.done?S([]):new f(function(Ue,_t){function en(mu){return function(SS){Wt[mu]=SS,kr--,kr==0&&Ue(Wt)}}var Wt=[],kr=0;do Wt.push(void 0),kr++,S(Le.value).Ra(en(Wt.length-1),_t),Le=fe.next();while(!Le.done)})},f});var u=u||{},c=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&d.test(s)?s:""}function y(){}function w(s){var f=typeof s;return f!="object"?f:s?Array.isArray(s)?"array":f:"null"}function E(s){var f=w(s);return f=="array"||f=="object"&&typeof s.length=="number"}function b(s){return w(s)=="function"}function I(s){var f=typeof s;return f=="object"&&s!=null||f=="function"}function T(s,f,g){return s.call.apply(s.bind,arguments)}function R(s,f,g){if(!s)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,S),s.apply(f,P)}}return function(){return s.apply(f,arguments)}}function C(s,f,g){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C=T:C=R,C.apply(null,arguments)}function k(s,f){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),s.apply(this,S)}}function O(s,f){function g(){}g.prototype=f.prototype,s.bb=f.prototype,s.prototype=new g,s.prototype.constructor=s}function W(s){return s}function D(s,f,g){this.code=V+s,this.message=f||se[s]||"",this.a=g||null}O(D,Error),D.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},D.prototype.toJSON=function(){return this.w()};function X(s){var f=s&&s.code;return f?new D(f.substring(V.length),s.message,s.serverResponse):null}var V="auth/",se={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ie={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function G(s){for(var f in Ie)if(Ie[f].id===s)return s=Ie[f],{firebaseEndpoint:s.Ua,secureTokenEndpoint:s.$a,identityPlatformEndpoint:s.Xa};return null}var ee;ee=G("__EID__")?"__EID__":void 0;function j(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function he(s){if(Error.captureStackTrace)Error.captureStackTrace(this,he);else{var f=Error().stack;f&&(this.stack=f)}s&&(this.message=String(s))}O(he,Error),he.prototype.name="CustomError";function Ee(s,f){s=s.split("%s");for(var g="",S=s.length-1,P=0;P<S;P++)g+=s[P]+(P<f.length?f[P]:"%s");he.call(this,g+s[S])}O(Ee,he),Ee.prototype.name="AssertionError";function re(s,f){throw new Ee("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function pe(s,f){this.c=s,this.f=f,this.b=0,this.a=null}pe.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function me(s,f){s.f(f),100>s.b&&(s.b++,f.next=s.a,s.a=f)}function Se(){this.b=this.a=null}var K=new pe(function(){return new ae},function(s){s.reset()});Se.prototype.add=function(s,f){var g=K.get();g.set(s,f),this.b?this.b.next=g:this.a=g,this.b=g};function H(){var s=zt,f=null;return s.a&&(f=s.a,s.a=s.a.next,s.a||(s.b=null),f.next=null),f}function ae(){this.next=this.b=this.a=null}ae.prototype.set=function(s,f){this.a=s,this.b=f,this.next=null},ae.prototype.reset=function(){this.next=this.b=this.a=null};var de=Array.prototype.indexOf?function(s,f){return Array.prototype.indexOf.call(s,f,void 0)}:function(s,f){if(typeof s=="string")return typeof f!="string"||f.length!=1?-1:s.indexOf(f,0);for(var g=0;g<s.length;g++)if(g in s&&s[g]===f)return g;return-1},_e=Array.prototype.forEach?function(s,f,g){Array.prototype.forEach.call(s,f,g)}:function(s,f,g){for(var S=s.length,P=typeof s=="string"?s.split(""):s,q=0;q<S;q++)q in P&&f.call(g,P[q],q,s)};function le(s,f){for(var g=typeof s=="string"?s.split(""):s,S=s.length-1;0<=S;--S)S in g&&f.call(void 0,g[S],S,s)}var B=Array.prototype.filter?function(s,f){return Array.prototype.filter.call(s,f,void 0)}:function(s,f){for(var g=s.length,S=[],P=0,q=typeof s=="string"?s.split(""):s,Y=0;Y<g;Y++)if(Y in q){var fe=q[Y];f.call(void 0,fe,Y,s)&&(S[P++]=fe)}return S},M=Array.prototype.map?function(s,f){return Array.prototype.map.call(s,f,void 0)}:function(s,f){for(var g=s.length,S=Array(g),P=typeof s=="string"?s.split(""):s,q=0;q<g;q++)q in P&&(S[q]=f.call(void 0,P[q],q,s));return S},oe=Array.prototype.some?function(s,f){return Array.prototype.some.call(s,f,void 0)}:function(s,f){for(var g=s.length,S=typeof s=="string"?s.split(""):s,P=0;P<g;P++)if(P in S&&f.call(void 0,S[P],P,s))return!0;return!1};function ie(s){e:{for(var f=Hw,g=s.length,S=typeof s=="string"?s.split(""):s,P=0;P<g;P++)if(P in S&&f.call(void 0,S[P],P,s)){f=P;break e}f=-1}return 0>f?null:typeof s=="string"?s.charAt(f):s[f]}function Q(s,f){return 0<=de(s,f)}function J(s,f){f=de(s,f);var g;return(g=0<=f)&&Array.prototype.splice.call(s,f,1),g}function Ce(s,f){var g=0;le(s,function(S,P){f.call(void 0,S,P,s)&&Array.prototype.splice.call(s,P,1).length==1&&g++})}function F(s){return Array.prototype.concat.apply([],arguments)}function Te(s){var f=s.length;if(0<f){for(var g=Array(f),S=0;S<f;S++)g[S]=s[S];return g}return[]}var z=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},x=/&/g,A=/</g,U=/>/g,ne=/"/g,ye=/'/g,ue=/\x00/g,De=/[\x00&<>"']/;function Pe(s,f){return s.indexOf(f)!=-1}function Me(s,f){return s<f?-1:s>f?1:0}var Ge;e:{var et=c.navigator;if(et){var ct=et.userAgent;if(ct){Ge=ct;break e}}Ge=""}function Pt(s){return Pe(Ge,s)}function Fr(s,f){for(var g in s)f.call(void 0,s[g],g,s)}function bn(s){for(var f in s)return!1;return!0}function ti(s){var f={},g;for(g in s)f[g]=s[g];return f}var cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(s,f){for(var g,S,P=1;P<arguments.length;P++){S=arguments[P];for(g in S)s[g]=S[g];for(var q=0;q<cn.length;q++)g=cn[q],Object.prototype.hasOwnProperty.call(S,g)&&(s[g]=S[g])}}function Wu(s,f){e:{try{var g=s&&s.ownerDocument,S=g&&(g.defaultView||g.parentWindow);if(S=S||c,S.Element&&S.Location){var P=S;break e}}catch{}P=null}if(P&&typeof P[f]<"u"&&(!s||!(s instanceof P[f])&&(s instanceof P.Location||s instanceof P.Element))){if(I(s))try{var q=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch{q="<object could not be stringified>"}else q=s===void 0?"undefined":s===null?"null":typeof s;re("Argument is not a %s (or a non-Element, non-Location mock); got: %s",f,q)}}function En(s,f){this.a=s===Ds&&f||"",this.b=Hu}En.prototype.ta=!0,En.prototype.sa=function(){return this.a},En.prototype.toString=function(){return"Const{"+this.a+"}"};function Ps(s){return s instanceof En&&s.constructor===En&&s.b===Hu?s.a:(re("expected object of type Const, got '"+s+"'"),"type_error:Const")}var Hu={},Ds={},Ls;function To(){if(Ls===void 0){var s=null,f=c.trustedTypes;if(f&&f.createPolicy){try{s=f.createPolicy("goog#html",{createHTML:W,createScript:W,createScriptURL:W})}catch(g){c.console&&c.console.error(g.message)}Ls=s}else Ls=s}return Ls}function or(s,f){this.a=f===Tm?s:""}or.prototype.ta=!0,or.prototype.sa=function(){return this.a.toString()},or.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Ms(s){return s instanceof or&&s.constructor===or?s.a:(re("expected object of type TrustedResourceUrl, got '"+s+"' of type "+w(s)),"type_error:TrustedResourceUrl")}function Ph(s,f){var g=Ps(s);if(!lw.test(g))throw Error("Invalid TrustedResourceUrl format: "+g);return s=g.replace(uw,function(S,P){if(!Object.prototype.hasOwnProperty.call(f,P))throw Error('Found marker, "'+P+'", in format string, "'+g+'", but no valid label mapping found in args: '+JSON.stringify(f));return S=f[P],S instanceof En?Ps(S):encodeURIComponent(String(S))}),Im(s)}var uw=/%{(\w+)}/g,lw=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tm={};function Im(s){var f=To();return s=f?f.createScriptURL(s):s,new or(s,Tm)}function Ur(s,f){this.a=f===Us?s:""}Ur.prototype.ta=!0,Ur.prototype.sa=function(){return this.a.toString()},Ur.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Fs(s){return s instanceof Ur&&s.constructor===Ur?s.a:(re("expected object of type SafeUrl, got '"+s+"' of type "+w(s)),"type_error:SafeUrl")}var Cm=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xc=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,cw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function qu(s){if(s instanceof Ur)return s;if(s=typeof s=="object"&&s.ta?s.sa():String(s),cw.test(s))s=new Ur(s,Us);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var f=s.match(xc);s=f&&Cm.test(f[1])?new Ur(s,Us):null}return s}function kc(s){return s instanceof Ur?s:(s=typeof s=="object"&&s.ta?s.sa():String(s),cw.test(s)||(s="about:invalid#zClosurez"),new Ur(s,Us))}var Us={},Dh=new Ur("about:invalid#zClosurez",Us);function Gu(s,f,g){this.a=g===fw?s:""}Gu.prototype.ta=!0,Gu.prototype.sa=function(){return this.a.toString()},Gu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function rE(s){return s instanceof Gu&&s.constructor===Gu?s.a:(re("expected object of type SafeHtml, got '"+s+"' of type "+w(s)),"type_error:SafeHtml")}var fw={};function Ha(s,f){Wu(s,"HTMLScriptElement"),s.src=Ms(f),(f=s.ownerDocument&&s.ownerDocument.defaultView)&&f!=c?f=v(f.document):(p===null&&(p=v(c.document)),f=p),f&&s.setAttribute("nonce",f)}function xm(s,f,g,S){return s=s instanceof Ur?s:kc(s),f=f||c,g=g instanceof En?Ps(g):g||"",f.open(Fs(s),g,S,void 0)}function km(s,f){for(var g=s.split("%s"),S="",P=Array.prototype.slice.call(arguments,1);P.length&&1<g.length;)S+=g.shift()+P.shift();return S+g.join("%s")}function Am(s){return De.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(x,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(A,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(U,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(ne,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(ye,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(ue,"&#0;"))),s}function Lh(s){return Lh[" "](s),s}Lh[" "]=y;function hw(s,f){var g=Uh;return Object.prototype.hasOwnProperty.call(g,s)?g[s]:g[s]=f(s)}var dw=Pt("Opera"),Fi=Pt("Trident")||Pt("MSIE"),pw=Pt("Edge"),iE=pw||Fi,Sn=Pt("Gecko")&&!(Pe(Ge.toLowerCase(),"webkit")&&!Pt("Edge"))&&!(Pt("Trident")||Pt("MSIE"))&&!Pt("Edge"),oE=Pe(Ge.toLowerCase(),"webkit")&&!Pt("Edge");function Mh(){var s=c.document;return s?s.documentMode:void 0}var Ac;e:{var Ku="",Rm=function(){var s=Ge;if(Sn)return/rv:([^\);]+)(\)|;)/.exec(s);if(pw)return/Edge\/([\d\.]+)/.exec(s);if(Fi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(oE)return/WebKit\/(\S+)/.exec(s);if(dw)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(Rm&&(Ku=Rm?Rm[1]:""),Fi){var Fh=Mh();if(Fh!=null&&Fh>parseFloat(Ku)){Ac=String(Fh);break e}}Ac=Ku}var Uh={};function io(s){return hw(s,function(){for(var f=0,g=z(String(Ac)).split("."),S=z(String(s)).split("."),P=Math.max(g.length,S.length),q=0;f==0&&q<P;q++){var Y=g[q]||"",fe=S[q]||"";do{if(Y=/(\d*)(\D*)(.*)/.exec(Y)||["","","",""],fe=/(\d*)(\D*)(.*)/.exec(fe)||["","","",""],Y[0].length==0&&fe[0].length==0)break;f=Me(Y[1].length==0?0:parseInt(Y[1],10),fe[1].length==0?0:parseInt(fe[1],10))||Me(Y[2].length==0,fe[2].length==0)||Me(Y[2],fe[2]),Y=Y[3],fe=fe[3]}while(f==0)}return 0<=f})}var Nm;if(c.document&&Fi){var Ui=Mh();Nm=Ui||parseInt(Ac,10)||void 0}else Nm=void 0;var js=Nm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var sE=!Fi||9<=Number(js);function Rc(s){var f=document;return typeof s=="string"?f.getElementById(s):s}function Nc(s,f){Fr(f,function(g,S){g&&typeof g=="object"&&g.ta&&(g=g.sa()),S=="style"?s.style.cssText=g:S=="class"?s.className=g:S=="for"?s.htmlFor=g:Oc.hasOwnProperty(S)?s.setAttribute(Oc[S],g):S.lastIndexOf("aria-",0)==0||S.lastIndexOf("data-",0)==0?s.setAttribute(S,g):s[S]=g})}var Oc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Pc(s,f,g){var S=arguments,P=document,q=String(S[0]),Y=S[1];if(!sE&&Y&&(Y.name||Y.type)){if(q=["<",q],Y.name&&q.push(' name="',Am(Y.name),'"'),Y.type){q.push(' type="',Am(Y.type),'"');var fe={};On(fe,Y),delete fe.type,Y=fe}q.push(">"),q=q.join("")}return q=Bh(P,q),Y&&(typeof Y=="string"?q.className=Y:Array.isArray(Y)?q.className=Y.join(" "):Nc(q,Y)),2<S.length&&jh(P,q,S),q}function jh(s,f,g){function S(fe){fe&&f.appendChild(typeof fe=="string"?s.createTextNode(fe):fe)}for(var P=2;P<g.length;P++){var q=g[P];if(!E(q)||I(q)&&0<q.nodeType)S(q);else{e:{if(q&&typeof q.length=="number"){if(I(q)){var Y=typeof q.item=="function"||typeof q.item=="string";break e}if(b(q)){Y=typeof q.item=="function";break e}}Y=!1}_e(Y?Te(q):q,S)}}}function Bh(s,f){return f=String(f),s.contentType==="application/xhtml+xml"&&(f=f.toLowerCase()),s.createElement(f)}function mw(s){c.setTimeout(function(){throw s},0)}var Dc;function gw(){var s=c.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Pt("Presto")&&(s=function(){var P=Bh(document,"IFRAME");P.style.display="none",document.documentElement.appendChild(P);var q=P.contentWindow;P=q.document,P.open(),P.close();var Y="callImmediate"+Math.random(),fe=q.location.protocol=="file:"?"*":q.location.protocol+"//"+q.location.host;P=C(function(Le){(fe=="*"||Le.origin==fe)&&Le.data==Y&&this.port1.onmessage()},this),q.addEventListener("message",P,!1),this.port1={},this.port2={postMessage:function(){q.postMessage(Y,fe)}}}),typeof s<"u"&&!Pt("Trident")&&!Pt("MSIE")){var f=new s,g={},S=g;return f.port1.onmessage=function(){if(g.next!==void 0){g=g.next;var P=g.Hb;g.Hb=null,P()}},function(P){S.next={Hb:P},S=S.next,f.port2.postMessage(0)}}return function(P){c.setTimeout(P,0)}}function $u(s,f){Bs||aE(),Lc||(Bs(),Lc=!0),zt.add(s,f)}var Bs;function aE(){if(c.Promise&&c.Promise.resolve){var s=c.Promise.resolve(void 0);Bs=function(){s.then(Om)}}else Bs=function(){var f=Om;!b(c.setImmediate)||c.Window&&c.Window.prototype&&!Pt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Dc||(Dc=gw()),Dc(f)):c.setImmediate(f)}}var Lc=!1,zt=new Se;function Om(){for(var s;s=H();){try{s.a.call(s.b)}catch(f){mw(f)}me(K,s)}Lc=!1}function It(s,f){if(this.a=es,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=y)try{var g=this;s.call(f,function(S){oo(g,Yu,S)},function(S){if(!(S instanceof rs))try{throw S instanceof Error?S:Error("Promise rejected.")}catch{}oo(g,Io,S)})}catch(S){oo(this,Io,S)}}var es=0,Yu=2,Io=3;function Pm(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Pm.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Vh=new pe(function(){return new Pm},function(s){s.reset()});function Xu(s,f,g){var S=Vh.get();return S.g=s,S.b=f,S.f=g,S}function st(s){if(s instanceof It)return s;var f=new It(y);return oo(f,Yu,s),f}function Vt(s){return new It(function(f,g){g(s)})}function ts(s,f,g){vw(s,f,g,null)||$u(k(f,s))}function Mc(s){return new It(function(f,g){var S=s.length,P=[];if(S)for(var q=function(Ue,_t){S--,P[Ue]=_t,S==0&&f(P)},Y=function(Ue){g(Ue)},fe=0,Le;fe<s.length;fe++)Le=s[fe],ts(Le,k(q,fe),Y);else f(P)})}function Qu(s){return new It(function(f){var g=s.length,S=[];if(g)for(var P=function(fe,Le,Ue){g--,S[fe]=Le?{Qb:!0,value:Ue}:{Qb:!1,reason:Ue},g==0&&f(S)},q=0,Y;q<s.length;q++)Y=s[q],ts(Y,k(P,q,!0),k(P,q,!1));else f(S)})}It.prototype.then=function(s,f,g){return Lm(this,b(s)?s:null,b(f)?f:null,g)},It.prototype.$goog_Thenable=!0,t=It.prototype,t.oa=function(s,f){return s=Xu(s,s,f),s.c=!0,Dm(this,s),this},t.o=function(s,f){return Lm(this,null,s,f)},t.cancel=function(s){if(this.a==es){var f=new rs(s);$u(function(){ns(this,f)},this)}};function ns(s,f){if(s.a==es)if(s.c){var g=s.c;if(g.b){for(var S=0,P=null,q=null,Y=g.b;Y&&(Y.c||(S++,Y.a==s&&(P=Y),!(P&&1<S)));Y=Y.next)P||(q=Y);P&&(g.a==es&&S==1?ns(g,f):(q?(S=q,S.next==g.f&&(g.f=S),S.next=S.next.next):Mm(g),ww(g,P,Io,f)))}s.c=null}else oo(s,Io,f)}function Dm(s,f){s.b||s.a!=Yu&&s.a!=Io||Fc(s),s.f?s.f.next=f:s.b=f,s.f=f}function Lm(s,f,g,S){var P=Xu(null,null,null);return P.a=new It(function(q,Y){P.g=f?function(fe){try{var Le=f.call(S,fe);q(Le)}catch(Ue){Y(Ue)}}:q,P.b=g?function(fe){try{var Le=g.call(S,fe);Le===void 0&&fe instanceof rs?Y(fe):q(Le)}catch(Ue){Y(Ue)}}:Y}),P.a.c=s,Dm(s,P),P.a}t.$c=function(s){this.a=es,oo(this,Yu,s)},t.ad=function(s){this.a=es,oo(this,Io,s)};function oo(s,f,g){s.a==es&&(s===g&&(f=Io,g=new TypeError("Promise cannot resolve to itself")),s.a=1,vw(g,s.$c,s.ad,s)||(s.i=g,s.a=f,s.c=null,Fc(s),f!=Io||g instanceof rs||Uc(s,g)))}function vw(s,f,g,S){if(s instanceof It)return Dm(s,Xu(f||y,g||null,S)),!0;if(j(s))return s.then(f,g,S),!0;if(I(s))try{var P=s.then;if(b(P))return yw(s,P,f,g,S),!0}catch(q){return g.call(S,q),!0}return!1}function yw(s,f,g,S,P){function q(Le){fe||(fe=!0,S.call(P,Le))}function Y(Le){fe||(fe=!0,g.call(P,Le))}var fe=!1;try{f.call(s,Y,q)}catch(Le){q(Le)}}function Fc(s){s.h||(s.h=!0,$u(s.gc,s))}function Mm(s){var f=null;return s.b&&(f=s.b,s.b=f.next,f.next=null),s.b||(s.f=null),f}t.gc=function(){for(var s;s=Mm(this);)ww(this,s,this.a,this.i);this.h=!1};function ww(s,f,g,S){if(g==Io&&f.b&&!f.c)for(;s&&s.g;s=s.c)s.g=!1;if(f.a)f.a.c=null,Ju(f,g,S);else try{f.c?f.g.call(f.f):Ju(f,g,S)}catch(P){qa.call(null,P)}me(Vh,f)}function Ju(s,f,g){f==Yu?s.g.call(s.f,g):s.b&&s.b.call(s.f,g)}function Uc(s,f){s.g=!0,$u(function(){s.g&&qa.call(null,f)})}var qa=mw;function rs(s){he.call(this,s)}O(rs,he),rs.prototype.name="cancel";function zh(){this.ya=this.ya,this.pa=this.pa}var uE=0;zh.prototype.ya=!1;function Wh(s){!s.ya&&(s.ya=!0,s.Da(),uE!=0)}zh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Hh=Object.freeze||function(s){return s},qh=!Fi||9<=Number(js),_w=Fi&&!io("9"),Vs=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,f=Object.defineProperty({},"passive",{get:function(){s=!0}});try{c.addEventListener("test",y,f),c.removeEventListener("test",y,f)}catch{}return s}();function mr(s,f){this.type=s,this.b=this.target=f,this.defaultPrevented=!1}mr.prototype.preventDefault=function(){this.defaultPrevented=!0};function Co(s,f){if(mr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var g=this.type=s.type,S=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=f,f=s.relatedTarget){if(Sn){e:{try{Lh(f.nodeName);var P=!0;break e}catch{}P=!1}P||(f=null)}}else g=="mouseover"?f=s.fromElement:g=="mouseout"&&(f=s.toElement);this.relatedTarget=f,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:bw[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}O(Co,mr);var bw=Hh({2:"touch",3:"pen",4:"mouse"});Co.prototype.preventDefault=function(){Co.bb.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,_w)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}},Co.prototype.g=function(){return this.a};var zs="closure_listenable_"+(1e6*Math.random()|0),Gh=0;function Ew(s,f,g,S,P){this.listener=s,this.proxy=null,this.src=f,this.type=g,this.capture=!!S,this.Wa=P,this.key=++Gh,this.wa=this.Qa=!1}function gr(s){s.wa=!0,s.listener=null,s.proxy=null,s.src=null,s.Wa=null}function is(s){this.src=s,this.a={},this.b=0}is.prototype.add=function(s,f,g,S,P){var q=s.toString();s=this.a[q],s||(s=this.a[q]=[],this.b++);var Y=Ga(s,f,S,P);return-1<Y?(f=s[Y],g||(f.Qa=!1)):(f=new Ew(f,this.src,q,!!S,P),f.Qa=g,s.push(f)),f};function jc(s,f){var g=f.type;g in s.a&&J(s.a[g],f)&&(gr(f),s.a[g].length==0&&(delete s.a[g],s.b--))}function Ga(s,f,g,S){for(var P=0;P<s.length;++P){var q=s[P];if(!q.wa&&q.listener==f&&q.capture==!!g&&q.Wa==S)return P}return-1}var Fm="closure_lm_"+(1e6*Math.random()|0),Bc={};function ni(s,f,g,S,P){if(S&&S.once)$h(s,f,g,S,P);else if(Array.isArray(f))for(var q=0;q<f.length;q++)ni(s,f[q],g,S,P);else g=jm(g),s&&s[zs]?Cw(s,f,g,I(S)?!!S.capture:!!S,P):Zu(s,f,g,!1,S,P)}function Zu(s,f,g,S,P,q){if(!f)throw Error("Invalid event type");var Y=I(P)?!!P.capture:!!P,fe=Xh(s);if(fe||(s[Fm]=fe=new is(s)),g=fe.add(f,g,S,Y,q),!g.proxy)if(S=Kh(),g.proxy=S,S.src=s,S.listener=g,s.addEventListener)Vs||(P=Y),P===void 0&&(P=!1),s.addEventListener(f.toString(),S,P);else if(s.attachEvent)s.attachEvent(Tw(f.toString()),S);else if(s.addListener&&s.removeListener)s.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.")}function Kh(){var s=lE,f=qh?function(g){return s.call(f.src,f.listener,g)}:function(g){if(g=s.call(f.src,f.listener,g),!g)return g};return f}function $h(s,f,g,S,P){if(Array.isArray(f))for(var q=0;q<f.length;q++)$h(s,f[q],g,S,P);else g=jm(g),s&&s[zs]?Bm(s,f,g,I(S)?!!S.capture:!!S,P):Zu(s,f,g,!0,S,P)}function bi(s,f,g,S,P){if(Array.isArray(f))for(var q=0;q<f.length;q++)bi(s,f[q],g,S,P);else S=I(S)?!!S.capture:!!S,g=jm(g),s&&s[zs]?(s=s.v,f=String(f).toString(),f in s.a&&(q=s.a[f],g=Ga(q,g,S,P),-1<g&&(gr(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete s.a[f],s.b--)))):s&&(s=Xh(s))&&(f=s.a[f.toString()],s=-1,f&&(s=Ga(f,g,S,P)),(g=-1<s?f[s]:null)&&Sw(g))}function Sw(s){if(typeof s!="number"&&s&&!s.wa){var f=s.src;if(f&&f[zs])jc(f.v,s);else{var g=s.type,S=s.proxy;f.removeEventListener?f.removeEventListener(g,S,s.capture):f.detachEvent?f.detachEvent(Tw(g),S):f.addListener&&f.removeListener&&f.removeListener(S),(g=Xh(f))?(jc(g,s),g.b==0&&(g.src=null,f[Fm]=null)):gr(s)}}}function Tw(s){return s in Bc?Bc[s]:Bc[s]="on"+s}function Yh(s,f,g,S){var P=!0;if((s=Xh(s))&&(f=s.a[f.toString()]))for(f=f.concat(),s=0;s<f.length;s++){var q=f[s];q&&q.capture==g&&!q.wa&&(q=Iw(q,S),P=P&&q!==!1)}return P}function Iw(s,f){var g=s.listener,S=s.Wa||s.src;return s.Qa&&Sw(s),g.call(S,f)}function lE(s,f){if(s.wa)return!0;if(!qh){if(!f)e:{f=["window","event"];for(var g=c,S=0;S<f.length;S++)if(g=g[f[S]],g==null){f=null;break e}f=g}if(S=f,f=new Co(S,this),g=!0,!(0>S.keyCode||S.returnValue!=null)){e:{var P=!1;if(S.keyCode==0)try{S.keyCode=-1;break e}catch{P=!0}(P||S.returnValue==null)&&(S.returnValue=!0)}for(S=[],P=f.b;P;P=P.parentNode)S.push(P);for(s=s.type,P=S.length-1;0<=P;P--){f.b=S[P];var q=Yh(S[P],s,!0,f);g=g&&q}for(P=0;P<S.length;P++)f.b=S[P],q=Yh(S[P],s,!1,f),g=g&&q}return g}return Iw(s,new Co(f,this))}function Xh(s){return s=s[Fm],s instanceof is?s:null}var Um="__closure_events_fn_"+(1e9*Math.random()>>>0);function jm(s){return b(s)?s:(s[Um]||(s[Um]=function(f){return s.handleEvent(f)}),s[Um])}function vr(){zh.call(this),this.v=new is(this),this.bc=this,this.hb=null}O(vr,zh),vr.prototype[zs]=!0,vr.prototype.addEventListener=function(s,f,g,S){ni(this,s,f,g,S)},vr.prototype.removeEventListener=function(s,f,g,S){bi(this,s,f,g,S)},vr.prototype.dispatchEvent=function(s){var f,g=this.hb;if(g)for(f=[];g;g=g.hb)f.push(g);g=this.bc;var S=s.type||s;if(typeof s=="string")s=new mr(s,g);else if(s instanceof mr)s.target=s.target||g;else{var P=s;s=new mr(S,g),On(s,P)}if(P=!0,f)for(var q=f.length-1;0<=q;q--){var Y=s.b=f[q];P=Qh(Y,S,!0,s)&&P}if(Y=s.b=g,P=Qh(Y,S,!0,s)&&P,P=Qh(Y,S,!1,s)&&P,f)for(q=0;q<f.length;q++)Y=s.b=f[q],P=Qh(Y,S,!1,s)&&P;return P},vr.prototype.Da=function(){if(vr.bb.Da.call(this),this.v){var s=this.v,f;for(f in s.a){for(var g=s.a[f],S=0;S<g.length;S++)gr(g[S]);delete s.a[f],s.b--}}this.hb=null};function Cw(s,f,g,S,P){s.v.add(String(f),g,!1,S,P)}function Bm(s,f,g,S,P){s.v.add(String(f),g,!0,S,P)}function Qh(s,f,g,S){if(f=s.v.a[String(f)],!f)return!0;f=f.concat();for(var P=!0,q=0;q<f.length;++q){var Y=f[q];if(Y&&!Y.wa&&Y.capture==g){var fe=Y.listener,Le=Y.Wa||Y.src;Y.Qa&&jc(s.v,Y),P=fe.call(Le,S)!==!1&&P}}return P&&!S.defaultPrevented}function Vm(s,f,g){if(b(s))g&&(s=C(s,g));else if(s&&typeof s.handleEvent=="function")s=C(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(s,f||0)}function Ws(s){var f=null;return new It(function(g,S){f=Vm(function(){g(void 0)},s),f==-1&&S(Error("Failed to schedule timer."))}).o(function(g){throw c.clearTimeout(f),g})}function xw(s){if(s.X&&typeof s.X=="function")return s.X();if(typeof s=="string")return s.split("");if(E(s)){for(var f=[],g=s.length,S=0;S<g;S++)f.push(s[S]);return f}f=[],g=0;for(S in s)f[g++]=s[S];return f}function kw(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.X||typeof s.X!="function"){if(E(s)||typeof s=="string"){var f=[];s=s.length;for(var g=0;g<s;g++)f.push(g);return f}f=[],g=0;for(var S in s)f[g++]=S;return f}}function cE(s,f){if(s.forEach&&typeof s.forEach=="function")s.forEach(f,void 0);else if(E(s)||typeof s=="string")_e(s,f,void 0);else for(var g=kw(s),S=xw(s),P=S.length,q=0;q<P;q++)f.call(void 0,S[q],g&&g[q],s)}function Ka(s,f){this.b={},this.a=[],this.c=0;var g=arguments.length;if(1<g){if(g%2)throw Error("Uneven number of arguments");for(var S=0;S<g;S+=2)this.set(arguments[S],arguments[S+1])}else if(s)if(s instanceof Ka)for(g=s.Y(),S=0;S<g.length;S++)this.set(g[S],s.get(g[S]));else for(S in s)this.set(S,s[S])}t=Ka.prototype,t.X=function(){zm(this);for(var s=[],f=0;f<this.a.length;f++)s.push(this.b[this.a[f]]);return s},t.Y=function(){return zm(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function zm(s){if(s.c!=s.a.length){for(var f=0,g=0;f<s.a.length;){var S=s.a[f];$a(s.b,S)&&(s.a[g++]=S),f++}s.a.length=g}if(s.c!=s.a.length){var P={};for(g=f=0;f<s.a.length;)S=s.a[f],$a(P,S)||(s.a[g++]=S,P[S]=1),f++;s.a.length=g}}t.get=function(s,f){return $a(this.b,s)?this.b[s]:f},t.set=function(s,f){$a(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=f},t.forEach=function(s,f){for(var g=this.Y(),S=0;S<g.length;S++){var P=g[S],q=this.get(P);s.call(f,q,P,this)}};function $a(s,f){return Object.prototype.hasOwnProperty.call(s,f)}var Aw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fE(s,f){if(s){s=s.split("&");for(var g=0;g<s.length;g++){var S=s[g].indexOf("="),P=null;if(0<=S){var q=s[g].substring(0,S);P=s[g].substring(S+1)}else q=s[g];f(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Hs(s,f){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var g;s instanceof Hs?(this.i=f!==void 0?f:s.i,Vc(this,s.c),this.l=s.l,this.a=s.a,zc(this,s.g),this.f=s.f,Wc(this,Wm(s.b)),this.h=s.h):s&&(g=String(s).match(Aw))?(this.i=!!f,Vc(this,g[1]||"",!0),this.l=el(g[2]||""),this.a=el(g[3]||"",!0),zc(this,g[4]),this.f=el(g[5]||"",!0),Wc(this,g[6]||"",!0),this.h=el(g[7]||"")):(this.i=!!f,this.b=new qs(null,this.i))}Hs.prototype.toString=function(){var s=[],f=this.c;f&&s.push(tl(f,Ya,!0),":");var g=this.a;return(g||f=="file")&&(s.push("//"),(f=this.l)&&s.push(tl(f,Ya,!0),"@"),s.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.g,g!=null&&s.push(":",String(g))),(g=this.f)&&(this.a&&g.charAt(0)!="/"&&s.push("/"),s.push(tl(g,g.charAt(0)=="/"?dE:hE,!0))),(g=this.b.toString())&&s.push("?",g),(g=this.h)&&s.push("#",tl(g,Nw)),s.join("")},Hs.prototype.resolve=function(s){var f=new Hs(this),g=!!s.c;g?Vc(f,s.c):g=!!s.l,g?f.l=s.l:g=!!s.a,g?f.a=s.a:g=s.g!=null;var S=s.f;if(g)zc(f,s.g);else if(g=!!s.f){if(S.charAt(0)!="/")if(this.a&&!this.f)S="/"+S;else{var P=f.f.lastIndexOf("/");P!=-1&&(S=f.f.substr(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(Pe(P,"./")||Pe(P,"/.")){S=P.lastIndexOf("/",0)==0,P=P.split("/");for(var q=[],Y=0;Y<P.length;){var fe=P[Y++];fe=="."?S&&Y==P.length&&q.push(""):fe==".."?((1<q.length||q.length==1&&q[0]!="")&&q.pop(),S&&Y==P.length&&q.push("")):(q.push(fe),S=!0)}S=q.join("/")}else S=P}return g?f.f=S:g=s.b.toString()!=="",g?Wc(f,Wm(s.b)):g=!!s.h,g&&(f.h=s.h),f};function Vc(s,f,g){s.c=g?el(f,!0):f,s.c&&(s.c=s.c.replace(/:$/,""))}function zc(s,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);s.g=f}else s.g=null}function Wc(s,f,g){f instanceof qs?(s.b=f,Hm(s.b,s.i)):(g||(f=tl(f,pE)),s.b=new qs(f,s.i))}function fn(s,f,g){s.b.set(f,g)}function ji(s,f){return s.b.get(f)}function jr(s){return s instanceof Hs?new Hs(s):new Hs(s,void 0)}function Hc(s,f,g,S){var P=new Hs(null,void 0);return s&&Vc(P,s),f&&(P.a=f),g&&zc(P,g),S&&(P.f=S),P}function el(s,f){return s?f?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function tl(s,f,g){return typeof s=="string"?(s=encodeURI(s).replace(f,Rw),g&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Rw(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Ya=/[#\/\?@]/g,hE=/[#\?:]/g,dE=/[#\?]/g,pE=/[#\?@]/g,Nw=/#/g;function qs(s,f){this.b=this.a=null,this.c=s||null,this.f=!!f}function Bi(s){s.a||(s.a=new Ka,s.b=0,s.c&&fE(s.c,function(f,g){s.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}function nl(s){var f=kw(s);if(typeof f>"u")throw Error("Keys are undefined");var g=new qs(null,void 0);s=xw(s);for(var S=0;S<f.length;S++){var P=f[S],q=s[S];Array.isArray(q)?Ow(g,P,q):g.add(P,q)}return g}t=qs.prototype,t.add=function(s,f){Bi(this),this.c=null,s=Gs(this,s);var g=this.a.get(s);return g||this.a.set(s,g=[]),g.push(f),this.b+=1,this};function xo(s,f){Bi(s),f=Gs(s,f),$a(s.a.b,f)&&(s.c=null,s.b-=s.a.get(f).length,s=s.a,$a(s.b,f)&&(delete s.b[f],s.c--,s.a.length>2*s.c&&zm(s)))}t.clear=function(){this.a=this.c=null,this.b=0};function rl(s,f){return Bi(s),f=Gs(s,f),$a(s.a.b,f)}t.forEach=function(s,f){Bi(this),this.a.forEach(function(g,S){_e(g,function(P){s.call(f,P,S,this)},this)},this)},t.Y=function(){Bi(this);for(var s=this.a.X(),f=this.a.Y(),g=[],S=0;S<f.length;S++)for(var P=s[S],q=0;q<P.length;q++)g.push(f[S]);return g},t.X=function(s){Bi(this);var f=[];if(typeof s=="string")rl(this,s)&&(f=F(f,this.a.get(Gs(this,s))));else{s=this.a.X();for(var g=0;g<s.length;g++)f=F(f,s[g])}return f},t.set=function(s,f){return Bi(this),this.c=null,s=Gs(this,s),rl(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[f]),this.b+=1,this},t.get=function(s,f){return s?(s=this.X(s),0<s.length?String(s[0]):f):f};function Ow(s,f,g){xo(s,f),0<g.length&&(s.c=null,s.a.set(Gs(s,f),Te(g)),s.b+=g.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],f=this.a.Y(),g=0;g<f.length;g++){var S=f[g],P=encodeURIComponent(String(S));S=this.X(S);for(var q=0;q<S.length;q++){var Y=P;S[q]!==""&&(Y+="="+encodeURIComponent(String(S[q]))),s.push(Y)}}return this.c=s.join("&")};function Wm(s){var f=new qs;return f.c=s.c,s.a&&(f.a=new Ka(s.a),f.b=s.b),f}function Gs(s,f){return f=String(f),s.f&&(f=f.toLowerCase()),f}function Hm(s,f){f&&!s.f&&(Bi(s),s.c=null,s.a.forEach(function(g,S){var P=S.toLowerCase();S!=P&&(xo(this,S),Ow(this,P,g))},s)),s.f=f}function qm(s){var f=[];return Jh(new Pw,s,f),f.join("")}function Pw(){}function Jh(s,f,g){if(f==null)g.push("null");else{if(typeof f=="object"){if(Array.isArray(f)){var S=f;f=S.length,g.push("[");for(var P="",q=0;q<f;q++)g.push(P),Jh(s,S[q],g),P=",";g.push("]");return}if(f instanceof String||f instanceof Number||f instanceof Boolean)f=f.valueOf();else{g.push("{"),P="";for(S in f)Object.prototype.hasOwnProperty.call(f,S)&&(q=f[S],typeof q!="function"&&(g.push(P),Lw(S,g),g.push(":"),Jh(s,q,g),P=","));g.push("}");return}}switch(typeof f){case"string":Lw(f,g);break;case"number":g.push(isFinite(f)&&!isNaN(f)?String(f):"null");break;case"boolean":g.push(String(f));break;case"function":g.push("null");break;default:throw Error("Unknown type: "+typeof f)}}}var Dw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},mE=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Lw(s,f){f.push('"',s.replace(mE,function(g){var S=Dw[g];return S||(S="\\u"+(g.charCodeAt(0)|65536).toString(16).substr(1),Dw[g]=S),S}),'"')}function Gm(){var s=Kn();return Fi&&!!js&&js==11||/Edge\/\d+/.test(s)}function qc(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function Vi(s,f){f=f||c.window;var g="about:blank";s&&(g=Fs(qu(s)||Dh)),f.location.href=g}function il(s,f){var g=[],S;for(S in s)S in f?typeof s[S]!=typeof f[S]?g.push(S):typeof s[S]=="object"&&s[S]!=null&&f[S]!=null?0<il(s[S],f[S]).length&&g.push(S):s[S]!==f[S]&&g.push(S):g.push(S);for(S in f)S in s||g.push(S);return g}function Mw(){var s=Kn();return s=Ja(s)!=Kc?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!Fi||!js||9<js}function Km(s){return s=(s||Kn()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function Ks(s){s=s||c.window;try{s.close()}catch{}}function $m(s,f,g){var S=Math.floor(1e9*Math.random()).toString();f=f||500,g=g||600;var P=(window.screen.availHeight-g)/2,q=(window.screen.availWidth-f)/2;f={width:f,height:g,top:0<P?P:0,left:0<q?q:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},g=Kn().toLowerCase(),S&&(f.target=S,Pe(g,"crios/")&&(f.target="_blank")),Ja(Kn())==Zh&&(s=s||"http://localhost",f.scrollbars=!0),g=s||"",(s=f)||(s={}),S=window,f=g instanceof Ur?g:qu(typeof g.href<"u"?g.href:String(g))||Dh,g=s.target||g.target,P=[];for(Y in s)switch(Y){case"width":case"height":case"top":case"left":P.push(Y+"="+s[Y]);break;case"target":case"noopener":case"noreferrer":break;default:P.push(Y+"="+(s[Y]?1:0))}var Y=P.join(",");if((Pt("iPhone")&&!Pt("iPod")&&!Pt("iPad")||Pt("iPad")||Pt("iPod"))&&S.navigator&&S.navigator.standalone&&g&&g!="_self"?(Y=Bh(document,"A"),Wu(Y,"HTMLAnchorElement"),f=f instanceof Ur?f:kc(f),Y.href=Fs(f),Y.setAttribute("target",g),s.noreferrer&&Y.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,S,1),Y.dispatchEvent(s),Y={}):s.noreferrer?(Y=xm("",S,g,Y),s=Fs(f),Y&&(iE&&Pe(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),Y.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Am(s)+'">',s=(S=To())?S.createHTML(s):s,s=new Gu(s,null,fw),S=Y.document)&&(S.write(rE(s)),S.close())):(Y=xm(f,S,g,Y))&&s.noopener&&(Y.opener=null),Y)try{Y.focus()}catch{}return Y}function Ym(s){return new It(function(f){function g(){Ws(2e3).then(function(){if(!s||s.closed)f();else return g()})}return g()})}var gE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vE=/^[^@]+@[^@]+$/;function os(){var s=null;return new It(function(f){c.document.readyState=="complete"?f():(s=function(){f()},$h(window,"load",s))}).o(function(f){throw bi(window,"load",s),f})}function Xm(){return Xa(void 0)?os().then(function(){return new It(function(s,f){var g=c.document,S=setTimeout(function(){f(Error("Cordova framework is not ready."))},1e3);g.addEventListener("deviceready",function(){clearTimeout(S),s()},!1)})}):Vt(Error("Cordova must run in an Android or iOS file scheme."))}function Xa(s){return s=s||Kn(),!($s()!=="file:"&&$s()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gc(){var s=c.window;try{return!(!s||s==s.top)}catch{return!1}}function zi(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Ei(){return at.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":at.INTERNAL.hasOwnProperty("node")?"Node":zi()?"Worker":"Browser"}function Qa(){var s=Ei();return s==="ReactNative"||s==="Node"}function Qm(){for(var s=50,f=[];0<s;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return f.join("")}var Zh="Firefox",Kc="Chrome";function Ja(s){var f=s.toLowerCase();if(Pe(f,"opera/")||Pe(f,"opr/")||Pe(f,"opios/"))return"Opera";if(Pe(f,"iemobile"))return"IEMobile";if(Pe(f,"msie")||Pe(f,"trident/"))return"IE";if(Pe(f,"edge/"))return"Edge";if(Pe(f,"firefox/"))return Zh;if(Pe(f,"silk/"))return"Silk";if(Pe(f,"blackberry"))return"Blackberry";if(Pe(f,"webos"))return"Webos";if(!Pe(f,"safari/")||Pe(f,"chrome/")||Pe(f,"crios/")||Pe(f,"android"))if(!Pe(f,"chrome/")&&!Pe(f,"crios/")||Pe(f,"edge/")){if(Pe(f,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return Kc;else return"Safari";return"Other"}var Jm={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Za(s,f){f=f||[];var g=[],S={},P;for(P in Jm)S[Jm[P]]=!0;for(P=0;P<f.length;P++)typeof S[f[P]]<"u"&&(delete S[f[P]],g.push(f[P]));return g.sort(),f=g,f.length||(f=["FirebaseCore-web"]),g=Ei(),g==="Browser"?(S=Kn(),g=Ja(S)):g==="Worker"&&(S=Kn(),g=Ja(S)+"-"+g),g+"/JsCore/"+s+"/"+f.join(",")}function Kn(){return c.navigator&&c.navigator.userAgent||""}function hn(s,f){s=s.split("."),f=f||c;for(var g=0;g<s.length&&typeof f=="object"&&f!=null;g++)f=f[s[g]];return g!=s.length&&(f=void 0),f}function ed(){try{var s=c.localStorage,f=Ys();if(s)return s.setItem(f,"1"),s.removeItem(f),Gm()?!!c.indexedDB:!0}catch{return zi()&&!!c.indexedDB}return!1}function ri(){return(ol()||$s()==="chrome-extension:"||Xa())&&!Qa()&&ed()&&!zi()}function ol(){return $s()==="http:"||$s()==="https:"}function $s(){return c.location&&c.location.protocol||null}function $c(s){return s=s||Kn(),!(Km(s)||Ja(s)==Zh)}function Yc(s){return typeof s>"u"?null:qm(s)}function sl(s){var f={},g;for(g in s)s.hasOwnProperty(g)&&s[g]!==null&&s[g]!==void 0&&(f[g]=s[g]);return f}function al(s){if(s!==null)return JSON.parse(s)}function Ys(s){return s||Math.floor(1e9*Math.random()).toString()}function Zm(s){return s=s||Kn(),!(Ja(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function on(){var s=c.___jsl;if(s&&s.H){for(var f in s.H)if(s.H[f].r=s.H[f].r||[],s.H[f].L=s.H[f].L||[],s.H[f].r=s.H[f].L.concat(),s.CP)for(var g=0;g<s.CP.length;g++)s.CP[g]=null}}function ko(s,f){if(s>f)throw Error("Short delay should be less than long delay!");this.a=s,this.c=f,s=Kn(),f=Ei(),this.b=Km(s)||f==="ReactNative"}ko.prototype.get=function(){var s=c.navigator;return!(s&&typeof s.onLine=="boolean"&&(ol()||$s()==="chrome-extension:"||typeof s.connection<"u"))||s.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function ul(){var s=c.document;return s&&typeof s.visibilityState<"u"?s.visibilityState=="visible":!0}function Xc(){var s=c.document,f=null;return ul()||!s?st():new It(function(g){f=function(){ul()&&(s.removeEventListener("visibilitychange",f,!1),g())},s.addEventListener("visibilitychange",f,!1)}).o(function(g){throw s.removeEventListener("visibilitychange",f,!1),g})}function ll(s){try{var f=new Date(parseInt(s,10));if(!isNaN(f.getTime())&&!/[^0-9]/.test(s))return f.toUTCString()}catch{}return null}function td(){return!(!hn("fireauth.oauthhelper",c)&&!hn("fireauth.iframe",c))}function Qc(){var s=c.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function nd(){var s=c.navigator;return s&&s.serviceWorker?st().then(function(){return s.serviceWorker.ready}).then(function(f){return f.active||null}).o(function(){return null}):st(null)}var eu={};function rd(s){eu[s]||(eu[s]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(s))}var eg;try{var tg={};Object.defineProperty(tg,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(tg,"abcd",{configurable:!0,enumerable:!0,value:2}),eg=tg.abcd==2}catch{eg=!1}function tt(s,f,g){eg?Object.defineProperty(s,f,{configurable:!0,enumerable:!0,value:g}):s[f]=g}function $n(s,f){if(f)for(var g in f)f.hasOwnProperty(g)&&tt(s,g,f[g])}function Si(s){var f={};return $n(f,s),f}function ng(s){var f={},g;for(g in s)s.hasOwnProperty(g)&&(f[g]=s[g]);return f}function rg(s,f){if(!f||!f.length)return!0;if(!s)return!1;for(var g=0;g<f.length;g++){var S=s[f[g]];if(S==null||S==="")return!1}return!0}function Jc(s){var f=s;if(typeof s=="object"&&s!=null){f="length"in s?[]:{};for(var g in s)tt(f,g,Jc(s[g]))}return f}function Zc(s){var f=s&&(s[ef]?"phone":null);if(f&&s&&s[ag]){tt(this,"uid",s[ag]),tt(this,"displayName",s[og]||null);var g=null;s[sg]&&(g=new Date(s[sg]).toUTCString()),tt(this,"enrollmentTime",g),tt(this,"factorId",f)}else throw new D("internal-error","Internal assert: invalid MultiFactorInfo object")}Zc.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function ig(s){try{var f=new Wi(s)}catch{f=null}return f}var og="displayName",sg="enrolledAt",ag="mfaEnrollmentId",ef="phoneInfo";function Wi(s){Zc.call(this,s),tt(this,"phoneNumber",s[ef])}O(Wi,Zc),Wi.prototype.w=function(){var s=Wi.bb.w.call(this);return s.phoneNumber=this.phoneNumber,s};function Fw(s){var f={},g=s[as],S=s[yE],P=s[wE];if(s=ig(s[ug]),!P||P!=Ti&&P!=ss&&!g||P==ss&&!S||P==Xs&&!s)throw Error("Invalid checkActionCode response!");P==ss?(f[cl]=g||null,f[tf]=g||null,f[Qs]=S):(f[cl]=S||null,f[tf]=S||null,f[Qs]=g||null),f[fl]=s||null,tt(this,hl,P),tt(this,lg,Jc(f))}var Xs="REVERT_SECOND_FACTOR_ADDITION",Ti="EMAIL_SIGNIN",ss="VERIFY_AND_CHANGE_EMAIL",as="email",ug="mfaInfo",yE="newEmail",wE="requestType",Qs="email",cl="fromEmail",fl="multiFactorInfo",tf="previousEmail",lg="data",hl="operation";function Ao(s){s=jr(s);var f=ji(s,sn)||null,g=ji(s,Qt)||null,S=ji(s,Br)||null;if(S=S&&dl[S]||null,!f||!g||!S)throw new D("argument-error",sn+", "+Qt+"and "+Br+" are required in a valid action code URL.");$n(this,{apiKey:f,operation:S,code:g,continueUrl:ji(s,Js)||null,languageCode:ji(s,yr)||null,tenantId:ji(s,tu)||null})}var sn="apiKey",Qt="oobCode",Js="continueUrl",yr="languageCode",Br="mode",tu="tenantId",dl={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Xs,signIn:Ti,verifyAndChangeEmail:ss,verifyEmail:"VERIFY_EMAIL"};function Vr(s){try{return new Ao(s)}catch{return null}}function nu(s){var f=s[us];if(typeof f>"u")throw new D("missing-continue-uri");if(typeof f!="string"||typeof f=="string"&&!f.length)throw new D("invalid-continue-uri");this.h=f,this.b=this.a=null,this.g=!1;var g=s[cg];if(g&&typeof g=="object"){f=g[dg];var S=g[nf];if(g=g[id],typeof f=="string"&&f.length){if(this.a=f,typeof S<"u"&&typeof S!="boolean")throw new D("argument-error",nf+" property must be a boolean when specified.");if(this.g=!!S,typeof g<"u"&&(typeof g!="string"||typeof g=="string"&&!g.length))throw new D("argument-error",id+" property must be a non empty string when specified.");this.b=g||null}else{if(typeof f<"u")throw new D("argument-error",dg+" property must be a non empty string when specified.");if(typeof S<"u"||typeof g<"u")throw new D("missing-android-pkg-name")}}else if(typeof g<"u")throw new D("argument-error",cg+" property must be a non null object when specified.");if(this.f=null,(f=s[hg])&&typeof f=="object"){if(f=f[Uw],typeof f=="string"&&f.length)this.f=f;else if(typeof f<"u")throw new D("argument-error",Uw+" property must be a non empty string when specified.")}else if(typeof f<"u")throw new D("argument-error",hg+" property must be a non null object when specified.");if(f=s[pl],typeof f<"u"&&typeof f!="boolean")throw new D("argument-error",pl+" property must be a boolean when specified.");if(this.c=!!f,s=s[fg],typeof s<"u"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new D("argument-error",fg+" property must be a non empty string when specified.");this.i=s||null}var cg="android",fg="dynamicLinkDomain",pl="handleCodeInApp",hg="iOS",us="url",nf="installApp",id="minimumVersion",dg="packageName",Uw="bundleId";function so(s){var f={};f.continueUrl=s.h,f.canHandleCodeInApp=s.c,(f.androidPackageName=s.a)&&(f.androidMinimumVersion=s.b,f.androidInstallApp=s.g),f.iOSBundleId=s.f,f.dynamicLinkDomain=s.i;for(var g in f)f[g]===null&&delete f[g];return f}function ml(s){return M(s,function(f){return f=f.toString(16),1<f.length?f:"0"+f}).join("")}var Ro=null;function od(s){var f=[];return sd(s,function(g){f.push(g)}),f}function sd(s,f){function g(Le){for(;S<s.length;){var Ue=s.charAt(S++),_t=Ro[Ue];if(_t!=null)return _t;if(!/^[\s\xa0]*$/.test(Ue))throw Error("Unknown base64 encoding at char: "+Ue)}return Le}Hi();for(var S=0;;){var P=g(-1),q=g(0),Y=g(64),fe=g(64);if(fe===64&&P===-1)break;f(P<<2|q>>4),Y!=64&&(f(q<<4&240|Y>>2),fe!=64&&f(Y<<6&192|fe))}}function Hi(){if(!Ro){Ro={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=["+/=","+/","-_=","-_.","-_"],g=0;5>g;g++)for(var S=s.concat(f[g].split("")),P=0;P<S.length;P++){var q=S[P];Ro[q]===void 0&&(Ro[q]=P)}}}function zr(s){var f=Oo(s);if(!(f&&f.sub&&f.iss&&f.aud&&f.exp))throw Error("Invalid JWT");this.h=s,this.a=f.exp,this.i=f.sub,s=Date.now()/1e3,this.g=f.iat||(s>this.a?this.a:s),this.b=f.provider_id||f.firebase&&f.firebase.sign_in_provider||null,this.f=f.firebase&&f.firebase.tenant||null,this.c=!!f.is_anonymous||this.b=="anonymous"}zr.prototype.T=function(){return this.f},zr.prototype.l=function(){return this.c},zr.prototype.toString=function(){return this.h};function No(s){try{return new zr(s)}catch{return null}}function Oo(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var f=(4-s.length%4)%4,g=0;g<f;g++)s+=".";try{var S=od(s);for(s=[],g=f=0;f<S.length;){var P=S[f++];if(128>P)s[g++]=String.fromCharCode(P);else if(191<P&&224>P){var q=S[f++];s[g++]=String.fromCharCode((P&31)<<6|q&63)}else if(239<P&&365>P){q=S[f++];var Y=S[f++],fe=S[f++],Le=((P&7)<<18|(q&63)<<12|(Y&63)<<6|fe&63)-65536;s[g++]=String.fromCharCode(55296+(Le>>10)),s[g++]=String.fromCharCode(56320+(Le&1023))}else q=S[f++],Y=S[f++],s[g++]=String.fromCharCode((P&15)<<12|(q&63)<<6|Y&63)}return JSON.parse(s.join(""))}catch{}return null}var Po="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Do=["client_id","response_type","scope","redirect_uri","state"],ad={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Do},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Do},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Do},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Po},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function rf(s){for(var f in ad)if(ad[f].fa==s)return ad[f];return null}function ud(s){var f={};f["facebook.com"]=pg,f["google.com"]=ld,f["github.com"]=mg,f["twitter.com"]=cd;var g=s&&s[ii];try{if(g)return f[g]?new f[g](s):new Pn(s);if(typeof s[Wr]<"u")return new an(s)}catch{}return null}var Wr="idToken",ii="providerId";function an(s){var f=s[ii];if(!f&&s[Wr]){var g=No(s[Wr]);g&&g.b&&(f=g.b)}if(!f)throw Error("Invalid additional user info!");(f=="anonymous"||f=="custom")&&(f=null),g=!1,typeof s.isNewUser<"u"?g=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(g=!0),tt(this,"providerId",f),tt(this,"isNewUser",g)}function Pn(s){an.call(this,s),s=al(s.rawUserInfo||"{}"),tt(this,"profile",Jc(s||{}))}O(Pn,an);function pg(s){if(Pn.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}O(pg,Pn);function mg(s){if(Pn.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");tt(this,"username",this.profile&&this.profile.login||null)}O(mg,Pn);function ld(s){if(Pn.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}O(ld,Pn);function cd(s){if(Pn.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");tt(this,"username",s.screenName||null)}O(cd,Pn);function gg(s){var f=jr(s),g=ji(f,"link"),S=ji(jr(g),"link");return f=ji(f,"deep_link_id"),ji(jr(f),"link")||f||S||g||s}function ru(s,f){if(!s&&!f)throw new D("internal-error","Internal assert: no raw session string available");if(s&&f)throw new D("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=f||null,this.type=this.a?gl:ls}var gl="enroll",ls="signin";ru.prototype.Ha=function(){return this.a?st(this.a):st(this.b)},ru.prototype.w=function(){return this.type==gl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Zs(){}Zs.prototype.ka=function(){},Zs.prototype.b=function(){},Zs.prototype.c=function(){},Zs.prototype.w=function(){};function vl(s,f){return s.then(function(g){if(g[br]){var S=No(g[br]);if(!S||f!=S.i)throw new D("user-mismatch");return g}throw new D("user-mismatch")}).o(function(g){throw g&&g.code&&g.code==V+"user-not-found"?new D("user-mismatch"):g})}function ao(s,f){if(f)this.a=f;else throw new D("internal-error","failed to construct a credential");tt(this,"providerId",s),tt(this,"signInMethod",s)}ao.prototype.ka=function(s){return Cd(s,yl(this))},ao.prototype.b=function(s,f){var g=yl(this);return g.idToken=f,Dl(s,g)},ao.prototype.c=function(s,f){return vl(lo(s,yl(this)),f)};function yl(s){return{pendingToken:s.a,requestUri:"http://localhost"}}ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function jw(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new ao(s.providerId,s.pendingToken)}catch{}return null}function Lo(s,f,g){if(this.a=null,f.idToken||f.accessToken)f.idToken&&tt(this,"idToken",f.idToken),f.accessToken&&tt(this,"accessToken",f.accessToken),f.nonce&&!f.pendingToken&&tt(this,"nonce",f.nonce),f.pendingToken&&(this.a=f.pendingToken);else if(f.oauthToken&&f.oauthTokenSecret)tt(this,"accessToken",f.oauthToken),tt(this,"secret",f.oauthTokenSecret);else throw new D("internal-error","failed to construct a credential");tt(this,"providerId",s),tt(this,"signInMethod",g)}Lo.prototype.ka=function(s){return Cd(s,ea(this))},Lo.prototype.b=function(s,f){var g=ea(this);return g.idToken=f,Dl(s,g)},Lo.prototype.c=function(s,f){var g=ea(this);return vl(lo(s,g),f)};function ea(s){var f={};return s.idToken&&(f.id_token=s.idToken),s.accessToken&&(f.access_token=s.accessToken),s.secret&&(f.oauth_token_secret=s.secret),f.providerId=s.providerId,s.nonce&&!s.a&&(f.nonce=s.nonce),f={postBody:nl(f).toString(),requestUri:"http://localhost"},s.a&&(delete f.postBody,f.pendingToken=s.a),f}Lo.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function Bw(s){if(s&&s.providerId&&s.signInMethod){var f={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new Lo(s.providerId,f,s.signInMethod)}catch{}}return null}function Mo(s,f){this.Qc=f||[],$n(this,{providerId:s,isOAuthProvider:!0}),this.Jb={},this.qb=(rf(s)||{}).Ja||null,this.pb=null}Mo.prototype.Ka=function(s){return this.Jb=ti(s),this};function of(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new D("argument-error",'SAML provider IDs must be prefixed with "saml."');Mo.call(this,s,[])}O(of,Mo);function Yn(s){Mo.call(this,s,Do),this.a=[]}O(Yn,Mo),Yn.prototype.Ca=function(s){return Q(this.a,s)||this.a.push(s),this},Yn.prototype.Rb=function(){return Te(this.a)},Yn.prototype.credential=function(s,f){var g;if(I(s)?g={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:g={idToken:s||null,accessToken:f||null},!g.idToken&&!g.accessToken)throw new D("argument-error","credential failed: must provide the ID token and/or the access token.");return new Lo(this.providerId,g,this.providerId)};function cs(){Yn.call(this,"facebook.com")}O(cs,Yn),tt(cs,"PROVIDER_ID","facebook.com"),tt(cs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function fd(s){if(!s)throw new D("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=s;return I(s)&&(f=s.accessToken),new cs().credential({accessToken:f})}function fs(){Yn.call(this,"github.com")}O(fs,Yn),tt(fs,"PROVIDER_ID","github.com"),tt(fs,"GITHUB_SIGN_IN_METHOD","github.com");function hd(s){if(!s)throw new D("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=s;return I(s)&&(f=s.accessToken),new fs().credential({accessToken:f})}function qi(){Yn.call(this,"google.com"),this.Ca("profile")}O(qi,Yn),tt(qi,"PROVIDER_ID","google.com"),tt(qi,"GOOGLE_SIGN_IN_METHOD","google.com");function Ii(s,f){var g=s;return I(s)&&(g=s.idToken,f=s.accessToken),new qi().credential({idToken:g,accessToken:f})}function Gi(){Mo.call(this,"twitter.com",Po)}O(Gi,Mo),tt(Gi,"PROVIDER_ID","twitter.com"),tt(Gi,"TWITTER_SIGN_IN_METHOD","twitter.com");function dd(s,f){var g=s;if(I(g)||(g={oauthToken:s,oauthTokenSecret:f}),!g.oauthToken||!g.oauthTokenSecret)throw new D("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Lo("twitter.com",g,"twitter.com")}function hs(s,f,g){this.a=s,this.f=f,tt(this,"providerId","password"),tt(this,"signInMethod",g===Bn.EMAIL_LINK_SIGN_IN_METHOD?Bn.EMAIL_LINK_SIGN_IN_METHOD:Bn.EMAIL_PASSWORD_SIGN_IN_METHOD)}hs.prototype.ka=function(s){return this.signInMethod==Bn.EMAIL_LINK_SIGN_IN_METHOD?xt(s,IE,{email:this.a,oobCode:this.f}):xt(s,qg,{email:this.a,password:this.f})},hs.prototype.b=function(s,f){return this.signInMethod==Bn.EMAIL_LINK_SIGN_IN_METHOD?xt(s,CE,{idToken:f,email:this.a,oobCode:this.f}):xt(s,zg,{idToken:f,email:this.a,password:this.f})},hs.prototype.c=function(s,f){return vl(this.ka(s),f)},hs.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function ds(s){return s&&s.email&&s.password?new hs(s.email,s.password,s.signInMethod):null}function Bn(){$n(this,{providerId:"password",isOAuthProvider:!1})}function pd(s,f){if(f=md(f),!f)throw new D("argument-error","Invalid email link!");return new hs(s,f.code,Bn.EMAIL_LINK_SIGN_IN_METHOD)}function md(s){return s=gg(s),(s=Vr(s))&&s.operation===Ti?s:null}$n(Bn,{PROVIDER_ID:"password"}),$n(Bn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$n(Bn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function wr(s){if(!(s.fb&&s.eb||s.La&&s.ea))throw new D("internal-error");this.a=s,tt(this,"providerId","phone"),this.fa="phone",tt(this,"signInMethod","phone")}wr.prototype.ka=function(s){return s.gb(na(this))},wr.prototype.b=function(s,f){var g=na(this);return g.idToken=f,xt(s,s0,g)},wr.prototype.c=function(s,f){var g=na(this);return g.operation="REAUTH",s=xt(s,Uo,g),vl(s,f)},wr.prototype.w=function(){var s={providerId:"phone"};return this.a.fb&&(s.verificationId=this.a.fb),this.a.eb&&(s.verificationCode=this.a.eb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function ta(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var f={};return _e(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(g){s[g]&&(f[g]=s[g])}),new wr(f)}return null}function na(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.fb,code:s.a.eb}}function Fo(s){try{this.a=s||at.auth()}catch{throw new D("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$n(this,{providerId:"phone",isOAuthProvider:!1})}Fo.prototype.gb=function(s,f){var g=this.a.a;return st(f.verify()).then(function(S){if(typeof S!="string")throw new D("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(f.type){case"recaptcha":var P=I(s)?s.session:null,q=I(s)?s.phoneNumber:s,Y;return P&&P.type==gl?Y=P.Ha().then(function(fe){return Pg(g,{idToken:fe,phoneEnrollmentInfo:{phoneNumber:q,recaptchaToken:S}})}):P&&P.type==ls?Y=P.Ha().then(function(fe){return Lg(g,{mfaPendingCredential:fe,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:S}})}):Y=Og(g,{phoneNumber:q,recaptchaToken:S}),Y.then(function(fe){return typeof f.reset=="function"&&f.reset(),fe},function(fe){throw typeof f.reset=="function"&&f.reset(),fe});default:throw new D("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function sf(s,f){if(!s)throw new D("missing-verification-id");if(!f)throw new D("missing-verification-code");return new wr({fb:s,eb:f})}$n(Fo,{PROVIDER_ID:"phone"}),$n(Fo,{PHONE_SIGN_IN_METHOD:"phone"});function gd(s){if(s.temporaryProof&&s.phoneNumber)return new wr({La:s.temporaryProof,ea:s.phoneNumber});var f=s&&s.providerId;if(!f||f==="password")return null;var g=s&&s.oauthAccessToken,S=s&&s.oauthTokenSecret,P=s&&s.nonce,q=s&&s.oauthIdToken,Y=s&&s.pendingToken;try{switch(f){case"google.com":return Ii(q,g);case"facebook.com":return fd(g);case"github.com":return hd(g);case"twitter.com":return dd(g,S);default:return g||S||q||Y?Y?f.indexOf("saml.")==0?new ao(f,Y):new Lo(f,{pendingToken:Y,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},f):new Yn(f).credential({idToken:q,accessToken:g,rawNonce:P}):null}}catch{return null}}function iu(s){if(!s.isOAuthProvider)throw new D("invalid-oauth-provider")}function Dn(s,f,g,S,P,q,Y){if(this.c=s,this.b=f||null,this.g=g||null,this.f=S||null,this.i=q||null,this.h=Y||null,this.a=P||null,this.g||this.a){if(this.g&&this.a)throw new D("invalid-auth-event");if(this.g&&!this.f)throw new D("invalid-auth-event")}else throw new D("invalid-auth-event")}Dn.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},Dn.prototype.T=function(){return this.h},Dn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function wl(s){return s=s||{},s.type?new Dn(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&X(s.error),s.postBody,s.tenantId):null}function af(){this.b=null,this.a=[]}var ps=null;function vg(s){var f=ps;f.a.push(s),f.b||(f.b=function(g){for(var S=0;S<f.a.length;S++)f.a[S](g)},s=hn("universalLinks.subscribe",c),typeof s=="function"&&s(null,f.b))}function ra(s){var f="unauthorized-domain",g=void 0,S=jr(s);s=S.a,S=S.c,S=="chrome-extension"?g=km("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):S=="http"||S=="https"?g=km("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):f="operation-not-supported-in-this-environment",D.call(this,f,g)}O(ra,D);function _l(s,f,g){D.call(this,s,g),s=f||{},s.Kb&&tt(this,"email",s.Kb),s.ea&&tt(this,"phoneNumber",s.ea),s.credential&&tt(this,"credential",s.credential),s.$b&&tt(this,"tenantId",s.$b)}O(_l,D),_l.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var f=this.credential&&this.credential.w();return f&&On(s,f),s},_l.prototype.toJSON=function(){return this.w()};function bl(s){if(s.code){var f=s.code||"";f.indexOf(V)==0&&(f=f.substring(V.length));var g={credential:gd(s),$b:s.tenantId};if(s.email)g.Kb=s.email;else if(s.phoneNumber)g.ea=s.phoneNumber;else if(!g.credential)return new D(f,s.message||void 0);return new _l(f,g,s.message)}return null}function Jt(){}Jt.prototype.c=null;function uf(s){return s.c||(s.c=s.b())}var lf;function El(){}O(El,Jt),El.prototype.a=function(){var s=cf(this);return s?new ActiveXObject(s):new XMLHttpRequest},El.prototype.b=function(){var s={};return cf(this)&&(s[0]=!0,s[1]=!0),s};function cf(s){if(!s.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var f=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],g=0;g<f.length;g++){var S=f[g];try{return new ActiveXObject(S),s.f=S}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}lf=new El;function Sl(){}O(Sl,Jt),Sl.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest<"u")return new ia;throw Error("Unsupported browser")},Sl.prototype.b=function(){return{}};function ia(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.qc,this),this.a.onerror=C(this.Tb,this),this.a.onprogress=C(this.rc,this),this.a.ontimeout=C(this.vc,this)}t=ia.prototype,t.open=function(s,f,g){if(g!=null&&!g)throw Error("Only async requests are supported.");this.a.open(s,f)},t.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,dn(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",dn(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,dn(this,1)};function dn(s,f){s.readyState=f,s.onreadystatechange&&s.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Cn(s,f,g){this.reset(s,f,g,void 0,void 0)}Cn.prototype.a=null,Cn.prototype.reset=function(s,f,g,S,P){delete this.a};function Ln(s){this.f=s,this.b=this.c=this.a=null}function oa(s,f){this.name=s,this.value=f}oa.prototype.toString=function(){return this.name};var Tl=new oa("SEVERE",1e3),ou=new oa("WARNING",900),_E=new oa("CONFIG",700),_r=new oa("FINE",500);function vd(s){return s.c?s.c:s.a?vd(s.a):(re("Root logger has no level set."),null)}Ln.prototype.log=function(s,f,g){if(s.value>=vd(this).value)for(b(f)&&(f=f()),s=new Cn(s,String(f),this.f),g&&(s.a=g),g=this;g;)g=g.a};var ff={},Il=null;function Ki(s){Il||(Il=new Ln(""),ff[""]=Il,Il.c=_E);var f;if(!(f=ff[s])){f=new Ln(s);var g=s.lastIndexOf("."),S=s.substr(g+1);g=Ki(s.substr(0,g)),g.b||(g.b={}),g.b[S]=f,f.a=g,ff[s]=f}return f}function vn(s,f){s&&s.log(_r,f,void 0)}function sa(s){this.f=s}O(sa,Jt),sa.prototype.a=function(){return new Cl(this.f)},sa.prototype.b=function(s){return function(){return s}}({});function Cl(s){vr.call(this),this.u=s,this.h=void 0,this.readyState=hf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ki("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}O(Cl,vr);var hf=0;t=Cl.prototype,t.open=function(s,f){if(this.readyState!=hf)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=f,this.readyState=1,kl(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var f={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(f.body=s),this.u.fetch(new Request(this.f,f)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,xl(this)),this.readyState=hf},t.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,kl(this)),this.a&&(this.readyState=3,kl(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,yg(this)):s.text().then(this.tc.bind(this),this.Va.bind(this)))))};function yg(s){s.c.read().then(s.pc.bind(s)).catch(s.Va.bind(s))}t.pc=function(s){if(this.a){var f=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});f&&(this.response=this.responseText+=f),s.done?xl(this):kl(this),this.readyState==3&&yg(this)}},t.tc=function(s){this.a&&(this.response=this.responseText=s,xl(this))},t.sc=function(s){this.a&&(this.response=s,xl(this))},t.Va=function(s){var f=this.i;f&&f.log(ou,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&xl(this)};function xl(s){s.readyState=4,s.g=null,s.c=null,s.m=null,kl(s)}t.setRequestHeader=function(s,f){this.l.append(s,f)},t.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(ou,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(ou,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var f=this.b.entries(),g=f.next();!g.done;)g=g.value,s.push(g[0]+": "+g[1]),g=f.next();return s.join(`\r
`)};function kl(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function Al(s){vr.call(this),this.headers=new Ka,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=wg,this.u=this.S=!1}O(Al,vr);var wg="";Al.prototype.b=Ki("goog.net.XhrIo");var Vw=/^https?$/i,zw=["POST","PUT"];function Ww(s,f,g,S,P){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+f);g=g?g.toUpperCase():"GET",s.l=f,s.h="",s.P=g,s.J=!1,s.c=!0,s.a=s.D?s.D.a():lf.a(),s.C=s.D?uf(s.D):uf(lf),s.a.onreadystatechange=C(s.Wb,s);try{vn(s.b,uo(s,"Opening Xhr")),s.N=!0,s.a.open(g,String(f),!0),s.N=!1}catch(Y){vn(s.b,uo(s,"Error opening Xhr: "+Y.message)),pf(s,Y);return}f=S||"";var q=new Ka(s.headers);P&&cE(P,function(Y,fe){q.set(fe,Y)}),P=ie(q.Y()),S=c.FormData&&f instanceof c.FormData,!Q(zw,g)||P||S||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),q.forEach(function(Y,fe){this.a.setRequestHeader(fe,Y)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{bg(s),0<s.g&&(s.u=df(s.a),vn(s.b,uo(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=C(s.Ma,s)):s.s=Vm(s.Ma,s.g,s)),vn(s.b,uo(s,"Sending request")),s.i=!0,s.a.send(f),s.i=!1}catch(Y){vn(s.b,uo(s,"Send error: "+Y.message)),pf(s,Y)}}function df(s){return Fi&&io(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function Hw(s){return s.toLowerCase()=="content-type"}t=Al.prototype,t.Ma=function(){typeof u<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",vn(this.b,uo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function pf(s,f){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=f,mf(s),Rl(s)}function mf(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(vn(this.b,uo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rl(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Rl(this,!0)),Al.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?_g(this):this.Jc())},t.Jc=function(){_g(this)};function _g(s){if(s.c&&typeof u<"u"){if(s.C[1]&&Nl(s)==4&&gf(s)==2)vn(s.b,uo(s,"Local request error detected and ignored"));else if(s.i&&Nl(s)==4)Vm(s.Wb,0,s);else if(s.dispatchEvent("readystatechange"),Nl(s)==4){vn(s.b,uo(s,"Request complete")),s.c=!1;try{var f=gf(s);e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var S;if(!(S=g)){var P;if(P=f===0){var q=String(s.l).match(Aw)[1]||null;if(!q&&c.self&&c.self.location){var Y=c.self.location.protocol;q=Y.substr(0,Y.length-1)}P=!Vw.test(q?q.toLowerCase():"")}S=P}if(S)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var fe=2<Nl(s)?s.a.statusText:""}catch(Le){vn(s.b,"Can not get status: "+Le.message),fe=""}s.h=fe+" ["+gf(s)+"]",mf(s)}}finally{Rl(s)}}}}function Rl(s,f){if(s.a){bg(s);var g=s.a,S=s.C[0]?y:null;s.a=null,s.C=null,f||s.dispatchEvent("ready");try{g.onreadystatechange=S}catch(P){(s=s.b)&&s.log(Tl,"Problem encountered resetting onreadystatechange: "+P.message,void 0)}}}function bg(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(c.clearTimeout(s.s),s.s=null)}function Nl(s){return s.a?s.a.readyState:0}function gf(s){try{return 2<Nl(s)?s.a.status:-1}catch{return-1}}function qw(s){try{return s.a?s.a.responseText:""}catch(f){return vn(s.b,"Can not get responseText: "+f.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case wg:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(Tl,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(f){return vn(this.b,"Can not get response: "+f.message),null}};function uo(s,f){return f+" ["+s.P+" "+s.l+" "+gf(s)+"]"}function aa(s){var f=SE;this.g=[],this.u=f,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}aa.prototype.cancel=function(s){if(this.a)this.c instanceof aa&&this.c.cancel();else{if(this.b){var f=this.b;delete this.b,s?f.cancel(s):(f.l--,0>=f.l&&f.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new Pl,vf(this),Ol(this,!1,s))}},aa.prototype.m=function(s,f){this.i=!1,Ol(this,s,f)};function Ol(s,f,g){s.a=!0,s.c=g,s.f=!f,Kw(s)}function vf(s){if(s.a){if(!s.v)throw new yf;s.v=!1}}function bE(s,f){yd(s,null,f,void 0)}function yd(s,f,g,S){s.g.push([f,g,S]),s.a&&Kw(s)}aa.prototype.then=function(s,f,g){var S,P,q=new It(function(Y,fe){S=Y,P=fe});return yd(this,S,function(Y){Y instanceof Pl?q.cancel():P(Y)}),q.then(s,f,g)},aa.prototype.$goog_Thenable=!0;function Gw(s){return oe(s.g,function(f){return b(f[1])})}function Kw(s){if(s.h&&s.a&&Gw(s)){var f=s.h,g=su[f];g&&(c.clearTimeout(g.a),delete su[f]),s.h=0}s.b&&(s.b.l--,delete s.b),f=s.c;for(var S=g=!1;s.g.length&&!s.i;){var P=s.g.shift(),q=P[0],Y=P[1];if(P=P[2],q=s.f?Y:q)try{var fe=q.call(P||s.s,f);fe!==void 0&&(s.f=s.f&&(fe==f||fe instanceof Error),s.c=f=fe),(j(f)||typeof c.Promise=="function"&&f instanceof c.Promise)&&(S=!0,s.i=!0)}catch(Le){f=Le,s.f=!0,Gw(s)||(g=!0)}}s.c=f,S&&(fe=C(s.m,s,!0),S=C(s.m,s,!1),f instanceof aa?(yd(f,fe,S),f.C=!0):f.then(fe,S)),g&&(f=new Eg(f),su[f.a]=f,s.h=f.a)}function yf(){he.call(this)}O(yf,he),yf.prototype.message="Deferred has already fired",yf.prototype.name="AlreadyCalledError";function Pl(){he.call(this)}O(Pl,he),Pl.prototype.message="Deferred was canceled",Pl.prototype.name="CanceledError";function Eg(s){this.a=c.setTimeout(C(this.c,this),0),this.b=s}Eg.prototype.c=function(){throw delete su[this.a],this.b};var su={};function Sg(s){var f={},g=f.document||document,S=Ms(s).toString(),P=Bh(document,"SCRIPT"),q={Xb:P,Ma:void 0},Y=new aa(q),fe=null,Le=f.timeout!=null?f.timeout:5e3;return 0<Le&&(fe=window.setTimeout(function(){oi(P,!0);var Ue=new _d(wd,"Timeout reached for loading script "+S);vf(Y),Ol(Y,!1,Ue)},Le),q.Ma=fe),P.onload=P.onreadystatechange=function(){P.readyState&&P.readyState!="loaded"&&P.readyState!="complete"||(oi(P,f.xd||!1,fe),vf(Y),Ol(Y,!0,null))},P.onerror=function(){oi(P,!0,fe);var Ue=new _d(Tg,"Error while loading script "+S);vf(Y),Ol(Y,!1,Ue)},q=f.attributes||{},On(q,{type:"text/javascript",charset:"UTF-8"}),Nc(P,q),Ha(P,s),EE(g).appendChild(P),Y}function EE(s){var f;return(f=(s||document).getElementsByTagName("HEAD"))&&f.length!=0?f[0]:s.documentElement}function SE(){if(this&&this.Xb){var s=this.Xb;s&&s.tagName=="SCRIPT"&&oi(s,!0,this.Ma)}}function oi(s,f,g){g!=null&&c.clearTimeout(g),s.onload=y,s.onerror=y,s.onreadystatechange=y,f&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var Tg=0,wd=1;function _d(s,f){var g="Jsloader error (code #"+s+")";f&&(g+=": "+f),he.call(this,g),this.code=s}O(_d,he);function wf(s){this.f=s}O(wf,Jt),wf.prototype.a=function(){return new this.f},wf.prototype.b=function(){return{}};function $i(s,f,g){if(this.c=s,s=f||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||Ig,this.g=ti(s.secureTokenHeaders||Cg),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||TE,this.a=ti(s.firebaseHeaders||$w),g&&(this.a["X-Client-Version"]=g,this.g["X-Client-Version"]=g),g=Ei()=="Node",g=c.XMLHttpRequest||g&&at.INTERNAL.node&&at.INTERNAL.node.XMLHttpRequest,!g&&!zi())throw new D("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,zi()?this.f=new sa(self):Qa()?this.f=new wf(g):this.f=new Sl,this.b=null}var _f,br="idToken",Ig=new ko(3e4,6e4),Cg={"Content-Type":"application/x-www-form-urlencoded"},TE=new ko(3e4,6e4),$w={"Content-Type":"application/json"};function xg(s,f){f?s.a["X-Firebase-Locale"]=f:delete s.a["X-Firebase-Locale"]}function bf(s,f){f&&(s.l=bd("https://securetoken.googleapis.com/v1/token",f),s.h=bd("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",f),s.i=bd("https://identitytoolkit.googleapis.com/v2/",f))}function bd(s,f){return s=jr(s),f=jr(f.url),s.f=s.a+s.f,Vc(s,f.c),s.a=f.a,zc(s,f.g),s.toString()}function kg(s,f){f?(s.a["X-Client-Version"]=f,s.g["X-Client-Version"]=f):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}$i.prototype.T=function(){return this.b};function Yw(s,f,g,S,P,q,Y){Mw()||zi()?s=C(s.u,s):(_f||(_f=new It(function(fe,Le){Xw(fe,Le)})),s=C(s.s,s)),s(f,g,S,P,q,Y)}$i.prototype.u=function(s,f,g,S,P,q){if(zi()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new D("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var Y=new Al(this.f);if(q){Y.g=Math.max(0,q);var fe=setTimeout(function(){Y.dispatchEvent("timeout")},q)}Cw(Y,"complete",function(){fe&&clearTimeout(fe);var Le=null;try{Le=JSON.parse(qw(this))||null}catch{Le=null}f&&f(Le)}),Bm(Y,"ready",function(){fe&&clearTimeout(fe),Wh(this)}),Bm(Y,"timeout",function(){fe&&clearTimeout(fe),Wh(this),f&&f(null)}),Ww(Y,s,g,S,P)};var si=new En(Ds,"https://apis.google.com/js/client.js?onload=%{onload}"),Er="__fcb"+Math.floor(1e6*Math.random()).toString();function Xw(s,f){if(((window.gapi||{}).client||{}).request)s();else{c[Er]=function(){((window.gapi||{}).client||{}).request?s():f(Error("CORS_UNSUPPORTED"))};var g=Ph(si,{onload:Er});bE(Sg(g),function(){f(Error("CORS_UNSUPPORTED"))})}}$i.prototype.s=function(s,f,g,S,P){var q=this;_f.then(function(){window.gapi.client.setApiKey(q.c);var Y=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:g,body:S,headers:P,authType:"none",callback:function(fe){window.gapi.auth.setToken(Y),f&&f(fe)}})}).o(function(Y){f&&f({error:{message:Y&&Y.message||"CORS_UNSUPPORTED"}})})};function Qw(s,f){return new It(function(g,S){f.grant_type=="refresh_token"&&f.refresh_token||f.grant_type=="authorization_code"&&f.code?Yw(s,s.l+"?key="+encodeURIComponent(s.c),function(P){P?P.error?S(Ad(P)):P.access_token&&P.refresh_token?g(P):S(new D("internal-error")):S(new D("network-request-failed"))},"POST",nl(f).toString(),s.g,s.m.get()):S(new D("internal-error"))})}function Ag(s,f,g,S,P,q,Y){var fe=jr(f+g);fn(fe,"key",s.c),Y&&fn(fe,"cb",Date.now().toString());var Le=S=="GET";if(Le)for(var Ue in P)P.hasOwnProperty(Ue)&&fn(fe,Ue,P[Ue]);return new It(function(_t,en){Yw(s,fe.toString(),function(Wt){Wt?Wt.error?en(Ad(Wt,q||{})):_t(Wt):en(new D("network-request-failed"))},S,Le?void 0:qm(sl(P)),s.a,s.v.get())})}function ua(s){if(s=s.email,typeof s!="string"||!vE.test(s))throw new D("invalid-email")}function Rg(s){"email"in s&&ua(s)}function Ng(s,f){return xt(s,n0,{identifier:f,continueUri:ol()?qc():"http://localhost"}).then(function(g){return g.signinMethods||[]})}function Jw(s){return xt(s,kE,{}).then(function(f){return f.authorizedDomains||[]})}function Sr(s){if(!s[br])throw s.mfaPendingCredential?new D("multi-factor-auth-required",null,ti(s)):new D("internal-error")}function Ed(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new D("internal-error")}else{if(!s.sessionInfo)throw new D("missing-verification-id");if(!s.code)throw new D("missing-verification-code")}}$i.prototype.Ab=function(){return xt(this,i0,{})},$i.prototype.Cb=function(s,f){return xt(this,Vg,{idToken:s,email:f})},$i.prototype.Db=function(s,f){return xt(this,zg,{idToken:s,password:f})};var Zw={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=$i.prototype,t.Eb=function(s,f){var g={idToken:s},S=[];return Fr(Zw,function(P,q){var Y=f[q];Y===null?S.push(P):q in f&&(g[q]=Y)}),S.length&&(g.deleteAttribute=S),xt(this,Vg,g)},t.wb=function(s,f){return s={requestType:"PASSWORD_RESET",email:s},On(s,f),xt(this,r0,s)},t.xb=function(s,f){return s={requestType:"EMAIL_SIGNIN",email:s},On(s,f),xt(this,Qe,s)},t.vb=function(s,f){return s={requestType:"VERIFY_EMAIL",idToken:s},On(s,f),xt(this,Ll,s)},t.Fb=function(s,f,g){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:f},On(s,g),xt(this,jg,s)};function Og(s,f){return xt(s,Bg,f)}t.gb=function(s){return xt(this,fo,s)};function Pg(s,f){return xt(s,Wg,f).then(function(g){return g.phoneSessionInfo.sessionInfo})}function Dg(s){if(!s.phoneVerificationInfo)throw new D("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new D("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new D("missing-verification-code")}function Lg(s,f){return xt(s,Hg,f).then(function(g){return g.phoneResponseInfo.sessionInfo})}function Sd(s,f,g){return xt(s,Tr,{idToken:f,deleteProvider:g})}function Mg(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new D("internal-error")}function Td(s,f){return f.oauthIdToken&&f.providerId&&f.providerId.indexOf("oidc.")==0&&!f.pendingToken&&(s.sessionId?f.nonce=s.sessionId:s.postBody&&(s=new qs(s.postBody),rl(s,"nonce")&&(f.nonce=s.get("nonce")))),f}function Id(s){var f=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",f=bl(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",f=bl(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",f=bl(s)):s.errorMessage&&(f=Gg(s.errorMessage)),f)throw f;Sr(s)}function Cd(s,f){return f.returnIdpCredential=!0,xt(s,sr,f)}function Dl(s,f){return f.returnIdpCredential=!0,xt(s,la,f)}function lo(s,f){return f.returnIdpCredential=!0,f.autoCreate=!1,xt(s,co,f)}function Fg(s){if(!s.oobCode)throw new D("invalid-action-code")}t.ob=function(s,f){return xt(this,kd,{oobCode:s,newPassword:f})},t.Sa=function(s){return xt(this,Ug,{oobCode:s})},t.kb=function(s){return xt(this,e0,{oobCode:s})};var e0={endpoint:"setAccountInfo",A:Fg,Z:"email",B:!0},Ug={endpoint:"resetPassword",A:Fg,G:function(s){var f=s.requestType;if(!f||!s.email&&f!="EMAIL_SIGNIN"&&f!="VERIFY_AND_CHANGE_EMAIL")throw new D("internal-error")},B:!0},t0={endpoint:"signupNewUser",A:function(s){if(ua(s),!s.password)throw new D("weak-password")},G:Sr,V:!0,B:!0},n0={endpoint:"createAuthUri",B:!0},Ef={endpoint:"deleteAccount",O:["idToken"]},Tr={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new D("internal-error")}},IE={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ua,G:Sr,V:!0,B:!0},CE={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ua,G:Sr,V:!0},xd={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Dg,G:Sr,B:!0,Na:!0},Ir={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Dg,G:Sr,B:!0,Na:!0},xE={endpoint:"getAccountInfo"},Qe={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new D("internal-error");ua(s)},Z:"email",B:!0},Ll={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new D("internal-error")},Z:"email",B:!0},jg={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new D("internal-error")},Z:"email",B:!0},r0={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new D("internal-error");ua(s)},Z:"email",B:!0},kE={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Sf={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new D("internal-error")}},kd={endpoint:"resetPassword",A:Fg,Z:"email",B:!0},Bg={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Vg={endpoint:"setAccountInfo",O:["idToken"],A:Rg,V:!0},zg={endpoint:"setAccountInfo",O:["idToken"],A:function(s){if(Rg(s),!s.password)throw new D("weak-password")},G:Sr,V:!0},i0={endpoint:"signupNewUser",G:Sr,V:!0,B:!0},Wg={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new D("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new D("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new D("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new D("internal-error")},B:!0,Na:!0},Hg={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new D("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new D("internal-error")},B:!0,Na:!0},sr={endpoint:"verifyAssertion",A:Mg,Za:Td,G:Id,V:!0,B:!0},co={endpoint:"verifyAssertion",A:Mg,Za:Td,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new D("user-not-found");if(s.errorMessage)throw Gg(s.errorMessage);Sr(s)},V:!0,B:!0},la={endpoint:"verifyAssertion",A:function(s){if(Mg(s),!s.idToken)throw new D("internal-error")},Za:Td,G:Id,V:!0},o0={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new D("invalid-custom-token")},G:Sr,V:!0,B:!0},qg={endpoint:"verifyPassword",A:function(s){if(ua(s),!s.password)throw new D("wrong-password")},G:Sr,V:!0,B:!0},fo={endpoint:"verifyPhoneNumber",A:Ed,G:Sr,B:!0},s0={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new D("internal-error");Ed(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",bl(s);Sr(s)}},Uo={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ed,G:Sr,B:!0},AE={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[br]^!!s.refreshToken)throw new D("internal-error")},B:!0,Na:!0};function xt(s,f,g){if(!rg(g,f.O))return Vt(new D("internal-error"));var S=!!f.Na,P=f.Vb||"POST",q;return st(g).then(f.A).then(function(){return f.V&&(g.returnSecureToken=!0),f.B&&s.b&&typeof g.tenantId>"u"&&(g.tenantId=s.b),S?Ag(s,s.i,f.endpoint,P,g,f.Ib,f.mb||!1):Ag(s,s.h,f.endpoint,P,g,f.Ib,f.mb||!1)}).then(function(Y){return q=Y,f.Za?f.Za(g,q):q}).then(f.G).then(function(){if(!f.Z)return q;if(!(f.Z in q))throw new D("internal-error");return q[f.Z]})}function Gg(s){return Ad({error:{errors:[{message:s}],code:400,message:s}})}function Ad(s,f){var g=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",S={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(g=S[g]?new D(S[g]):null)return g;g=s.error&&s.error.message||"",S={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},On(S,f||{}),f=(f=g.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<f.length?f[1]:void 0;for(var P in S)if(g.indexOf(P)===0)return new D(S[P],f);return!f&&s&&(f=Yc(s)),new D("internal-error",f)}function a0(s){this.b=s,this.a=null,this.sb=RE(this)}function RE(s){return ar().then(function(){return new It(function(f,g){hn("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:hn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(S){function P(){clearTimeout(q),f()}s.a=S,s.a.restyle({setHideOnLeave:!1});var q=setTimeout(function(){g(Error("Network Error"))},Xn.get());S.ping(P).then(P,function(){g(Error("Network Error"))})})})})}function Rd(s,f){return s.sb.then(function(){return new It(function(g){s.a.send(f.type,f,g,hn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Kg(s,f){s.sb.then(function(){s.a.register("authEvent",f,hn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Yi=new En(Ds,"https://apis.google.com/js/api.js?onload=%{onload}"),Ut=new ko(3e4,6e4),Xn=new ko(5e3,15e3),yn=null;function ar(){return yn||(yn=new It(function(s,f){function g(){on(),hn("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){on(),f(Error("Network Error"))},timeout:Ut.get()})}if(hn("gapi.iframes.Iframe"))s();else if(hn("gapi.load"))g();else{var S="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[S]=function(){hn("gapi.load")?g():f(Error("Network Error"))},S=Ph(Yi,{onload:S}),st(Sg(S)).o(function(){f(Error("Network Error"))})}}).o(function(s){throw yn=null,s}))}function ai(s,f,g,S){this.l=s,this.h=f,this.i=g,this.g=S,this.f=null,this.g?(s=jr(this.g.url),s=Hc(s.c,s.a,s.g,"/emulator/auth/iframe")):s=Hc("https",this.l,null,"/__/auth/iframe"),this.a=s,fn(this.a,"apiKey",this.h),fn(this.a,"appName",this.i),this.b=null,this.c=[]}ai.prototype.toString=function(){return this.f?fn(this.a,"v",this.f):xo(this.a.b,"v"),this.b?fn(this.a,"eid",this.b):xo(this.a.b,"eid"),this.c.length?fn(this.a,"fw",this.c.join(",")):xo(this.a.b,"fw"),this.a.toString()};function ca(s,f,g,S,P,q){this.u=s,this.s=f,this.c=g,this.m=S,this.v=q,this.i=this.g=this.l=null,this.a=P,this.h=this.f=null}ca.prototype.zb=function(s){return this.h=s,this},ca.prototype.toString=function(){if(this.v){var s=jr(this.v.url);s=Hc(s.c,s.a,s.g,"/emulator/auth/handler")}else s=Hc("https",this.u,null,"/__/auth/handler");if(fn(s,"apiKey",this.s),fn(s,"appName",this.c),fn(s,"authType",this.m),this.a.isOAuthProvider){var f=this.a;try{var g=at.app(this.c).auth().la()}catch{g=null}f.pb=g,fn(s,"providerId",this.a.providerId),g=this.a,f=sl(g.Jb);for(var S in f)f[S]=f[S].toString();S=g.Qc,f=ti(f);for(var P=0;P<S.length;P++){var q=S[P];q in f&&delete f[q]}g.qb&&g.pb&&!f[g.qb]&&(f[g.qb]=g.pb),bn(f)||fn(s,"customParameters",Yc(f))}if(typeof this.a.Rb=="function"&&(g=this.a.Rb(),g.length&&fn(s,"scopes",g.join(","))),this.l?fn(s,"redirectUrl",this.l):xo(s.b,"redirectUrl"),this.g?fn(s,"eventId",this.g):xo(s.b,"eventId"),this.i?fn(s,"v",this.i):xo(s.b,"v"),this.b)for(var Y in this.b)this.b.hasOwnProperty(Y)&&!ji(s,Y)&&fn(s,Y,this.b[Y]);return this.h?fn(s,"tid",this.h):xo(s.b,"tid"),this.f?fn(s,"eid",this.f):xo(s.b,"eid"),Y=xn(this.c),Y.length&&fn(s,"fw",Y.join(",")),s.toString()};function xn(s){try{return at.app(s).auth().Ga()}catch{return[]}}function Ml(s,f,g,S,P,q){this.s=s,this.g=f,this.b=g,this.f=q,this.c=S||null,this.i=P||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function fa(s){var f=qc();return Jw(s).then(function(g){e:{var S=jr(f),P=S.c;S=S.a;for(var q=0;q<g.length;q++){var Y=g[q],fe=S,Le=P;if(Y.indexOf("chrome-extension://")==0?fe=jr(Y).a==fe&&Le=="chrome-extension":Le!="http"&&Le!="https"?fe=!1:gE.test(Y)?fe=fe==Y:(Y=Y.split(".").join("\\."),fe=new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(fe)),fe){g=!0;break e}}g=!1}if(!g)throw new ra(qc())})}function Tf(s){return s.m||(s.m=os().then(function(){if(!s.u){var f=s.c,g=s.i,S=xn(s.b),P=new ai(s.s,s.g,s.b,s.f);P.f=f,P.b=g,P.c=Te(S||[]),s.u=P.toString()}s.v=new a0(s.u),ui(s)})),s.m}t=Ml.prototype,t.Pb=function(s,f,g){var S=new D("popup-closed-by-user"),P=new D("web-storage-unsupported"),q=this,Y=!1;return this.ma().then(function(){$g(q).then(function(fe){fe||(s&&Ks(s),f(P),Y=!0)})}).o(function(){}).then(function(){if(!Y)return Ym(s)}).then(function(){if(!Y)return Ws(g).then(function(){f(S)})})},t.Yb=function(){var s=Kn();return!$c(s)&&!Zm(s)},t.Ub=function(){return!1},t.Nb=function(s,f,g,S,P,q,Y,fe){if(!s)return Vt(new D("popup-blocked"));if(Y&&!$c())return this.ma().o(function(Ue){Ks(s),P(Ue)}),S(),st();this.a||(this.a=fa(Nd(this)));var Le=this;return this.a.then(function(){var Ue=Le.ma().o(function(_t){throw Ks(s),P(_t),_t});return S(),Ue}).then(function(){if(iu(g),!Y){var Ue=ms(Le.s,Le.g,Le.b,f,g,null,q,Le.c,void 0,Le.i,fe,Le.f);Vi(Ue,s)}}).o(function(Ue){throw Ue.code=="auth/network-request-failed"&&(Le.a=null),Ue})};function Nd(s){return s.l||(s.C=s.c?Za(s.c,xn(s.b)):null,s.l=new $i(s.g,G(s.i),s.C),s.f&&bf(s.l,s.f)),s.l}t.Ob=function(s,f,g,S){this.a||(this.a=fa(Nd(this)));var P=this;return this.a.then(function(){iu(f);var q=ms(P.s,P.g,P.b,s,f,qc(),g,P.c,void 0,P.i,S,P.f);Vi(q)}).o(function(q){throw q.code=="auth/network-request-failed"&&(P.a=null),q})},t.ma=function(){var s=this;return Tf(this).then(function(){return s.v.sb}).o(function(){throw s.a=null,new D("network-request-failed")})},t.ac=function(){return!0};function ms(s,f,g,S,P,q,Y,fe,Le,Ue,_t,en){return s=new ca(s,f,g,S,P,en),s.l=q,s.g=Y,s.i=fe,s.b=ti(Le||null),s.f=Ue,s.zb(_t).toString()}function ui(s){if(!s.v)throw Error("IfcHandler must be initialized!");Kg(s.v,function(f){var g={};if(f&&f.authEvent){var S=!1;for(f=wl(f.authEvent),g=0;g<s.h.length;g++)S=s.h[g](f)||S;return g={},g.status=S?"ACK":"ERROR",st(g)}return g.status="ERROR",st(g)})}function $g(s){var f={type:"webStorageSupport"};return Tf(s).then(function(){return Rd(s.v,f)}).then(function(g){if(g&&g.length&&typeof g[0].webStorageSupport<"u")return g[0].webStorageSupport;throw Error()})}t.Ea=function(s){this.h.push(s)},t.Ta=function(s){Ce(this.h,function(f){return f==s})};function au(s){if(this.a=s||at.INTERNAL.reactNative&&at.INTERNAL.reactNative.AsyncStorage,!this.a)throw new D("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=au.prototype,t.get=function(s){return st(this.a.getItem(s)).then(function(f){return f&&al(f)})},t.set=function(s,f){return st(this.a.setItem(s,Yc(f)))},t.U=function(s){return st(this.a.removeItem(s))},t.ca=function(){},t.ia=function(){};function jo(s){this.b=s,this.a={},this.f=C(this.c,this)}var If=[];function Yg(){var s=zi()?self:null;if(_e(If,function(g){g.b==s&&(f=g)}),!f){var f=new jo(s);If.push(f)}return f}jo.prototype.c=function(s){var f=s.data.eventType,g=s.data.eventId,S=this.a[f];if(S&&0<S.length){s.ports[0].postMessage({status:"ack",eventId:g,eventType:f,response:null});var P=[];_e(S,function(q){P.push(st().then(function(){return q(s.origin,s.data.data)}))}),Qu(P).then(function(q){var Y=[];_e(q,function(fe){Y.push({fulfilled:fe.Qb,value:fe.value,reason:fe.reason?fe.reason.message:void 0})}),_e(Y,function(fe){for(var Le in fe)typeof fe[Le]>"u"&&delete fe[Le]}),s.ports[0].postMessage({status:"done",eventId:g,eventType:f,response:Y})})}};function gs(s,f,g){bn(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[f]>"u"&&(s.a[f]=[]),s.a[f].push(g)}function Cf(s){this.a=s}Cf.prototype.postMessage=function(s,f){this.a.postMessage(s,f)};function vs(s){this.c=s,this.b=!1,this.a=[]}function xf(s,f,g,S){var P,q=g||{},Y,fe,Le,Ue=null;if(s.b)return Vt(Error("connection_unavailable"));var _t=S?800:50,en=typeof MessageChannel<"u"?new MessageChannel:null;return new It(function(Wt,kr){en?(P=Math.floor(Math.random()*Math.pow(10,20)).toString(),en.port1.start(),fe=setTimeout(function(){kr(Error("unsupported_event"))},_t),Y=function(mu){mu.data.eventId===P&&(mu.data.status==="ack"?(clearTimeout(fe),Le=setTimeout(function(){kr(Error("timeout"))},3e3)):mu.data.status==="done"?(clearTimeout(Le),typeof mu.data.response<"u"?Wt(mu.data.response):kr(Error("unknown_error"))):(clearTimeout(fe),clearTimeout(Le),kr(Error("invalid_response"))))},Ue={messageChannel:en,onMessage:Y},s.a.push(Ue),en.port1.addEventListener("message",Y),s.c.postMessage({eventType:f,eventId:P,data:q},[en.port2])):kr(Error("connection_unavailable"))}).then(function(Wt){return uu(s,Ue),Wt}).o(function(Wt){throw uu(s,Ue),Wt})}function uu(s,f){if(f){var g=f.messageChannel,S=f.onMessage;g&&(g.port1.removeEventListener("message",S),g.port1.close()),Ce(s.a,function(P){return P==f})}}vs.prototype.close=function(){for(;0<this.a.length;)uu(this,this.a[0]);this.b=!0};function Od(){if(!xr())throw new D("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;zi()&&self?(this.v=Yg(),gs(this.v,"keyChanged",function(f,g){return ys(s).then(function(S){return 0<S.length&&_e(s.a,function(P){P(S)}),{keyProcessed:Q(S,g.key)}})}),gs(this.v,"ping",function(){return st(["keyChanged"])})):nd().then(function(f){(s.h=f)&&(s.g=new vs(new Cf(f)),xf(s.g,"ping",null,!0).then(function(g){g[0].fulfilled&&Q(g[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var Fl;function Pd(s){return new It(function(f,g){var S=s.m.deleteDatabase("firebaseLocalStorageDb");S.onsuccess=function(){f()},S.onerror=function(P){g(Error(P.target.error))}})}function Cr(s){return new It(function(f,g){var S=s.m.open("firebaseLocalStorageDb",1);S.onerror=function(P){try{P.preventDefault()}catch{}g(Error(P.target.error))},S.onupgradeneeded=function(P){P=P.target.result;try{P.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(q){g(q)}},S.onsuccess=function(P){P=P.target.result,P.objectStoreNames.contains("firebaseLocalStorage")?f(P):Pd(s).then(function(){return Cr(s)}).then(function(q){f(q)}).o(function(q){g(q)})}})}function Bo(s){return s.i||(s.i=Cr(s)),s.i}function li(s,f){function g(P,q){Bo(s).then(f).then(P).o(function(Y){if(3<++S)q(Y);else return Bo(s).then(function(fe){return fe.close(),s.i=void 0,g(P,q)}).o(function(fe){q(fe)})})}var S=0;return new It(g)}function xr(){try{return!!c.indexedDB}catch{return!1}}function Ul(s){return s.objectStore("firebaseLocalStorage")}function lu(s,f){return s.transaction(["firebaseLocalStorage"],f?"readwrite":"readonly")}function ha(s){return new It(function(f,g){s.onsuccess=function(S){S&&S.target?f(S.target.result):f()},s.onerror=function(S){g(S.target.error)}})}t=Od.prototype,t.set=function(s,f){var g=this,S=!1;return li(this,function(P){return P=Ul(lu(P,!0)),ha(P.get(s))}).then(function(P){return li(g,function(q){if(q=Ul(lu(q,!0)),P)return P.value=f,ha(q.put(P));g.b++,S=!0;var Y={};return Y.fbase_key=s,Y.value=f,ha(q.add(Y))})}).then(function(){return g.c[s]=f,u0(g,s)}).oa(function(){S&&g.b--})};function u0(s,f){return s.g&&s.h&&Qc()===s.h?xf(s.g,"keyChanged",{key:f},s.s).then(function(){}).o(function(){}):st()}t.get=function(s){return li(this,function(f){return ha(Ul(lu(f,!1)).get(s))}).then(function(f){return f&&f.value})},t.U=function(s){var f=this,g=!1;return li(this,function(S){return g=!0,f.b++,ha(Ul(lu(S,!0)).delete(s))}).then(function(){return delete f.c[s],u0(f,s)}).oa(function(){g&&f.b--})};function ys(s){return Bo(s).then(function(f){var g=Ul(lu(f,!1));return g.getAll?ha(g.getAll()):new It(function(S,P){var q=[],Y=g.openCursor();Y.onsuccess=function(fe){(fe=fe.target.result)?(q.push(fe.value),fe.continue()):S(q)},Y.onerror=function(fe){P(fe.target.error)}})}).then(function(f){var g={},S=[];if(s.b==0){for(S=0;S<f.length;S++)g[f[S].fbase_key]=f[S].value;S=il(s.c,g),s.c=g}return S})}t.ca=function(s){this.a.length==0&&l0(this),this.a.push(s)},t.ia=function(s){Ce(this.a,function(f){return f==s}),this.a.length==0&&Dd(this)};function l0(s){function f(){s.f=setTimeout(function(){s.l=ys(s).then(function(g){0<g.length&&_e(s.a,function(S){S(g)})}).then(function(){f()}).o(function(g){g.message!="STOP_EVENT"&&f()})},800)}Dd(s),f()}function Dd(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function da(s){var f=this,g=null;this.a=[],this.type="indexedDB",this.c=s,this.b=st().then(function(){if(xr()){var S=Ys(),P="__sak"+S;return Fl||(Fl=new Od),g=Fl,g.set(P,S).then(function(){return g.get(P)}).then(function(q){if(q!==S)throw Error("indexedDB not supported!");return g.U(P)}).then(function(){return g}).o(function(){return f.c})}return f.c}).then(function(S){return f.type=S.type,S.ca(function(P){_e(f.a,function(q){q(P)})}),S})}t=da.prototype,t.get=function(s){return this.b.then(function(f){return f.get(s)})},t.set=function(s,f){return this.b.then(function(g){return g.set(s,f)})},t.U=function(s){return this.b.then(function(f){return f.U(s)})},t.ca=function(s){this.a.push(s)},t.ia=function(s){Ce(this.a,function(f){return f==s})};function cu(){this.a={},this.type="inMemory"}t=cu.prototype,t.get=function(s){return st(this.a[s])},t.set=function(s,f){return this.a[s]=f,st()},t.U=function(s){return delete this.a[s],st()},t.ca=function(){},t.ia=function(){};function Vo(){if(!c0())throw Ei()=="Node"?new D("internal-error","The LocalStorage compatibility library was not found."):new D("web-storage-unsupported");this.a=Xg()||at.INTERNAL.node.localStorage,this.type="localStorage"}function Xg(){try{var s=c.localStorage,f=Ys();return s&&(s.setItem(f,"1"),s.removeItem(f)),s}catch{return null}}function c0(){var s=Ei()=="Node";if(s=Xg()||s&&at.INTERNAL.node&&at.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=Vo.prototype,t.get=function(s){var f=this;return st().then(function(){var g=f.a.getItem(s);return al(g)})},t.set=function(s,f){var g=this;return st().then(function(){var S=Yc(f);S===null?g.U(s):g.a.setItem(s,S)})},t.U=function(s){var f=this;return st().then(function(){f.a.removeItem(s)})},t.ca=function(s){c.window&&ni(c.window,"storage",s)},t.ia=function(s){c.window&&bi(c.window,"storage",s)};function kf(){this.type="nullStorage"}t=kf.prototype,t.get=function(){return st(null)},t.set=function(){return st()},t.U=function(){return st()},t.ca=function(){},t.ia=function(){};function jl(){if(!NE())throw Ei()=="Node"?new D("internal-error","The SessionStorage compatibility library was not found."):new D("web-storage-unsupported");this.a=f0()||at.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function f0(){try{var s=c.sessionStorage,f=Ys();return s&&(s.setItem(f,"1"),s.removeItem(f)),s}catch{return null}}function NE(){var s=Ei()=="Node";if(s=f0()||s&&at.INTERNAL.node&&at.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=jl.prototype,t.get=function(s){var f=this;return st().then(function(){var g=f.a.getItem(s);return al(g)})},t.set=function(s,f){var g=this;return st().then(function(){var S=Yc(f);S===null?g.U(s):g.a.setItem(s,S)})},t.U=function(s){var f=this;return st().then(function(){f.a.removeItem(s)})},t.ca=function(){},t.ia=function(){};function h0(){var s={};s.Browser=fu,s.Node=OE,s.ReactNative=Bl,s.Worker=d0,this.a=s[Ei()]}var Ld,fu={F:Vo,cb:jl},OE={F:Vo,cb:jl},Bl={F:au,cb:kf},d0={F:Vo,cb:kf},Zt={rd:"local",NONE:"none",td:"session"};function PE(s){var f=new D("invalid-persistence-type"),g=new D("unsupported-persistence-type");e:{for(S in Zt)if(Zt[S]==s){var S=!0;break e}S=!1}if(!S||typeof s!="string")throw f;switch(Ei()){case"ReactNative":if(s==="session")throw g;break;case"Node":if(s!=="none")throw g;break;case"Worker":if(s==="session"||!xr()&&s!=="none")throw g;break;default:if(!ed()&&s!=="none")throw g}}function Qg(){var s=!!(!Zm(Kn())&&Gc()),f=$c(),g=ed();this.m=s,this.h=f,this.l=g,this.a={},Ld||(Ld=new h0),s=Ld;try{this.g=!Gm()&&td()||!c.indexedDB?new s.a.F:new da(zi()?new cu:new s.a.F)}catch{this.g=new cu,this.h=!0}try{this.i=new s.a.cb}catch{this.i=new cu}this.v=new cu,this.f=C(this.Zb,this),this.b={}}var Jg;function Af(){return Jg||(Jg=new Qg),Jg}function pa(s,f){switch(f){case"session":return s.i;case"none":return s.v;default:return s.g}}function hu(s,f){return"firebase:"+s.name+(f?":"+f:"")}function DE(s,f,g){var S=hu(f,g),P=pa(s,f.F);return s.get(f,g).then(function(q){var Y=null;try{Y=al(c.localStorage.getItem(S))}catch{}if(Y&&!q)return c.localStorage.removeItem(S),s.set(f,Y,g);Y&&q&&P.type!="localStorage"&&c.localStorage.removeItem(S)})}t=Qg.prototype,t.get=function(s,f){return pa(this,s.F).get(hu(s,f))};function ur(s,f,g){return g=hu(f,g),f.F=="local"&&(s.b[g]=null),pa(s,f.F).U(g)}t.set=function(s,f,g){var S=hu(s,g),P=this,q=pa(this,s.F);return q.set(S,f).then(function(){return q.get(S)}).then(function(Y){s.F=="local"&&(P.b[S]=Y)})},t.addListener=function(s,f,g){s=hu(s,f),this.l&&(this.b[s]=c.localStorage.getItem(s)),bn(this.a)&&(pa(this,"local").ca(this.f),this.h||(Gm()||!td())&&c.indexedDB||!this.l||Zg(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(g)},t.removeListener=function(s,f,g){s=hu(s,f),this.a[s]&&(Ce(this.a[s],function(S){return S==g}),this.a[s].length==0&&delete this.a[s]),bn(this.a)&&(pa(this,"local").ia(this.f),ev(this))};function Zg(s){ev(s),s.c=setInterval(function(){for(var f in s.a){var g=c.localStorage.getItem(f),S=s.b[f];g!=S&&(s.b[f]=g,g=new Co({type:"storage",key:f,target:window,oldValue:S,newValue:g,a:!0}),s.Zb(g))}},1e3)}function ev(s){s.c&&(clearInterval(s.c),s.c=null)}t.Zb=function(s){if(s&&s.g){var f=s.a.key;if(f==null)for(var g in this.a){var S=this.b[g];typeof S>"u"&&(S=null);var P=c.localStorage.getItem(g);P!==S&&(this.b[g]=P,this.nb(g))}else if(f.indexOf("firebase:")==0&&this.a[f]){if(typeof s.a.a<"u"?pa(this,"local").ia(this.f):ev(this),this.m){if(g=c.localStorage.getItem(f),S=s.a.newValue,S!==g)S!==null?c.localStorage.setItem(f,S):c.localStorage.removeItem(f);else if(this.b[f]===S&&typeof s.a.a>"u")return}var q=this;g=function(){(typeof s.a.a<"u"||q.b[f]!==c.localStorage.getItem(f))&&(q.b[f]=c.localStorage.getItem(f),q.nb(f))},Fi&&js&&js==10&&c.localStorage.getItem(f)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(g,10):g()}}else _e(s,C(this.nb,this))},t.nb=function(s){this.a[s]&&_e(this.a[s],function(f){f()})};function ma(s){this.a=s,this.b=Af()}var Vl={name:"authEvent",F:"local"};function du(s){return s.b.get(Vl,s.a).then(function(f){return wl(f)})}function Md(){this.a=Af()}function tv(){this.b=-1}function zl(s,f){this.b=Ud,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=f,this.l=c.Int32Array?new Int32Array(64):Array(64),Fd===void 0&&(c.Int32Array?Fd=new Int32Array(Vd):Fd=Vd),this.reset()}var Fd;O(zl,tv);for(var Ud=64,LE=Ud-1,nv=[],jd=0;jd<LE;jd++)nv[jd]=0;var Rf=F(128,nv);zl.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):Te(this.h)};function Wl(s){for(var f=s.f,g=s.l,S=0,P=0;P<f.length;)g[S++]=f[P]<<24|f[P+1]<<16|f[P+2]<<8|f[P+3],P=4*S;for(f=16;64>f;f++){P=g[f-15]|0,S=g[f-2]|0;var q=(g[f-16]|0)+((P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3)|0,Y=(g[f-7]|0)+((S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10)|0;g[f]=q+Y|0}S=s.a[0]|0,P=s.a[1]|0;var fe=s.a[2]|0,Le=s.a[3]|0,Ue=s.a[4]|0,_t=s.a[5]|0,en=s.a[6]|0;for(q=s.a[7]|0,f=0;64>f;f++){var Wt=((S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10))+(S&P^S&fe^P&fe)|0;Y=Ue&_t^~Ue&en,q=q+((Ue>>>6|Ue<<26)^(Ue>>>11|Ue<<21)^(Ue>>>25|Ue<<7))|0,Y=Y+(Fd[f]|0)|0,Y=q+(Y+(g[f]|0)|0)|0,q=en,en=_t,_t=Ue,Ue=Le+Y|0,Le=fe,fe=P,P=S,S=Y+Wt|0}s.a[0]=s.a[0]+S|0,s.a[1]=s.a[1]+P|0,s.a[2]=s.a[2]+fe|0,s.a[3]=s.a[3]+Le|0,s.a[4]=s.a[4]+Ue|0,s.a[5]=s.a[5]+_t|0,s.a[6]=s.a[6]+en|0,s.a[7]=s.a[7]+q|0}function Bd(s,f,g){g===void 0&&(g=f.length);var S=0,P=s.c;if(typeof f=="string")for(;S<g;)s.f[P++]=f.charCodeAt(S++),P==s.b&&(Wl(s),P=0);else if(E(f))for(;S<g;){var q=f[S++];if(!(typeof q=="number"&&0<=q&&255>=q&&q==(q|0)))throw Error("message must be a byte array");s.f[P++]=q,P==s.b&&(Wl(s),P=0)}else throw Error("message must be string or array");s.c=P,s.g+=g}var Vd=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function rv(){zl.call(this,8,iv)}O(rv,zl);var iv=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Nf(s,f,g,S,P,q){this.v=s,this.i=f,this.l=g,this.m=S||null,this.u=P||null,this.s=q,this.h=f+":"+g,this.C=new Md,this.g=new ma(this.h),this.f=null,this.b=[],this.a=this.c=null}function Hl(s){return new D("invalid-cordova-configuration",s)}t=Nf.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=Xm().then(function(){if(typeof hn("universalLinks.subscribe",c)!="function")throw Hl("cordova-universal-links-plugin-fix is not installed");if(typeof hn("BuildInfo.packageName",c)>"u")throw Hl("cordova-plugin-buildinfo is not installed");if(typeof hn("cordova.plugins.browsertab.openUrl",c)!="function")throw Hl("cordova-plugin-browsertab is not installed");if(typeof hn("cordova.InAppBrowser.open",c)!="function")throw Hl("cordova-plugin-inappbrowser is not installed")},function(){throw new D("cordova-not-ready")})};function zd(){for(var s=20,f=[];0<s;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return f.join("")}function p0(s){var f=new rv;Bd(f,s),s=[];var g=8*f.g;56>f.c?Bd(f,Rf,56-f.c):Bd(f,Rf,f.b-(f.c-56));for(var S=63;56<=S;S--)f.f[S]=g&255,g/=256;for(Wl(f),S=g=0;S<f.i;S++)for(var P=24;0<=P;P-=8)s[g++]=f.a[S]>>P&255;return ml(s)}t.Pb=function(s,f){return f(new D("operation-not-supported-in-this-environment")),st()},t.Nb=function(){return Vt(new D("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(s,f,g,S){if(this.c)return Vt(new D("redirect-operation-pending"));var P=this,q=c.document,Y=null,fe=null,Le=null,Ue=null;return this.c=st().then(function(){return iu(f),m0(P)}).then(function(){return ME(P,s,f,g,S)}).then(function(){return new It(function(_t,en){fe=function(){var Wt=hn("cordova.plugins.browsertab.close",c);return _t(),typeof Wt=="function"&&Wt(),P.a&&typeof P.a.close=="function"&&(P.a.close(),P.a=null),!1},P.Ea(fe),Le=function(){Y||(Y=Ws(2e3).then(function(){en(new D("redirect-cancelled-by-user"))}))},Ue=function(){ul()&&Le()},q.addEventListener("resume",Le,!1),Kn().toLowerCase().match(/android/)||q.addEventListener("visibilitychange",Ue,!1)}).o(function(_t){return pu(P).then(function(){throw _t})})}).oa(function(){Le&&q.removeEventListener("resume",Le,!1),Ue&&q.removeEventListener("visibilitychange",Ue,!1),Y&&Y.cancel(),fe&&P.Ta(fe),P.c=null})};function ME(s,f,g,S,P){var q=zd(),Y=new Dn(f,S,null,q,new D("no-auth-event"),null,P),fe=hn("BuildInfo.packageName",c);if(typeof fe!="string")throw new D("invalid-cordova-configuration");var Le=hn("BuildInfo.displayName",c),Ue={};if(Kn().toLowerCase().match(/iphone|ipad|ipod/))Ue.ibi=fe;else if(Kn().toLowerCase().match(/android/))Ue.apn=fe;else return Vt(new D("operation-not-supported-in-this-environment"));Le&&(Ue.appDisplayName=Le),q=p0(q),Ue.sessionId=q;var _t=ms(s.v,s.i,s.l,f,g,null,S,s.m,Ue,s.u,P,s.s);return s.ma().then(function(){var en=s.h;return s.C.a.set(Vl,Y.w(),en)}).then(function(){var en=hn("cordova.plugins.browsertab.isAvailable",c);if(typeof en!="function")throw new D("invalid-cordova-configuration");var Wt=null;en(function(kr){if(kr){if(Wt=hn("cordova.plugins.browsertab.openUrl",c),typeof Wt!="function")throw new D("invalid-cordova-configuration");Wt(_t)}else{if(Wt=hn("cordova.InAppBrowser.open",c),typeof Wt!="function")throw new D("invalid-cordova-configuration");kr=Kn(),s.a=Wt(_t,kr.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||kr.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Of(s,f){for(var g=0;g<s.b.length;g++)try{s.b[g](f)}catch{}}function m0(s){return s.f||(s.f=s.ma().then(function(){return new It(function(f){function g(S){return f(S),s.Ta(g),!1}s.Ea(g),FE(s)})})),s.f}function pu(s){var f=null;return du(s.g).then(function(g){return f=g,g=s.g,ur(g.b,Vl,g.a)}).then(function(){return f})}function FE(s){function f(Y){S=!0,P&&P.cancel(),pu(s).then(function(fe){var Le=g;if(fe&&Y&&Y.url){var Ue=null;Le=gg(Y.url),Le.indexOf("/__/auth/callback")!=-1&&(Ue=jr(Le),Ue=al(ji(Ue,"firebaseError")||null),Ue=(Ue=typeof Ue=="object"?X(Ue):null)?new Dn(fe.c,fe.b,null,null,Ue,null,fe.T()):new Dn(fe.c,fe.b,Le,fe.f,null,null,fe.T())),Le=Ue||g}Of(s,Le)})}var g=new Dn("unknown",null,null,null,new D("no-auth-event")),S=!1,P=Ws(500).then(function(){return pu(s).then(function(){S||Of(s,g)})}),q=c.handleOpenURL;c.handleOpenURL=function(Y){if(Y.toLowerCase().indexOf(hn("BuildInfo.packageName",c).toLowerCase()+"://")==0&&f({url:Y}),typeof q=="function")try{q(Y)}catch(fe){console.error(fe)}},ps||(ps=new af),vg(f)}t.Ea=function(s){this.b.push(s),m0(this).o(function(f){f.code==="auth/invalid-cordova-configuration"&&(f=new Dn("unknown",null,null,null,new D("no-auth-event")),s(f))})},t.Ta=function(s){Ce(this.b,function(f){return f==s})};function Wd(s){this.a=s,this.b=Af()}var l={name:"pendingRedirect",F:"session"};function h(s){return s.b.set(l,"pending",s.a)}function m(s){return ur(s.b,l,s.a)}function _(s){return s.b.get(l,s.a).then(function(f){return f=="pending"})}function N(s,f,g,S){this.i={},this.u=0,this.D=s,this.v=f,this.m=g,this.J=S,this.h=[],this.f=!1,this.l=C(this.s,this),this.b=new ke,this.C=new ws,this.g=new Wd(xe(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=L(this.D,this.v,this.m,ee,this.J)}function L(s,f,g,S,P){var q=at.SDK_VERSION||null;return Xa()?new Nf(s,f,g,q,S,P):new Ml(s,f,g,q,S,P)}N.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=L(this.D,this.v,this.m,null,this.J),this.i={}};function $(s){s.f||(s.f=!0,s.a.Ea(s.l));var f=s.a;return s.a.ma().o(function(g){throw s.a==f&&s.reset(),g})}function ce(s){s.a.Yb()&&$(s).o(function(f){var g=new Dn("unknown",null,null,null,new D("operation-not-supported-in-this-environment"));Xe(f)&&s.s(g)}),s.a.Ub()||He(s.b)}function we(s,f){Q(s.h,f)||s.h.push(f),s.f||_(s.g).then(function(g){g?m(s.g).then(function(){$(s).o(function(S){var P=new Dn("unknown",null,null,null,new D("operation-not-supported-in-this-environment"));Xe(S)&&s.s(P)})}):ce(s)}).o(function(){ce(s)})}function Ae(s,f){Ce(s.h,function(g){return g==f})}N.prototype.s=function(s){if(!s)throw new D("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var f=!1,g=0;g<this.h.length;g++){var S=this.h[g];if(S.Gb(s.c,s.b)){(f=this.c[s.c])&&(f.h(s,S),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),f=!0;break}}return He(this.b),f};var je=new ko(2e3,1e4),ze=new ko(3e4,6e4);N.prototype.ra=function(){return this.b.ra()};function Fe(s,f,g,S,P,q,Y){return s.a.Nb(f,g,S,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},P,q,Y)}function Xe(s){return!!(s&&s.code=="auth/cordova-not-ready")}function Je(s,f,g,S,P){var q;return h(s.g).then(function(){return s.a.Ob(f,g,S,P).o(function(Y){if(Xe(Y))throw new D("operation-not-supported-in-this-environment");return q=Y,m(s.g).then(function(){throw q})}).then(function(){return s.a.ac()?new It(function(){}):m(s.g).then(function(){return s.ra()}).then(function(){}).o(function(){})})})}function rt(s,f,g,S,P){return s.a.Pb(S,function(q){f.na(g,null,q,P)},je.get())}var wn={};function xe(s,f,g){return s=s+":"+f,g&&(s=s+":"+g.url),s}function be(s,f,g,S){var P=xe(f,g,S);return wn[P]||(wn[P]=new N(s,f,g,S)),wn[P]}function ke(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}ke.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ke.prototype.h=function(s,f){if(s){this.reset(),this.g=!0;var g=s.c,S=s.b,P=s.a&&s.a.code=="auth/web-storage-unsupported",q=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!P&&!q),g!="unknown"||P||q?s.a?(mn(this,!0,null,s.a),st()):f.Fa(g,S)?ft(this,s,f):Vt(new D("invalid-auth-event")):(mn(this,!1,null,null),st())}else Vt(new D("invalid-auth-event"))};function He(s){s.g||(s.g=!0,mn(s,!1,null,null))}function it(s){s.g&&!s.i&&mn(s,!1,null,null)}function ft(s,f,g){g=g.Fa(f.c,f.b);var S=f.g,P=f.f,q=f.i,Y=f.T(),fe=!!f.c.match(/Redirect$/);g(S,P,Y,q).then(function(Le){mn(s,fe,Le,null)}).o(function(Le){mn(s,fe,null,Le)})}function ht(s,f){if(s.b=function(){return Vt(f)},s.c.length)for(var g=0;g<s.c.length;g++)s.c[g](f)}function mt(s,f){if(s.b=function(){return st(f)},s.f.length)for(var g=0;g<s.f.length;g++)s.f[g](f)}function mn(s,f,g,S){f?S?ht(s,S):mt(s,g):mt(s,{user:null}),s.f=[],s.c=[]}ke.prototype.ra=function(){var s=this;return new It(function(f,g){s.b?s.b().then(f,g):(s.f.push(f),s.c.push(g),jt(s))})};function jt(s){var f=new D("timeout");s.a&&s.a.cancel(),s.a=Ws(ze.get()).then(function(){s.b||(s.g=!0,mn(s,!0,null,f))})}function ws(){}ws.prototype.h=function(s,f){if(s){var g=s.c,S=s.b;s.a?(f.na(s.c,null,s.a,s.b),st()):f.Fa(g,S)?UE(s,f):Vt(new D("invalid-auth-event"))}else Vt(new D("invalid-auth-event"))};function UE(s,f){var g=s.b,S=s.c;f.Fa(S,g)(s.g,s.f,s.T(),s.i).then(function(P){f.na(S,P,null,g)}).o(function(P){f.na(S,null,P,g)})}function CR(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(s){this.jb=s},enumerable:!1})}function jE(s,f){this.a=f,tt(this,"verificationId",s)}jE.prototype.confirm=function(s){return s=sf(this.verificationId,s),this.a(s)};function BE(s,f,g,S){return new Fo(s).gb(f,g).then(function(P){return new jE(P,S)})}function Kj(s){var f=Oo(s);if(!(f&&f.exp&&f.auth_time&&f.iat))throw new D("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$n(this,{token:s,expirationTime:ll(1e3*f.exp),authTime:ll(1e3*f.auth_time),issuedAtTime:ll(1e3*f.iat),signInProvider:f.firebase&&f.firebase.sign_in_provider?f.firebase.sign_in_provider:null,signInSecondFactor:f.firebase&&f.firebase.sign_in_second_factor?f.firebase.sign_in_second_factor:null,claims:f})}function VE(s,f,g){var S=f&&f[kR];if(!S)throw new D("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=ti(f),this.g=g,this.c=new ru(null,S),this.b=[];var P=this;_e(f[xR]||[],function(q){(q=ig(q))&&P.b.push(q)}),tt(this,"auth",this.a),tt(this,"session",this.c),tt(this,"hints",this.b)}var xR="mfaInfo",kR="mfaPendingCredential";VE.prototype.Rc=function(s){var f=this;return s.tb(this.a.a,this.c).then(function(g){var S=ti(f.f);return delete S[xR],delete S[kR],On(S,g),f.g(S)})};function zE(s,f,g,S){D.call(this,"multi-factor-auth-required",S,f),this.b=new VE(s,f,g),tt(this,"resolver",this.b)}O(zE,D);function AR(s,f,g){if(s&&I(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new zE(f,s.serverResponse,g,s.message)}catch{}return null}function RR(){}RR.prototype.tb=function(s,f,g){return f.type==gl?$j(this,s,f,g):Yj(this,s,f)};function $j(s,f,g,S){return g.Ha().then(function(P){return P={idToken:P},typeof S<"u"&&(P.displayName=S),On(P,{phoneVerificationInfo:na(s.a)}),xt(f,xd,P)})}function Yj(s,f,g){return g.Ha().then(function(S){return S={mfaPendingCredential:S},On(S,{phoneVerificationInfo:na(s.a)}),xt(f,Ir,S)})}function WE(s){tt(this,"factorId",s.fa),this.a=s}O(WE,RR);function NR(s){if(WE.call(this,s),this.a.fa!=Fo.PROVIDER_ID)throw new D("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}O(NR,WE);function Hd(s,f){mr.call(this,s);for(var g in f)this[g]=f[g]}O(Hd,mr);function HE(s,f){this.a=s,this.b=[],this.c=C(this.yc,this),ni(this.a,"userReloaded",this.c);var g=[];f&&f.multiFactor&&f.multiFactor.enrolledFactors&&_e(f.multiFactor.enrolledFactors,function(S){var P=null,q={};if(S){S.uid&&(q[ag]=S.uid),S.displayName&&(q[og]=S.displayName),S.enrollmentTime&&(q[sg]=new Date(S.enrollmentTime).toISOString()),S.phoneNumber&&(q[ef]=S.phoneNumber);try{P=new Wi(q)}catch{}S=P}else S=null;S&&g.push(S)}),g0(this,g)}function Xj(s){var f=[];return _e(s.mfaInfo||[],function(g){(g=ig(g))&&f.push(g)}),f}t=HE.prototype,t.yc=function(s){g0(this,Xj(s.hd))};function g0(s,f){s.b=f,tt(s,"enrolledFactors",f)}t.Sb=function(){return this.a.I().then(function(s){return new ru(s,null)})},t.fc=function(s,f){var g=this,S=this.a.a;return this.Sb().then(function(P){return s.tb(S,P,f)}).then(function(P){return ga(g.a,P),g.a.reload()})},t.bd=function(s){var f=this,g=typeof s=="string"?s:s.uid,S=this.a.a;return this.a.I().then(function(P){return xt(S,AE,{idToken:P,mfaEnrollmentId:g})}).then(function(P){var q=B(f.b,function(Y){return Y.uid!=g});return g0(f,q),ga(f.a,P),f.a.reload().o(function(Y){if(Y.code!="auth/user-token-expired")throw Y})})},t.w=function(){return{multiFactor:{enrolledFactors:M(this.b,function(s){return s.w()})}}};function qE(s,f,g){if(this.h=s,this.i=f,this.g=g,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}qE.prototype.start=function(){this.a=this.c,GE(this,!0)};function Qj(s,f){return f?(s.a=s.c,s.g()):(f=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),f)}function GE(s,f){s.stop(),s.b=Ws(Qj(s,f)).then(function(){return Xc()}).then(function(){return s.h()}).then(function(){GE(s,!0)}).o(function(g){s.i(g)&&GE(s,!1)})}qE.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function KE(s){this.f=s,this.b=this.a=null,this.c=Date.now()}KE.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function OR(s,f){typeof f>"u"&&(s.b?(f=s.b,f=f.a-f.g):f=0),s.c=Date.now()+1e3*f}function PR(s,f){s.b=No(f[br]||""),s.a=f.refreshToken,f=f.expiresIn,OR(s,typeof f<"u"?Number(f):void 0)}function Jj(s,f){s.b=f.b,s.a=f.a,s.c=f.c}function Zj(s,f){return Qw(s.f,f).then(function(g){return s.b=No(g.access_token),s.a=g.refresh_token,OR(s,g.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(g){throw g.code=="auth/user-token-expired"&&(s.a=null),g})}KE.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?Vt(new D("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?Zj(this,{grant_type:"refresh_token",refresh_token:this.a}):st(null):st({accessToken:this.b.toString(),refreshToken:this.a})};function v0(s,f){this.a=s||null,this.b=f||null,$n(this,{lastSignInTime:ll(f||null),creationTime:ll(s||null)})}function eB(s){return new v0(s.a,s.b)}v0.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function tB(s,f,g,S,P,q){$n(this,{uid:s,displayName:S||null,photoURL:P||null,email:g||null,phoneNumber:q||null,providerId:f})}function ho(s,f,g){this.N=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var S=at.SDK_VERSION?Za(at.SDK_VERSION):null;this.a=new $i(this.l,G(ee),S),(this.u=s.emulatorConfig||null)&&bf(this.a,this.u),this.h=new KE(this.a),eS(this,f[br]),PR(this.h,f),tt(this,"refreshToken",this.h.a),LR(this,g||{}),vr.call(this),this.P=!1,this.s&&ri()&&(this.b=be(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=nB(this),this.ba=C(this.ib,this);var P=this;this.za=null,this.Pa=function(q){P.xa(q.h)},this.qa=null,this.Ba=function(q){$E(P,q.c)},this.$=null,this.aa=[],this.Oa=function(q){ov(P,q.f)},this.ja=null,this.S=new HE(this,g),tt(this,"multiFactor",this.S)}O(ho,vr),ho.prototype.xa=function(s){this.za=s,xg(this.a,s)};function $E(s,f){s.u=f,bf(s.a,f),s.b&&(f=s.b,s.b=be(s.s,s.l,s.m,s.u),s.P&&(Ae(f,s),we(s.b,s)))}ho.prototype.la=function(){return this.za};function YE(s,f){s.qa&&bi(s.qa,"languageCodeChanged",s.Pa),(s.qa=f)&&ni(f,"languageCodeChanged",s.Pa)}function XE(s,f){s.$&&bi(s.$,"emulatorConfigChanged",s.Ba),(s.$=f)&&ni(f,"emulatorConfigChanged",s.Ba)}function ov(s,f){s.aa=f,kg(s.a,at.SDK_VERSION?Za(at.SDK_VERSION,s.aa):null)}ho.prototype.Ga=function(){return Te(this.aa)};function QE(s,f){s.ja&&bi(s.ja,"frameworkChanged",s.Oa),(s.ja=f)&&ni(f,"frameworkChanged",s.Oa)}ho.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function JE(s){try{return at.app(s.m).auth()}catch{throw new D("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function nB(s){return new qE(function(){return s.I(!0)},function(f){return!!(f&&f.code=="auth/network-request-failed")},function(){var f=s.h.c-Date.now()-3e5;return 0<f?f:0})}function DR(s){s.J||s.D.b||(s.D.start(),bi(s,"tokenChanged",s.ba),ni(s,"tokenChanged",s.ba))}function ZE(s){bi(s,"tokenChanged",s.ba),s.D.stop()}function eS(s,f){s.Aa=f,tt(s,"_lat",f)}function rB(s,f){Ce(s.W,function(g){return g==f})}function Pf(s){for(var f=[],g=0;g<s.W.length;g++)f.push(s.W[g](s));return Qu(f).then(function(){return s})}function sv(s){s.b&&!s.P&&(s.P=!0,we(s.b,s))}function LR(s,f){$n(s,{uid:f.uid,displayName:f.displayName||null,photoURL:f.photoURL||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,isAnonymous:f.isAnonymous||!1,tenantId:f.tenantId||null,metadata:new v0(f.createdAt,f.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}tt(ho.prototype,"providerId","firebase");function MR(){}function tS(s){return st().then(function(){if(s.J)throw new D("app-deleted")})}function nS(s){return M(s.providerData,function(f){return f.providerId})}function rS(s,f){f&&(FR(s,f.providerId),s.providerData.push(f))}function FR(s,f){Ce(s.providerData,function(g){return g.providerId==f})}function ql(s,f,g){(f!="uid"||g)&&s.hasOwnProperty(f)&&tt(s,f,g)}function y0(s,f){s!=f&&($n(s,{uid:f.uid,displayName:f.displayName,photoURL:f.photoURL,email:f.email,emailVerified:f.emailVerified,phoneNumber:f.phoneNumber,isAnonymous:f.isAnonymous,tenantId:f.tenantId,providerData:[]}),f.metadata?tt(s,"metadata",eB(f.metadata)):tt(s,"metadata",new v0),_e(f.providerData,function(g){rS(s,g)}),Jj(s.h,f.h),tt(s,"refreshToken",s.h.a),g0(s.S,f.S.b))}t=ho.prototype,t.reload=function(){var s=this;return lr(this,tS(this).then(function(){return iS(s).then(function(){return Pf(s)}).then(MR)}))};function iS(s){return s.I().then(function(f){var g=s.isAnonymous;return iB(s,f).then(function(){return g||ql(s,"isAnonymous",!1),f})})}t.oc=function(s){return this.I(s).then(function(f){return new Kj(f)})},t.I=function(s){var f=this;return lr(this,tS(this).then(function(){return f.h.getToken(s)}).then(function(g){if(!g)throw new D("internal-error");return g.accessToken!=f.Aa&&(eS(f,g.accessToken),f.dispatchEvent(new Hd("tokenChanged"))),ql(f,"refreshToken",g.refreshToken),g.accessToken}))};function ga(s,f){f[br]&&s.Aa!=f[br]&&(PR(s.h,f),s.dispatchEvent(new Hd("tokenChanged")),eS(s,f[br]),ql(s,"refreshToken",s.h.a))}function iB(s,f){return xt(s.a,xE,{idToken:f}).then(C(s.Kc,s))}t.Kc=function(s){if(s=s.users,!s||!s.length)throw new D("internal-error");s=s[0],LR(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var f=oB(s),g=0;g<f.length;g++)rS(this,f[g]);ql(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Hd("userReloaded",{hd:s}))};function oB(s){return(s=s.providerUserInfo)&&s.length?M(s,function(f){return new tB(f.rawId,f.providerId,f.email,f.displayName,f.photoUrl,f.phoneNumber)}):[]}t.Lc=function(s){return rd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(s)},t.ub=function(s){var f=this,g=null;return lr(this,s.c(this.a,this.uid).then(function(S){return ga(f,S),g=av(f,S,"reauthenticate"),f.i=null,f.reload()}).then(function(){return g}),!0)};function w0(s,f){return iS(s).then(function(){if(Q(nS(s),f))return Pf(s).then(function(){throw new D("provider-already-linked")})})}t.Cc=function(s){return rd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(s)},t.rb=function(s){var f=this,g=null;return lr(this,w0(this,s.providerId).then(function(){return f.I()}).then(function(S){return s.b(f.a,S)}).then(function(S){return g=av(f,S,"link"),UR(f,S)}).then(function(){return g}))},t.Dc=function(s,f){var g=this;return lr(this,w0(this,"phone").then(function(){return BE(JE(g),s,f,C(g.rb,g))}))},t.Mc=function(s,f){var g=this;return lr(this,st().then(function(){return BE(JE(g),s,f,C(g.ub,g))}),!0)};function av(s,f,g){var S=gd(f);return f=ud(f),Si({user:s,credential:S,additionalUserInfo:f,operationType:g})}function UR(s,f){return ga(s,f),s.reload().then(function(){return s})}t.Cb=function(s){var f=this;return lr(this,this.I().then(function(g){return f.a.Cb(g,s)}).then(function(g){return ga(f,g),f.reload()}))},t.ed=function(s){var f=this;return lr(this,this.I().then(function(g){return s.b(f.a,g)}).then(function(g){return ga(f,g),f.reload()}))},t.Db=function(s){var f=this;return lr(this,this.I().then(function(g){return f.a.Db(g,s)}).then(function(g){return ga(f,g),f.reload()}))},t.Eb=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return tS(this);var f=this;return lr(this,this.I().then(function(g){return f.a.Eb(g,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(g){return ga(f,g),ql(f,"displayName",g.displayName||null),ql(f,"photoURL",g.photoUrl||null),_e(f.providerData,function(S){S.providerId==="password"&&(tt(S,"displayName",f.displayName),tt(S,"photoURL",f.photoURL))}),Pf(f)}).then(MR))},t.cd=function(s){var f=this;return lr(this,iS(this).then(function(g){return Q(nS(f),s)?Sd(f.a,g,[s]).then(function(S){var P={};return _e(S.providerUserInfo||[],function(q){P[q.providerId]=!0}),_e(nS(f),function(q){P[q]||FR(f,q)}),P[Fo.PROVIDER_ID]||tt(f,"phoneNumber",null),Pf(f)}):Pf(f).then(function(){throw new D("no-such-provider")})}))},t.delete=function(){var s=this;return lr(this,this.I().then(function(f){return xt(s.a,Ef,{idToken:f})}).then(function(){s.dispatchEvent(new Hd("userDeleted"))})).then(function(){for(var f=0;f<s.N.length;f++)s.N[f].cancel("app-deleted");YE(s,null),XE(s,null),QE(s,null),s.N=[],s.J=!0,ZE(s),tt(s,"refreshToken",null),s.b&&Ae(s.b,s)})},t.Gb=function(s,f){return!!(s=="linkViaPopup"&&(this.g||null)==f&&this.f||s=="reauthViaPopup"&&(this.g||null)==f&&this.f||s=="linkViaRedirect"&&(this.ga||null)==f||s=="reauthViaRedirect"&&(this.ga||null)==f)},t.na=function(s,f,g,S){s!="linkViaPopup"&&s!="reauthViaPopup"||S!=(this.g||null)||(g&&this.C?this.C(g):f&&!g&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,f){return s=="linkViaPopup"&&f==(this.g||null)?C(this.Lb,this):s=="reauthViaPopup"&&f==(this.g||null)?C(this.Mb,this):s=="linkViaRedirect"&&(this.ga||null)==f?C(this.Lb,this):s=="reauthViaRedirect"&&(this.ga||null)==f?C(this.Mb,this):null},t.Ec=function(s){var f=this;return jR(this,"linkViaPopup",s,function(){return w0(f,s.providerId).then(function(){return Pf(f)})},!1)},t.Nc=function(s){return jR(this,"reauthViaPopup",s,function(){return st()},!0)};function jR(s,f,g,S,P){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));if(s.i&&!P)return Vt(s.i);var q=rf(g.providerId),Y=Ys(s.uid+":::"),fe=null;(!$c()||Gc())&&s.s&&g.isOAuthProvider&&(fe=ms(s.s,s.l,s.m,f,g,null,Y,at.SDK_VERSION||null,null,null,s.tenantId,s.u));var Le=$m(fe,q&&q.va,q&&q.ua);return S=S().then(function(){if(VR(s),!P)return s.I().then(function(){})}).then(function(){return Fe(s.b,Le,f,g,Y,!!fe,s.tenantId)}).then(function(){return new It(function(Ue,_t){s.na(f,null,new D("cancelled-popup-request"),s.g||null),s.f=Ue,s.C=_t,s.g=Y,s.c=rt(s.b,s,f,Le,Y)})}).then(function(Ue){return Le&&Ks(Le),Ue?Si(Ue):null}).o(function(Ue){throw Le&&Ks(Le),Ue}),lr(s,S,P)}t.Fc=function(s){var f=this;return BR(this,"linkViaRedirect",s,function(){return w0(f,s.providerId)},!1)},t.Oc=function(s){return BR(this,"reauthViaRedirect",s,function(){return st()},!0)};function BR(s,f,g,S,P){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));if(s.i&&!P)return Vt(s.i);var q=null,Y=Ys(s.uid+":::");return S=S().then(function(){if(VR(s),!P)return s.I().then(function(){})}).then(function(){return s.ga=Y,Pf(s)}).then(function(fe){return s.ha&&(fe=s.ha,fe=fe.b.set(oS,s.w(),fe.a)),fe}).then(function(){return Je(s.b,f,g,Y,s.tenantId)}).o(function(fe){if(q=fe,s.ha)return WR(s.ha);throw q}).then(function(){if(q)throw q}),lr(s,S,P)}function VR(s){if(!s.b||!s.P)throw s.b&&!s.P?new D("internal-error"):new D("auth-domain-config-required")}t.Lb=function(s,f,g,S){var P=this;this.c&&(this.c.cancel(),this.c=null);var q=null;return g=this.I().then(function(Y){return Dl(P.a,{requestUri:s,postBody:S,sessionId:f,idToken:Y})}).then(function(Y){return q=av(P,Y,"link"),UR(P,Y)}).then(function(){return q}),lr(this,g)},t.Mb=function(s,f,g,S){var P=this;this.c&&(this.c.cancel(),this.c=null);var q=null,Y=st().then(function(){return vl(lo(P.a,{requestUri:s,sessionId:f,postBody:S,tenantId:g}),P.uid)}).then(function(fe){return q=av(P,fe,"reauthenticate"),ga(P,fe),P.i=null,P.reload()}).then(function(){return q});return lr(this,Y,!0)},t.vb=function(s){var f=this,g=null;return lr(this,this.I().then(function(S){return g=S,typeof s>"u"||bn(s)?{}:so(new nu(s))}).then(function(S){return f.a.vb(g,S)}).then(function(S){if(f.email!=S)return f.reload()}).then(function(){}))},t.Fb=function(s,f){var g=this,S=null;return lr(this,this.I().then(function(P){return S=P,typeof f>"u"||bn(f)?{}:so(new nu(f))}).then(function(P){return g.a.Fb(S,s,P)}).then(function(P){if(g.email!=P)return g.reload()}).then(function(){}))};function lr(s,f,g){var S=sB(s,f,g);return s.N.push(S),S.oa(function(){J(s.N,S)}),S.o(function(P){var q=null;throw P&&P.code==="auth/multi-factor-auth-required"&&(q=AR(P.w(),JE(s),C(s.jc,s))),q||P})}t.jc=function(s){var f=null,g=this;return s=vl(st(s),g.uid).then(function(S){return f=av(g,S,"reauthenticate"),ga(g,S),g.i=null,g.reload()}).then(function(){return f}),lr(this,s,!0)};function sB(s,f,g){return s.i&&!g?(f.cancel(),Vt(s.i)):f.o(function(S){throw!S||S.code!="auth/user-disabled"&&S.code!="auth/user-token-expired"||(s.i||s.dispatchEvent(new Hd("userInvalidated")),s.i=S),S})}t.toJSON=function(){return this.w()},t.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&On(s,this.metadata.w()),_e(this.providerData,function(f){s.providerData.push(ng(f))}),On(s,this.S.w()),s};function zR(s){if(!s.apiKey)return null;var f={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},g={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){g[br]=s.stsTokenManager.accessToken,g.refreshToken=s.stsTokenManager.refreshToken||null;var S=s.stsTokenManager.expirationTime;S&&(g.expiresIn=(S-Date.now())/1e3)}else return null;var P=new ho(f,g,s);return s.providerData&&_e(s.providerData,function(q){q&&rS(P,Si(q))}),s.redirectEventId&&(P.ga=s.redirectEventId),P}function aB(s,f,g,S){var P=new ho(s,f);return g&&(P.ha=g),S&&ov(P,S),P.reload().then(function(){return P})}function uB(s,f,g,S){var P=s.h,q={};return q[br]=P.b&&P.b.toString(),q.refreshToken=P.a,f=new ho(f||{apiKey:s.l,authDomain:s.s,appName:s.m},q),g&&(f.ha=g),S&&ov(f,S),y0(f,s),f}function lB(s){this.a=s,this.b=Af()}var oS={name:"redirectUser",F:"session"};function WR(s){return ur(s.b,oS,s.a)}function cB(s,f){return s.b.get(oS,s.a).then(function(g){return g&&f&&(g.authDomain=f),zR(g||{})})}function sS(s){this.a=s,this.b=Af(),this.c=null,this.f=fB(this),this.b.addListener(va("local"),this.a,C(this.g,this))}sS.prototype.g=function(){var s=this,f=va("local");qd(this,function(){return st().then(function(){return s.c&&s.c.F!="local"?s.b.get(f,s.a):null}).then(function(g){if(g)return aS(s,"local").then(function(){s.c=f})})})};function aS(s,f){var g=[],S;for(S in Zt)Zt[S]!==f&&g.push(ur(s.b,va(Zt[S]),s.a));return g.push(ur(s.b,uS,s.a)),Mc(g)}function fB(s){var f=va("local"),g=va("session"),S=va("none");return DE(s.b,f,s.a).then(function(){return s.b.get(g,s.a)}).then(function(P){return P?g:s.b.get(S,s.a).then(function(q){return q?S:s.b.get(f,s.a).then(function(Y){return Y?f:s.b.get(uS,s.a).then(function(fe){return fe?va(fe):f})})})}).then(function(P){return s.c=P,aS(s,P.F)}).o(function(){s.c||(s.c=f)})}var uS={name:"persistence",F:"session"};function va(s){return{name:"authUser",F:s}}sS.prototype.yb=function(s){var f=null,g=this;return PE(s),qd(this,function(){return s!=g.c.F?g.b.get(g.c,g.a).then(function(S){return f=S,aS(g,s)}).then(function(){if(g.c=va(s),f)return g.b.set(g.c,f,g.a)}):st()})};function hB(s){return qd(s,function(){return s.b.set(uS,s.c.F,s.a)})}function HR(s,f){return qd(s,function(){return s.b.set(s.c,f.w(),s.a)})}function qR(s){return qd(s,function(){return ur(s.b,s.c,s.a)})}function GR(s,f,g){return qd(s,function(){return s.b.get(s.c,s.a).then(function(S){return S&&f&&(S.authDomain=f),S&&g&&(S.emulatorConfig=g),zR(S||{})})})}function qd(s,f){return s.f=s.f.then(f,f),s.f}function _s(s){if(this.l=!1,tt(this,"settings",new CR),tt(this,"app",s),un(this).options&&un(this).options.apiKey)s=at.SDK_VERSION?Za(at.SDK_VERSION):null,this.a=new $i(un(this).options&&un(this).options.apiKey,G(ee),s);else throw new D("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=at.INTERNAL.createSubscribe(C(this.zc,this)),this.W=void 0,this.ib=at.INTERNAL.createSubscribe(C(this.Ac,this)),Gd(this,null),this.i=new sS(un(this).options.apiKey+":"+un(this).name),this.D=new lB(un(this).options.apiKey+":"+un(this).name),this.$=Mn(this,yB(this)),this.h=Mn(this,wB(this)),this.ba=!1,this.ja=C(this.Zc,this),this.Ba=C(this.da,this),this.qa=C(this.mc,this),this.za=C(this.wc,this),this.Aa=C(this.xc,this),this.b=null,mB(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.Gc,this),this.u=0,vr.call(this),pB(this),this.J=[],this.R=null}O(_s,vr);function KR(s){mr.call(this,"languageCodeChanged"),this.h=s}O(KR,mr);function $R(s){mr.call(this,"emulatorConfigChanged"),this.c=s}O($R,mr);function YR(s){mr.call(this,"frameworkChanged"),this.f=s}O(YR,mr),t=_s.prototype,t.yb=function(s){return s=this.i.yb(s),Mn(this,s)},t.xa=function(s){this.aa===s||this.l||(this.aa=s,xg(this.a,this.aa),this.dispatchEvent(new KR(this.la())))},t.la=function(){return this.aa},t.fd=function(){var s=c.navigator;this.xa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},t.gd=function(s,f){if(!this.R){if(!/^https?:\/\//.test(s))throw new D("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");f=f?!!f.disableWarnings:!1,dB(f),this.R={url:s,ec:f},this.settings.jb=!0,bf(this.a,this.R),this.dispatchEvent(new $R(this.R))}};function dB(s){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!s&&os().then(function(){var f=c.document.createElement("div");f.innerText="Running in emulator mode. Do not use with production credentials.",f.style.position="fixed",f.style.width="100%",f.style.backgroundColor="#ffffff",f.style.border=".1em solid #000000",f.style.color="#b50000",f.style.bottom="0px",f.style.left="0px",f.style.margin="0px",f.style.zIndex=1e4,f.style.textAlign="center",f.classList.add("firebase-emulator-warning"),c.document.body.appendChild(f)})}t.Gc=function(s){this.J.push(s),kg(this.a,at.SDK_VERSION?Za(at.SDK_VERSION,this.J):null),this.dispatchEvent(new YR(this.J))},t.Ga=function(){return Te(this.J)},t.zb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},t.T=function(){return this.S};function pB(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(f){this.xa(f)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(f){this.zb(f)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.R){var f=jr(this.R.url);f=Si({protocol:f.c,host:f.a,port:f.g,options:Si({disableWarnings:this.R.ec})})}else f=null;return f},enumerable:!1})}t.toJSON=function(){return{apiKey:un(this).options.apiKey,authDomain:un(this).options.authDomain,appName:un(this).name,currentUser:St(this)&&St(this).w()}};function lS(s){return s.Oa||Vt(new D("auth-domain-config-required"))}function mB(s){var f=un(s).options.authDomain,g=un(s).options.apiKey;f&&ri()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=be(f,g,un(s).name,s.R),we(s.b,s),St(s)&&sv(St(s)),s.m){sv(s.m);var S=s.m;S.xa(s.la()),YE(S,s),S=s.m,ov(S,s.J),QE(S,s),S=s.m,$E(S,s.R),XE(S,s),s.m=null}return s.b}}))}t.Gb=function(s,f){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==f&&!!this.f;default:return!1}},t.na=function(s,f,g,S){s=="signInViaPopup"&&this.g==S&&(g&&this.C?this.C(g):f&&!g&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,f){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==f&&this.f?C(this.ic,this):null},t.ic=function(s,f,g,S){var P=this,q={requestUri:s,postBody:S,sessionId:f,tenantId:g};return this.c&&(this.c.cancel(),this.c=null),P.$.then(function(){return Df(P,Cd(P.a,q))})},t.Xc=function(s){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));var f=this,g=rf(s.providerId),S=Ys(),P=null;(!$c()||Gc())&&un(this).options.authDomain&&s.isOAuthProvider&&(P=ms(un(this).options.authDomain,un(this).options.apiKey,un(this).name,"signInViaPopup",s,null,S,at.SDK_VERSION||null,null,null,this.T(),this.R));var q=$m(P,g&&g.va,g&&g.ua);return g=lS(this).then(function(Y){return Fe(Y,q,"signInViaPopup",s,S,!!P,f.T())}).then(function(){return new It(function(Y,fe){f.na("signInViaPopup",null,new D("cancelled-popup-request"),f.g),f.f=Y,f.C=fe,f.g=S,f.c=rt(f.b,f,"signInViaPopup",q,S)})}).then(function(Y){return q&&Ks(q),Y?Si(Y):null}).o(function(Y){throw q&&Ks(q),Y}),Mn(this,g)},t.Yc=function(s){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));var f=this,g=lS(this).then(function(){return hB(f.i)}).then(function(){return Je(f.b,"signInViaRedirect",s,void 0,f.T())});return Mn(this,g)};function XR(s){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));var f=lS(s).then(function(){return s.b.ra()}).then(function(g){return g?Si(g):null});return Mn(s,f)}t.ra=function(){var s=this;return XR(this).then(function(f){return s.b&&it(s.b.b),f}).o(function(f){throw s.b&&it(s.b.b),f})},t.dd=function(s){if(!s)return Vt(new D("null-user"));if(this.S!=s.tenantId)return Vt(new D("tenant-id-mismatch"));var f=this,g={};g.apiKey=un(this).options.apiKey,g.authDomain=un(this).options.authDomain,g.appName=un(this).name;var S=uB(s,g,f.D,f.Ga());return Mn(this,this.h.then(function(){if(un(f).options.apiKey!=s.l)return S.reload()}).then(function(){return St(f)&&s.uid==St(f).uid?(y0(St(f),s),f.da(s)):(Gd(f,S),sv(S),f.da(S))}).then(function(){uv(f)}))};function gB(s,f){var g={};return g.apiKey=un(s).options.apiKey,g.authDomain=un(s).options.authDomain,g.appName=un(s).name,s.R&&(g.emulatorConfig=s.R),s.$.then(function(){return aB(g,f,s.D,s.Ga())}).then(function(S){return St(s)&&S.uid==St(s).uid?(y0(St(s),S),s.da(S)):(Gd(s,S),sv(S),s.da(S))}).then(function(){uv(s)})}function Gd(s,f){St(s)&&(rB(St(s),s.Ba),bi(St(s),"tokenChanged",s.qa),bi(St(s),"userDeleted",s.za),bi(St(s),"userInvalidated",s.Aa),ZE(St(s))),f&&(f.W.push(s.Ba),ni(f,"tokenChanged",s.qa),ni(f,"userDeleted",s.za),ni(f,"userInvalidated",s.Aa),0<s.u&&DR(f)),tt(s,"currentUser",f),f&&(f.xa(s.la()),YE(f,s),ov(f,s.J),QE(f,s),$E(f,s.R),XE(f,s))}t.Bb=function(){var s=this,f=this.h.then(function(){return s.b&&it(s.b.b),St(s)?(Gd(s,null),qR(s.i).then(function(){uv(s)})):st()});return Mn(this,f)};function vB(s){var f=cB(s.D,un(s).options.authDomain).then(function(g){return(s.m=g)&&(g.ha=s.D),WR(s.D)});return Mn(s,f)}function yB(s){var f=un(s).options.authDomain,g=vB(s).then(function(){return GR(s.i,f,s.R)}).then(function(S){return S?(S.ha=s.D,s.m&&(s.m.ga||null)==(S.ga||null)?S:S.reload().then(function(){return HR(s.i,S).then(function(){return S})}).o(function(P){return P.code=="auth/network-request-failed"?S:qR(s.i)})):null}).then(function(S){Gd(s,S||null)});return Mn(s,g)}function wB(s){return s.$.then(function(){return XR(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var f=s.i;f.b.addListener(va("local"),f.a,s.ja)}})}t.Zc=function(){var s=this;return GR(this.i,un(this).options.authDomain).then(function(f){if(!s.l){var g;if(g=St(s)&&f){g=St(s).uid;var S=f.uid;g=g==null||g===""||S===void 0||S===null||S===""?!1:g==S}if(g)return y0(St(s),f),St(s).I();(St(s)||f)&&(Gd(s,f),f&&(sv(f),f.ha=s.D),s.b&&we(s.b,s),uv(s))}})},t.da=function(s){return HR(this.i,s)},t.mc=function(){uv(this),this.da(St(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function Df(s,f){var g=null,S=null;return Mn(s,f.then(function(P){return g=gd(P),S=ud(P),gB(s,P)},function(P){var q=null;throw P&&P.code==="auth/multi-factor-auth-required"&&(q=AR(P.w(),s,C(s.kc,s))),q||P}).then(function(){return Si({user:St(s),credential:g,additionalUserInfo:S,operationType:"signIn"})}))}t.kc=function(s){var f=this;return this.h.then(function(){return Df(f,st(s))})},t.zc=function(s){var f=this;this.addAuthTokenListener(function(){s.next(St(f))})},t.Ac=function(s){var f=this;_B(this,function(){s.next(St(f))})},t.Ic=function(s,f,g){var S=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s(St(S)):typeof s.next=="function"&&s.next(St(S))}),this.Pa(s,f,g)},t.Hc=function(s,f,g){var S=this;return this.ba&&Promise.resolve().then(function(){S.W=S.getUid(),typeof s=="function"?s(St(S)):typeof s.next=="function"&&s.next(St(S))}),this.ib(s,f,g)},t.nc=function(s){var f=this,g=this.h.then(function(){return St(f)?St(f).I(s).then(function(S){return{accessToken:S}}):null});return Mn(this,g)},t.Tc=function(s){var f=this;return this.h.then(function(){return Df(f,xt(f.a,o0,{token:s}))}).then(function(g){var S=g.user;return ql(S,"isAnonymous",!1),f.da(S),g})},t.Uc=function(s,f){var g=this;return this.h.then(function(){return Df(g,xt(g.a,qg,{email:s,password:f}))})},t.dc=function(s,f){var g=this;return this.h.then(function(){return Df(g,xt(g.a,t0,{email:s,password:f}))})},t.ab=function(s){var f=this;return this.h.then(function(){return Df(f,s.ka(f.a))})},t.Sc=function(s){return rd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(s)},t.Ab=function(){var s=this;return this.h.then(function(){var f=St(s);if(f&&f.isAnonymous){var g=Si({providerId:null,isNewUser:!1});return Si({user:f,credential:null,additionalUserInfo:g,operationType:"signIn"})}return Df(s,s.a.Ab()).then(function(S){var P=S.user;return ql(P,"isAnonymous",!0),s.da(P),S})})};function un(s){return s.app}function St(s){return s.currentUser}t.getUid=function(){return St(this)&&St(this).uid||null};function _0(s){return St(s)&&St(s)._lat||null}function uv(s){if(s.ba){for(var f=0;f<s.s.length;f++)s.s[f]&&s.s[f](_0(s));if(s.W!==s.getUid()&&s.N.length)for(s.W=s.getUid(),f=0;f<s.N.length;f++)s.N[f]&&s.N[f](_0(s))}}t.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&St(this)&&DR(St(this))},t.Pc=function(s){var f=this;_e(this.s,function(g){g==s&&f.u--}),0>this.u&&(this.u=0),this.u==0&&St(this)&&ZE(St(this)),this.removeAuthTokenListener(s)},t.addAuthTokenListener=function(s){var f=this;this.s.push(s),Mn(this,this.h.then(function(){f.l||Q(f.s,s)&&s(_0(f))}))},t.removeAuthTokenListener=function(s){Ce(this.s,function(f){return f==s})};function _B(s,f){s.N.push(f),Mn(s,s.h.then(function(){!s.l&&Q(s.N,f)&&s.W!==s.getUid()&&(s.W=s.getUid(),f(_0(s)))}))}t.delete=function(){this.l=!0;for(var s=0;s<this.P.length;s++)this.P[s].cancel("app-deleted");return this.P=[],this.i&&(s=this.i,s.b.removeListener(va("local"),s.a,this.ja)),this.b&&(Ae(this.b,this),it(this.b.b)),Promise.resolve()};function Mn(s,f){return s.P.push(f),f.oa(function(){J(s.P,f)}),f}t.hc=function(s){return Mn(this,Ng(this.a,s))},t.Bc=function(s){return!!md(s)},t.xb=function(s,f){var g=this;return Mn(this,st().then(function(){var S=new nu(f);if(!S.c)throw new D("argument-error",pl+" must be true when sending sign in link to email");return so(S)}).then(function(S){return g.a.xb(s,S)}).then(function(){}))},t.jd=function(s){return this.Sa(s).then(function(f){return f.data.email})},t.ob=function(s,f){return Mn(this,this.a.ob(s,f).then(function(){}))},t.Sa=function(s){return Mn(this,this.a.Sa(s).then(function(f){return new Fw(f)}))},t.kb=function(s){return Mn(this,this.a.kb(s).then(function(){}))},t.wb=function(s,f){var g=this;return Mn(this,st().then(function(){return typeof f>"u"||bn(f)?{}:so(new nu(f))}).then(function(S){return g.a.wb(s,S)}).then(function(){}))},t.Wc=function(s,f){return Mn(this,BE(this,s,f,C(this.ab,this)))},t.Vc=function(s,f){var g=this;return Mn(this,st().then(function(){var S=f||qc(),P=pd(s,S);if(S=md(S),!S)throw new D("argument-error","Invalid email link!");if(S.tenantId!==g.T())throw new D("tenant-id-mismatch");return g.ab(P)}))};function lv(){}lv.prototype.render=function(){},lv.prototype.reset=function(){},lv.prototype.getResponse=function(){},lv.prototype.execute=function(){};function Kd(){this.a={},this.b=1e12}var cS=null;Kd.prototype.render=function(s,f){return this.a[this.b.toString()]=new b0(s,f),this.b++},Kd.prototype.reset=function(s){var f=fS(this,s);s=QR(s),f&&s&&(f.delete(),delete this.a[s])},Kd.prototype.getResponse=function(s){return(s=fS(this,s))?s.getResponse():null},Kd.prototype.execute=function(s){(s=fS(this,s))&&s.execute()};function fS(s,f){return(f=QR(f))&&s.a[f]||null}function QR(s){return(s=typeof s>"u"?1e12:s)?s.toString():null}function b0(s,f){this.g=!1,this.c=f,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Rc(s);var g=this;this.i=function(){g.execute()},this.h?this.execute():ni(this.f,"click",this.i)}b0.prototype.getResponse=function(){return hS(this),this.b},b0.prototype.execute=function(){hS(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=Qm();var f=s.c.callback,g=s.c["expired-callback"];if(f)try{f(s.b)}catch{}s.a=setTimeout(function(){if(s.a=null,s.b=null,g)try{g()}catch{}s.h&&s.execute()},6e4)},500))},b0.prototype.delete=function(){hS(this),this.g=!0,clearTimeout(this.a),this.a=null,bi(this.f,"click",this.i)};function hS(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function dS(){}tt(dS,"FACTOR_ID","phone");function pS(){}pS.prototype.g=function(){return cS||(cS=new Kd),st(cS)},pS.prototype.c=function(){};var mS=null;function gS(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bB=new En(Ds,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),EB=new ko(3e4,6e4);gS.prototype.g=function(s){var f=this;return new It(function(g,S){var P=setTimeout(function(){S(new D("network-request-failed"))},EB.get());if(!c.grecaptcha||s!==f.f&&!f.b){c[f.a]=function(){if(c.grecaptcha){f.f=s;var Y=c.grecaptcha.render;c.grecaptcha.render=function(fe,Le){return fe=Y(fe,Le),f.b++,fe},clearTimeout(P),g(c.grecaptcha)}else clearTimeout(P),S(new D("internal-error"));delete c[f.a]};var q=Ph(bB,{onload:f.a,hl:s||""});st(Sg(q)).o(function(){clearTimeout(P),S(new D("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(P),g(c.grecaptcha)})},gS.prototype.c=function(){this.b--};var vS=null;function yS(s,f,g,S,P,q,Y){if(tt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=f,this.g=null,Y?(mS||(mS=new pS),Y=mS):(vS||(vS=new gS),Y=vS),this.m=Y,this.a=g||{theme:"light",type:"image"},this.h=[],this.a[eN])throw new D("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[SB]==="invisible",!c.document)throw new D("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Rc(f)||!this.i&&Rc(f).hasChildNodes())throw new D("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $i(s,q||null,P||null),this.u=S||function(){return null};var fe=this;this.l=[];var Le=this.a[JR];this.a[JR]=function(_t){if(tN(fe,_t),typeof Le=="function")Le(_t);else if(typeof Le=="string"){var en=hn(Le,c);typeof en=="function"&&en(_t)}};var Ue=this.a[ZR];this.a[ZR]=function(){if(tN(fe,null),typeof Ue=="function")Ue();else if(typeof Ue=="string"){var _t=hn(Ue,c);typeof _t=="function"&&_t()}}}var JR="callback",ZR="expired-callback",eN="sitekey",SB="size";function tN(s,f){for(var g=0;g<s.l.length;g++)try{s.l[g](f)}catch{}}function TB(s,f){Ce(s.l,function(g){return g==f})}function wS(s,f){return s.h.push(f),f.oa(function(){J(s.h,f)}),f}t=yS.prototype,t.Ia=function(){var s=this;return this.f?this.f:this.f=wS(this,st().then(function(){if(ol()&&!zi())return os();throw new D("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(f){return s.g=f,xt(s.s,Sf,{})}).then(function(f){s.a[eN]=f.recaptchaSiteKey}).o(function(f){throw s.f=null,f}))},t.render=function(){E0(this);var s=this;return wS(this,this.Ia().then(function(){if(s.c===null){var f=s.v;if(!s.i){var g=Rc(f);f=Pc("DIV"),g.appendChild(f)}s.c=s.g.render(f,s.a)}return s.c}))},t.verify=function(){E0(this);var s=this;return wS(this,this.render().then(function(f){return new It(function(g){var S=s.g.getResponse(f);if(S)g(S);else{var P=function(q){q&&(TB(s,P),g(q))};s.l.push(P),s.i&&s.g.execute(s.c)}})}))},t.reset=function(){E0(this),this.c!==null&&this.g.reset(this.c)};function E0(s){if(s.J)throw new D("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){E0(this),this.J=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=Rc(this.v);for(var f;f=s.firstChild;)s.removeChild(f)}};function _S(s,f,g){var S=!1;try{this.b=g||at.app()}catch{throw new D("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)g=this.b.options.apiKey;else throw new D("invalid-api-key");var P=this,q=null;try{q=this.b.auth().Ga()}catch{}try{S=this.b.auth().settings.appVerificationDisabledForTesting}catch{}q=at.SDK_VERSION?Za(at.SDK_VERSION,q):null,yS.call(this,g,s,f,function(){try{var Y=P.b.auth().la()}catch{Y=null}return Y},q,G(ee),S)}O(_S,yS);function nN(s,f,g,S){e:{g=Array.prototype.slice.call(g);for(var P=0,q=!1,Y=0;Y<f.length;Y++)if(f[Y].optional)q=!0;else{if(q)throw new D("internal-error","Argument validator encountered a required argument after an optional argument.");P++}if(q=f.length,g.length<P||q<g.length)S="Expected "+(P==q?P==1?"1 argument":P+" arguments":P+"-"+q+" arguments")+" but got "+g.length+".";else{for(P=0;P<g.length;P++)if(q=f[P].optional&&g[P]===void 0,!f[P].M(g[P])&&!q){if(f=f[P],0>P||P>=rN.length)throw new D("internal-error","Argument validator received an unsupported number of arguments.");g=rN[P],S=(S?"":g+" argument ")+(f.name?'"'+f.name+'" ':"")+"must be "+f.K+".";break e}S=null}}if(S)throw new D("argument-error",s+" failed: "+S)}var rN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ot(s,f){return{name:s||"",K:"a valid string",optional:!!f,M:function(g){return typeof g=="string"}}}function bS(s,f){return{name:s||"",K:"a boolean",optional:!!f,M:function(g){return typeof g=="boolean"}}}function Qn(s,f){return{name:s||"",K:"a valid object",optional:!!f,M:I}}function $d(s,f){return{name:s||"",K:"a function",optional:!!f,M:function(g){return typeof g=="function"}}}function ya(s,f){return{name:s||"",K:"null",optional:!!f,M:function(g){return g===null}}}function IB(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function CB(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof _s)}}}function xB(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof at.app.App)}}}function Gl(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(f){if(!f)return!1;var g=!s||f.providerId===s;return!(!f.ka||!g)}}}function iN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.tb:!1}}}function Yd(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function ES(s,f){return I(s)&&typeof s.type=="string"&&s.type===f&&typeof s.Ha=="function"}function oN(s){return I(s)&&typeof s.uid=="string"}function S0(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function Vn(s,f,g,S){return{name:g||"",K:s.K+" or "+f.K,optional:!!S,M:function(P){return s.M(P)||f.M(P)}}}function kn(s,f){for(var g in f){var S=f[g].name;s[S]=aN(S,s[g],f[g].j)}}function sN(s,f){for(var g in f){var S=f[g].name;S!==g&&Object.defineProperty(s,S,{get:k(function(P){return this[P]},g),set:k(function(P,q,Y,fe){nN(P,[Y],[fe],!0),this[q]=fe},S,g,f[g].lb),enumerable:!0})}}function zn(s,f,g,S){s[f]=aN(f,g,S)}function aN(s,f,g){function S(){var Y=Array.prototype.slice.call(arguments);return nN(P,g,Y),f.apply(this,Y)}if(!g)return f;var P=kB(s),q;for(q in f)S[q]=f[q];for(q in f.prototype)S.prototype[q]=f.prototype[q];return S}function kB(s){return s=s.split("."),s[s.length-1]}kn(_s.prototype,{kb:{name:"applyActionCode",j:[ot("code")]},Sa:{name:"checkActionCode",j:[ot("code")]},ob:{name:"confirmPasswordReset",j:[ot("code"),ot("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ot("email"),ot("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ot("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ot("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Vn(Qn(),$d(),"nextOrObserver"),$d("opt_error",!0),$d("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Vn(Qn(),$d(),"nextOrObserver"),$d("opt_error",!0),$d("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ot("email"),Vn(Qn("opt_actionCodeSettings",!0),ya(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ot("email"),Qn("actionCodeSettings")]},yb:{name:"setPersistence",j:[ot("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Gl()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Gl()]},Tc:{name:"signInWithCustomToken",j:[ot("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ot("email"),ot("password")]},Vc:{name:"signInWithEmailLink",j:[ot("email"),ot("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ot("phoneNumber"),S0()]},Xc:{name:"signInWithPopup",j:[Yd()]},Yc:{name:"signInWithRedirect",j:[Yd()]},dd:{name:"updateCurrentUser",j:[Vn(function(s){return{name:"user",K:"an instance of Firebase User",optional:!1,M:function(f){return!!(f&&f instanceof ho)}}}(),ya(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ot(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ot("url"),Qn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ot("code")]}}),sN(_s.prototype,{lc:{name:"languageCode",lb:Vn(ot(),ya(),"languageCode")},ti:{name:"tenantId",lb:Vn(ot(),ya(),"tenantId")}}),_s.Persistence=Zt,_s.Persistence.LOCAL="local",_s.Persistence.SESSION="session",_s.Persistence.NONE="none",kn(ho.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[bS("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[bS("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Gl()]},rb:{name:"linkWithCredential",j:[Gl()]},Dc:{name:"linkWithPhoneNumber",j:[ot("phoneNumber"),S0()]},Ec:{name:"linkWithPopup",j:[Yd()]},Fc:{name:"linkWithRedirect",j:[Yd()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Gl()]},ub:{name:"reauthenticateWithCredential",j:[Gl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ot("phoneNumber"),S0()]},Nc:{name:"reauthenticateWithPopup",j:[Yd()]},Oc:{name:"reauthenticateWithRedirect",j:[Yd()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Vn(Qn("opt_actionCodeSettings",!0),ya(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ot(null,!0)]},cd:{name:"unlink",j:[ot("provider")]},Cb:{name:"updateEmail",j:[ot("email")]},Db:{name:"updatePassword",j:[ot("password")]},ed:{name:"updatePhoneNumber",j:[Gl("phone")]},Eb:{name:"updateProfile",j:[Qn("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ot("email"),Vn(Qn("opt_actionCodeSettings",!0),ya(null,!0),"opt_actionCodeSettings",!0)]}}),kn(Kd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kn(lv.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kn(It.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sN(CR.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:bS("appVerificationDisabledForTesting")}}),kn(jE.prototype,{confirm:{name:"confirm",j:[ot("verificationCode")]}}),zn(Zs,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var f,g=[Bw,ds,ta,jw],S=0;S<g.length;S++)if(f=g[S](s))return f;return null},[Vn(ot(),Qn(),"json")]),zn(Bn,"credential",function(s,f){return new hs(s,f)},[ot("email"),ot("password")]),kn(hs.prototype,{w:{name:"toJSON",j:[ot(null,!0)]}}),kn(cs.prototype,{Ca:{name:"addScope",j:[ot("scope")]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),zn(cs,"credential",fd,[Vn(ot(),Qn(),"token")]),zn(Bn,"credentialWithLink",pd,[ot("email"),ot("emailLink")]),kn(fs.prototype,{Ca:{name:"addScope",j:[ot("scope")]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),zn(fs,"credential",hd,[Vn(ot(),Qn(),"token")]),kn(qi.prototype,{Ca:{name:"addScope",j:[ot("scope")]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),zn(qi,"credential",Ii,[Vn(ot(),Vn(Qn(),ya()),"idToken"),Vn(ot(),ya(),"accessToken",!0)]),kn(Gi.prototype,{Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),zn(Gi,"credential",dd,[Vn(ot(),Qn(),"token"),ot("secret",!0)]),kn(Yn.prototype,{Ca:{name:"addScope",j:[ot("scope")]},credential:{name:"credential",j:[Vn(ot(),Vn(Qn(),ya()),"optionsOrIdToken"),Vn(ot(),ya(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),kn(Lo.prototype,{w:{name:"toJSON",j:[ot(null,!0)]}}),kn(ao.prototype,{w:{name:"toJSON",j:[ot(null,!0)]}}),zn(Fo,"credential",sf,[ot("verificationId"),ot("verificationCode")]),kn(Fo.prototype,{gb:{name:"verifyPhoneNumber",j:[Vn(ot(),function(s,f){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(g){return g?g.session&&g.phoneNumber?ES(g.session,gl)&&typeof g.phoneNumber=="string":g.session&&g.multiFactorHint?ES(g.session,ls)&&oN(g.multiFactorHint):g.session&&g.multiFactorUid?ES(g.session,ls)&&typeof g.multiFactorUid=="string":g.phoneNumber?typeof g.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),S0()]}}),kn(wr.prototype,{w:{name:"toJSON",j:[ot(null,!0)]}}),kn(D.prototype,{toJSON:{name:"toJSON",j:[ot(null,!0)]}}),kn(_l.prototype,{toJSON:{name:"toJSON",j:[ot(null,!0)]}}),kn(ra.prototype,{toJSON:{name:"toJSON",j:[ot(null,!0)]}}),kn(zE.prototype,{toJSON:{name:"toJSON",j:[ot(null,!0)]}}),kn(VE.prototype,{Rc:{name:"resolveSignIn",j:[iN()]}}),kn(HE.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[iN(),ot("displayName",!0)]},bd:{name:"unenroll",j:[Vn({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:oN},ot(),"multiFactorInfoIdentifier")]}}),kn(_S.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),zn(Ao,"parseLink",Vr,[ot("link")]),zn(dS,"assertion",function(s){return new NR(s)},[Gl("phone")]),function(){if(typeof at<"u"&&at.INTERNAL&&at.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ti,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Xs,VERIFY_AND_CHANGE_EMAIL:ss,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:_s,AuthCredential:Zs,Error:D};zn(s,"EmailAuthProvider",Bn,[]),zn(s,"FacebookAuthProvider",cs,[]),zn(s,"GithubAuthProvider",fs,[]),zn(s,"GoogleAuthProvider",qi,[]),zn(s,"TwitterAuthProvider",Gi,[]),zn(s,"OAuthProvider",Yn,[ot("providerId")]),zn(s,"SAMLAuthProvider",of,[ot("providerId")]),zn(s,"PhoneAuthProvider",Fo,[CB()]),zn(s,"RecaptchaVerifier",_S,[Vn(ot(),IB(),"recaptchaContainer"),Qn("recaptchaParameters",!0),xB()]),zn(s,"ActionCodeURL",Ao,[]),zn(s,"PhoneMultiFactorGenerator",dS,[]),at.INTERNAL.registerComponent({name:"auth",instanceFactory:function(f){return f=f.getProvider("app").getImmediate(),new _s(f)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(f){f.getProvider("auth-internal").initialize()}}),at.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(f){return f=f.getProvider("auth").getImmediate(),{getUid:C(f.getUid,f),getToken:C(f.nc,f),addAuthTokenListener:C(f.cc,f),removeAuthTokenListener:C(f.Pc,f)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),at.registerVersion("@firebase/auth","0.16.8"),at.INTERNAL.extendNamespace({User:ho})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var WV={},HV="@firebase/database",qV="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IF="";function CF(t){IF=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GV=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fr(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qv(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KV=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return bo(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xF=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new GV(e)}}catch{}return new KV},Hf=xF("localStorage"),eC=xF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp=new wh("@firebase/database"),kF=function(){var t=1;return function(){return t++}}(),AF=function(t){var e=cV(t),n=new sV;n.update(e);var r=n.digest();return Ob.encodeByteArray(r)},ky=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=ky.apply(null,i):typeof i=="object"?n+=fr(i):n+=i,n+=" "}return n},Zf=null,RN=!0,RF=function(t,e){qe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(fp.logLevel=Lt.VERBOSE,Zf=fp.log.bind(fp),e&&eC.set("logging_enabled",!0)):typeof t=="function"?Zf=t:(Zf=null,eC.remove("logging_enabled"))},Nr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(RN===!0&&(RN=!1,Zf===null&&eC.get("logging_enabled")===!0&&RF(!0)),Zf){var n=ky.apply(null,t);Zf(n)}},Ay=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Nr.apply(void 0,Ct([t],$r(e)))}},tC=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+ky.apply(void 0,Ct([],$r(t)));fp.error(n)},Ma=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+ky.apply(void 0,Ct([],$r(t)));throw fp.error(n),new Error(n)},Xr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+ky.apply(void 0,Ct([],$r(t)));fp.warn(n)},$V=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Db=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},YV=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Au="[MIN_NAME]",Fa="[MAX_NAME]",_h=function(t,e){if(t===e)return 0;if(t===Au||e===Fa)return-1;if(e===Au||t===Fa)return 1;var n=x_(t),r=x_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},XV=function(t,e){return t===e?0:t<e?-1:1},fv=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fr(e))},Nx=function(t){if(typeof t!="object"||t===null)return fr(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=fr(e[i]),r+=":",r+=Nx(t[e[i]]);return r+="}",r},NF=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function pr(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var OF=function(t){qe(!Db(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,u,c;t===0?(o=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();var p=d.join(""),v="";for(c=0;c<64;c+=8){var y=parseInt(p.substr(c,8),2).toString(16);y.length===1&&(y="0"+y),v=v+y}return v.toLowerCase()},QV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},JV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ZV(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var e9=new RegExp("^-?(0*)\\d{1,10}$"),PF=-2147483648,Ox=2147483647,x_=function(t){if(e9.test(t)){var e=Number(t);if(e>=PF&&e<=Ox)return e}return null},im=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Xr("Exception was thrown by user callback.",n),e},Math.floor(0))}},t9=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pv=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n9=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){Xr('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r9=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xr(e)},t}(),Dv=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Px="5",DF="v",LF="s",MF="r",FF="f",UF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jF="ls",i9="p",nC="ac",BF="websocket",VF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dx=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=!1),a===void 0&&(a=""),u===void 0&&(u=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hf.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hf.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function o9(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function zF(t,e,n){qe(typeof e=="string","typeof type must == string"),qe(typeof n=="object","typeof params must == object");var r;if(e===BF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===VF)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);o9(t)&&(n.ns=t.namespace);var i=[];return pr(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s9=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),bo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return gF(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NS={},OS={};function Lx(t){var e=t.toString();return NS[e]||(NS[e]=new s9),NS[e]}function a9(t,e){var n=t.toString();return OS[n]||(OS[n]=e()),OS[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u9=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var u=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var c=function(p){u[p]&&im(function(){r.onMessage_(u[p])})},d=0;d<u.length;++d)c(d);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NN="start",l9="close",c9="pLPCommand",f9="pRTLPCB",WF="id",HF="pw",qF="ser",h9="cb",d9="seg",p9="ts",m9="d",g9="dframe",GF=1870,KF=30,v9=GF-KF,y9=25e3,w9=3e4,Mx=function(){function t(e,n,r,i,o,a,u){var c=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ay(e),this.stats_=Lx(n),this.urlFn=function(d){return c.appCheckToken&&(d[nC]=c.appCheckToken),zF(n,VF,d)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new u9(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(w9)),YV(function(){if(!r.isClosed_){r.scriptTagHolder=new _9(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=$r(a,5),d=c[0],p=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,d===NN)r.id=p,r.password=v;else if(d===l9)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+d)},function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=$r(a,2),d=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(d,p)},function(){r.onClosed_()},r.urlFn);var i={};i[NN]="t",i[qF]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[h9]=r.scriptTagHolder.uniqueCallbackIdentifier),i[DF]=Px,r.transportSessionId&&(i[LF]=r.transportSessionId),r.lastSessionId&&(i[jF]=r.lastSessionId),r.applicationId&&(i[i9]=r.applicationId),r.appCheckToken&&(i[nC]=r.appCheckToken),typeof location<"u"&&location.hostname&&UF.test(location.hostname)&&(i[MF]=FF);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!QV()&&!JV()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=fr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=mF(n),i=NF(r,v9),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[g9]="t",r[WF]=e,r[HF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=fr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),_9=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kF(),window[c9+this.uniqueCallbackIdentifier]=e,window[f9+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";<\/script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){Nr("frame writing exception"),c.stack&&Nr(c.stack),Nr(c)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||Nr("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[WF]=this.myID,e[HF]=this.myPW,e[qF]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+KF+r.length<=GF){var a=this.pendingSegs.shift();r=r+"&"+d9+i+"="+a.seg+"&"+p9+i+"="+a.ts+"&"+m9+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(y9)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Nr("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b9=16384,E9=45e3,k_=null;typeof MozWebSocket<"u"?k_=MozWebSocket:typeof WebSocket<"u"&&(k_=WebSocket);var ap=function(){function t(e,n,r,i,o,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ay(this.connId),this.stats_=Lx(n),this.connURL=t.connectionURL_(n,a,u,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[DF]=Px,typeof location<"u"&&location.hostname&&UF.test(location.hostname)&&(o[MF]=FF),n&&(o[LF]=n),r&&(o[jF]=r),i&&(o[nC]=i),zF(e,BF,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hf.set("previous_websocket_failure",!0);try{var i,o,a,u;if(!X8()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new k_(this.connURL,[],o)}}catch(d){this.log_("Error instantiating WebSocket.");var c=d.message||d.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(d){r.handleIncomingFrame(d)},this.mySock.onerror=function(d){r.log_("WebSocket error.  Closing connection.");var p=d.message||d.data;p&&r.log_(p),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&k_!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return Hf.isInMemoryStorage||Hf.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){Hf.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Qv(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(qe(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=fr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=NF(n,b9);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(E9))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S9=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Mx,ap]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ap.isAvailable(),o=i&&!ap.previouslyFailed();if(e.webSocketOnly&&(i||Xr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ap];else{var a=this.transports_=[];try{for(var u=Lr(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var d=c.value;d&&d.isAvailable()&&a.push(d)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T9=6e4,I9=5e3,C9=10*1024,x9=100*1024,PS="t",ON="d",k9="s",PN="r",A9="e",DN="o",LN="a",MN="n",FN="p",R9="h",$F=function(){function t(e,n,r,i,o,a,u,c,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ay("c:"+this.id+":"),this.transportManager_=new S9(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Pv(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>x9?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>C9?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(PS in e){var n=e[PS];n===LN?this.upgradeIfSecondaryHealthy_():n===PN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===DN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=fv("t",e),r=fv("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FN,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:LN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:MN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=fv("t",e),r=fv("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=fv(PS,e);if(ON in e){var r=e[ON];if(n===R9)this.onHandshake_(r);else if(n===MN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===k9?this.onConnectionShutdown_(r):n===PN?this.onReset_(r):n===A9?tC("Server Error: "+r):n===DN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tC("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Px!==r&&Xr("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Pv(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(T9))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pv(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(I9))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FN,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YF=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XF=function(){function t(e){this.allowedEvents_=e,this.listeners_={},qe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=Ct([],$r(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){qe(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UN=function(t){Ye(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ix()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return qe(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(XF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jN=32,BN=768,Xt=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function qt(){return new Xt("")}function At(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hc(t){return t.pieces_.length-t.pieceNum_}function pn(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new Xt(t.pieces_,e)}function Fx(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function N9(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Jv(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function QF(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Xt(e,0)}function In(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Xt)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Xt(n,0)}function Rt(t){return t.pieceNum_>=t.pieces_.length}function Oi(t,e){var n=At(t),r=At(e);if(n===null)return e;if(n===r)return Oi(pn(t),pn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function O9(t,e){for(var n=Jv(t,0),r=Jv(e,0),i=0;i<n.length&&i<r.length;i++){var o=_h(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ux(t,e){if(hc(t)!==hc(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Wo(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(hc(t)>hc(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var P9=function(){function t(e,n){this.errorPrefix_=n,this.parts_=Jv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Pb(this.parts_[r]);JF(this)}return t}();function D9(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Pb(e),JF(t)}function L9(t){var e=t.parts_.pop();t.byteLength_-=Pb(e),t.parts_.length>0&&(t.byteLength_-=1)}function JF(t){if(t.byteLength_>BN)throw new Error(t.errorPrefix_+"has a key path longer than "+BN+" bytes ("+t.byteLength_+").");if(t.parts_.length>jN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jN+") or object contains a cycle "+Bf(t))}function Bf(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M9=function(t){Ye(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return qe(n==="visible","Unknown event type: "+n),[this.visible_]},e}(XF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hv=1e3,F9=60*5*1e3,U9=3*1e3,VN=30*1e3,j9=1.3,B9=3e4,V9="server_kill",zN=3,eh=function(t){Ye(e,t);function e(n,r,i,o,a,u,c,d){var p=t.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=o,p.onServerInfoUpdate_=a,p.authTokenProvider_=u,p.appCheckTokenProvider_=c,p.authOverride_=d,p.id=e.nextPersistentConnectionId_++,p.log_=Ay("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=hv,p.maxReconnectDelay_=F9,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return M9.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&UN.getInstance().on("online",p.onOnline_,p),p}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(fr(a)),qe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new Pr,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(c){var d=c.d;c.s==="ok"?(r.onDataUpdate_(o.p,d,!1,null),i.resolve(d)):i.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var u=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[u];c===void 0||a!==c||(delete r.outstandingGets_[u],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},U9),this.connected_&&this.sendGet_(u),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,u=n._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),qe(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),qe(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");var c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(u).set(a,c),this.connected_&&this.sendListen_(c)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var u={p:o},c="q";n.tag&&(u.q=i._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(c,u,function(d){var p=d.d,v=d.s;e.warnOnListenWarnings_(p,i);var y=r.listens.get(o)&&r.listens.get(o).get(a);y===n&&(r.log_("listen response",d),v!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(v,p))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&bo(n,"w")){var i=sh(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Xr("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||iV(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VN)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=rV(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var u=a.s,c=a.d||"error";n.authToken_===r&&(u==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(u,c))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),qe(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},u="n";o&&(a.q=i,a.t=o),this.sendRequest(u,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(u){o&&setTimeout(function(){o(u.s,u.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var u={p:r,d:i};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:n,request:u,onComplete:o}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(u){r.log_(i+" response",u),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(u.s,u.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var u=o.d;r.log_("reportStats","Error sending stats: "+u)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+fr(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):tC("Unrecognized action received from server: "+fr(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;qe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hv,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=hv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>B9&&(this.reconnectDelay_=hv),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*j9)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c,d,p,v,y,w,E,b,I=this;return ge(this,function(T){switch(T.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,d=function(){c?c.close():(u=!0,i())},p=function(R){qe(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(R)},this.realtime_={close:d,sendRequest:p},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return y=$r.apply(void 0,[T.sent(),2]),w=y[0],E=y[1],u?Nr("getToken() completed but was canceled"):(Nr("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=E&&E.token,c=new $F(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(R){Xr(R+" ("+I.repoInfo_.toString()+")"),I.interrupt(V9)},a)),[3,4];case 3:return b=T.sent(),this.log_("Failed to get token: "+b),u||(this.repoInfo_.nodeAdmin&&Xr(b),d()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){Nr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){Nr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],JI(this.interruptReasons_)&&(this.reconnectDelay_=hv,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return Nx(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new Xt(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){Nr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zN&&(this.reconnectDelay_=VN,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){Nr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zN&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=Lr(this.listens.values()),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var d=(i=void 0,Lr(c.values())),p=d.next();!p.done;p=d.next()){var v=p.value;this.sendListen_(v)}}catch(E){i={error:E}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(E){n={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var y=0;y<this.outstandingPuts_.length;y++)this.outstandingPuts_[y]&&this.sendPut_(y);for(;this.onDisconnectRequestQueue_.length;){var w=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(w.action,w.pathString,w.data,w.onComplete)}for(var y=0;y<this.outstandingGets_.length;y++)this.outstandingGets_[y]&&this.sendGet_(y)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+IF.replace(/\./g,"-")]=1,Ix()?n["framework.cordova"]=1:yF()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=UN.getInstance().currentlyOnline();return JI(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(YF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lb=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new Ft(Au,e),i=new Ft(Au,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return Ft.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C0,ZF=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return C0},set:function(n){C0=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return _h(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw nm("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return Ft.MIN},e.prototype.maxPost=function(){return new Ft(Fa,C0)},e.prototype.makePost=function(n,r){return qe(typeof n=="string","KeyIndex indexValue must always be a string."),new Ft(n,C0)},e.prototype.toString=function(){return".key"},e}(Lb),Ra=new ZF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x0=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),Cs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??_u.EMPTY_NODE,this.right=o??_u.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return _u.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return _u.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),z9=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Cs(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),_u=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Cs.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cs.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new x0(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new x0(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new x0(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new x0(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new z9,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e){return _h(t.name,e.name)}function jx(t,e){return _h(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rC;function H9(t){rC=t}var e4=function(t){return typeof t=="number"?"number:"+OF(t):"string:"+t},t4=function(t){if(t.isLeafNode()){var e=t.val();qe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bo(e,".sv"),"Priority must be a string or number.")}else qe(t===rC||t.isEmpty(),"priority of unexpected type.");qe(t===rC||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WN,Sp=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,qe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),t4(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return WN},set:function(e){WN=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Rt(e)?this:At(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=At(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(qe(r!==".priority"||hc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(pn(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+e4(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=OF(this.value_):e+=this.value_,this.lazyHash_=AF(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(qe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return qe(i>=0,"Unknown leaf type: "+n),qe(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n4,r4;function q9(t){n4=t}function G9(t){r4=t}var K9=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?_h(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Ft.MIN},e.prototype.maxPost=function(){return new Ft(Fa,new Sp("[PRIORITY-POST]",r4))},e.prototype.makePost=function(n,r){var i=n4(n);return new Ft(r,new Sp("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(Lb),gn=new K9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $9=Math.log(2),Y9=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/$9,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),A_=function(t,e,n,r){t.sort(e);var i=function(c,d){var p=d-c,v,y;if(p===0)return null;if(p===1)return v=t[c],y=n?n(v):v,new Cs(y,v.node,Cs.BLACK,null,null);var w=parseInt(p/2,10)+c,E=i(c,w),b=i(w+1,d);return v=t[w],y=n?n(v):v,new Cs(y,v.node,Cs.BLACK,E,b)},o=function(c){for(var d=null,p=null,v=t.length,y=function(T,R){var C=v-T,k=v;v-=T;var O=i(C+1,k),W=t[C],D=n?n(W):W;w(new Cs(D,W.node,R,null,O))},w=function(T){d?(d.left=T,d=T):(p=T,d=T)},E=0;E<c.count;++E){var b=c.nextBitIsOne(),I=Math.pow(2,c.count-(E+1));b?y(I,Cs.BLACK):(y(I,Cs.BLACK),y(I,Cs.RED))}return p},a=new Y9(t.length),u=o(a);return new _u(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DS,dv={},R_=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return qe(gn,"ChildrenNode.ts has not been loaded"),DS=DS||new t({".priority":dv},{".priority":gn}),DS},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=sh(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof _u?n:null},t.prototype.hasIndex=function(e){return bo(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){qe(e!==Ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Ft.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var u;i?u=A_(r,e.getCompare()):u=dv;var c=e.toString(),d=vt({},this.indexSet_);d[c]=e;var p=vt({},this.indexes_);return p[c]=u,new t(p,d)},t.prototype.addToIndexes=function(e,n){var r=this,i=I_(this.indexes_,function(o,a){var u=sh(r.indexSet_,a);if(qe(u,"Missing index implementation for "+a),o===dv)if(u.isDefinedOn(e.node)){for(var c=[],d=n.getIterator(Ft.Wrap),p=d.getNext();p;)p.name!==e.name&&c.push(p),p=d.getNext();return c.push(e),A_(c,u.getCompare())}else return dv;else{var v=n.get(e.name),y=o;return v&&(y=y.remove(new Ft(e.name,v))),y.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=I_(this.indexes_,function(i){if(i===dv)return i;var o=n.get(e.name);return o?i.remove(new Ft(e.name,o)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pv,Et=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&t4(this.priorityNode_),this.children_.isEmpty()&&qe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return pv||(pv=new t(new _u(jx),null,R_.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||pv},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?pv:n},t.prototype.getChild=function(e){var n=At(e);return n===null?this:this.getImmediateChild(n).getChild(pn(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(qe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new Ft(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?pv:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=At(e);if(r===null)return n;qe(At(e)!==".priority"||hc(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(pn(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(gn,function(c,d){n[c]=d.val(e),r++,o&&t.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):o=!1}),!e&&o&&i<2*r){var a=[];for(var u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+e4(this.getPriority().val())+":"),this.forEachChild(gn,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":AF(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new Ft(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new Ft(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new Ft(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,Ft.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,Ft.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ry?-1:0},t.prototype.withIndex=function(e){if(e===Ra||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===Ra||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(gn),i=n.getIterator(gn),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===Ra?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),X9=function(t){Ye(e,t);function e(){return t.call(this,new _u(jx),Et.EMPTY_NODE,R_.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return Et.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Et),Ry=new X9;Object.defineProperties(Ft,{MIN:{value:new Ft(Au,Et.EMPTY_NODE)},MAX:{value:new Ft(Fa,Ry)}});ZF.__EMPTY_NODE=Et.EMPTY_NODE;Sp.__childrenNodeConstructor=Et;H9(Ry);G9(Ry);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q9=!0;function An(t,e){if(e===void 0&&(e=null),t===null)return Et.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),qe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new Sp(n,An(e))}if(!(t instanceof Array)&&Q9){var r=[],i=!1,o=t;if(pr(o,function(d,p){if(d.substring(0,1)!=="."){var v=An(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Ft(d,v)))}}),r.length===0)return Et.EMPTY_NODE;var a=A_(r,W9,function(d){return d.name},jx);if(i){var u=A_(r,gn.getCompare());return new Et(a,An(e),new R_({".priority":u},{".priority":gn}))}else return new Et(a,An(e),R_.Default)}else{var c=Et.EMPTY_NODE;return pr(t,function(d,p){if(bo(t,d)&&d.substring(0,1)!=="."){var v=An(p);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(d,v))}}),c.updatePriority(An(e))}}q9(An);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bx=function(t){Ye(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,qe(!Rt(n)&&At(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?_h(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=An(n),o=Et.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ft(r,o)},e.prototype.maxPost=function(){var n=Et.EMPTY_NODE.updateChild(this.indexPath_,Ry);return new Ft(Fa,n)},e.prototype.toString=function(){return Jv(this.indexPath_,0).join("/")},e}(Lb);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J9=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?_h(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return Ft.MIN},e.prototype.maxPost=function(){return Ft.MAX},e.prototype.makePost=function(n,r){var i=An(n);return new Ft(r,i)},e.prototype.toString=function(){return".value"},e}(Lb),Vx=new J9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iC="-",i4="z",o4=786,Z9=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=Tp.charAt(n%64),n=Math.floor(n/64);qe(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Tp.charAt(e[i]);return qe(a.length===20,"nextPushId: Length should be 20."),a}}(),HN=function(t){if(t===""+Ox)return iC;var e=x_(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<o4)return n.push(iC),n.join("");for(var i=n.length-1;i>=0&&n[i]===i4;)i--;if(i===-1)return Fa;var o=n[i],a=Tp.charAt(Tp.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},qN=function(t){if(t===""+PF)return Au;var e=x_(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===iC?n.length===1?""+Ox:(delete n[n.length-1],n.join("")):(n[n.length-1]=Tp.charAt(Tp.indexOf(n[n.length-1])-1),n.join("")+i4.repeat(o4-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){return{type:"value",snapshotNode:t}}function Ip(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Zv(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ey(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ez(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zx=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){qe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Zv(n,u)):qe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Ip(n,r)):a.trackChildChange(ey(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(gn,function(i,o){n.hasChild(i)||r.trackChildChange(Zv(i,o))}),n.isLeafNode()||n.forEachChild(gn,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(ey(i,o,a))}else r.trackChildChange(Ip(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?Et.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a4=function(){function t(e){this.indexedFilter_=new zx(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new Ft(n,r))||(r=Et.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=Et.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Et.EMPTY_NODE);var o=this;return n.forEachChild(gn,function(a,u){o.matches(new Ft(a,u))||(i=i.updateImmediateChild(a,Et.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tz=function(){function t(e){this.rangedFilter_=new a4(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new Ft(n,r))||(r=Et.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Et.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Et.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var u=o.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:c=this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(u.name,u.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Et.EMPTY_NODE);var d=void 0,p=void 0,v=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var y=this.index_.getCompare();v=function(I,T){return y(T,I)}}else o=i.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,w=!1;o.hasNext();){var u=o.getNext();!w&&v(d,u)<=0&&(w=!0);var c=w&&a<this.limit_&&v(u,p)<=0;c?a++:i=i.updateImmediateChild(u.name,Et.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var u=this.index_.getCompare();a=function(R,C){return u(C,R)}}else a=this.index_.getCompare();var c=e;qe(c.numChildren()===this.limit_,"");var d=new Ft(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(d);if(c.hasChild(n)){for(var y=c.getImmediateChild(n),w=i.getChildAfterChild(this.index_,p,this.reverse_);w!=null&&(w.name===n||c.hasChild(w.name));)w=i.getChildAfterChild(this.index_,w,this.reverse_);var E=w==null?1:a(w,d),b=v&&!r.isEmpty()&&E>=0;if(b)return o!=null&&o.trackChildChange(ey(n,r,y)),c.updateImmediateChild(n,r);o!=null&&o.trackChildChange(Zv(n,y));var I=c.updateImmediateChild(n,Et.EMPTY_NODE),T=w!=null&&this.rangedFilter_.matches(w);return T?(o!=null&&o.trackChildChange(Ip(w.name,w.node)),I.updateImmediateChild(w.name,w.node)):I}else return r.isEmpty()?e:v&&a(p,d)>=0?(o!=null&&(o.trackChildChange(Zv(p.name,p.node)),o.trackChildChange(Ip(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,Et.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u4=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return qe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return qe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Au},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return qe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return qe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fa},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return qe(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===gn},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function nz(t){return t.loadsAllData()?new zx(t.getIndex()):t.hasLimit()?new tz(t):new a4(t)}function rz(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function iz(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function oC(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function oz(t,e,n){var r;if(t.index_===Ra)typeof e=="string"&&(e=HN(e)),r=oC(t,e,n);else{var i=void 0;n==null?i=Fa:i=HN(n),r=oC(t,e,i)}return r.startAfterSet_=!0,r}function sC(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function sz(t,e,n){var r,i;return t.index_===Ra?(typeof e=="string"&&(e=qN(e)),i=sC(t,e,n)):(n==null?r=Au:r=qN(n),i=sC(t,e,r)),i.endBeforeSet_=!0,i}function Mb(t,e){var n=t.copy();return n.index_=e,n}function GN(t){var e={};if(t.isDefault())return e;var n;return t.index_===gn?n="$priority":t.index_===Vx?n="$value":t.index_===Ra?n="$key":(qe(t.index_ instanceof Bx,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fr(n),t.startSet_&&(e.startAt=fr(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+fr(t.indexStartName_))),t.endSet_&&(e.endAt=fr(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+fr(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function KN(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var az=function(t){Ye(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=Ay("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(qe(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);var c=e.getListenId_(n,i),d={};this.listens_[c]=d;var p=GN(n._queryParams);this.restRequest_(u+".json",p,function(v,y){var w=y;if(v===404&&(w=null,v=null),v===null&&a.onDataUpdate_(u,w,!1,i),sh(a.listens_,c)===d){var E;v?v===401?E="permission_denied":E="rest_error:"+v:E="ok",o(E,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=GN(n._queryParams),o=n._path.toString(),a=new Pr;return this.restRequest_(o+".json",i,function(u,c){var d=c;u===404&&(d=null,u=null),u===null?(r.onDataUpdate_(o,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var u=$r(a,2),c=u[0],d=u[1];c&&c.accessToken&&(r.auth=c.accessToken),d&&d.token&&(r.ac=d.token);var p=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+oV(r);o.log_("Sending REST request for "+p);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){o.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);var y=null;if(v.status>=200&&v.status<300){try{y=Qv(v.responseText)}catch{Xr("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,y)}else v.status!==401&&v.status!==404&&Xr("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})},e}(YF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uz=function(){function t(){this.rootNode_=Et.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(){return{value:null,children:new Map}}function om(t,e,n){if(Rt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=At(e);t.children.has(r)||t.children.set(r,N_());var i=t.children.get(r);e=pn(e),om(i,e,n)}}function aC(t,e){if(Rt(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(gn,function(o,a){om(t,new Xt(o),a)}),aC(t,e)}else if(t.children.size>0){var r=At(e);if(e=pn(e),t.children.has(r)){var i=aC(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function uC(t,e,n){t.value!==null?n(e,t.value):lz(t,function(r,i){var o=new Xt(e.toString()+"/"+r);uC(i,o,n)})}function lz(t,e){t.children.forEach(function(n,r){e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l4=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=vt({},e);return this.last_&&pr(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $N=10*1e3,cz=30*1e3,fz=5*60*1e3,hz=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new l4(e);var r=$N+(cz-$N)*Math.random();Pv(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;pr(n,function(o,a){a>0&&bo(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),Pv(this.reportStats_.bind(this),Math.floor(Math.random()*2*fz))},t}();function dz(t,e){t.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ks||(ks={}));function Wx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qx(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pz=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ks.ACK_USER_WRITE,this.source=Wx()}return t.prototype.operationForChild=function(e){if(Rt(this.path)){if(this.affectedTree.value!=null)return qe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Xt(e));return new t(qt(),n,this.revert)}else return qe(At(this.path)===e,"operationForChild called for unrelated child."),new t(pn(this.path),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c4=function(){function t(e,n){this.source=e,this.path=n,this.type=ks.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Rt(this.path)?new t(this.source,qt()):new t(this.source,pn(this.path))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fb=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ks.OVERWRITE}return t.prototype.operationForChild=function(e){return Rt(this.path)?new t(this.source,qt(),this.snap.getImmediateChild(e)):new t(this.source,pn(this.path),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gx=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ks.MERGE}return t.prototype.operationForChild=function(e){if(Rt(this.path)){var n=this.children.subtree(new Xt(e));return n.isEmpty()?null:n.value?new Fb(this.source,qt(),n.value):new t(this.source,qt(),n)}else return qe(At(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,pn(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dc=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(Rt(e))return this.isFullyInitialized()&&!this.filtered_;var n=At(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mz=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function gz(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(ez(a.childName,a.snapshotNode))}),mv(t,i,"child_removed",e,r,n),mv(t,i,"child_added",e,r,n),mv(t,i,"child_moved",o,r,n),mv(t,i,"child_changed",e,r,n),mv(t,i,"value",e,r,n),i}function mv(t,e,n,r,i,o){var a=r.filter(function(u){return u.type===n});a.sort(function(u,c){return yz(t,u,c)}),a.forEach(function(u){var c=vz(t,u,o);i.forEach(function(d){d.respondsTo(u.type)&&e.push(d.createEvent(c,t.query_))})})}function vz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function yz(t,e,n){if(e.childName==null||n.childName==null)throw nm("Should only compare child_ events.");var r=new Ft(e.childName,e.snapshotNode),i=new Ft(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e){return{eventCache:t,serverCache:e}}function Lv(t,e,n,r){return Ub(new dc(e,n,r),t.serverCache)}function f4(t,e,n,r){return Ub(t.eventCache,new dc(e,n,r))}function O_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ah(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LS,wz=function(){return LS||(LS=new _u(XV)),LS},Eo=function(){function t(e,n){n===void 0&&(n=wz()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return pr(e,function(r,i){n=n.set(new Xt(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:qt(),value:this.value};if(Rt(e))return null;var r=At(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(pn(e),n);if(o!=null){var a=In(new Xt(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(Rt(e))return this;var n=At(e),r=this.children.get(n);return r!==null?r.subtree(pn(e)):new t(null)},t.prototype.set=function(e,n){if(Rt(e))return new t(n,this.children);var r=At(e),i=this.children.get(r)||new t(null),o=i.set(pn(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(Rt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=At(e),r=this.children.get(n);if(r){var i=r.remove(pn(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(Rt(e))return this.value;var n=At(e),r=this.children.get(n);return r?r.get(pn(e)):null},t.prototype.setTree=function(e,n){if(Rt(e))return n;var r=At(e),i=this.children.get(r)||new t(null),o=i.setTree(pn(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(qt(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(In(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,qt(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Rt(e))return null;var o=At(e),a=this.children.get(o);return a?a.findOnPath_(pn(e),In(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,qt(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(Rt(e))return this;this.value&&r(n,this.value);var i=At(e),o=this.children.get(i);return o?o.foreachOnPath_(pn(e),In(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(qt(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(In(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tu=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new Eo(null))},t}();function Mv(t,e,n){if(Rt(e))return new Tu(new Eo(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=Oi(i,e);return o=o.updateChild(a,n),new Tu(t.writeTree_.set(i,o))}else{var u=new Eo(n),c=t.writeTree_.setTree(e,u);return new Tu(c)}}function lC(t,e,n){var r=t;return pr(n,function(i,o){r=Mv(r,In(e,i),o)}),r}function YN(t,e){if(Rt(e))return Tu.empty();var n=t.writeTree_.setTree(e,new Eo(null));return new Tu(n)}function cC(t,e){return bh(t,e)!=null}function bh(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Oi(n.path,e)):null}function XN(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gn,function(r,i){e.push(new Ft(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Ft(r,i.value))}),e}function ac(t,e){if(Rt(e))return t;var n=bh(t,e);return n!=null?new Tu(new Eo(n)):new Tu(t.writeTree_.subtree(e))}function fC(t){return t.writeTree_.isEmpty()}function Cp(t,e){return h4(qt(),t.writeTree_,e)}function h4(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(qe(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=h4(In(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(In(t,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t,e){return g4(e,t)}function _z(t,e,n,r,i){qe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Mv(t.visibleWrites,e,n)),t.lastWriteId=r}function bz(t,e,n,r){qe(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=lC(t.visibleWrites,e,n),t.lastWriteId=r}function Ez(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function Sz(t,e){var n=t.allWrites.findIndex(function(d){return d.writeId===e});qe(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&Tz(u,r.path)?i=!1:Wo(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return Iz(t),!0;if(r.snap)t.visibleWrites=YN(t.visibleWrites,r.path);else{var c=r.children;pr(c,function(d){t.visibleWrites=YN(t.visibleWrites,In(r.path,d))})}return!0}else return!1}function Tz(t,e){if(t.snap)return Wo(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Wo(In(t.path,n),e))return!0;return!1}function Iz(t){t.visibleWrites=d4(t.allWrites,Cz,qt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Cz(t){return t.visible}function d4(t,e,n){for(var r=Tu.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)Wo(n,a)?(u=Oi(n,a),r=Mv(r,u,o.snap)):Wo(a,n)&&(u=Oi(a,n),r=Mv(r,qt(),o.snap.getChild(u)));else if(o.children){if(Wo(n,a))u=Oi(n,a),r=lC(r,u,o.children);else if(Wo(a,n))if(u=Oi(a,n),Rt(u))r=lC(r,qt(),o.children);else{var c=sh(o.children,At(u));if(c){var d=c.getChild(pn(u));r=Mv(r,qt(),d)}}}else throw nm("WriteRecord should have .snap or .children")}}return r}function p4(t,e,n,r,i){if(!r&&!i){var o=bh(t.visibleWrites,e);if(o!=null)return o;var a=ac(t.visibleWrites,e);if(fC(a))return n;if(n==null&&!cC(a,qt()))return null;var u=n||Et.EMPTY_NODE;return Cp(a,u)}else{var c=ac(t.visibleWrites,e);if(!i&&fC(c))return n;if(!i&&n==null&&!cC(c,qt()))return null;var d=function(y){return(y.visible||i)&&(!r||!~r.indexOf(y.writeId))&&(Wo(y.path,e)||Wo(e,y.path))},p=d4(t.allWrites,d,e),u=n||Et.EMPTY_NODE;return Cp(p,u)}}function xz(t,e,n){var r=Et.EMPTY_NODE,i=bh(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gn,function(u,c){r=r.updateImmediateChild(u,c)}),r;if(n){var o=ac(t.visibleWrites,e);return n.forEachChild(gn,function(u,c){var d=Cp(ac(o,new Xt(u)),c);r=r.updateImmediateChild(u,d)}),XN(o).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}else{var a=ac(t.visibleWrites,e);return XN(a).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}}function kz(t,e,n,r,i){qe(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=In(e,n);if(cC(t.visibleWrites,o))return null;var a=ac(t.visibleWrites,o);return fC(a)?i.getChild(n):Cp(a,i.getChild(n))}function Az(t,e,n,r){var i=In(e,n),o=bh(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=ac(t.visibleWrites,i);return Cp(a,r.getNode().getImmediateChild(n))}else return null}function Rz(t,e){return bh(t.visibleWrites,e)}function Nz(t,e,n,r,i,o,a){var u,c=ac(t.visibleWrites,e),d=bh(c,qt());if(d!=null)u=d;else if(n!=null)u=Cp(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){for(var p=[],v=a.getCompare(),y=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a),w=y.getNext();w&&p.length<i;)v(w,r)!==0&&p.push(w),w=y.getNext();return p}else return[]}function Oz(){return{visibleWrites:Tu.empty(),allWrites:[],lastWriteId:-1}}function P_(t,e,n,r){return p4(t.writeTree,t.treePath,e,n,r)}function Kx(t,e){return xz(t.writeTree,t.treePath,e)}function QN(t,e,n,r){return kz(t.writeTree,t.treePath,e,n,r)}function D_(t,e){return Rz(t.writeTree,In(t.treePath,e))}function Pz(t,e,n,r,i,o){return Nz(t.writeTree,t.treePath,e,n,r,i,o)}function $x(t,e,n){return Az(t.writeTree,t.treePath,e,n)}function m4(t,e){return g4(In(t.treePath,e),t.writeTree)}function g4(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dz=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;qe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),qe(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ey(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Zv(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Ip(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ey(r,e.snapshotNode,i.oldSnap));else throw nm("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lz=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),v4=new Lz,Yx=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new dc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $x(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ah(this.viewCache_),o=Pz(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t){return{filter:t}}function Fz(t,e){qe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),qe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Uz(t,e,n,r,i){var o=new Dz,a,u;if(n.type===ks.OVERWRITE){var c=n;c.source.fromUser?a=hC(t,e,c.path,c.snap,r,i,o):(qe(c.source.fromServer,"Unknown source."),u=c.source.tagged||e.serverCache.isFiltered()&&!Rt(c.path),a=L_(t,e,c.path,c.snap,r,i,u,o))}else if(n.type===ks.MERGE){var d=n;d.source.fromUser?a=Bz(t,e,d.path,d.children,r,i,o):(qe(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered(),a=dC(t,e,d.path,d.children,r,i,u,o))}else if(n.type===ks.ACK_USER_WRITE){var p=n;p.revert?a=Wz(t,e,p.path,r,i,o):a=Vz(t,e,p.path,p.affectedTree,r,i,o)}else if(n.type===ks.LISTEN_COMPLETE)a=zz(t,e,n.path,r,o);else throw nm("Unknown operation type: "+n.type);var v=o.getChanges();return jz(e,a,v),{viewCache:a,changes:v}}function jz(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=O_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(s4(O_(e)))}}function y4(t,e,n,r,i,o){var a=e.eventCache;if(D_(r,n)!=null)return e;var u=void 0,c=void 0;if(Rt(n))if(qe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var d=ah(e),p=d instanceof Et?d:Et.EMPTY_NODE,v=Kx(r,p);u=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{var y=P_(r,ah(e));u=t.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{var w=At(n);if(w===".priority"){qe(hc(n)===1,"Can't have a priority with additional path components");var E=a.getNode();c=e.serverCache.getNode();var b=QN(r,n,E,c);b!=null?u=t.filter.updatePriority(E,b):u=a.getNode()}else{var I=pn(n),T=void 0;if(a.isCompleteForChild(w)){c=e.serverCache.getNode();var R=QN(r,n,a.getNode(),c);R!=null?T=a.getNode().getImmediateChild(w).updateChild(I,R):T=a.getNode().getImmediateChild(w)}else T=$x(r,w,e.serverCache);T!=null?u=t.filter.updateChild(a.getNode(),w,T,I,i,o):u=a.getNode()}}return Lv(e,u,a.isFullyInitialized()||Rt(n),t.filter.filtersNodes())}function L_(t,e,n,r,i,o,a,u){var c=e.serverCache,d,p=a?t.filter:t.filter.getIndexedFilter();if(Rt(n))d=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);d=p.updateFullNode(c.getNode(),v,null)}else{var y=At(n);if(!c.isCompleteForPath(n)&&hc(n)>1)return e;var w=pn(n),E=c.getNode().getImmediateChild(y),b=E.updateChild(w,r);y===".priority"?d=p.updatePriority(c.getNode(),b):d=p.updateChild(c.getNode(),y,b,w,v4,null)}var I=f4(e,d,c.isFullyInitialized()||Rt(n),p.filtersNodes()),T=new Yx(i,I,o);return y4(t,I,n,i,T,u)}function hC(t,e,n,r,i,o,a){var u=e.eventCache,c,d,p=new Yx(i,e,o);if(Rt(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Lv(e,d,!0,t.filter.filtersNodes());else{var v=At(n);if(v===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),c=Lv(e,d,u.isFullyInitialized(),u.isFiltered());else{var y=pn(n),w=u.getNode().getImmediateChild(v),E=void 0;if(Rt(y))E=r;else{var b=p.getCompleteChild(v);b!=null?Fx(y)===".priority"&&b.getChild(QF(y)).isEmpty()?E=b:E=b.updateChild(y,r):E=Et.EMPTY_NODE}if(w.equals(E))c=e;else{var I=t.filter.updateChild(u.getNode(),v,E,y,p,a);c=Lv(e,I,u.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function JN(t,e){return t.eventCache.isCompleteForChild(e)}function Bz(t,e,n,r,i,o,a){var u=e;return r.foreach(function(c,d){var p=In(n,c);JN(e,At(p))&&(u=hC(t,u,p,d,i,o,a))}),r.foreach(function(c,d){var p=In(n,c);JN(e,At(p))||(u=hC(t,u,p,d,i,o,a))}),u}function ZN(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function dC(t,e,n,r,i,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c=e,d;Rt(n)?d=r:d=new Eo(null).setTree(n,r);var p=e.serverCache.getNode();return d.children.inorderTraversal(function(v,y){if(p.hasChild(v)){var w=e.serverCache.getNode().getImmediateChild(v),E=ZN(t,w,y);c=L_(t,c,new Xt(v),E,i,o,a,u)}}),d.children.inorderTraversal(function(v,y){var w=!e.serverCache.isCompleteForChild(v)&&y.value===void 0;if(!p.hasChild(v)&&!w){var E=e.serverCache.getNode().getImmediateChild(v),b=ZN(t,E,y);c=L_(t,c,new Xt(v),b,i,o,a,u)}}),c}function Vz(t,e,n,r,i,o,a){if(D_(i,n)!=null)return e;var u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Rt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return L_(t,e,n,c.getNode().getChild(n),i,o,u,a);if(Rt(n)){var d=new Eo(null);return c.getNode().forEachChild(Ra,function(v,y){d=d.set(new Xt(v),y)}),dC(t,e,n,d,i,o,u,a)}else return e}else{var p=new Eo(null);return r.foreach(function(v,y){var w=In(n,v);c.isCompleteForPath(w)&&(p=p.set(v,c.getNode().getChild(w)))}),dC(t,e,n,p,i,o,u,a)}}function zz(t,e,n,r,i){var o=e.serverCache,a=f4(e,o.getNode(),o.isFullyInitialized()||Rt(n),o.isFiltered());return y4(t,a,n,r,v4,i)}function Wz(t,e,n,r,i,o){var a;if(D_(r,n)!=null)return e;var u=new Yx(r,e,i),c=e.eventCache.getNode(),d=void 0;if(Rt(n)||At(n)===".priority"){var p=void 0;if(e.serverCache.isFullyInitialized())p=P_(r,ah(e));else{var v=e.serverCache.getNode();qe(v instanceof Et,"serverChildren would be complete if leaf node"),p=Kx(r,v)}p=p,d=t.filter.updateFullNode(c,p,o)}else{var y=At(n),w=$x(r,y,e.serverCache);w==null&&e.serverCache.isCompleteForChild(y)&&(w=c.getImmediateChild(y)),w!=null?d=t.filter.updateChild(c,y,w,pn(n),u,o):e.eventCache.getNode().hasChild(y)?d=t.filter.updateChild(c,y,Et.EMPTY_NODE,pn(n),u,o):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=P_(r,ah(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,o)))}return a=e.serverCache.isFullyInitialized()||D_(r,qt())!=null,Lv(e,d,a,t.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hz=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new zx(r.getIndex()),o=nz(r);this.processor_=Mz(o);var a=n.serverCache,u=n.eventCache,c=i.updateFullNode(Et.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(Et.EMPTY_NODE,u.getNode(),null),p=new dc(c,a.isFullyInitialized(),i.filtersNodes()),v=new dc(d,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ub(v,p),this.eventGenerator_=new mz(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function qz(t){return t.viewCache_.serverCache.getNode()}function Gz(t){return O_(t.viewCache_)}function Kz(t,e){var n=ah(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Rt(e)&&!n.getImmediateChild(At(e)).isEmpty())?n.getChild(e):null}function eO(t){return t.eventRegistrations_.length===0}function $z(t,e){t.eventRegistrations_.push(e)}function tO(t,e,n){var r=[];if(n){qe(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(c){var d=c.createCancelEvent(n,i);d&&r.push(d)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function nO(t,e,n,r){e.type===ks.MERGE&&e.source.queryId!==null&&(qe(ah(t.viewCache_),"We should always have a full cache before handling merges"),qe(O_(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=Uz(t.processor_,i,e,n,r);return Fz(t.processor_,o.viewCache),qe(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,w4(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Yz(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(gn,function(o,a){r.push(Ip(o,a))})}return n.isFullyInitialized()&&r.push(s4(n.getNode())),w4(t,r,n.getNode(),e)}function w4(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return gz(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M_,_4=function(){function t(){this.views=new Map}return t}();function Xz(t){qe(!M_,"__referenceConstructor has already been defined"),M_=t}function Qz(){return qe(M_,"Reference.ts has not been loaded"),M_}function Jz(t){return t.views.size===0}function Xx(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var u=t.views.get(a);return qe(u!=null,"SyncTree gave us an op for an invalid query."),nO(u,e,n,r)}else{var c=[];try{for(var d=Lr(t.views.values()),p=d.next();!p.done;p=d.next()){var u=p.value;c=c.concat(nO(u,e,n,r))}}catch(v){i={error:v}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return c}}function b4(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var u=P_(n,i?r:null),c=!1;u?c=!0:r instanceof Et?(u=Kx(n,r),c=!1):(u=Et.EMPTY_NODE,c=!1);var d=Ub(new dc(u,c,!1),new dc(r,i,!1));return new Hz(e,d)}return a}function Zz(t,e,n,r,i,o){var a=b4(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),$z(a,n),Yz(a,n)}function eW(t,e,n,r){var i,o,a=e._queryIdentifier,u=[],c=[],d=pc(t);if(a==="default")try{for(var p=Lr(t.views.entries()),v=p.next();!v.done;v=p.next()){var y=$r(v.value,2),w=y[0],E=y[1];c=c.concat(tO(E,n,r)),eO(E)&&(t.views.delete(w),E.query._queryParams.loadsAllData()||u.push(E.query))}}catch(b){i={error:b}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}else{var E=t.views.get(a);E&&(c=c.concat(tO(E,n,r)),eO(E)&&(t.views.delete(a),E.query._queryParams.loadsAllData()||u.push(E.query)))}return d&&!pc(t)&&u.push(new(Qz())(e._repo,e._path)),{removed:u,events:c}}function E4(t){var e,n,r=[];try{for(var i=Lr(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function uc(t,e){var n,r,i=null;try{for(var o=Lr(t.views.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i||Kz(u,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function S4(t,e){var n=e._queryParams;if(n.loadsAllData())return Bb(t);var r=e._queryIdentifier;return t.views.get(r)}function T4(t,e){return S4(t,e)!=null}function pc(t){return Bb(t)!=null}function Bb(t){var e,n;try{for(var r=Lr(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F_;function tW(t){qe(!F_,"__referenceConstructor has already been defined"),F_=t}function nW(){return qe(F_,"Reference.ts has not been loaded"),F_}var rW=1,rO=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new Eo(null),this.pendingWriteTree_=Oz(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function Qx(t,e,n,r,i){return _z(t.pendingWriteTree_,e,n,r,i),i?sm(t,new Fb(Wx(),e,n)):[]}function iW(t,e,n,r){bz(t.pendingWriteTree_,e,n,r);var i=Eo.fromObject(n);return sm(t,new Gx(Wx(),e,i))}function oc(t,e,n){n===void 0&&(n=!1);var r=Ez(t.pendingWriteTree_,e),i=Sz(t.pendingWriteTree_,e);if(i){var o=new Eo(null);return r.snap!=null?o=o.set(qt(),!0):pr(r.children,function(a){o=o.set(new Xt(a),!0)}),sm(t,new pz(r.path,o,n))}else return[]}function Ny(t,e,n){return sm(t,new Fb(Hx(),e,n))}function oW(t,e,n){var r=Eo.fromObject(n);return sm(t,new Gx(Hx(),e,r))}function sW(t,e){return sm(t,new c4(Hx(),e))}function aW(t,e,n){var r=Jx(t,n);if(r){var i=Zx(r),o=i.path,a=i.queryId,u=Oi(o,e),c=new c4(qx(a),u);return ek(t,o,c)}else return[]}function pC(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||T4(o,e))){var u=eW(o,e,n,r);Jz(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=u.removed;a=u.events;var d=c.findIndex(function(R){return R._queryParams.loadsAllData()})!==-1,p=t.syncPointTree_.findOnPath(i,function(R,C){return pc(C)});if(d&&!p){var v=t.syncPointTree_.subtree(i);if(!v.isEmpty())for(var y=fW(v),w=0;w<y.length;++w){var E=y[w],b=E.query,I=x4(t,E);t.listenProvider_.startListening(Fv(b),U_(t,b),I.hashFn,I.onComplete)}}if(!p&&c.length>0&&!r)if(d){var T=null;t.listenProvider_.stopListening(Fv(e),T)}else c.forEach(function(R){var C=t.queryToTagMap.get(zb(R));t.listenProvider_.stopListening(Fv(R),C)});hW(t,c)}return a}function uW(t,e,n,r){var i=Jx(t,r);if(i!=null){var o=Zx(i),a=o.path,u=o.queryId,c=Oi(a,e),d=new Fb(qx(u),c,n);return ek(t,a,d)}else return[]}function lW(t,e,n,r){var i=Jx(t,r);if(i){var o=Zx(i),a=o.path,u=o.queryId,c=Oi(a,e),d=Eo.fromObject(n),p=new Gx(qx(u),c,d);return ek(t,a,p)}else return[]}function iO(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(b,I){var T=Oi(b,r);i=i||uc(I,T),o=o||pc(I)});var a=t.syncPointTree_.get(r);a?(o=o||pc(a),i=i||uc(a,qt())):(a=new _4,t.syncPointTree_=t.syncPointTree_.set(r,a));var u;if(i!=null)u=!0;else{u=!1,i=Et.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild(function(b,I){var T=uc(I,qt());T&&(i=i.updateImmediateChild(b,T))})}var d=T4(a,e);if(!d&&!e._queryParams.loadsAllData()){var p=zb(e);qe(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");var v=dW();t.queryToTagMap.set(p,v),t.tagToQueryMap.set(v,p)}var y=jb(t.pendingWriteTree_,r),w=Zz(a,e,n,y,i,u);if(!d&&!o){var E=S4(a,e);w=w.concat(pW(t,e,E))}return w}function Vb(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,u){var c=Oi(a,e),d=uc(u,c);if(d)return d});return p4(i,e,o,n,r)}function cW(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(d,p){var v=Oi(d,n);r=r||uc(p,v)});var i=t.syncPointTree_.get(n);i?r=r||uc(i,qt()):(i=new _4,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new dc(r,!0,!1):null,u=jb(t.pendingWriteTree_,e._path),c=b4(i,e,u,o?a.getNode():Et.EMPTY_NODE,o);return Gz(c)}function sm(t,e){return I4(e,t.syncPointTree_,null,jb(t.pendingWriteTree_,qt()))}function I4(t,e,n,r){if(Rt(t.path))return C4(t,e,n,r);var i=e.get(qt());n==null&&i!=null&&(n=uc(i,qt()));var o=[],a=At(t.path),u=t.operationForChild(a),c=e.children.get(a);if(c&&u){var d=n?n.getImmediateChild(a):null,p=m4(r,a);o=o.concat(I4(u,c,d,p))}return i&&(o=o.concat(Xx(i,t,r,n))),o}function C4(t,e,n,r){var i=e.get(qt());n==null&&i!=null&&(n=uc(i,qt()));var o=[];return e.children.inorderTraversal(function(a,u){var c=n?n.getImmediateChild(a):null,d=m4(r,a),p=t.operationForChild(a);p&&(o=o.concat(C4(p,u,c,d)))}),i&&(o=o.concat(Xx(i,t,r,n))),o}function x4(t,e){var n=e.query,r=U_(t,n);return{hashFn:function(){var i=qz(e)||Et.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?aW(t,n._path,r):sW(t,n._path);var o=ZV(i,n);return pC(t,n,null,o)}}}function U_(t,e){var n=zb(e);return t.queryToTagMap.get(n)}function zb(t){return t._path.toString()+"$"+t._queryIdentifier}function Jx(t,e){return t.tagToQueryMap.get(e)}function Zx(t){var e=t.indexOf("$");return qe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Xt(t.substr(0,e))}}function ek(t,e,n){var r=t.syncPointTree_.get(e);qe(r,"Missing sync point for query tag that we're tracking");var i=jb(t.pendingWriteTree_,e);return Xx(r,n,i,null)}function fW(t){return t.fold(function(e,n,r){if(n&&pc(n)){var i=Bb(n);return[i]}else{var o=[];return n&&(o=E4(n)),pr(r,function(a,u){o=o.concat(u)}),o}})}function Fv(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(nW())(t._repo,t._path):t}function hW(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=zb(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function dW(){return rW++}function pW(t,e,n){var r=e._path,i=U_(t,e),o=x4(t,n),a=t.listenProvider_.startListening(Fv(e),i,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(i)qe(!pc(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(v,y,w){if(!Rt(v)&&y&&pc(y))return[Bb(y).query];var E=[];return y&&(E=E.concat(E4(y).map(function(b){return b.query}))),pr(w,function(b,I){E=E.concat(I)}),E}),d=0;d<c.length;++d){var p=c[d];t.listenProvider_.stopListening(Fv(p),U_(t,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mW=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),gW=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=In(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Vb(this.syncTree_,this.path_)},t}(),vW=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},oO=function(t,e,n){if(!t||typeof t!="object")return t;if(qe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return yW(t[".sv"],e,n);if(typeof t[".sv"]=="object")return wW(t[".sv"],e);qe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},yW=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:qe(!1,"Unexpected server value: "+t)}},wW=function(t,e,n){t.hasOwnProperty("increment")||qe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&qe(!1,"Unexpected increment value: "+r);var i=e.node();if(qe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},k4=function(t,e,n,r){return nk(e,new gW(n,t),r)},tk=function(t,e,n){return nk(t,new mW(e),n)};function nk(t,e,n){var r=t.getPriority().val(),i=oO(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,u=oO(a.getValue(),e,n);return u!==a.getValue()||i!==a.getPriority().val()?new Sp(u,An(i)):t}else{var c=t;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new Sp(i))),c.forEachChild(gn,function(d,p){var v=nk(p,e.getImmediateChild(d),n);v!==p&&(o=o.updateImmediateChild(d,v))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rk=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function Wb(t,e){for(var n=e instanceof Xt?e:new Xt(e),r=t,i=At(n);i!==null;){var o=sh(r.node.children,i)||{children:{},childCount:0};r=new rk(i,r,o),n=pn(n),i=At(n)}return r}function Eh(t){return t.node.value}function ik(t,e){t.node.value=e,mC(t)}function A4(t){return t.node.childCount>0}function _W(t){return Eh(t)===void 0&&!A4(t)}function Hb(t,e){pr(t.node.children,function(n,r){e(new rk(n,t,r))})}function R4(t,e,n,r){n&&e(t),Hb(t,function(i){R4(i,e,!0)})}function bW(t,e,n){for(var r=t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Oy(t){return new Xt(t.parent===null?t.name:Oy(t.parent)+"/"+t.name)}function mC(t){t.parent!==null&&EW(t.parent,t.name,t)}function EW(t,e,n){var r=_W(n),i=bo(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,mC(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,mC(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SW=/[\[\].#$\/\u0000-\u001F\u007F]/,TW=/[\[\].#$\u0000-\u001F\u007F]/,MS=10*1024*1024,qb=function(t){return typeof t=="string"&&t.length!==0&&!SW.test(t)},N4=function(t){return typeof t=="string"&&t.length!==0&&!TW.test(t)},IW=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),N4(t)},ty=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Db(t)||t&&typeof t=="object"&&bo(t,".sv")},Ua=function(t,e,n,r){r&&e===void 0||Py(Ji(t,"value"),e,n)},Py=function(t,e,n){var r=n instanceof Xt?new P9(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bf(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bf(r)+" with contents = "+e.toString());if(Db(e))throw new Error(t+"contains "+e.toString()+" "+Bf(r));if(typeof e=="string"&&e.length>MS/3&&Pb(e)>MS)throw new Error(t+"contains a string greater than "+MS+" utf8 bytes "+Bf(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(pr(e,function(a,u){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!qb(a)))throw new Error(t+" contains an invalid key ("+a+") "+Bf(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);D9(r,a),Py(t,u,r),L9(r)}),i&&o)throw new Error(t+' contains ".value" child '+Bf(r)+" in addition to actual children.")}},CW=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=Jv(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!qb(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(O9);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&Wo(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},O4=function(t,e,n,r){var i=Ji(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];pr(e,function(a,u){var c=new Xt(a);if(Py(i,u,In(n,c)),Fx(c)===".priority"&&!ty(u))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),CW(i,o)},ok=function(t,e,n){if(Db(e))throw new Error(Ji(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ty(e))throw new Error(Ji(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},xW=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ji(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Dy=function(t,e,n,r){if(n!==void 0&&!qb(n))throw new Error(Ji(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},ny=function(t,e,n,r){if(!N4(n))throw new Error(Ji(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},kW=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ny(t,e,n)},Ho=function(t,e){if(At(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},P4=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!IW(n))throw new Error(Ji(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},AW=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(Ji(t,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RW=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function Gb(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!Ux(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function sk(t,e,n){Gb(t,n),D4(t,function(r){return Ux(r,e)})}function Xo(t,e,n){Gb(t,n),D4(t,function(r){return Wo(r,e)||Wo(e,r)})}function D4(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(NW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function NW(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();Zf&&Nr("event: "+n.toString()),im(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L4="repo_interrupt",OW=25,PW=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=N_(),this.transactionQueueTree_=new rk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function DW(t,e,n){if(t.stats_=Lx(t.repoInfo_),t.forceRestClient_||t9())t.server_=new az(t.repoInfo_,function(r,i,o,a){sO(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return aO(t,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new eh(t.repoInfo_,e,function(r,i,o,a){sO(t,r,i,o,a)},function(r){aO(t,r)},function(r){MW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=a9(t.repoInfo_,function(){return new hz(t.stats_,t.server_)}),t.infoData_=new uz,t.infoSyncTree_=new rO({startListening:function(r,i,o,a){var u=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(u=Ny(t.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),u},stopListening:function(){}}),ak(t,"connected",!1),t.serverSyncTree_=new rO({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(u,c){var d=a(u,c);Xo(t.eventQueue_,r._path,d)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function M4(t){var e=t.infoData_.getNode(new Xt(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function Ly(t){return vW({timestamp:M4(t)})}function sO(t,e,n,r,i){t.dataUpdateCount++;var o=new Xt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=I_(n,function(y){return An(y)});a=lW(t.serverSyncTree_,o,u,i)}else{var c=An(n);a=uW(t.serverSyncTree_,o,c,i)}else if(r){var d=I_(n,function(y){return An(y)});a=oW(t.serverSyncTree_,o,d)}else{var p=An(n);a=Ny(t.serverSyncTree_,o,p)}var v=o;a.length>0&&(v=xp(t,o)),Xo(t.eventQueue_,v,a)}function LW(t,e){t.interceptServerDataCallback_=e}function aO(t,e){ak(t,"connected",e),e===!1&&jW(t)}function MW(t,e){pr(e,function(n,r){ak(t,n,r)})}function ak(t,e,n){var r=new Xt("/.info/"+e),i=An(n);t.infoData_.updateSnapshot(r,i);var o=Ny(t.infoSyncTree_,r,i);Xo(t.eventQueue_,r,o)}function Kb(t){return t.nextWriteId_++}function FW(t,e){var n=cW(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=An(r).withIndex(e._queryParams.getIndex()),o=Ny(t.serverSyncTree_,e._path,i);return sk(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return am(t,"get for query "+fr(e)+" failed: "+r),Promise.reject(new Error(r))})}function uk(t,e,n,r,i){am(t,"set",{path:e.toString(),value:n,priority:r});var o=Ly(t),a=An(n,r),u=Vb(t.serverSyncTree_,e),c=tk(a,u,o),d=Kb(t),p=Qx(t.serverSyncTree_,e,c,d,!0);Gb(t.eventQueue_,p),t.server_.put(e.toString(),a.val(!0),function(y,w){var E=y==="ok";E||Xr("set at "+e+" failed: "+y);var b=oc(t.serverSyncTree_,d,!E);Xo(t.eventQueue_,e,b),mc(t,i,y,w)});var v=ck(t,e);xp(t,v),Xo(t.eventQueue_,v,[])}function UW(t,e,n,r){am(t,"update",{path:e.toString(),value:n});var i=!0,o=Ly(t),a={};if(pr(n,function(d,p){i=!1,a[d]=k4(In(e,d),An(p),t.serverSyncTree_,o)}),i)Nr("update() called with empty data.  Don't do anything."),mc(t,r,"ok",void 0);else{var u=Kb(t),c=iW(t.serverSyncTree_,e,a,u);Gb(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(d,p){var v=d==="ok";v||Xr("update at "+e+" failed: "+d);var y=oc(t.serverSyncTree_,u,!v),w=y.length>0?xp(t,e):e;Xo(t.eventQueue_,w,y),mc(t,r,d,p)}),pr(n,function(d){var p=ck(t,In(e,d));xp(t,p)}),Xo(t.eventQueue_,e,[])}}function jW(t){am(t,"onDisconnectEvents");var e=Ly(t),n=N_();uC(t.onDisconnect_,qt(),function(i,o){var a=k4(i,o,t.serverSyncTree_,e);om(n,i,a)});var r=[];uC(n,qt(),function(i,o){r=r.concat(Ny(t.serverSyncTree_,i,o));var a=ck(t,i);xp(t,a)}),t.onDisconnect_=N_(),Xo(t.eventQueue_,qt(),r)}function BW(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&aC(t.onDisconnect_,e),mc(t,n,r,i)})}function uO(t,e,n,r){var i=An(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&om(t.onDisconnect_,e,i),mc(t,r,o,a)})}function VW(t,e,n,r,i){var o=An(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,u){a==="ok"&&om(t.onDisconnect_,e,o),mc(t,i,a,u)})}function zW(t,e,n,r){if(JI(n)){Nr("onDisconnect().update() called with empty data.  Don't do anything."),mc(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&pr(n,function(a,u){var c=An(u);om(t.onDisconnect_,In(e,a),c)}),mc(t,r,i,o)})}function WW(t,e,n){var r;At(e._path)===".info"?r=iO(t.infoSyncTree_,e,n):r=iO(t.serverSyncTree_,e,n),sk(t.eventQueue_,e._path,r)}function gC(t,e,n){var r;At(e._path)===".info"?r=pC(t.infoSyncTree_,e,n):r=pC(t.serverSyncTree_,e,n),sk(t.eventQueue_,e._path,r)}function F4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(L4)}function HW(t){t.persistentConnection_&&t.persistentConnection_.resume(L4)}function qW(t,e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(t.statsListener_||(t.statsListener_=new l4(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);pr(n,function(i,o){for(var a=i,u=i.length;u<r+2;u++)a+=" ";console.log(a+o)})}}function GW(t,e){t.stats_.incrementCounter(e),dz(t.statsReporter_,e)}function am(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Nr.apply(void 0,Ct([r],$r(e)))}function mc(t,e,n,r){e&&im(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function KW(t,e,n,r,i,o){am(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:kF(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=lk(t,e,void 0);a.currentInputSnapshot=u;var c=a.update(u.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Py("transaction failed: Data returned ",c,a.path),a.status=0;var d=Wb(t.transactionQueueTree_,e),p=Eh(d)||[];p.push(a),ik(d,p);var v=void 0;if(typeof c=="object"&&c!==null&&bo(c,".priority"))v=sh(c,".priority"),qe(ty(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var y=Vb(t.serverSyncTree_,e)||Et.EMPTY_NODE;v=y.getPriority().val()}var w=Ly(t),E=An(c,v),b=tk(E,u,w);a.currentOutputSnapshotRaw=E,a.currentOutputSnapshotResolved=b,a.currentWriteId=Kb(t);var I=Qx(t.serverSyncTree_,e,b,a.currentWriteId,a.applyLocally);Xo(t.eventQueue_,e,I),$b(t,t.transactionQueueTree_)}}function lk(t,e,n){return Vb(t.serverSyncTree_,e,n)||Et.EMPTY_NODE}function $b(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||Yb(t,e),Eh(e)){var n=j4(t,e);qe(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&$W(t,Oy(e),n)}else A4(e)&&Hb(e,function(i){$b(t,i)})}function $W(t,e,n){for(var r=n.map(function(y){return y.currentWriteId}),i=lk(t,e,r),o=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];qe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var d=Oi(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}var p=o.val(!0),v=e;t.server_.put(v.toString(),p,function(y){am(t,"transaction put response",{path:v.toString(),status:y});var w=[];if(y==="ok"){for(var E=[],b=function(T){n[T].status=2,w=w.concat(oc(t.serverSyncTree_,n[T].currentWriteId)),n[T].onComplete&&E.push(function(){return n[T].onComplete(null,!0,n[T].currentOutputSnapshotResolved)}),n[T].unwatcher()},I=0;I<n.length;I++)b(I);Yb(t,Wb(t.transactionQueueTree_,e)),$b(t,t.transactionQueueTree_),Xo(t.eventQueue_,e,w);for(var I=0;I<E.length;I++)im(E[I])}else{if(y==="datastale")for(var I=0;I<n.length;I++)n[I].status===3?n[I].status=4:n[I].status=0;else{Xr("transaction at "+v.toString()+" failed: "+y);for(var I=0;I<n.length;I++)n[I].status=4,n[I].abortReason=y}xp(t,e)}},a)}function xp(t,e){var n=U4(t,e),r=Oy(n),i=j4(t,n);return YW(t,i,r),r}function YW(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(d){return d.status===0}),a=o.map(function(d){return d.currentWriteId}),u=function(d){var p=e[d],v=Oi(n,p.path),y=!1,w;if(qe(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,w=p.abortReason,i=i.concat(oc(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=OW)y=!0,w="maxretry",i=i.concat(oc(t.serverSyncTree_,p.currentWriteId,!0));else{var E=lk(t,p.path,a);p.currentInputSnapshot=E;var b=e[d].update(E.val());if(b!==void 0){Py("transaction failed: Data returned ",b,p.path);var I=An(b),T=typeof b=="object"&&b!=null&&bo(b,".priority");T||(I=I.updatePriority(E.getPriority()));var R=p.currentWriteId,C=Ly(t),k=tk(I,E,C);p.currentOutputSnapshotRaw=I,p.currentOutputSnapshotResolved=k,p.currentWriteId=Kb(t),a.splice(a.indexOf(R),1),i=i.concat(Qx(t.serverSyncTree_,p.path,k,p.currentWriteId,p.applyLocally)),i=i.concat(oc(t.serverSyncTree_,R,!0))}else y=!0,w="nodata",i=i.concat(oc(t.serverSyncTree_,p.currentWriteId,!0))}Xo(t.eventQueue_,n,i),i=[],y&&(e[d].status=2,function(O){setTimeout(O,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(w==="nodata"?r.push(function(){return e[d].onComplete(null,!1,e[d].currentInputSnapshot)}):r.push(function(){return e[d].onComplete(new Error(w),!1,null)})))},c=0;c<e.length;c++)u(c);Yb(t,t.transactionQueueTree_);for(var c=0;c<r.length;c++)im(r[c]);$b(t,t.transactionQueueTree_)}}function U4(t,e){var n,r=t.transactionQueueTree_;for(n=At(e);n!==null&&Eh(r)===void 0;)r=Wb(r,n),e=pn(e),n=At(e);return r}function j4(t,e){var n=[];return B4(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function B4(t,e,n){var r=Eh(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Hb(e,function(o){B4(t,o,n)})}function Yb(t,e){var n=Eh(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ik(e,n.length>0?n:void 0)}Hb(e,function(o){Yb(t,o)})}function ck(t,e){var n=Oy(U4(t,e)),r=Wb(t.transactionQueueTree_,e);return bW(r,function(i){FS(t,i)}),FS(t,r),R4(r,function(i){FS(t,i)}),n}function FS(t,e){var n=Eh(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(qe(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(qe(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(oc(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?ik(e,void 0):n.length=o+1,Xo(t.eventQueue_,Oy(e),i);for(var a=0;a<r.length;a++)im(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function QW(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Lr(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var u=a.split("=");u.length===2?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Xr("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var vC=function(t,e){var n=JW(t),r=n.namespace;n.domain==="firebase.com"&&Ma(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||$V();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Dx(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new Xt(n.pathString)}},JW=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if(typeof t=="string"){var d=t.indexOf("//");d>=0&&(u=t.substring(0,d-1),t=t.substring(d+2));var p=t.indexOf("/");p===-1&&(p=t.length);var v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(p,v)),p<v&&(i=XW(t.substring(p,v)));var y=QW(t.substring(Math.min(t.length,v)));d=e.indexOf(":"),d>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;var w=e.slice(0,d);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{var E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V4=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+fr(this.snapshot.exportVal())},t}(),z4=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W4=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return qe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZW=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new Pr;return BW(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){Ho("OnDisconnect.remove",this._path);var e=new Pr;return uO(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){Ho("OnDisconnect.set",this._path),Ua("OnDisconnect.set",e,this._path,!1);var n=new Pr;return uO(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){Ho("OnDisconnect.setWithPriority",this._path),Ua("OnDisconnect.setWithPriority",e,this._path,!1),ok("OnDisconnect.setWithPriority",n);var r=new Pr;return VW(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){Ho("OnDisconnect.update",this._path),O4("OnDisconnect.update",e,this._path);var n=new Pr;return zW(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jo=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return Rt(this._path)?null:Fx(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ba(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=KN(this._queryParams),n=Nx(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return KN(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=Tt(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=Ux(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+N9(this._path)},t}();function Xb(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function wc(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ra){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==Au)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==Fa)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===gn){if(e!=null&&!ty(e)||n!=null&&!ty(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(qe(t.getIndex()instanceof Bx||t.getIndex()===Vx,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Qb(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ba=function(t){Ye(e,t);function e(n,r){return t.call(this,n,r,new u4,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=QF(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(Jo),Jb=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new Xt(e),r=uh(this.ref,e);return new t(this._node.getChild(n),r,gn)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,uh(n.ref,i),gn))})},t.prototype.hasChild=function(e){var n=new Xt(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function H4(t,e){return t=Tt(t),t._checkNotDeleted("ref"),e!==void 0?uh(t._root,e):t._root}function lO(t,e){t=Tt(t),t._checkNotDeleted("refFromURL");var n=vC(e,t._repo.repoInfo_.nodeAdmin);P4("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Ma("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),H4(t,n.path.toString())}function uh(t,e){return t=Tt(t),At(t._path)===null?kW("child","path",e):ny("child","path",e),new Ba(t._repo,In(t._path,e))}function eH(t,e){t=Tt(t),Ho("push",t._path),Ua("push",e,t._path,!0);var n=M4(t._repo),r=Z9(n),i=uh(t,r),o=uh(t,r),a;return e!=null?a=fk(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function tH(t){return Ho("remove",t._path),fk(t,null)}function fk(t,e){t=Tt(t),Ho("set",t._path),Ua("set",e,t._path,!1);var n=new Pr;return uk(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function nH(t,e){t=Tt(t),Ho("setPriority",t._path),ok("setPriority",e);var n=new Pr;return uk(t._repo,In(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function rH(t,e,n){if(Ho("setWithPriority",t._path),Ua("setWithPriority",e,t._path,!1),ok("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Pr;return uk(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function iH(t,e){O4("update",e,t._path);var n=new Pr;return UW(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function oH(t){return t=Tt(t),FW(t._repo,t).then(function(e){return new Jb(e,new Ba(t._repo,t._path),t._queryParams.getIndex())})}var q4=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new V4("value",this,new Jb(e.snapshotNode,new Ba(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new z4(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),G4=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new z4(this,e,n):null},t.prototype.createEvent=function(e,n){qe(e.childName!=null,"Child events should have a childName.");var r=uh(new Ba(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new V4(e.type,this,new Jb(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function My(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,u=function(p,v){gC(t._repo,t,d),a(p,v)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new W4(n,o||void 0),d=e==="value"?new q4(c):new G4(e,c);return WW(t._repo,t,d),function(){return gC(t._repo,t,d)}}function yC(t,e,n,r){return My(t,"value",e,n,r)}function cO(t,e,n,r){return My(t,"child_added",e,n,r)}function fO(t,e,n,r){return My(t,"child_changed",e,n,r)}function hO(t,e,n,r){return My(t,"child_moved",e,n,r)}function dO(t,e,n,r){return My(t,"child_removed",e,n,r)}function pO(t,e,n){var r=null,i=n?new W4(n):null;e==="value"?r=new q4(i):e&&(r=new G4(e,i)),gC(t._repo,t,r)}var Os=function(){function t(){}return t}(),K4=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ua("endAt",this._value,n._path,!0);var r=sC(n._queryParams,this._value,this._key);if(Qb(r),wc(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jo(n._repo,n._path,r,n._orderByCalled)},e}(Os);function sH(t,e){return Dy("endAt","key",e),new K4(t,e)}var aH=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ua("endBefore",this._value,n._path,!1);var r=sz(n._queryParams,this._value,this._key);if(Qb(r),wc(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jo(n._repo,n._path,r,n._orderByCalled)},e}(Os);function uH(t,e){return Dy("endBefore","key",e),new aH(t,e)}var $4=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ua("startAt",this._value,n._path,!0);var r=oC(n._queryParams,this._value,this._key);if(Qb(r),wc(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Jo(n._repo,n._path,r,n._orderByCalled)},e}(Os);function lH(t,e){return t===void 0&&(t=null),Dy("startAt","key",e),new $4(t,e)}var cH=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Ua("startAfter",this._value,n._path,!1);var r=oz(n._queryParams,this._value,this._key);if(Qb(r),wc(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Jo(n._repo,n._path,r,n._orderByCalled)},e}(Os);function fH(t,e){return Dy("startAfter","key",e),new cH(t,e)}var hH=function(t){Ye(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jo(n._repo,n._path,rz(n._queryParams,this._limit),n._orderByCalled)},e}(Os);function dH(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new hH(t)}var pH=function(t){Ye(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jo(n._repo,n._path,iz(n._queryParams,this._limit),n._orderByCalled)},e}(Os);function mH(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pH(t)}var gH=function(t){Ye(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){Xb(n,"orderByChild");var r=new Xt(this._path);if(Rt(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new Bx(r),o=Mb(n._queryParams,i);return wc(o),new Jo(n._repo,n._path,o,!0)},e}(Os);function vH(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ny("orderByChild","path",t),new gH(t)}var yH=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Xb(n,"orderByKey");var r=Mb(n._queryParams,Ra);return wc(r),new Jo(n._repo,n._path,r,!0)},e}(Os);function wH(){return new yH}var _H=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Xb(n,"orderByPriority");var r=Mb(n._queryParams,gn);return wc(r),new Jo(n._repo,n._path,r,!0)},e}(Os);function bH(){return new _H}var EH=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Xb(n,"orderByValue");var r=Mb(n._queryParams,Vx);return wc(r),new Jo(n._repo,n._path,r,!0)},e}(Os);function SH(){return new EH}var TH=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(Ua("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new K4(this._value,this._key)._apply(new $4(this._value,this._key)._apply(n))},e}(Os);function IH(t,e){return Dy("equalTo","key",e),new TH(t,e)}function bs(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Tt(t);try{for(var a=Lr(r),u=a.next();!u.done;u=a.next()){var c=u.value;o=c._apply(o)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}Xz(Ba);tW(Ba);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CH="FIREBASE_DATABASE_EMULATOR_HOST",wC={},Y4=!1;function xH(t,e,n,r){t.repoInfo_=new Dx(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function X4(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nr("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=vC(o,i),u=a.repoInfo,c,d=void 0;typeof process<"u"&&(d=WV[CH]),d?(c=!0,o="http://"+d+"?ns="+u.namespace,a=vC(o,i),u=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new Dv(Dv.OWNER):new r9(t.name,t.options,e);P4("Invalid Firebase Database URL",a),Rt(a.path)||Ma("Database URL must point to the root of a Firebase Database (not including a child path).");var v=AH(u,t,p,new n9(t.name,n));return new NH(v,t)}function kH(t,e){var n=wC[e];(!n||n[t.key]!==t)&&Ma("Database "+e+"("+t.repoInfo_+") has already been deleted."),F4(t),delete n[t.key]}function AH(t,e,n,r){var i=wC[e.name];i||(i={},wC[e.name]=i);var o=i[t.toURLString()];return o&&Ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new PW(t,Y4,n,r),i[t.toURLString()]=o,o}function RH(t){Y4=t}var NH=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(DW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ba(this._repo,qt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._rootInternal!==null&&(kH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&Ma("Cannot call "+e+" on a deleted database.")},t}();function OH(t,e,n,r){r===void 0&&(r={}),t=Tt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ma("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ma('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Dv(Dv.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:Tx(r.mockUserToken,t.app.options.projectId);o=new Dv(a)}xH(i,e,n,o)}function PH(t){t=Tt(t),t._checkNotDeleted("goOffline"),F4(t._repo)}function DH(t){t=Tt(t),t._checkNotDeleted("goOnline"),HW(t._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LH={".sv":"timestamp"};function MH(){return LH}function FH(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UH=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function jH(t,e,n){var r;if(t=Tt(t),Ho("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new Pr,a=function(c,d,p){var v=null;c?o.reject(c):(v=new Jb(p,new Ba(t._repo,t._path),gn),o.resolve(new UH(d,v)))},u=yC(t,function(){});return KW(t._repo,t._path,e,a,u,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BH=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){yt("OnDisconnect.cancel",0,1,arguments.length),Rr("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){yt("OnDisconnect.remove",0,1,arguments.length),Rr("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){yt("OnDisconnect.set",1,2,arguments.length),Rr("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){yt("OnDisconnect.setWithPriority",2,3,arguments.length),Rr("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(yt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Xr("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rr("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VH=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return yt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uv=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return yt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return yt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return yt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return yt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return yt("DataSnapshot.child",0,1,arguments.length),e=String(e),ny("DataSnapshot.child","path",e),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return yt("DataSnapshot.hasChild",1,1,arguments.length),ny("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return yt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return yt("DataSnapshot.forEach",1,1,arguments.length),Rr("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return yt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return yt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return yt("DataSnapshot.ref",0,0,arguments.length),new qf(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Q4=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;yt("Query.on",2,4,arguments.length),Rr("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(p,v){n.call(u.context,new Uv(o.database,p),v)};c.userCallback=n,c.context=u.context;var d=(a=u.cancel)===null||a===void 0?void 0:a.bind(u.context);switch(e){case"value":return yC(this._delegate,c,d),n;case"child_added":return cO(this._delegate,c,d),n;case"child_removed":return dO(this._delegate,c,d),n;case"child_changed":return fO(this._delegate,c,d),n;case"child_moved":return hO(this._delegate,c,d),n;default:throw new Error(Ji("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(yt("Query.off",0,3,arguments.length),xW("Query.off",e),Rr("Query.off","callback",n,!0),kN("Query.off","context",r),n){var i=function(){};i.userCallback=n,i.context=r,pO(this._delegate,e,i)}else pO(this._delegate,e)},t.prototype.get=function(){var e=this;return oH(this._delegate).then(function(n){return new Uv(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;yt("Query.once",1,4,arguments.length),Rr("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new Pr,c=function(p,v){var y=new Uv(o.database,p);n&&n.call(a.context,y,v),u.resolve(y)};c.userCallback=n,c.context=a.context;var d=function(p){a.cancel&&a.cancel.call(a.context,p),u.reject(p)};switch(e){case"value":yC(this._delegate,c,d,{onlyOnce:!0});break;case"child_added":cO(this._delegate,c,d,{onlyOnce:!0});break;case"child_removed":dO(this._delegate,c,d,{onlyOnce:!0});break;case"child_changed":fO(this._delegate,c,d,{onlyOnce:!0});break;case"child_moved":hO(this._delegate,c,d,{onlyOnce:!0});break;default:throw new Error(Ji("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return yt("Query.limitToFirst",1,1,arguments.length),new t(this.database,bs(this._delegate,dH(e)))},t.prototype.limitToLast=function(e){return yt("Query.limitToLast",1,1,arguments.length),new t(this.database,bs(this._delegate,mH(e)))},t.prototype.orderByChild=function(e){return yt("Query.orderByChild",1,1,arguments.length),new t(this.database,bs(this._delegate,vH(e)))},t.prototype.orderByKey=function(){return yt("Query.orderByKey",0,0,arguments.length),new t(this.database,bs(this._delegate,wH()))},t.prototype.orderByPriority=function(){return yt("Query.orderByPriority",0,0,arguments.length),new t(this.database,bs(this._delegate,bH()))},t.prototype.orderByValue=function(){return yt("Query.orderByValue",0,0,arguments.length),new t(this.database,bs(this._delegate,SH()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),yt("Query.startAt",0,2,arguments.length),new t(this.database,bs(this._delegate,lH(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),yt("Query.startAfter",0,2,arguments.length),new t(this.database,bs(this._delegate,fH(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),yt("Query.endAt",0,2,arguments.length),new t(this.database,bs(this._delegate,sH(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),yt("Query.endBefore",0,2,arguments.length),new t(this.database,bs(this._delegate,uH(e,n)))},t.prototype.equalTo=function(e,n){return yt("Query.equalTo",1,2,arguments.length),new t(this.database,bs(this._delegate,IH(e,n)))},t.prototype.toString=function(){return yt("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return yt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(yt("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Rr(e,"cancel",i.cancel,!0),i.context=r,kN(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Ji(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new qf(this.database,new Ba(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),qf=function(t){Ye(e,t);function e(n,r){var i=t.call(this,n,new Jo(r._repo,r._path,new u4,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return yt("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return yt("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,uh(this._delegate,n))},e.prototype.getParent=function(){yt("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return yt("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){yt("Reference.set",1,2,arguments.length),Rr("Reference.set","onComplete",r,!0);var i=fk(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(yt("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,Xr("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ho("Reference.update",this._delegate._path),Rr("Reference.update","onComplete",r,!0);var a=iH(this._delegate,n);return r&&a.then(function(){return r(null)},function(u){return r(u)}),a},e.prototype.setWithPriority=function(n,r,i){yt("Reference.setWithPriority",2,3,arguments.length),Rr("Reference.setWithPriority","onComplete",i,!0);var o=rH(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){yt("Reference.remove",0,1,arguments.length),Rr("Reference.remove","onComplete",n,!0);var r=tH(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;yt("Reference.transaction",1,3,arguments.length),Rr("Reference.transaction","transactionUpdate",n,!1),Rr("Reference.transaction","onComplete",r,!0),AW("Reference.transaction","applyLocally",i);var a=jH(this._delegate,n,{applyLocally:i}).then(function(u){return new VH(u.committed,new Uv(o.database,u.snapshot))});return r&&a.then(function(u){return r(null,u.committed,u.snapshot)},function(u){return r(u,!1,null)}),a},e.prototype.setPriority=function(n,r){yt("Reference.setPriority",1,2,arguments.length),Rr("Reference.setPriority","onComplete",r,!0);var i=nH(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;yt("Reference.push",0,2,arguments.length),Rr("Reference.push","onComplete",r,!0);var o=eH(this._delegate,n),a=o.then(function(c){return new e(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var u=new e(this.database,o);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u},e.prototype.onDisconnect=function(){return Ho("Reference.onDisconnect",this._delegate._path),new BH(new ZW(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Q4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j_=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),OH(this._delegate,e,n,r)},t.prototype.ref=function(e){if(yt("database.ref",0,1,arguments.length),e instanceof qf){var n=lO(this._delegate,e.toString());return new qf(this,n)}else{var n=H4(this._delegate,e);return new qf(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";yt(n,1,1,arguments.length);var r=lO(this._delegate,e);return new qf(this,r)},t.prototype.goOffline=function(){return yt("database.goOffline",0,0,arguments.length),PH(this._delegate)},t.prototype.goOnline=function(){return yt("database.goOnline",0,0,arguments.length),DH(this._delegate)},t.ServerValue={TIMESTAMP:MH(),increment:function(e){return FH(e)}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zH=function(){ap.forceDisallow(),Mx.forceAllow()},WH=function(){Mx.forceDisallow()},HH=function(){return ap.isAvailable()},qH=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},GH=function(t,e){qW(t._delegate._repo,e)},KH=function(t,e){GW(t._delegate._repo,e)},$H=function(t){return t._delegate._repo.dataUpdateCount},YH=function(t,e){return LW(t._delegate._repo,e)};function XH(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=a===void 0?!1:a;CF(r);var c=new _F("auth-internal",new bF("database-standalone"));return c.setComponent(new yi("auth-internal",function(){return i},"PRIVATE")),{instance:new j_(X4(e,c,void 0,n,u),e),namespace:o}}var QH=Object.freeze({__proto__:null,forceLongPolling:zH,forceWebSockets:WH,isWebSocketsAvailable:HH,setSecurityDebugCallback:qH,stats:GH,statsIncrementCounter:KH,dataUpdateCount:$H,interceptServerData:YH,initStandalone:XH});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JH=eh;eh.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};eh.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var ZH=$F,e7=function(t){var e=eh.prototype.put;return eh.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){eh.prototype.put=e}},t7=Dx,n7=function(t){return t._delegate._queryIdentifier},r7=function(t){RH(t)},i7=Object.freeze({__proto__:null,DataConnection:JH,RealTimeConnection:ZH,hijackHash:e7,ConnectionTarget:t7,queryIdentifier:n7,forceRestClient:r7});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o7=j_.ServerValue;function s7(t){CF(t.SDK_VERSION),t.INTERNAL.registerComponent(new yi("database",function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new j_(X4(i,o,a,r),i)},"PUBLIC").setServiceProps({Reference:qf,Query:Q4,Database:j_,DataSnapshot:Uv,enableLogging:RF,INTERNAL:QH,ServerValue:o7,TEST_ACCESS:i7}).setMultipleInstances(!0)),t.registerVersion(HV,qV)}s7(at);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _C=function(t,e){return _C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},_C(t,e)};function a7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_C(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function J4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var u7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nt,hk=hk||{},bt=u7||self;function B_(){}function bC(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Zb(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function l7(t,e,n){return t.call.apply(t.bind,arguments)}function c7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Qr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qr=l7:Qr=c7,Qr.apply(null,arguments)}function k0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ei(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[i].apply(r,a)}}function _c(){this.s=this.s,this.o=this.o}var f7=0;_c.prototype.s=!1;_c.prototype.na=function(){!this.s&&(this.s=!0,this.M(),f7!=0)};_c.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Z4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},e3=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function h7(t){e:{for(var e=iq,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function mO(t){return Array.prototype.concat.apply([],arguments)}function dk(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function V_(t){return/^[\s\xa0]*$/.test(t)}var gO=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ri(t,e){return t.indexOf(e)!=-1}function US(t,e){return t<e?-1:t>e?1:0}var Ni;e:{var vO=bt.navigator;if(vO){var yO=vO.userAgent;if(yO){Ni=yO;break e}}Ni=""}function pk(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function t3(t){var e={};for(var n in t)e[n]=t[n];return e}var wO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function n3(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<wO.length;o++)n=wO[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mk(t){return mk[" "](t),t}mk[" "]=B_;function d7(t){var e=g7;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var p7=Ri(Ni,"Opera"),kp=Ri(Ni,"Trident")||Ri(Ni,"MSIE"),r3=Ri(Ni,"Edge"),EC=r3||kp,i3=Ri(Ni,"Gecko")&&!(Ri(Ni.toLowerCase(),"webkit")&&!Ri(Ni,"Edge"))&&!(Ri(Ni,"Trident")||Ri(Ni,"MSIE"))&&!Ri(Ni,"Edge"),m7=Ri(Ni.toLowerCase(),"webkit")&&!Ri(Ni,"Edge");function o3(){var t=bt.document;return t?t.documentMode:void 0}var z_;e:{var jS="",BS=function(){var t=Ni;if(i3)return/rv:([^\);]+)(\)|;)/.exec(t);if(r3)return/Edge\/([\d\.]+)/.exec(t);if(kp)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(m7)return/WebKit\/(\S+)/.exec(t);if(p7)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(BS&&(jS=BS?BS[1]:""),kp){var VS=o3();if(VS!=null&&VS>parseFloat(jS)){z_=String(VS);break e}}z_=jS}var g7={};function v7(){return d7(function(){for(var t=0,e=gO(String(z_)).split("."),n=gO("9").split("."),r=Math.max(e.length,n.length),i=0;t==0&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o[0].length==0&&a[0].length==0)break;t=US(o[1].length==0?0:parseInt(o[1],10),a[1].length==0?0:parseInt(a[1],10))||US(o[2].length==0,a[2].length==0)||US(o[2],a[2]),o=o[3],a=a[3]}while(t==0)}return 0<=t})}var SC;if(bt.document&&kp){var _O=o3();SC=_O||parseInt(z_,10)||void 0}else SC=void 0;var y7=SC,w7=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{bt.addEventListener("test",B_,e),bt.removeEventListener("test",B_,e)}catch{}return t}();function mi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}mi.prototype.h=function(){this.defaultPrevented=!0};function ry(t,e){if(mi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(i3){e:{try{mk(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ry.Z.h.call(this)}}ei(ry,mi);var _7={2:"touch",3:"pen",4:"mouse"};ry.prototype.h=function(){ry.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var e1="closure_listenable_"+(1e6*Math.random()|0),b7=0;function E7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++b7,this.ca=this.fa=!1}function t1(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function n1(t){this.src=t,this.g={},this.h=0}n1.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=IC(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new E7(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};function TC(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Z4(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(t1(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function IC(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}var gk="closure_lm_"+(1e6*Math.random()|0),zS={};function s3(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)s3(t,e[o],n,r,i);return null}return n=l3(n),t&&t[e1]?t.N(e,n,Zb(r)?!!r.capture:!1,i):S7(t,e,n,!1,r,i)}function S7(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Zb(i)?!!i.capture:!!i,u=yk(t);if(u||(t[gk]=u=new n1(t)),n=u.add(e,n,r,a,o),n.proxy)return n;if(r=T7(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)w7||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(u3(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function T7(){function t(n){return e.call(t.src,t.listener,n)}var e=I7;return t}function a3(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)a3(t,e[o],n,r,i);else r=Zb(r)?!!r.capture:!!r,n=l3(n),t&&t[e1]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=IC(o,n,r,i),-1<n&&(t1(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=yk(t))&&(e=t.g[e.toString()],t=-1,e&&(t=IC(e,n,r,i)),(n=-1<t?e[t]:null)&&vk(n))}function vk(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[e1])TC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(u3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yk(e))?(TC(n,t),n.h==0&&(n.src=null,e[gk]=null)):t1(t)}}}function u3(t){return t in zS?zS[t]:zS[t]="on"+t}function I7(t,e){if(t.ca)t=!0;else{e=new ry(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&vk(t),t=n.call(r,e)}return t}function yk(t){return t=t[gk],t instanceof n1?t:null}var WS="__closure_events_fn_"+(1e9*Math.random()>>>0);function l3(t){return typeof t=="function"?t:(t[WS]||(t[WS]=function(e){return t.handleEvent(e)}),t[WS])}function Mr(){_c.call(this),this.i=new n1(this),this.P=this,this.I=null}ei(Mr,_c);Mr.prototype[e1]=!0;Mr.prototype.removeEventListener=function(t,e,n,r){a3(this,t,e,n,r)};function Jr(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new mi(e,t);else if(e instanceof mi)e.target=e.target||t;else{var i=e;e=new mi(r,t),n3(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=A0(a,r,!0,e)&&i}if(a=e.g=t,i=A0(a,r,!0,e)&&i,i=A0(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=A0(a,r,!1,e)&&i}Mr.prototype.M=function(){if(Mr.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)t1(n[r]);delete t.g[e],t.h--}}this.I=null};Mr.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function A0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,c=a.ia||a.src;a.fa&&TC(t.i,a),i=u.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var wk=bt.JSON.stringify;function C7(){var t=f3,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var x7=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=c3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),c3=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new k7},function(t){return t.reset()}),k7=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function A7(t){bt.setTimeout(function(){throw t},0)}function _k(t,e){CC||R7(),xC||(CC(),xC=!0),f3.add(t,e)}var CC;function R7(){var t=bt.Promise.resolve(void 0);CC=function(){t.then(N7)}}var xC=!1,f3=new x7;function N7(){for(var t;t=C7();){try{t.h.call(t.g)}catch(n){A7(n)}var e=c3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xC=!1}function r1(t,e){Mr.call(this),this.h=t||1,this.g=e||bt,this.j=Qr(this.kb,this),this.l=Date.now()}ei(r1,Mr);nt=r1.prototype;nt.da=!1;nt.S=null;nt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jr(this,"tick"),this.da&&(bk(this),this.start()))}};nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function bk(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}nt.M=function(){r1.Z.M.call(this),bk(this),delete this.g};function Ek(t,e,n){if(typeof t=="function")n&&(t=Qr(t,n));else if(t&&typeof t.handleEvent=="function")t=Qr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:bt.setTimeout(t,e||0)}function h3(t){t.g=Ek(function(){t.g=null,t.i&&(t.i=!1,h3(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var O7=function(t){a7(e,t);function e(n,r){var i=t.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:h3(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(_c);function iy(t){_c.call(this),this.h=t,this.g={}}ei(iy,_c);var bO=[];function d3(t,e,n,r){Array.isArray(n)||(n&&(bO[0]=n.toString()),n=bO);for(var i=0;i<n.length;i++){var o=s3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function p3(t){pk(t.g,function(e,n){this.g.hasOwnProperty(n)&&vk(e)},t),t.g={}}iy.prototype.M=function(){iy.Z.M.call(this),p3(this)};iy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function i1(){this.g=!0}i1.prototype.Aa=function(){this.g=!1};function P7(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",u=o.split("&"),c=0;c<u.length;c++){var d=u[c].split("=");if(1<d.length){var p=d[0];d=d[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function D7(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function up(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+M7(t,n)+(r?" "+r:"")})}function L7(t,e){t.info(function(){return"TIMEOUT: "+e})}i1.prototype.info=function(){};function M7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return wk(n)}catch{return e}}var Sh={},EO=null;function o1(){return EO=EO||new Mr}Sh.Ma="serverreachability";function m3(t){mi.call(this,Sh.Ma,t)}ei(m3,mi);function oy(t){var e=o1();Jr(e,new m3(e))}Sh.STAT_EVENT="statevent";function g3(t,e){mi.call(this,Sh.STAT_EVENT,t),this.stat=e}ei(g3,mi);function Pi(t){var e=o1();Jr(e,new g3(e,t))}Sh.Na="timingevent";function v3(t,e){mi.call(this,Sh.Na,t),this.size=e}ei(v3,mi);function Fy(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){t()},e)}var s1={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},y3={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sk(){}Sk.prototype.h=null;function SO(t){return t.h||(t.h=t.i())}function w3(){}var Uy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Tk(){mi.call(this,"d")}ei(Tk,mi);function Ik(){mi.call(this,"c")}ei(Ik,mi);var kC;function a1(){}ei(a1,Sk);a1.prototype.g=function(){return new XMLHttpRequest};a1.prototype.i=function(){return{}};kC=new a1;function jy(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new iy(this),this.P=F7,t=EC?125:void 0,this.W=new r1(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _3}function _3(){this.i=null,this.g="",this.h=!1}var F7=45e3,AC={},W_={};nt=jy.prototype;nt.setTimeout=function(t){this.P=t};function RC(t,e,n){t.K=1,t.v=l1(Ru(e)),t.s=n,t.U=!0,b3(t,null)}function b3(t,e){t.F=Date.now(),By(t),t.A=Ru(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),k3(n.h,"t",r),t.C=0,n=t.l.H,t.h=new _3,t.g=$3(t.l,n?e:null,!t.s),0<t.O&&(t.L=new O7(Qr(t.Ia,t,t.g),t.O)),d3(t.V,t.g,"readystatechange",t.gb),e=t.H?t3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),oy(),P7(t.j,t.u,t.A,t.m,t.X,t.s)}nt.gb=function(t){t=t.target;var e=this.L;e&&bu(t)==3?e.l():this.Ia(t)};nt.Ia=function(t){try{if(t==this.g)e:{var e=bu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||EC||this.g&&(this.h.h||this.g.ga()||xO(this.g)))){this.I||e!=4||n==7||(n==8||0>=r?oy(3):oy(2)),u1(this);var i=this.g.ba();this.N=i;t:if(E3(this)){var o=xO(this.g);t="";var a=o.length,u=bu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gf(this),jv(this);var c="";break t}this.h.i=new bt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,D7(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V_(d)){var v=d;break t}}v=null}if(i=v)up(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,NC(this,i);else{this.i=!1,this.o=3,Pi(12),Gf(this),jv(this);break e}}this.U?(S3(this,e,c),EC&&this.i&&e==3&&(d3(this.V,this.W,"tick",this.fb),this.W.start())):(up(this.j,this.m,c,null),NC(this,c)),e==4&&Gf(this),this.i&&!this.I&&(e==4?H3(this.l,this):(this.i=!1,By(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,Pi(12)):(this.o=0,Pi(13)),Gf(this),jv(this)}}}catch{}finally{}};function E3(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function S3(t,e,n){for(var r=!0,i;!t.I&&t.C<n.length;)if(i=U7(t,n),i==W_){e==4&&(t.o=4,Pi(14),r=!1),up(t.j,t.m,null,"[Incomplete Response]");break}else if(i==AC){t.o=4,Pi(15),up(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else up(t.j,t.m,i,null),NC(t,i);E3(t)&&i!=W_&&i!=AC&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dk(e),e.L=!0,Pi(11))):(up(t.j,t.m,n,"[Invalid Chunked Response]"),Gf(t),jv(t))}nt.fb=function(){if(this.g){var t=bu(this.g),e=this.g.ga();this.C<e.length&&(u1(this),S3(this,t,e),this.i&&t!=4&&By(this))}};function U7(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?W_:(n=Number(e.substring(n,r)),isNaN(n)?AC:(r+=1,r+n>e.length?W_:(e=e.substr(r,n),t.C=r+n,e)))}nt.cancel=function(){this.I=!0,Gf(this)};function By(t){t.Y=Date.now()+t.P,T3(t,t.P)}function T3(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Fy(Qr(t.eb,t),e)}function u1(t){t.B&&(bt.clearTimeout(t.B),t.B=null)}nt.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(L7(this.j,this.A),this.K!=2&&(oy(),Pi(17)),Gf(this),this.o=2,jv(this)):T3(this,this.Y-t)};function jv(t){t.l.G==0||t.I||H3(t.l,t)}function Gf(t){u1(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,bk(t.W),p3(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function NC(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||OC(n.i,t))){if(n.I=t.N,!t.J&&OC(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)K_(n),h1(n);else break e;Pk(n),Pi(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Fy(Qr(n.ab,n),6e3));if(1>=N3(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Kf(n,11)}else if((t.J||n.g==t)&&K_(n),!V_(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var a=o[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var c=o[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=t.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=r.i;!v.g&&(Ri(p,"spdy")||Ri(p,"quic")||Ri(p,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(kk(v,v.h),v.h=null))}if(r.D){var y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.sa=y,Tn(r.F,r.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var w=t;if(r.oa=K3(r,r.H?r.la:null,r.W),w.J){O3(r.i,w);var E=w,b=r.K;b&&E.setTimeout(b),E.B&&(u1(E),By(E)),r.g=w}else z3(r);0<n.l.length&&d1(n)}else o[0]!="stop"&&o[0]!="close"||Kf(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?Kf(n,7):Ok(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}oy(4)}catch{}}function j7(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(bC(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Ck(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(bC(t)||typeof t=="string")e3(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(bC(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=j7(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function um(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof um)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}nt=um.prototype;nt.R=function(){xk(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};nt.T=function(){return xk(this),this.g.concat()};function xk(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];lh(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],lh(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}nt.get=function(t,e){return lh(this.h,t)?this.h[t]:e};nt.set=function(t,e){lh(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};nt.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function lh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I3=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function B7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ch(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ch){this.g=e!==void 0?e:t.g,H_(this,t.j),this.s=t.s,q_(this,t.i),G_(this,t.m),this.l=t.l,e=t.h;var n=new sy;n.i=e.i,e.g&&(n.g=new um(e.g),n.h=e.h),TO(this,n),this.o=t.o}else t&&(n=String(t).match(I3))?(this.g=!!e,H_(this,n[1]||"",!0),this.s=Bv(n[2]||""),q_(this,n[3]||"",!0),G_(this,n[4]),this.l=Bv(n[5]||"",!0),TO(this,n[6]||"",!0),this.o=Bv(n[7]||"")):(this.g=!!e,this.h=new sy(null,this.g))}ch.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Rv(e,IO,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Rv(e,IO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Rv(n,n.charAt(0)=="/"?q7:H7,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Rv(n,K7)),t.join("")};function Ru(t){return new ch(t)}function H_(t,e,n){t.j=n?Bv(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function q_(t,e,n){t.i=n?Bv(e,!0):e}function G_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function TO(t,e,n){e instanceof sy?(t.h=e,$7(t.h,t.g)):(n||(e=Rv(e,G7)),t.h=new sy(e,t.g))}function Tn(t,e,n){t.h.set(e,n)}function l1(t){return Tn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function V7(t){return t instanceof ch?Ru(t):new ch(t,void 0)}function z7(t,e,n,r){var i=new ch(null,void 0);return t&&H_(i,t),e&&q_(i,e),n&&G_(i,n),r&&(i.l=r),i}function Bv(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rv(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,W7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function W7(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var IO=/[#\/\?@]/g,H7=/[#\?:]/g,q7=/[#\?]/g,G7=/[#\?@]/g,K7=/#/g;function sy(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bc(t){t.g||(t.g=new um,t.h=0,t.i&&B7(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}nt=sy.prototype;nt.add=function(t,e){bc(this),this.i=null,t=lm(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function C3(t,e){bc(t),e=lm(t,e),lh(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,lh(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&xk(t)))}function x3(t,e){return bc(t),e=lm(t,e),lh(t.g.h,e)}nt.forEach=function(t,e){bc(this),this.g.forEach(function(n,r){e3(n,function(i){t.call(e,i,r,this)},this)},this)};nt.T=function(){bc(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};nt.R=function(t){bc(this);var e=[];if(typeof t=="string")x3(this,t)&&(e=mO(e,this.g.get(lm(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=mO(e,t[n])}return e};nt.set=function(t,e){return bc(this),this.i=null,t=lm(this,t),x3(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};nt.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function k3(t,e,n){C3(t,e),0<n.length&&(t.i=null,t.g.set(lm(t,e),dk(n)),t.h+=n.length)}nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};function lm(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $7(t,e){e&&!t.j&&(bc(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(C3(this,r),k3(this,i,n))},t)),t.j=e}var Y7=function(){function t(e,n){this.h=e,this.g=n}return t}();function A3(t){this.l=t||X7,bt.PerformanceNavigationTiming?(t=bt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var X7=10;function R3(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function N3(t){return t.h?1:t.g?t.g.size:0}function OC(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function kk(t,e){t.g?t.g.add(e):t.h=e}function O3(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}A3.prototype.cancel=function(){var t,e;if(this.i=P3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=J4(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function P3(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var r=t.i;try{for(var i=J4(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return dk(t.i)}function Ak(){}Ak.prototype.stringify=function(t){return bt.JSON.stringify(t,void 0)};Ak.prototype.parse=function(t){return bt.JSON.parse(t,void 0)};function Q7(){this.g=new Ak}function J7(t,e,n){var r=n||"";try{Ck(t,function(i,o){var a=i;Zb(i)&&(a=wk(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Z7(t,e){var n=new i1;if(bt.Image){var r=new Image;r.onload=k0(R0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=k0(R0,n,r,"TestLoadImage: error",!1,e),r.onabort=k0(R0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=k0(R0,n,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function R0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Vy(t){this.l=t.$b||null,this.j=t.ib||!1}ei(Vy,Sk);Vy.prototype.g=function(){return new c1(this.l,this.j)};Vy.prototype.i=function(t){return function(){return t}}({});function c1(t,e){Mr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Rk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ei(c1,Mr);var Rk=0;nt=c1.prototype;nt.open=function(t,e){if(this.readyState!=Rk)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ay(this)};nt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zy(this)),this.readyState=Rk};nt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ay(this)),this.g&&(this.readyState=3,ay(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D3(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function D3(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}nt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zy(this):ay(this),this.readyState==3&&D3(this)}};nt.Ua=function(t){this.g&&(this.response=this.responseText=t,zy(this))};nt.Ta=function(t){this.g&&(this.response=t,zy(this))};nt.ha=function(){this.g&&zy(this)};function zy(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ay(t)}nt.setRequestHeader=function(t,e){this.v.append(t,e)};nt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};nt.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ay(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(c1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eq=bt.JSON.parse;function nr(t){Mr.call(this),this.headers=new um,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=L3,this.K=this.L=!1}ei(nr,Mr);var L3="",tq=/^https?$/i,nq=["POST","PUT"];nt=nr.prototype;nt.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kC.g(),this.C=this.u?SO(this.u):SO(kC),this.g.onreadystatechange=Qr(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){CO(this,o);return}t=n||"";var i=new um(this.headers);r&&Ck(r,function(o,a){i.set(a,o)}),r=h7(i.T()),n=bt.FormData&&t instanceof bt.FormData,!(0<=Z4(nq,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{U3(this),0<this.B&&((this.K=rq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.pa,this)):this.A=Ek(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){CO(this,o)}};function rq(t){return kp&&v7()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function iq(t){return t.toLowerCase()=="content-type"}nt.pa=function(){typeof hk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jr(this,"timeout"),this.abort(8))};function CO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,M3(t),f1(t)}function M3(t){t.D||(t.D=!0,Jr(t,"complete"),Jr(t,"error"))}nt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jr(this,"complete"),Jr(this,"abort"),f1(this))};nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),f1(this,!0)),nr.Z.M.call(this)};nt.Fa=function(){this.s||(this.F||this.v||this.l?F3(this):this.cb())};nt.cb=function(){F3(this)};function F3(t){if(t.h&&typeof hk<"u"&&(!t.C[1]||bu(t)!=4||t.ba()!=2)){if(t.v&&bu(t)==4)Ek(t.Fa,0,t);else if(Jr(t,"readystatechange"),bu(t)==4){t.h=!1;try{var e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var o=String(t.H).match(I3)[1]||null;if(!o&&bt.self&&bt.self.location){var a=bt.self.location.protocol;o=a.substr(0,a.length-1)}i=!tq.test(o?o.toLowerCase():"")}r=i}if(r)Jr(t,"complete"),Jr(t,"success");else{t.m=6;try{var u=2<bu(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.ba()+"]",M3(t)}}finally{f1(t)}}}}function f1(t,e){if(t.g){U3(t);var n=t.g,r=t.C[0]?B_:null;t.g=null,t.C=null,e||Jr(t,"ready");try{n.onreadystatechange=r}catch{}}}function U3(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(bt.clearTimeout(t.A),t.A=null)}function bu(t){return t.g?t.g.readyState:0}nt.ba=function(){try{return 2<bu(this)?this.g.status:-1}catch{return-1}};nt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};nt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eq(e)}};function xO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case L3:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}nt.Da=function(){return this.m};nt.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function oq(t){var e="";return pk(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Nk(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=oq(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Tn(t,e,n))}function gv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function j3(t){this.za=0,this.l=[],this.h=new i1,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gv("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gv("baseRetryDelayMs",5e3,t),this.$a=gv("retryDelaySeedMs",1e4,t),this.Ya=gv("forwardChannelMaxRetries",2,t),this.ra=gv("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new A3(t&&t.concurrentRequestLimit),this.Ca=new Q7,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}nt=j3.prototype;nt.ma=8;nt.G=1;function Ok(t){if(B3(t),t.G==3){var e=t.V++,n=Ru(t.F);Tn(n,"SID",t.J),Tn(n,"RID",e),Tn(n,"TYPE","terminate"),Wy(t,n),e=new jy(t,t.h,e,void 0),e.K=2,e.v=l1(Ru(n)),n=!1,bt.navigator&&bt.navigator.sendBeacon&&(n=bt.navigator.sendBeacon(e.v.toString(),"")),!n&&bt.Image&&(new Image().src=e.v,n=!0),n||(e.g=$3(e.l,null),e.g.ea(e.v)),e.F=Date.now(),By(e)}G3(t)}nt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function h1(t){t.g&&(Dk(t),t.g.cancel(),t.g=null)}function B3(t){h1(t),t.u&&(bt.clearTimeout(t.u),t.u=null),K_(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&bt.clearTimeout(t.m),t.m=null)}function HS(t,e){t.l.push(new Y7(t.Za++,e)),t.G==3&&d1(t)}function d1(t){R3(t.i)||t.m||(t.m=!0,_k(t.Ha,t),t.C=0)}function sq(t,e){return N3(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Fy(Qr(t.Ha,t,e),q3(t,t.C)),t.C++,!0)}nt.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new jy(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=t3(n),n3(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=V3(this,e,r),i=Ru(this.F),Tn(i,"RID",t),Tn(i,"CVER",22),this.D&&Tn(i,"X-HTTP-Session-Id",this.D),Wy(this,i),this.o&&n&&Nk(i,this.o,n),kk(this.i,e),this.Ra&&Tn(i,"TYPE","init"),this.ja?(Tn(i,"$req",r),Tn(i,"SID","null"),e.$=!0,RC(e,i,null)):RC(e,i,r),this.G=2}}else this.G==3&&(t?kO(this,t):this.l.length==0||R3(this.i)||kO(this))};function kO(t,e){var n;e?n=e.m:n=t.V++;var r=Ru(t.F);Tn(r,"SID",t.J),Tn(r,"RID",n),Tn(r,"AID",t.U),Wy(t,r),t.o&&t.s&&Nk(r,t.o,t.s),n=new jy(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=V3(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),kk(t.i,n),RC(n,r,e)}function Wy(t,e){t.j&&Ck({},function(n,r){Tn(e,r,n)})}function V3(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Qr(t.j.Oa,t.j,t):null;e:for(var i=t.l,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,c=0;c<n;c++){var d=i[c].h,p=i[c].g;if(d-=o,0>d)o=Math.max(0,i[c].h-100),u=!1;else try{J7(p,a,"req"+d+"_")}catch{r&&r(p)}}if(u){r=a.join("&");break e}}return t=t.l.splice(0,n),e.D=t,r}function z3(t){t.g||t.u||(t.Y=1,_k(t.Ga,t),t.A=0)}function Pk(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Fy(Qr(t.Ga,t),q3(t,t.A)),t.A++,!0)}nt.Ga=function(){if(this.u=null,W3(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Fy(Qr(this.bb,this),t)}};nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pi(10),h1(this),W3(this))};function Dk(t){t.B!=null&&(bt.clearTimeout(t.B),t.B=null)}function W3(t){t.g=new jy(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Ru(t.oa);Tn(e,"RID","rpc"),Tn(e,"SID",t.J),Tn(e,"CI",t.N?"0":"1"),Tn(e,"AID",t.U),Wy(t,e),Tn(e,"TYPE","xmlhttp"),t.o&&t.s&&Nk(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=l1(Ru(e)),n.s=null,n.U=!0,b3(n,t)}nt.ab=function(){this.v!=null&&(this.v=null,h1(this),Pk(this),Pi(19))};function K_(t){t.v!=null&&(bt.clearTimeout(t.v),t.v=null)}function H3(t,e){var n=null;if(t.g==e){K_(t),Dk(t),t.g=null;var r=2}else if(OC(t.i,e))n=e.D,O3(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=o1(),Jr(r,new v3(r,n)),d1(t)}else z3(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&sq(t,e)||r==2&&Pk(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Kf(t,5);break;case 4:Kf(t,10);break;case 3:Kf(t,6);break;default:Kf(t,2)}}}function q3(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Kf(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Qr(t.jb,t);n||(n=new ch("//www.google.com/images/cleardot.gif"),bt.location&&bt.location.protocol=="http"||H_(n,"https"),l1(n)),Z7(n.toString(),r)}else Pi(2);t.G=0,t.j&&t.j.va(e),G3(t),B3(t)}nt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Pi(2)):(this.h.info("Failed to ping google.com"),Pi(1))};function G3(t){t.G=0,t.I=-1,t.j&&((P3(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,dk(t.l),t.l.length=0),t.j.ua())}function K3(t,e,n){var r=V7(n);if(r.i!="")e&&q_(r,e+"."+r.i),G_(r,r.m);else{var i=bt.location;r=z7(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&pk(t.aa,function(o,a){Tn(r,a,o)}),e=t.D,n=t.sa,e&&n&&Tn(r,e,n),Tn(r,"VER",t.ma),Wy(t,r),r}function $3(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new nr(new Vy({ib:!0})):new nr(t.qa),e.L=t.H,e}function Y3(){}nt=Y3.prototype;nt.xa=function(){};nt.wa=function(){};nt.va=function(){};nt.ua=function(){};nt.Oa=function(){};function $_(){if(kp&&!(10<=Number(y7)))throw Error("Environmental error: no available transport.")}$_.prototype.g=function(t,e){return new So(t,e)};function So(t,e){Mr.call(this),this.g=new j3(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!V_(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!V_(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new cm(this)}ei(So,Mr);So.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),_k(Qr(t.hb,t,e))),Pi(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=K3(t,null,t.W),d1(t)};So.prototype.close=function(){Ok(this.g)};So.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,HS(this.g,e)}else this.v?(e={},e.__data__=wk(t),HS(this.g,e)):HS(this.g,t)};So.prototype.M=function(){this.g.j=null,delete this.j,Ok(this.g),delete this.g,So.Z.M.call(this)};function X3(t){Tk.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ei(X3,Tk);function Q3(){Ik.call(this),this.status=1}ei(Q3,Ik);function cm(t){this.g=t}ei(cm,Y3);cm.prototype.xa=function(){Jr(this.g,"a")};cm.prototype.wa=function(t){Jr(this.g,new X3(t))};cm.prototype.va=function(t){Jr(this.g,new Q3)};cm.prototype.ua=function(){Jr(this.g,"b")};$_.prototype.createWebChannel=$_.prototype.g;So.prototype.send=So.prototype.u;So.prototype.open=So.prototype.m;So.prototype.close=So.prototype.close;s1.NO_ERROR=0;s1.TIMEOUT=8;s1.HTTP_ERROR=6;y3.COMPLETE="complete";w3.EventType=Uy;Uy.OPEN="a";Uy.CLOSE="b";Uy.ERROR="c";Uy.MESSAGE="d";Mr.prototype.listen=Mr.prototype.N;nr.prototype.listenOnce=nr.prototype.O;nr.prototype.getLastError=nr.prototype.La;nr.prototype.getLastErrorCode=nr.prototype.Da;nr.prototype.getStatus=nr.prototype.ba;nr.prototype.getResponseJson=nr.prototype.Qa;nr.prototype.getResponseText=nr.prototype.ga;nr.prototype.send=nr.prototype.ea;var aq=function(){return new $_},uq=function(){return o1()},qS=s1,lq=y3,cq=Sh,AO={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fq=Vy,N0=w3,hq=nr,dq={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();vo.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ve=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Ye(e,t),e}(Error),As=new wh("@firebase/firestore");function PC(){return As.logLevel}function Ke(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(As.logLevel<=Lt.DEBUG){var r=e.map(Lk);As.debug.apply(As,Ct(["Firestore (8.10.1): "+t],r))}}function tr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(As.logLevel<=Lt.ERROR){var r=e.map(Lk);As.error.apply(As,Ct(["Firestore (8.10.1): "+t],r))}}function uy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(As.logLevel<=Lt.WARN){var r=e.map(Lk);As.warn.apply(As,Ct(["Firestore (8.10.1): "+t],r))}}function Lk(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw tr(e),new Error(e)}function wt(t,e){t||ut()}function $e(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J3=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=pq(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},t}();function Mt(t,e){return t<e?-1:t>e?1:0}function Ap(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function Z3(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ve(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ot=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Zi(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Th(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function e6(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t6=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&ut(),r===void 0?r=e.length-n:r>e.length-n&&ut(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Gt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var u=a[o];if(u.indexOf("//")>=0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(c){return c.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(t6),mq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ns=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return mq.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var c=n[o];if(c==="\\"){if(o+1===n.length)throw new Ve(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ve(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=d,o+=2}else c==="`"?(u=!u,o++):c!=="."||u?(i+=c,o++):(a(),o++)}if(a(),u)throw new Ve(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(t6),Rp=function(){function t(e){this.fields=e,e.sort(Ns.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Ap(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Di=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Mt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Di.EMPTY_BYTE_STRING=new Di("");var gq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gc(t){if(wt(!!t),typeof t=="string"){var e=0,n=gq.exec(t);if(wt(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Np(t){return typeof t=="string"?Di.fromBase64String(t):Di.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function n6(t){var e=t.mapValue.fields.__previous_value__;return Mk(e)?n6(e):e}function ly(t){var e=gc(t.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return t==null}function Y_(t){return t===0&&1/t==-1/0}function r6(t){return typeof t=="number"&&Number.isInteger(t)&&!Y_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Gt.fromString(e))},t.fromName=function(e){return new t(Gt.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Gt.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Gt.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Gt(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mk(t)?4:10:ut()}function ja(t,e){var n=fh(t);if(n!==fh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ly(t).isEqual(ly(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=gc(r.timestampValue),a=gc(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Np(r.bytesValue).isEqual(Np(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Zn(r.geoPointValue.latitude)===Zn(i.geoPointValue.latitude)&&Zn(r.geoPointValue.longitude)===Zn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Zn(r.integerValue)===Zn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Zn(r.doubleValue),a=Zn(i.doubleValue);return o===a?Y_(o)===Y_(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ap(t.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(RO(o)!==RO(a))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!ja(o[u],a[u])))return!1;return!0}(t,e);default:return ut()}}function cy(t,e){return(t.values||[]).find(function(n){return ja(n,e)})!==void 0}function Op(t,e){var n=fh(t),r=fh(e);if(n!==r)return Mt(n,r);switch(n){case 0:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(i,o){var a=Zn(i.integerValue||i.doubleValue),u=Zn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return NO(t.timestampValue,e.timestampValue);case 4:return NO(ly(t),ly(e));case 5:return Mt(t.stringValue,e.stringValue);case 6:return function(i,o){var a=Np(i),u=Np(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),u=o.split("/"),c=0;c<a.length&&c<u.length;c++){var d=Mt(a[c],u[c]);if(d!==0)return d}return Mt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){var a=Mt(Zn(i.latitude),Zn(o.latitude));return a!==0?a:Mt(Zn(i.longitude),Zn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],u=o.values||[],c=0;c<a.length&&c<u.length;++c){var d=Op(a[c],u[c]);if(d)return d}return Mt(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(var p=0;p<u.length&&p<d.length;++p){var v=Mt(u[p],d[p]);if(v!==0)return v;var y=Op(a[u[p]],c[d[p]]);if(y!==0)return y}return Mt(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ut()}}function NO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);var n=gc(t),r=gc(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function Fk(t){return DC(t)}function DC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=gc(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Np(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,lt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",o=!0,a=0,u=r.values||[];a<u.length;a++)o?o=!1:i+=",",i+=DC(u[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",o=!0,a=0,u=Object.keys(r.fields||{}).sort();a<u.length;a++){var c=u[a];o?o=!1:i+=",",i+=c+":"+DC(r.fields[c])}return i+"}"}(t.mapValue):ut();var e,n}function X_(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function LC(t){return!!t&&"integerValue"in t}function Uk(t){return!!t&&"arrayValue"in t}function OO(t){return!!t&&"nullValue"in t}function PO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function u_(t){return!!t&&"mapValue"in t}function Vv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Th(t.mapValue.fields,function(i,o){return e.mapValue.fields[i]=Vv(o)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Vv(t.arrayValue.values[r]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var go=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!u_(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vv(n)},t.prototype.setAll=function(e){var n=this,r=Ns.emptyPath(),i={},o=[];e.forEach(function(u,c){if(!r.isImmediateParentOf(c)){var d=n.getFieldsMap(r);n.applyChanges(d,i,o),i={},o=[],r=c.popLast()}u?i[c.lastSegment()]=Vv(u):o.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,o)},t.prototype.delete=function(e){var n=this.field(e.popLast());u_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return ja(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=n.mapValue.fields[e.get(r)];u_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){Th(n,function(u,c){return e[u]=c});for(var i=0,o=r;i<o.length;i++){var a=o[i];delete e[a]}},t.prototype.clone=function(){return new t(Vv(this.value))},t}();function i6(t){var e=[];return Th(t.fields,function(n,r){var i=new Ns([n]);if(u_(r)){var o=i6(r.mapValue).fields;if(o.length===0)e.push(i);else for(var a=0,u=o;a<u.length;a++){var c=u[a];e.push(i.child(c))}}else e.push(i)}),new Rp(e)}var Zr=function(){function t(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return t.newInvalidDocument=function(e){return new t(e,0,Ot.min(),go.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,go.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,go.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=go.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=go.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),vq=function(t,e,n,r,i,o,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e,n,r,i,o,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new vq(t,e,n,r,i,o,a)}function Hy(t){var e=$e(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Fk(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=J_(e.startAt)),e.endAt&&(n+="|ub:",n+=J_(e.endAt)),e.h=n}return e.h}function p1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Iq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ja(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MO(t.startAt,e.startAt)&&MO(t.endAt,e.endAt)}function Q_(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var yo=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).field=n,o.op=r,o.value=i,o}return Ye(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new yq(n,r,i):r==="array-contains"?new bq(n,i):r==="in"?new Eq(n,i):r==="not-in"?new Sq(n,i):r==="array-contains-any"?new Tq(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new wq(n,i):new _q(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Op(r,this.value)):r!==null&&fh(this.value)===fh(r)&&this.m(Op(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ut()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),yq=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,i)||this).key=lt.fromName(i.referenceValue),o}return Ye(e,t),e.prototype.matches=function(n){var r=lt.comparator(n.key,this.key);return this.m(r)},e}(yo),wq=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=o6("in",r),i}return Ye(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(yo),_q=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=o6("not-in",r),i}return Ye(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(yo);function o6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return lt.fromName(r.referenceValue)})}var bq=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return Ye(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return Uk(r)&&cy(r.arrayValue,this.value)},e}(yo),Eq=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return Ye(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&cy(this.value.arrayValue,r)},e}(yo),Sq=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return Ye(e,t),e.prototype.matches=function(n){if(cy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!cy(this.value.arrayValue,r)},e}(yo),Tq=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return Ye(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Uk(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return cy(r.value.arrayValue,o)})},e}(yo),fy=function(t,e){this.position=t,this.before=e};function J_(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Fk(e)}).join(",")}var hp=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function Iq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function LO(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?lt.comparator(lt.fromName(a.referenceValue),n.key):Op(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function MO(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ja(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uu=function(t,e,n,r,i,o,a,u){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),u===void 0&&(u=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function s6(t,e,n,r,i,o,a,u){return new Uu(t,e,n,r,i,o,a,u)}function fm(t){return new Uu(t)}function l_(t){return!Ih(t.limit)&&t.limitType==="F"}function Z_(t){return!Ih(t.limit)&&t.limitType==="L"}function jk(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bk(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Vk(t){return t.collectionGroup!==null}function Pp(t){var e=$e(t);if(e.p===null){e.p=[];var n=Bk(e),r=jk(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new hp(n)),e.p.push(new hp(Ns.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var u=a[o];e.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new hp(Ns.keyField(),c))}}}return e.p}function Qo(t){var e=$e(t);if(!e.T)if(e.limitType==="F")e.T=DO(e.path,e.collectionGroup,Pp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Pp(e);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new hp(o.field,a))}var u=e.endAt?new fy(e.endAt.position,!e.endAt.before):null,c=e.startAt?new fy(e.startAt.position,!e.startAt.before):null;e.T=DO(e.path,e.collectionGroup,n,e.filters,e.limit,u,c)}return e.T}function a6(t,e,n){return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qy(t,e){return p1(Qo(t),Qo(e))&&t.limitType===e.limitType}function u6(t){return Hy(Qo(t))+"|lt:"+t.limitType}function MC(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Fk(i.value);var i}).join(", ")+"]"),Ih(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+J_(e.startAt)),e.endAt&&(n+=", endAt: "+J_(e.endAt)),"Target("+n+")"}(Qo(t))+"; limitType="+t.limitType+")"}function Gy(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):lt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!LO(n.startAt,Pp(n),r))&&(!n.endAt||!LO(n.endAt,Pp(n),r))}(t,e)}function l6(t){return function(e,n){for(var r=!1,i=0,o=Pp(t);i<o.length;i++){var a=o[i],u=Cq(a,e,n);if(u!==0)return u;r=r||a.field.isKeyField()}return 0}}function Cq(t,e,n){var r=t.field.isKeyField()?lt.comparator(e.key,n.key):function(i,o,a){var u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Op(u,c):ut()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y_(e)?"-0":e}}function f6(t){return{integerValue:""+t}}function h6(t,e){return r6(e)?f6(e):c6(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m1=function(){this._=void 0};function xq(t,e,n){return t instanceof Dp?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof hh?p6(t,e):t instanceof dh?m6(t,e):function(r,i){var o=d6(r,i),a=FO(o)+FO(r.A);return LC(o)&&LC(r.A)?f6(a):c6(r.R,a)}(t,e)}function kq(t,e,n){return t instanceof hh?p6(t,e):t instanceof dh?m6(t,e):n}function d6(t,e){return t instanceof Lp?LC(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var Dp=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e}(m1),hh=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return Ye(e,t),e}(m1);function p6(t,e){for(var n=g6(e),r=function(a){n.some(function(u){return ja(u,a)})||n.push(a)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var dh=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return Ye(e,t),e}(m1);function m6(t,e){for(var n=g6(e),r=function(a){n=n.filter(function(u){return!ja(u,a)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Lp=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return Ye(e,t),e}(m1);function FO(t){return Zn(t.integerValue||t.doubleValue)}function g6(t){return Uk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ky=function(t,e){this.field=t,this.transform=e},Aq=function(t,e){this.version=t,this.transformResults=e},pi=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function c_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var g1=function(){};function Rq(t,e,n){t instanceof $y?function(r,i,o){var a=r.value.clone(),u=BO(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ec?function(r,i,o){if(c_(r.precondition,i)){var a=BO(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(v6(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function FC(t,e,n){t instanceof $y?function(r,i,o){if(c_(r.precondition,i)){var a=r.value.clone(),u=VO(r.fieldTransforms,o,i);a.setAll(u),i.convertToFoundDocument(jO(i),a).setHasLocalMutations()}}(t,e,n):t instanceof Ec?function(r,i,o){if(c_(r.precondition,i)){var a=VO(r.fieldTransforms,o,i),u=i.data;u.setAll(v6(r)),u.setAll(a),i.convertToFoundDocument(jO(i),u).setHasLocalMutations()}}(t,e,n):function(r,i){c_(r.precondition,i)&&i.convertToNoDocument(Ot.min())}(t,e)}function Nq(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),u=d6(o.transform,a||null);u!=null&&(n==null&&(n=go.empty()),n.set(o.field,u))}return n||null}function UO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ap(n,r,function(i,o){return function(a,u){return a.field.isEqual(u.field)&&function(c,d){return c instanceof hh&&d instanceof hh||c instanceof dh&&d instanceof dh?Ap(c.elements,d.elements,ja):c instanceof Lp&&d instanceof Lp?ja(c.A,d.A):c instanceof Dp&&d instanceof Dp}(a.transform,u.transform)}(i,o)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function jO(t){return t.isFoundDocument()?t.version:Ot.min()}var $y=function(t){function e(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ye(e,t),e}(g1),Ec=function(t){function e(n,r,i,o,a){a===void 0&&(a=[]);var u=this;return(u=t.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=a,u.type=1,u}return Ye(e,t),e}(g1);function v6(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function BO(t,e,n){var r=new Map;wt(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,kq(a,u,n[i]))}return r}function VO(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],u=a.transform,c=n.data.field(a.field);r.set(a.field,xq(u,c,e))}return r}var Jn,Bt,Yy=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ye(e,t),e}(g1),zk=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ye(e,t),e}(g1),Oq=function(t){this.count=t};function y6(t){switch(t){case Re.OK:return ut();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return ut()}}function w6(t){if(t===void 0)return tr("GRPC error has no .code"),Re.UNKNOWN;switch(t){case Jn.OK:return Re.OK;case Jn.CANCELLED:return Re.CANCELLED;case Jn.UNKNOWN:return Re.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return Re.INTERNAL;case Jn.UNAVAILABLE:return Re.UNAVAILABLE;case Jn.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case Jn.NOT_FOUND:return Re.NOT_FOUND;case Jn.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case Jn.ABORTED:return Re.ABORTED;case Jn.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case Jn.DATA_LOSS:return Re.DATA_LOSS;default:return ut()}}(Bt=Jn||(Jn={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i=function(){function t(e,n){this.comparator=e,this.root=n||ec.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ec.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ec.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new O0(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new O0(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new O0(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new O0(this.root,e,this.comparator,!0)},t}(),O0=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),ec=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();var e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)},t}();ec.EMPTY=null,ec.RED=!0,ec.BLACK=!1,ec.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ut()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new ec(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){function t(e){this.comparator=e,this.data=new _i(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new zO(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new zO(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),zO=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Pq=new _i(lt.comparator);function $o(){return Pq}var Dq=new _i(lt.comparator);function UC(){return Dq}var Lq=new _i(lt.comparator);function _6(){return Lq}var Mq=new dr(lt.comparator);function rn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Mq,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Fq=new dr(Mt);function v1(){return Fq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wk=function(){function t(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Hk.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ot.min(),r,v1(),$o(),rn())},t}(),Hk=function(){function t(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Di.EMPTY_BYTE_STRING,n,rn(),rn(),rn())},t}(),f_=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},b6=function(t,e){this.targetId=t,this.V=e},E6=function(t,e,n,r){n===void 0&&(n=Di.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},WO=function(){function t(){this.S=0,this.D=qO(),this.C=Di.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=rn(),n=rn(),r=rn();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new Hk(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=qO()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Uq=function(){function t(e){this.W=e,this.G=new Map,this.H=$o(),this.J=HO(),this.Y=new dr(Mt)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(e.resumeToken));break;default:ut()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(Q_(o))if(r===0){var a=new lt(o.path);this.tt(n,a,Zr.newNoDocument(a,Ot.min()))}else wt(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(a,u){var c=n.ot(u);if(c){if(a.current&&Q_(c.target)){var d=new lt(c.target.path);n.H.get(d)!==null||n.at(u,d)||n.tt(u,d,Zr.newNoDocument(d,e))}a.$&&(r.set(u,a.M()),a.L())}});var i=rn();this.J.forEach(function(a,u){var c=!0;u.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var o=new Wk(e,r,this.Y,this.H,i);return this.H=$o(),this.J=HO(),this.Y=new dr(Mt),o},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.at(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new WO,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new dr(Mt),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new WO),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function HO(){return new _i(lt.comparator)}function qO(){return new _i(lt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jq={asc:"ASCENDING",desc:"DESCENDING"},Bq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vq=function(t,e){this.databaseId=t,this.I=e};function hy(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function S6(t,e){return t.I?e.toBase64():e.toUint8Array()}function zq(t,e){return hy(t,e.toTimestamp())}function Dr(t){return wt(!!t),Ot.fromTimestamp(function(e){var n=gc(e);return new Zi(n.seconds,n.nanos)}(t))}function qk(t,e){return function(n){return new Gt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function T6(t){var e=Gt.fromString(t);return wt(O6(e)),e}function dy(t,e){return qk(t.databaseId,e.path)}function Na(t,e){var n=T6(e);if(n.get(1)!==t.databaseId.projectId)throw new Ve(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ve(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new lt(C6(n))}function jC(t,e){return qk(t.databaseId,e)}function I6(t){var e=T6(t);return e.length===4?Gt.emptyPath():C6(e)}function py(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C6(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GO(t,e,n){return{name:dy(t,e),fields:n.value.mapValue.fields}}function x6(t,e,n){var r=Na(t,e.name),i=Dr(e.updateTime),o=new go({mapValue:{fields:e.fields}}),a=Zr.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function eb(t,e){var n;if(e instanceof $y)n={update:GO(t,e.key,e.value)};else if(e instanceof Yy)n={delete:dy(t,e.key)};else if(e instanceof Ec)n={update:GO(t,e.key,e.data),updateMask:Kq(e.fieldMask)};else{if(!(e instanceof zk))return ut();n={verify:dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof Dp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lp)return{fieldPath:o.field.canonicalString(),increment:a.A};throw ut()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:zq(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ut()}(t,e.precondition)),n}function KO(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?pi.updateTime(Dr(d.updateTime)):d.exists!==void 0?pi.exists(d.exists):pi.none()}(e.currentDocument):pi.none(),r=e.updateTransforms?e.updateTransforms.map(function(d){return function(p,v){var y=null;if("setToServerValue"in v)wt(v.setToServerValue==="REQUEST_TIME"),y=new Dp;else if("appendMissingElements"in v){var w=v.appendMissingElements.values||[];y=new hh(w)}else if("removeAllFromArray"in v){var E=v.removeAllFromArray.values||[];y=new dh(E)}else"increment"in v?y=new Lp(p,v.increment):ut();var b=Ns.fromServerFormat(v.fieldPath);return new Ky(b,y)}(t,d)}):[];if(e.update){e.update.name;var i=Na(t,e.update.name),o=new go({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Rp(p.map(function(v){return Ns.fromServerFormat(v)}))}(e.updateMask);return new Ec(i,o,a,n,r)}return new $y(i,o,n,r)}if(e.delete){var u=Na(t,e.delete);return new Yy(u,n)}if(e.verify){var c=Na(t,e.verify);return new zk(c,n)}return ut()}function k6(t,e){return{documents:[jC(t,e.path)]}}function A6(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=jC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var c=u.map(function(d){return function(p){if(p.op==="=="){if(PO(p.value))return{unaryFilter:{field:Qd(p.field),op:"IS_NAN"}};if(OO(p.value))return{unaryFilter:{field:Qd(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(PO(p.value))return{unaryFilter:{field:Qd(p.field),op:"IS_NOT_NAN"}};if(OO(p.value))return{unaryFilter:{field:Qd(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qd(p.field),op:Hq(p.op),value:p.value}}}(d)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(c){return function(d){return{field:Qd(d.field),direction:Wq(d.dir)}}(c)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(u,c){return u.I||Ih(c)?c:{value:c}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=$O(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$O(e.endAt)),n}function R6(t){var e=I6(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wt(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=N6(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(v){return function(y){return new hp(lp(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v)}));var c=null;n.limit&&(c=function(v){var y;return Ih(y=typeof v=="object"?v.value:v)?null:y}(n.limit));var d=null;n.startAt&&(d=YO(n.startAt));var p=null;return n.endAt&&(p=YO(n.endAt)),s6(e,i,u,a,c,"F",d,p)}function N6(t){return t?t.unaryFilter!==void 0?[Gq(t)]:t.fieldFilter!==void 0?[qq(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return N6(e)}).reduce(function(e,n){return e.concat(n)}):ut():[]}function $O(t){return{before:t.before,values:t.position}}function YO(t){var e=!!t.before,n=t.values||[];return new fy(n,e)}function Wq(t){return jq[t]}function Hq(t){return Bq[t]}function Qd(t){return{fieldPath:t.canonicalString()}}function lp(t){return Ns.fromServerFormat(t.fieldPath)}function qq(t){return yo.create(lp(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ut()}}(t.fieldFilter.op),t.fieldFilter.value)}function Gq(t){switch(t.unaryFilter.op){case"IS_NAN":var e=lp(t.unaryFilter.field);return yo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=lp(t.unaryFilter.field);return yo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=lp(t.unaryFilter.field);return yo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=lp(t.unaryFilter.field);return yo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ut()}}function Kq(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function O6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=XO(e)),e=$q(t.get(n),e);return XO(e)}function $q(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function XO(t){return t+""}function Eu(t){var e=t.length;if(wt(e>=2),e===2)return wt(t.charAt(0)===""&&t.charAt(1)===""),Gt.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&ut(),t.charAt(a+1)){case"":var u=t.substring(o,a),c=void 0;i.length===0?c=u:(c=i+=u,i=""),r.push(c);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:ut()}o=a+2}return new Gt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yq=function(t,e){this.seconds=t,this.nanoseconds=e},po=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};po.store="owner",po.key="owner";var lc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};lc.store="mutationQueues",lc.keyPath="userId";var _n=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};_n.store="mutations",_n.keyPath="batchId",_n.userMutationsIndex="userMutationsIndex",_n.userMutationsKeyPath=["userId","batchId"];var di=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,Rs(n)]},t.key=function(e,n,r){return[e,Rs(n),r]},t}();di.store="documentMutations",di.PLACEHOLDER=new di;var Xq=function(t,e){this.path=t,this.readTime=e},Qq=function(t,e){this.path=t,this.version=e},Un=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Un.store="remoteDocuments",Un.readTimeIndex="readTimeIndex",Un.readTimeIndexPath="readTime",Un.collectionReadTimeIndex="collectionReadTimeIndex",Un.collectionReadTimeIndexPath=["parentPath","readTime"];var ka=function(t){this.byteSize=t};ka.store="remoteDocumentGlobal",ka.key="remoteDocumentGlobalKey";var Qi=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Qi.store="targets",Qi.keyPath="targetId",Qi.queryTargetsIndexName="queryTargetsIndex",Qi.queryTargetsKeyPath=["canonicalId","targetId"];var Yr=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Yr.store="targetDocuments",Yr.keyPath=["targetId","path"],Yr.documentTargetsIndex="documentTargetsIndex",Yr.documentTargetsKeyPath=["path","targetId"];var mo=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};mo.key="targetGlobalKey",mo.store="targetGlobal";var th=function(t,e){this.collectionId=t,this.parent=e};th.store="collectionParents",th.keyPath=["collectionId","parent"];var Iu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Iu.store="clientMetadata",Iu.keyPath="clientId";var Mp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Mp.store="bundles",Mp.keyPath="bundleId";var Fp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Fp.store="namedQueries",Fp.keyPath="name";var Jq=Ct(Ct([],Ct(Ct([],Ct(Ct([],Ct(Ct([],[lc.store,_n.store,di.store,Un.store,Qi.store,po.store,mo.store,Yr.store]),[Iu.store])),[ka.store])),[th.store])),[Mp.store,Fp.store]),P6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",D6=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),wi=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},We=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,o=0,a=!1;e.forEach(function(u){++i,u.next(function(){++o,a&&o===i&&n()},function(c){return r(c)})}),a=!0,o===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(u){return u?t.resolve(u):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},t}(),L6=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new wi,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new zv(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Gk(i.target.error);r.ft.reject(new zv(e,o))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new zv(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new eG(n)},t}(),Up=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(oh())===12.2&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return Ke("SimpleDb","Removing database:",e),Wf(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=oh(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var e;return typeof process<"u"&&((e=dq)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return ve(this,void 0,void 0,function(){var n,r=this;return ge(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(Ke("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(c){var d=c.target.result;o(d)},u.onblocked=function(){a(new zv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(c){var d=c.target.error;d.name==="VersionError"?a(new Ve(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new zv(e,d))},u.onupgradeneeded=function(c){Ke("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var d=c.target.result;r.wt.Rt(d,u.transaction,c.oldVersion,r.version).next(function(){Ke("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return ve(this,void 0,void 0,function(){var o,a,u,c,d;return ge(this,function(p){switch(p.label){case 0:o=n==="readonly",a=0,u=function(){var v,y,w,E,b;return ge(this,function(I){switch(I.label){case 0:++a,I.label=1;case 1:return I.trys.push([1,4,,5]),[4,c.At(e)];case 2:return c.db=I.sent(),v=L6.open(c.db,e,o?"readonly":"readwrite",r),y=i(v).catch(function(T){return v.abort(T),We.reject(T)}).toPromise(),w={},y.catch(function(){}),[4,v.dt];case 3:return[2,(w.value=(I.sent(),y),w)];case 4:return E=I.sent(),b=E.name!=="FirebaseError"&&a<3,Ke("SimpleDb","Transaction failed with error:",E.message,"Retrying:",b),c.close(),b?[3,5]:[2,{value:Promise.reject(E)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,u()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Zq=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Wf(this.Pt.delete())},t}(),zv=function(t){function e(n,r){var i=this;return(i=t.call(this,Re.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return Ye(e,t),e}(Ve);function Ch(t){return t.name==="IndexedDbTransactionError"}var eG=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(Ke("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wf(r)},t.prototype.add=function(e){return Ke("SimpleDb","ADD",this.store.name,e,e),Wf(this.store.add(e))},t.prototype.get=function(e){var n=this;return Wf(this.store.get(e)).next(function(r){return r===void 0&&(r=null),Ke("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return Ke("SimpleDb","DELETE",this.store.name,e),Wf(this.store.delete(e))},t.prototype.count=function(){return Ke("SimpleDb","COUNT",this.store.name),Wf(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},t.prototype.kt=function(e,n){Ke("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,a,u){return u.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new We(function(r,i){n.onerror=function(o){var a=Gk(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(u){u?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new We(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var u=a.target.result;if(u){var c=new Zq(u),d=n(u.primaryKey,u.value,c);if(d instanceof We){var p=d.catch(function(v){return c.done(),We.reject(v)});r.push(p)}c.isDone?i():c.Dt===null?u.continue():u.continue(c.Dt)}else i()}}).next(function(){return We.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Wf(t){return new We(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=Gk(r.target.error);n(i)}})}var QO=!1;function Gk(t){var e=Up._t(oh());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ve("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return QO||(QO=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JO=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return Ye(e,t),e}(D6);function ro(t,e){var n=$e(t);return Up.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kk=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&Rq(o,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&FC(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&FC(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(Ot.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},rn())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ap(this.mutations,e.mutations,function(n,r){return UO(n,r)})&&Ap(this.baseMutations,e.baseMutations,function(n,r){return UO(n,r)})},t}(),tG=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){wt(e.mutations.length===r.length);for(var i=_6(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),y1=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=Ot.min()),a===void 0&&(a=Ot.min()),u===void 0&&(u=Di.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),M6=function(t){this.Lt=t};function BC(t,e){if(e.document)return x6(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=lt.fromSegments(e.noDocument.path),r=Bp(e.noDocument.readTime),i=Zr.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=lt.fromSegments(e.unknownDocument.path);return r=Bp(e.unknownDocument.version),Zr.newUnknownDocument(o,r)}return ut()}function ZO(t,e,n){var r=$k(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(v,y){return{name:dy(v,y.key),fields:y.data.value.mapValue.fields,updateTime:hy(v,y.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Un(null,null,o,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),c=jp(e.version);return a=e.hasCommittedMutations,new Un(null,new Xq(u,c),null,a,r,i)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),p=jp(e.version);return new Un(new Qq(d,p),null,null,!0,r,i)}return ut()}function $k(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function F6(t){var e=new Zi(t[0],t[1]);return Ot.fromTimestamp(e)}function jp(t){var e=t.toTimestamp();return new Yq(e.seconds,e.nanoseconds)}function Bp(t){var e=new Zi(t.seconds,t.nanoseconds);return Ot.fromTimestamp(e)}function op(t,e){for(var n=(e.baseMutations||[]).map(function(c){return KO(t.Lt,c)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(c){return KO(t.Lt,c)}),u=Zi.fromMillis(e.localWriteTimeMs);return new Kk(e.batchId,u,n,a)}function Nv(t){var e,n,r=Bp(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Bp(t.lastLimboFreeSnapshotVersion):Ot.min();return t.query.documents!==void 0?(wt((n=t.query).documents.length===1),e=Qo(fm(I6(n.documents[0])))):e=function(o){return Qo(R6(o))}(t.query),new y1(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Di.fromBase64String(t.resumeToken))}function U6(t,e){var n,r=jp(e.snapshotVersion),i=jp(e.lastLimboFreeSnapshotVersion);n=Q_(e.target)?k6(t.Lt,e.target):A6(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Qi(e.targetId,Hy(e.target),r,o,e.sequenceNumber,i,n)}function Yk(t){var e=R6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?a6(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nG=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return eP(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Bp(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return eP(e).put({bundleId:(r=n).id,createTime:jp(Dr(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return tP(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:Yk(i.bundledQuery),readTime:Bp(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return tP(e).put(function(r){return{name:r.name,readTime:jp(Dr(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function eP(t){return ro(t,Mp.store)}function tP(t){return ro(t,Fp.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rG=function(){function t(){this.Bt=new Xk}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),We.resolve()},t.prototype.getCollectionParents=function(e,n){return We.resolve(this.Bt.getEntries(n))},t}(),Xk=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dr(Gt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new dr(Gt.comparator)).toArray()},t}(),iG=function(){function t(){this.qt=new Xk}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Rs(o)};return nP(e).put(a)}return We.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[Z3(n),""],!1,!0);return nP(e).Nt(i).next(function(o){for(var a=0,u=o;a<u.length;a++){var c=u[a];if(c.collectionId!==n)break;r.push(Eu(c.parent))}return r})},t}();function nP(t){return ro(t,th.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ba=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t,e,n){var r=t.store(_n.store),i=t.store(di.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,c=r.$t({range:a},function(E,b,I){return u++,I.delete()});o.push(c.next(function(){wt(u===1)}));for(var d=[],p=0,v=n.mutations;p<v.length;p++){var y=v[p],w=di.key(e,y.key.path,n.batchId);o.push(i.delete(w)),d.push(y.key)}return We.waitFor(o).next(function(){return d})}function tb(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ut();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ba.DEFAULT_COLLECTION_PERCENTILE=10,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ba.DEFAULT=new ba(41943040,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ba.DISABLED=new ba(-1,0,0);var oG=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,r,i){return wt(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $l(e).$t({index:_n.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var o=this,a=sp(e),u=$l(e);return u.add({}).next(function(c){wt(typeof c=="number");for(var d=new Kk(c,n,r,i),p=function(T,R,C){var k=C.baseMutations.map(function(W){return eb(T.Lt,W)}),O=C.mutations.map(function(W){return eb(T.Lt,W)});return new _n(R,C.batchId,C.localWriteTime.toMillis(),k,O)}(o.R,o.userId,d),v=[],y=new dr(function(T,R){return Mt(T.canonicalString(),R.canonicalString())}),w=0,E=i;w<E.length;w++){var b=E[w],I=di.key(o.userId,b.key.path,c);y=y.add(b.key.path.popLast()),v.push(u.put(p)),v.push(a.put(I,di.PLACEHOLDER))}return y.forEach(function(T){v.push(o.Ut.addToCollectionParentIndex(e,T))}),e.addOnCommittedListener(function(){o.Kt[c]=d.keys()}),We.waitFor(v).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return $l(e).get(n).next(function(i){return i?(wt(i.userId===r.userId),op(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?We.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return $l(e).$t({index:_n.userMutationsIndex,range:o},function(u,c,d){c.userId===r.userId&&(wt(c.batchId>=i),a=op(r.R,c)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return $l(e).$t({index:_n.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $l(e).Nt(_n.userMutationsIndex,r).next(function(i){return i.map(function(o){return op(n.R,o)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=di.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return sp(e).$t({range:o},function(u,c,d){var p=u[0],v=u[1],y=u[2],w=Eu(v);if(p===r.userId&&n.path.isEqual(w))return $l(e).get(y).next(function(E){if(!E)throw ut();wt(E.userId===r.userId),a.push(op(r.R,E))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new dr(Mt),o=[];return n.forEach(function(a){var u=di.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(u),d=sp(e).$t({range:c},function(p,v,y){var w=p[0],E=p[1],b=p[2],I=Eu(E);w===r.userId&&a.path.isEqual(I)?i=i.add(b):y.done()});o.push(d)}),We.waitFor(o).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,a=di.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a),c=new dr(Mt);return sp(e).$t({range:u},function(d,p,v){var y=d[0],w=d[1],E=d[2],b=Eu(w);y===r.userId&&i.isPrefixOf(b)?b.length===o&&(c=c.add(E)):v.done()}).next(function(){return r.Wt(e,c)})},t.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push($l(e).get(a).next(function(u){if(u===null)throw ut();wt(u.userId===r.userId),i.push(op(r.R,u))}))}),We.waitFor(o).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return j6(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),We.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return We.resolve();var i=IDBKeyRange.lowerBound(di.prefixForUser(n.userId)),o=[];return sp(e).$t({range:i},function(a,u,c){if(a[0]===n.userId){var d=Eu(a[1]);o.push(d)}else c.done()}).next(function(){wt(o.length===0)})})},t.prototype.containsKey=function(e,n){return B6(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return V6(e).get(this.userId).next(function(r){return r||new lc(n.userId,-1,"")})},t}();function B6(t,e,n){var r=di.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return sp(t).$t({range:o,Ft:!0},function(u,c,d){var p=u[0],v=u[1];u[2],p===e&&v===i&&(a=!0),d.done()}).next(function(){return a})}function $l(t){return ro(t,_n.store)}function sp(t){return ro(t,di.store)}function V6(t){return ro(t,lc.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nb=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),sG=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new nb(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return Ot.fromTimestamp(new Zi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return Jd(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return wt(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return Jd(e).$t(function(u,c){var d=Nv(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(o++,a.push(i.removeTargetData(e,d)))}).next(function(){return We.waitFor(a)}).next(function(){return o})},t.prototype.forEachTarget=function(e,n){return Jd(e).$t(function(r,i){var o=Nv(i);n(o)})},t.prototype.Xt=function(e){return iP(e).get(mo.key).next(function(n){return wt(n!==null),n})},t.prototype.Zt=function(e,n){return iP(e).put(mo.key,n)},t.prototype.te=function(e,n){return Jd(e).put(U6(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=Hy(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Jd(e).$t({range:i,index:Qi.queryTargetsIndexName},function(a,u,c){var d=Nv(u);p1(n,d.target)&&(o=d,c.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],a=tc(e);return n.forEach(function(u){var c=Rs(u.path);o.push(a.put(new Yr(r,c))),o.push(i.referenceDelegate.addReference(e,r,u))}),We.waitFor(o)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=tc(e);return We.forEach(n,function(a){var u=Rs(a.path);return We.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=tc(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=tc(e),o=rn();return i.$t({range:r,Ft:!0},function(a,u,c){var d=Eu(a[1]),p=new lt(d);o=o.add(p)}).next(function(){return o})},t.prototype.containsKey=function(e,n){var r=Rs(n.path),i=IDBKeyRange.bound([r],[Z3(r)],!1,!0),o=0;return tc(e).$t({index:Yr.documentTargetsIndex,Ft:!0,range:i},function(a,u,c){var d=a[0];a[1],d!==0&&(o++,c.done())}).next(function(){return o>0})},t.prototype.lt=function(e,n){return Jd(e).get(n).next(function(r){return r?Nv(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return ro(t,Qi.store)}function iP(t){return ro(t,mo.store)}function tc(t){return ro(t,Yr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){if(t.code!==Re.FAILED_PRECONDITION||t.message!==P6)throw t;return Ke("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Mt(n,i);return a===0?Mt(r,o):a}var aG=function(){function t(e){this.ne=e,this.buffer=new dr(oP),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();oP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),uG=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;Ke("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return ve(n,void 0,void 0,function(){var i;return ge(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Ch(i=o.sent())?(Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,xh(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return o.sent(),[2]}})})})},t}(),lG=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return We.resolve(vo.o);var i=new aG(n);return this.ae.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(rP)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),rP):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,o,a,u,c,d,p=this,v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(y){return y>p.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+y),i=p.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),p.nthSequenceNumber(e,i)}).next(function(y){return r=y,u=Date.now(),p.removeTargets(e,r,n)}).next(function(y){return o=y,c=Date.now(),p.removeOrphanedDocuments(e,r)}).next(function(y){return d=Date.now(),PC()<=Lt.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(u-a)+`ms
	Removed `+o+" targets in "+(c-u)+`ms
	Removed `+y+" documents in "+(d-c)+`ms
Total Duration: `+(d-v)+"ms"),We.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})})},t}(),cG=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new lG(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return P0(e,r)},t.prototype.removeReference=function(e,n,r){return P0(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return P0(e,n)},t.prototype._e=function(e,n){return function(r,i){var o=!1;return V6(r).Ot(function(a){return B6(r,a,i).next(function(u){return u&&(o=!0),We.resolve(!u)})}).next(function(){return o})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(u,c){if(c<=n){var d=r._e(e,u).next(function(p){if(!p)return a++,i.getEntry(e,u).next(function(){return i.removeEntry(u),tc(e).delete([0,Rs(u.path)])})});o.push(d)}}).next(function(){return We.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return P0(e,n)},t.prototype.we=function(e,n){var r,i=tc(e),o=vo.o;return i.$t({index:Yr.documentTargetsIndex},function(a,u){var c=a[0];a[1];var d=u.path,p=u.sequenceNumber;c===0?(o!==vo.o&&n(new lt(Eu(r)),o),o=p,r=d):o=vo.o}).next(function(){o!==vo.o&&n(new lt(Eu(r)),o)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function P0(t,e){return tc(t).put(function(n,r){return new Yr(0,Rs(n.path),r)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hm=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];if(this.equalsFn(u,e))return c}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){Th(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];e(u,c)}})},t.prototype.isEmpty=function(){return e6(this.inner)},t}(),z6=function(){function t(){this.changes=new hm(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:Ot.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:Zr.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?We.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),fG=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return Jl(e).put(D0(n),r)},t.prototype.removeEntry=function(e,n){var r=Jl(e),i=D0(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return Jl(e).get(D0(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return Jl(e).get(D0(n)).next(function(i){return{document:r.ye(n,i),size:tb(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=$o();return this.pe(e,n,function(o,a){var u=r.ye(o,a);i=i.insert(o,u)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=$o(),o=new _i(lt.comparator);return this.pe(e,n,function(a,u){var c=r.ye(a,u);i=i.insert(a,c),o=o.insert(a,tb(u))}).next(function(){return{documents:i,Te:o}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return We.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return Jl(e).$t({range:i},function(u,c,d){for(var p=lt.fromSegments(u);a&&lt.comparator(a,p)<0;)r(a,null),a=o.getNext();a&&a.isEqual(p)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=$o(),a=n.path.length+1,u={};if(r.isEqual(Ot.min())){var c=n.path.toArray();u.range=IDBKeyRange.lowerBound(c)}else{var d=n.path.toArray(),p=$k(r);u.range=IDBKeyRange.lowerBound([d,p],!0),u.index=Un.collectionReadTimeIndex}return Jl(e).$t(u,function(v,y,w){if(v.length===a){var E=BC(i.R,y);n.path.isPrefixOf(E.key.path)?Gy(n,E)&&(o=o.insert(E.key,E)):w.done()}}).next(function(){return o})},t.prototype.newChangeBuffer=function(e){return new hG(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return sP(e).get(ka.key).next(function(n){return wt(!!n),n})},t.prototype.me=function(e,n){return sP(e).put(ka.key,n)},t.prototype.ye=function(e,n){if(n){var r=BC(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ot.min()))return r}return Zr.newInvalidDocument(e)},t}(),hG=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new hm(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return Ye(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new dr(function(u,c){return Mt(u.canonicalString(),c.canonicalString())});return this.changes.forEach(function(u,c){var d=r.Ae.get(u);if(c.document.isValidDocument()){var p=ZO(r.Ie.R,c.document,r.getReadTime(u));a=a.add(u.path.popLast());var v=tb(p);o+=v-d,i.push(r.Ie.addEntry(n,u,p))}else if(o-=d,r.trackRemovals){var y=ZO(r.Ie.R,Zr.newNoDocument(u,Ot.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,y))}else i.push(r.Ie.removeEntry(n,u))}),a.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),We.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(u,c){i.Ae.set(u,c)}),a})},e}(z6);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){return ro(t,ka.store)}function Jl(t){return ro(t,Un.store)}function D0(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dG=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var o=this;wt(r<i&&r>=0&&i<=11);var a=new L6("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(po.store)}(e),function(c){c.createObjectStore(lc.store,{keyPath:lc.keyPath}),c.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0}),c.createObjectStore(di.store)}(e),aP(e),function(c){c.createObjectStore(Un.store)}(e));var u=We.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Yr.store),c.deleteObjectStore(Qi.store),c.deleteObjectStore(mo.store)}(e),aP(e)),u=u.next(function(){return function(c){var d=c.store(mo.store),p=new mo(0,0,Ot.min().toTimestamp(),0);return d.put(mo.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(c,d){return d.store(_n.store).Nt().next(function(p){c.deleteObjectStore(_n.store),c.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0});var v=d.store(_n.store),y=p.map(function(w){return v.put(w)});return We.waitFor(y)})}(e,a)})),u=u.next(function(){(function(c){c.createObjectStore(Iu.store,{keyPath:Iu.keyPath})})(e)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(a)})),r<6&&i>=6&&(u=u.next(function(){return function(c){c.createObjectStore(ka.store)}(e),o.be(a)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(a)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(u=u.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e),function(c){var d=c.objectStore(Un.store);d.createIndex(Un.readTimeIndex,Un.readTimeIndexPath,{unique:!1}),d.createIndex(Un.collectionReadTimeIndex,Un.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(a)})),r<11&&i>=11&&(u=u.next(function(){(function(c){c.createObjectStore(Mp.store,{keyPath:Mp.keyPath})})(e),function(c){c.createObjectStore(Fp.store,{keyPath:Fp.keyPath})}(e)})),u},t.prototype.be=function(e){var n=0;return e.store(Un.store).$t(function(r,i){n+=tb(i)}).next(function(){var r=new ka(n);return e.store(ka.store).put(ka.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(lc.store),i=e.store(_n.store);return r.Nt().next(function(o){return We.forEach(o,function(a){var u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(_n.userMutationsIndex,u).next(function(c){return We.forEach(c,function(d){wt(d.userId===a.userId);var p=op(n.R,d);return j6(e,a.userId,p).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Yr.store),r=e.store(Un.store);return e.store(mo.store).get(mo.key).next(function(i){var o=[];return r.$t(function(a,u){var c=new Gt(a),d=function(p){return[0,Rs(p)]}(c);o.push(n.get(d).next(function(p){return p?We.resolve():function(v){return n.put(new Yr(0,Rs(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return We.waitFor(o)})})},t.prototype.Pe=function(e,n){e.createObjectStore(th.store,{keyPath:th.keyPath});var r=n.store(th.store),i=new Xk,o=function(a){if(i.add(a)){var u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:Rs(c)})}};return n.store(Un.store).$t({Ft:!0},function(a,u){var c=new Gt(a);return o(c.popLast())}).next(function(){return n.store(di.store).$t({Ft:!0},function(a,u){a[0];var c=a[1];a[2];var d=Eu(c);return o(d.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(Qi.store);return r.$t(function(i,o){var a=Nv(o),u=U6(n.R,a);return r.put(u)})},t}();function aP(t){t.createObjectStore(Yr.store,{keyPath:Yr.keyPath}).createIndex(Yr.documentTargetsIndex,Yr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store,{keyPath:Qi.keyPath}).createIndex(Qi.queryTargetsIndexName,Qi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(mo.store)}var GS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pG=function(){function t(e,n,r,i,o,a,u,c,d,p){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!t.yt())throw new Ve(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cG(this,i),this.Le=n+"main",this.R=new M6(c),this.Be=new Up(this.Le,11,new dG(this.R)),this.qe=new sG(this.referenceDelegate,this.R),this.Ut=new iG,this.Ue=function(v,y){return new fG(v,y)}(this.R,this.Ut),this.Ke=new nG,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ve(Re.FAILED_PRECONDITION,GS);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new vo(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return ve(n,void 0,void 0,function(){return ge(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return ve(n,void 0,void 0,function(){return ge(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return ve(n,void 0,void 0,function(){return ge(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return L0(n).put(new Iu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ch(n))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return vv(e).get(po.key).next(function(r){return We.resolve(n.tn(r))})},t.prototype.en=function(e){return L0(e).delete(this.clientId)},t.prototype.nn=function(){return ve(this,void 0,void 0,function(){var e,n,r,i,o=this;return ge(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var c=ro(u,Iu.store);return c.Nt().next(function(d){var p=o.rn(d,18e5),v=d.filter(function(y){return p.indexOf(y)===-1});return We.forEach(v,function(y){return c.delete(y.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?We.resolve(!0):vv(e).get(po.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Ve(Re.FAILED_PRECONDITION,GS);return!1}}return!(!n.networkEnabled||!n.inForeground)||L0(e).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,c=n.networkEnabled===o.networkEnabled;if(a||u&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&Ke("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return ve(this,void 0,void 0,function(){var e=this;return ge(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[po.store,Iu.store],function(r){var i=new JO(r,vo.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return L0(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return oG.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;Ke("IndexedDbPersistence","Starting transaction:",e);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,Jq,function(u){return o=new JO(u,i.Ne?i.Ne.next():vo.o),n==="readwrite-primary"?i.Je(o).next(function(c){return!!c||i.Ye(o)}).next(function(c){if(!c)throw tr("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ve(Re.FAILED_PRECONDITION,P6);return r(o)}).next(function(c){return i.Ze(o).next(function(){return c})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},t.prototype.dn=function(e){var n=this;return vv(e).get(po.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Ve(Re.FAILED_PRECONDITION,GS)})},t.prototype.Ze=function(e){var n=new po(this.clientId,this.allowTabSynchronization,Date.now());return vv(e).put(po.key,n)},t.yt=function(){return Up.yt()},t.prototype.Xe=function(e){var n=this,r=vv(e);return r.get(po.key).next(function(i){return n.tn(i)?(Ke("IndexedDbPersistence","Releasing primary lease."),r.delete(po.key)):We.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(tr("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),Q8()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return Ke("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return tr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function vv(t){return ro(t,po.store)}function L0(t){return ro(t,Iu.store)}function Qk(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var mG=function(t,e){this.progress=t,this.wn=e},W6=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return lt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):Vk(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new lt(n)).next(function(r){var i=UC();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,a=UC();return this.Ut.getCollectionParents(e,o).next(function(u){return We.forEach(u,function(c){var d=function(p,v){return new Uu(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return i.An(e,d,r).next(function(p){p.forEach(function(v,y){a=a.insert(v,y)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(u){return i=u,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(u){return o=u,a.Rn(e,o,i).next(function(c){i=c;for(var d=0,p=o;d<p.length;d++)for(var v=p[d],y=0,w=v.mutations;y<w.length;y++){var E=w[y],b=E.key,I=i.get(b);I==null&&(I=Zr.newInvalidDocument(b),i=i.insert(b,I)),FC(E,I,v.localWriteTime),I.isFoundDocument()||(i=i.remove(b))}})}).next(function(){return i.forEach(function(u,c){Gy(n,c)||(i=i.remove(u))}),i})},t.prototype.Rn=function(e,n,r){for(var i=rn(),o=0,a=n;o<a.length;o++)for(var u=0,c=a[o].mutations;u<c.length;u++){var d=c[u];d instanceof Ec&&r.get(d.key)===null&&(i=i.add(d.key))}var p=r;return this.Ue.getEntries(e,i).next(function(v){return v.forEach(function(y,w){w.isFoundDocument()&&(p=p.insert(y,w))}),p})},t}(),gG=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=rn(),i=rn(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),H6=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ot.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var u=o.Cn(n,a);return(l_(n)||Z_(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(e,n):(PC()<=Lt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),MC(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(c){return u.forEach(function(d){c=c.insert(d.key,d)}),c}))})},t.prototype.Cn=function(e,n){var r=new dr(l6(e));return n.forEach(function(i,o){Gy(e,o)&&(r=r.add(o))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o=e==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return PC()<=Lt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",MC(n)),this.Sn.getDocumentsMatchingQuery(e,n,Ot.min())},t}(),vG=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.kn=new _i(Mt),this.Fn=new hm(function(o){return Hy(o)},p1),this.$n=Ot.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new W6(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e,n,r){return new vG(t,e,n,r)}function G6(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return n=$e(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var c;return n._n.getAllMutationBatches(u).next(function(d){return c=d,r=n.persistence.getMutationQueue(e),i=new W6(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(d){for(var p=[],v=[],y=rn(),w=0,E=c;w<E.length;w++){var b=E[w];p.push(b.batchId);for(var I=0,T=b.mutations;I<T.length;I++){var R=T[I];y=y.add(R.key)}}for(var C=0,k=d;C<k.length;C++){var O=k[C];v.push(O.batchId);for(var W=0,D=O.mutations;W<D.length;W++){var X=D[W];y=y.add(X.key)}}return i.pn(u,y).next(function(V){return{Ln:V,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function yG(t,e){var n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){var p=c.batch,v=p.keys(),y=We.resolve();return v.forEach(function(w){y=y.next(function(){return d.getEntry(u,w)}).next(function(E){var b=c.docVersions.get(w);wt(b!==null),E.version.compareTo(b)<0&&(p.applyToRemoteDocument(E,c),E.isValidDocument()&&d.addEntry(E,c.commitVersion))})}),y.next(function(){return a._n.removeMutationBatch(u,p)})}(n,r,e,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function K6(t){var e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function wG(t,e){var n=$e(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];e.targetChanges.forEach(function(p,v){var y=i.get(v);if(y){u.push(n.qe.removeMatchingKeys(o,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(o,p.addedDocuments,v)}));var w=p.resumeToken;if(w.approximateByteSize()>0){var E=y.withResumeToken(w,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(v,E),function(b,I,T){return wt(I.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(y,E,p)&&u.push(n.qe.updateTargetData(o,E))}}});var c=$o();if(e.documentUpdates.forEach(function(p,v){e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push($6(o,a,e.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(Ot.min())){var d=n.qe.getLastRemoteSnapshotVersion(o).next(function(p){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(d)}return We.waitFor(u).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,c)}).next(function(){return c})}).then(function(o){return n.kn=i,o})}function $6(t,e,n,r,i){var o=rn();return n.forEach(function(a){return o=o.add(a)}),e.getEntries(t,o).next(function(a){var u=$o();return n.forEach(function(c,d){var p=a.get(c),v=(i==null?void 0:i.get(c))||r;d.isNoDocument()&&d.version.isEqual(Ot.min())?(e.removeEntry(c,v),u=u.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d,v),u=u.insert(c,d)):Ke("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),u})}function _G(t,e){var n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function Vp(t,e){var n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(o){return o?(i=o,We.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new y1(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function zp(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:r=$e(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Ch(a=u.sent()))throw a;return Ke("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function rb(t,e,n){var r=$e(t),i=Ot.min(),o=rn();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(u,c,d){var p=$e(u),v=p.Fn.get(d);return v!==void 0?We.resolve(p.kn.get(v)):p.qe.getTargetData(c,d)}(r,a,Qo(e)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,u.targetId).next(function(c){o=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:Ot.min(),n?o:rn())}).next(function(u){return{documents:u,Bn:o}})})}function Y6(t,e){var n=$e(t),r=$e(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function X6(t){var e=$e(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=$e(r),u=$o(),c=$k(o),d=Jl(i),p=IDBKeyRange.lowerBound(c,!0);return d.$t({index:Un.readTimeIndex,range:p},function(v,y){var w=BC(a.R,y);u=u.insert(w.key,w),c=y.readTime}).next(function(){return{wn:u,readTime:F6(c)}})}(e.On,n,e.$n)}).then(function(n){var r=n.wn,i=n.readTime;return e.$n=i,r})}function bG(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){return[2,(e=$e(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Jl(i),a=Ot.min();return o.$t({index:Un.readTimeIndex,reverse:!0},function(u,c,d){c.readTime&&(a=F6(c.readTime)),d.done()}).next(function(){return a})}(r)}).then(function(r){e.$n=r})]})})}function EG(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o,a,u,c,d,p,v,y,w;return ge(this,function(E){switch(E.label){case 0:for(i=$e(t),o=rn(),a=$o(),u=_6(),c=0,d=n;c<d.length;c++)p=d[c],v=e.qn(p.metadata.name),p.document&&(o=o.add(v)),a=a.insert(v,e.Un(p)),u=u.insert(v,e.Kn(p.metadata.readTime));return y=i.On.newChangeBuffer({trackRemovals:!0}),[4,Vp(i,function(b){return Qo(fm(Gt.fromString("__bundle__/docs/"+b)))}(r))];case 1:return w=E.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(b){return $6(b,y,a,Ot.min(),u).next(function(I){return y.apply(b),I}).next(function(I){return i.qe.removeMatchingKeysForTargetId(b,w.targetId).next(function(){return i.qe.addMatchingKeys(b,o,w.targetId)}).next(function(){return i.Mn.En(b,I)}).next(function(){return I})})})]}})})}function SG(t,e,n){return n===void 0&&(n=rn()),ve(this,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return[4,Vp(t,Qo(Yk(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=$e(t)).persistence.runTransaction("Save named query","readwrite",function(a){var u=Dr(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ke.saveNamedQuery(a,e);var c=r.withResumeToken(Di.EMPTY_BYTE_STRING,u);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TG=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return We.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Dr(r.createTime)}),We.resolve()},t.prototype.getNamedQuery=function(e,n){return We.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Yk(r.bundledQuery),readTime:Dr(r.readTime)}}(n)),We.resolve()},t}(),Jk=function(){function t(){this.Wn=new dr(Ar.Gn),this.zn=new dr(Ar.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new Ar(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Ar(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new lt(new Gt([])),i=new Ar(r,e),o=new Ar(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),a.push(u.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new lt(new Gt([])),r=new Ar(n,e),i=new Ar(n,e+1),o=rn();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},t.prototype.containsKey=function(e){var n=new Ar(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),Ar=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return lt.comparator(e.key,n.key)||Mt(e.ns,n.ns)},t.Hn=function(e,n){return Mt(e.ns,n.ns)||lt.comparator(e.key,n.key)},t}(),IG=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new dr(Ar.Gn)}return t.prototype.checkEmpty=function(e){return We.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Kk(o,n,r,i);this._n.push(a);for(var u=0,c=i;u<c.length;u++){var d=c[u];this.rs=this.rs.add(new Ar(d.key,o)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return We.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return We.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return We.resolve(this._n.length>o?this._n[o]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return We.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return We.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new Ar(n,0),o=new Ar(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(u){var c=r.os(u.ns);a.push(c)}),We.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new dr(Mt);return n.forEach(function(o){var a=new Ar(o,0),u=new Ar(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,u],function(c){i=i.add(c.ns)})}),We.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;lt.isDocumentKey(o)||(o=o.child(""));var a=new Ar(new lt(o),0),u=new dr(Mt);return this.rs.forEachWhile(function(c){var d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.ns)),!0)},a),We.resolve(this.us(u))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;wt(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return We.forEach(n.mutations,function(o){var a=new Ar(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new Ar(n,0),i=this.rs.firstAfterOrEqual(r);return We.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,We.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),CG=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new _i(lt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return We.resolve(r?r.document.clone():Zr.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=$o();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():Zr.newInvalidDocument(o))}),We.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=$o(),o=new lt(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var u=a.getNext(),c=u.key,d=u.value,p=d.document,v=d.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||Gy(n,p)&&(i=i.insert(p.key,p.clone()))}return We.resolve(i)},t.prototype.fs=function(e,n){return We.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new xG(this)},t.prototype.getSize=function(e){return We.resolve(this.size)},t}(),xG=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return Ye(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),We.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(z6),kG=function(){function t(e){this.persistence=e,this.ds=new hm(function(n){return Hy(n)},p1),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.ws=0,this._s=new Jk,this.targetCount=0,this.ys=nb.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),We.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return We.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return We.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),We.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),We.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new nb(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,We.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),We.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,We.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(u,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(u),a.push(i.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),We.waitFor(a).next(function(){return o})},t.prototype.getTargetCount=function(e){return We.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return We.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),We.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),We.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),We.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return We.resolve(r)},t.prototype.containsKey=function(e,n){return We.resolve(this._s.containsKey(n))},t}(),AG=function(){function t(e,n){var r=this;this.gs={},this.Ne=new vo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new kG(this),this.Ut=new rG,this.Ue=function(i,o){return new CG(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new M6(n),this.Ke=new TG(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new IG(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;Ke("MemoryPersistence","Starting transaction:",e);var o=new RG(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return We.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),RG=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return Ye(e,t),e}(D6),NG=function(){function t(e){this.persistence=e,this.As=new Jk,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ut()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),We.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),We.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),We.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.vs,function(i){var o=lt.fromPath(i);return n.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return We.or([function(){return We.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),qr=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t,e){return"firestore_clients_"+t+"_"+e}function lP(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function KS(t,e){return"firestore_targets_"+t+"_"+e}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");var cP=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Ve(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(tr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),$S=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new Ve(i.error.code,i.error.message)),o?new t(e,i.state,r):(tr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),fP=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=v1(),a=0;i&&a<r.activeTargetIds.length;++a)i=r6(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(tr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),OG=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(tr("SharedClientState","Failed to parse online state: "+e),null)},t}(),VC=function(){function t(){this.activeTargetIds=v1()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),YS=function(){function t(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new _i(Mt),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=uP(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new VC),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return ve(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c,d,p,v,y=this;return ge(this,function(w){switch(w.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=w.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(uP(this.persistenceKey,i)))&&(a=fP.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(c=this.js(u))&&this.Ws(c),d=0,p=this.$s;d<p.length;d++)v=p[d],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(KS(this.persistenceKey,e));if(r){var i=$S.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(KS(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return Ke("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){Ke("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return ve(n,void 0,void 0,function(){var i,o,a,u,c,d;return ge(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(d=function(v){var y=vo.o;if(v!=null)try{var w=JSON.parse(v);wt(typeof w=="number"),y=w}catch(E){tr("SharedClientState","Failed to read sequence number from WebStorage",E)}return y}(r.newValue))!==vo.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new cP(this.currentUser,e,n,r),o=lP(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},t.prototype.Hs=function(e){var n=lP(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=KS(this.persistenceKey,e),o=new $S(e,n,r);this.setItem(i,o.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return fP.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return cP.Vs(new qr(o),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return $S.Vs(i,n)},t.prototype.js=function(e){return OG.Vs(e)},t.prototype.ii=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ke("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.Fs.insert(e,n):this.Fs.remove(e),o=this.Gs(this.Fs),a=this.Gs(i),u=[],c=[];return a.forEach(function(d){o.has(d)||u.push(d)}),o.forEach(function(d){a.has(d)||c.push(d)}),this.syncEngine.hi(u,c).then(function(){r.Fs=i})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=v1();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),Q6=function(){function t(){this.li=new VC,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new VC,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),PG=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),hP=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),DG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},LG=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),MG=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Ye(e,t),e.prototype.Fi=function(n,r,i,o){return new Promise(function(a,u){var c=new hq;c.listenOnce(lq.COMPLETE,function(){try{switch(c.getLastErrorCode()){case qS.NO_ERROR:var p=c.getResponseJson();Ke("Connection","XHR received:",JSON.stringify(p)),a(p);break;case qS.TIMEOUT:Ke("Connection",'RPC "'+n+'" timed out'),u(new Ve(Re.DEADLINE_EXCEEDED,"Request time out"));break;case qS.HTTP_ERROR:var v=c.getStatus();if(Ke("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var y=c.getResponseJson().error;if(y&&y.status&&y.message){var w=function(E){var b=E.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(b)>=0?b:Re.UNKNOWN}(y.status);u(new Ve(w,y.message))}else u(new Ve(Re.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Ve(Re.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ke("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(o);c.send(r,"POST",d,i,15)})},e.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=aq(),a=uq(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new fq({})),this.ki(u.initMessageHeaders,r),Ix()||yF()||K8()||$8()||Y8()||Cx()||(u.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");Ke("Connection","Creating WebChannel: "+c,u);var d=o.createWebChannel(c,u),p=!1,v=!1,y=new LG({Ei:function(E){v?Ke("Connection","Not sending because WebChannel is closed:",E):(p||(Ke("Connection","Opening WebChannel transport."),d.open(),p=!0),Ke("Connection","WebChannel sending:",E),d.send(E))},Ti:function(){return d.close()}}),w=function(E,b,I){E.listen(b,function(T){try{I(T)}catch(R){setTimeout(function(){throw R},0)}})};return w(d,N0.EventType.OPEN,function(){v||Ke("Connection","WebChannel transport opened.")}),w(d,N0.EventType.CLOSE,function(){v||(v=!0,Ke("Connection","WebChannel transport closed"),y.Vi())}),w(d,N0.EventType.ERROR,function(E){v||(v=!0,uy("Connection","WebChannel transport errored:",E),y.Vi(new Ve(Re.UNAVAILABLE,"The operation could not be completed")))}),w(d,N0.EventType.MESSAGE,function(E){var b;if(!v){var I=E.data[0];wt(!!I);var T=I,R=T.error||((b=T[0])===null||b===void 0?void 0:b.error);if(R){Ke("Connection","WebChannel received error:",R);var C=R.status,k=function(W){var D=Jn[W];if(D!==void 0)return w6(D)}(C),O=R.message;k===void 0&&(k=Re.INTERNAL,O="Unknown error status: "+C+" with message "+R.message),v=!0,y.Vi(new Ve(k,O)),d.close()}else Ke("Connection","WebChannel received:",I),y.Si(I)}}),w(a,cq.STAT_EVENT,function(E){E.stat===AO.PROXY?Ke("Connection","Detected buffering proxy"):E.stat===AO.NOPROXY&&Ke("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);Ke("RestConnection","Sending: ",o,r);var a={};return this.ki(a,i),this.Fi(e,o,a,r).then(function(u){return Ke("RestConnection","Received: ",u),u},function(u){throw uy("RestConnection",e+" failed with error: ",u,"url: ",o,"request:",r),u})},t.prototype.$i=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=DG[e];return this.Di+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(){return typeof window<"u"?window:null}function h_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){return new Vq(t,!0)}var Zk=function(){function t(e,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&Ke("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Z6=function(){function t(e,n,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Zk(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return ve(this,void 0,void 0,function(){return ge(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===Re.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===Re.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var o=new Ve(Re.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return ve(e,void 0,void 0,function(){return ge(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return Ke("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),FG=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,u}return Ye(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var u;if("targetChange"in a){a.targetChange;var c=function(I){return I==="NO_CHANGE"?0:I==="ADD"?1:I==="REMOVE"?2:I==="CURRENT"?3:I==="RESET"?4:ut()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(I,T){return I.I?(wt(T===void 0||typeof T=="string"),Di.fromBase64String(T||"")):(wt(T===void 0||T instanceof Uint8Array),Di.fromUint8Array(T||new Uint8Array))}(o,a.targetChange.resumeToken),v=(y=a.targetChange.cause)&&function(I){var T=I.code===void 0?Re.UNKNOWN:w6(I.code);return new Ve(T,I.message||"")}(y);u=new E6(c,d,p,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,d=Na(o,c.document.name),p=Dr(c.document.updateTime);var y=new go({mapValue:{fields:c.document.fields}}),w=(v=Zr.newFoundDocument(d,p,y),c.targetIds||[]),E=c.removedTargetIds||[];u=new f_(w,E,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,d=Na(o,c.document),p=c.readTime?Dr(c.readTime):Ot.min(),y=Zr.newNoDocument(d,p),v=c.removedTargetIds||[],u=new f_([],v,y.key,y);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,d=Na(o,c.document),p=c.removedTargetIds||[],u=new f_([],p,d,null);else{if(!("filter"in a))return ut();a.filter;var b=a.filter;b.targetId,c=b.count||0,d=new Oq(c),p=b.targetId,u=new b6(p,d)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return Ot.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?Ot.min():a.readTime?Dr(a.readTime):Ot.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=py(this.R),r.addTarget=function(o,a){var u,c=a.target;return(u=Q_(c)?{documents:k6(o,c)}:{query:A6(o,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=S6(o,a.resumeToken):a.snapshotVersion.compareTo(Ot.min())>0&&(u.readTime=hy(o,a.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,a){var u=function(c,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,a.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=py(this.R),r.removeTarget=n,this.cr(r)},e}(Z6),UG=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,u.gr=!1,u}return Ye(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(wt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(wt(a!==void 0),o.map(function(u){return function(c,d){var p=c.updateTime?Dr(c.updateTime):Dr(d);return p.isEqual(Ot.min())&&(p=Dr(d)),new Aq(p,c.transformResults||[])}(u,a)})):[]}(n.writeResults,n.commitTime),i=Dr(n.commitTime);return this.listener.Tr(i,r)}return wt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=py(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return eb(r.R,o)})};this.cr(i)},e}(Z6),jG=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return Ye(e,t),e.prototype.br=function(){if(this.Rr)throw new Ve(Re.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Ve(Re.UNKNOWN,a.toString())})},e.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Ve(Re.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),BG=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(tr(n),this.Vr=!1):Ke("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),VG=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return ve(o,void 0,void 0,function(){return ge(this,function(u){switch(u.label){case 0:return Sc(this)?(Ke("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return ve(this,void 0,void 0,function(){var d;return ge(this,function(p){switch(p.label){case 0:return(d=$e(c)).Or.add(4),[4,dm(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Qy(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new BG(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:if(!Sc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function dm(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function w1(t,e){var n=$e(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),nA(n)?tA(n):mm(n).er()&&eA(n,e))}function my(t,e){var n=$e(t),r=mm(n);n.$r.delete(e),r.er()&&e2(n,e),n.$r.size===0&&(r.er()?r.ir():Sc(n)&&n.Br.set("Unknown"))}function eA(t,e){t.qr.U(e.targetId),mm(t).mr(e)}function e2(t,e){t.qr.U(e),mm(t).yr(e)}function tA(t){t.qr=new Uq({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),mm(t).start(),t.Br.Sr()}function nA(t){return Sc(t)&&!mm(t).tr()&&t.$r.size>0}function Sc(t){return $e(t).Or.size===0}function t2(t){t.qr=void 0}function zG(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){return t.$r.forEach(function(n,r){eA(t,n)}),[2]})})}function WG(t,e){return ve(this,void 0,void 0,function(){return ge(this,function(n){return t2(t),nA(t)?(t.Br.Nr(e),tA(t)):t.Br.set("Unknown"),[2]})})}function HG(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o;return ge(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof E6&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(u,c){return ve(this,void 0,void 0,function(){var d,p,v,y;return ge(this,function(w){switch(w.label){case 0:d=c.cause,p=0,v=c.targetIds,w.label=1;case 1:return p<v.length?(y=v[p],u.$r.has(y)?[4,u.remoteSyncer.rejectListen(y,d)]:[3,3]):[3,5];case 2:w.sent(),u.$r.delete(y),u.qr.removeTarget(y),w.label=3;case 3:w.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ib(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof f_?t.qr.X(e):e instanceof b6?t.qr.rt(e):t.qr.et(e),n.isEqual(Ot.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,K6(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(u,c){var d=u.qr.ut(c);return d.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var y=u.$r.get(v);y&&u.$r.set(v,y.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach(function(p){var v=u.$r.get(p);if(v){u.$r.set(p,v.withResumeToken(Di.EMPTY_BYTE_STRING,v.snapshotVersion)),e2(u,p);var y=new y1(v.target,p,1,v.sequenceNumber);eA(u,y)}}),u.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ke("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,ib(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function ib(t,e,n){return ve(this,void 0,void 0,function(){var r=this;return ge(this,function(i){switch(i.label){case 0:if(!Ch(e))throw e;return t.Or.add(1),[4,dm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return K6(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return ve(r,void 0,void 0,function(){return ge(this,function(o){switch(o.label){case 0:return Ke("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),t.Or.delete(1),[4,Qy(t)];case 2:return o.sent(),[2]}})})}),[2]}})})}function n2(t,e){return e().catch(function(n){return ib(t,n,e)})}function pm(t){return ve(this,void 0,void 0,function(){var e,n,r,i,o;return ge(this,function(a){switch(a.label){case 0:e=$e(t),n=vc(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(u){return Sc(u)&&u.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,_G(e.localStore,r)];case 3:return(i=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,c){u.Fr.push(c);var d=vc(u);d.er()&&d.pr&&d.Er(c.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,ib(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return r2(e)&&i2(e),[2]}})})}function r2(t){return Sc(t)&&!vc(t).tr()&&t.Fr.length>0}function i2(t){vc(t).start()}function qG(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){return vc(t).Ar(),[2]})})}function GG(t){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){for(e=vc(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function KG(t,e,n){return ve(this,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=tG.from(r,e,n),[4,n2(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,pm(t)];case 2:return o.sent(),[2]}})})}function $G(t,e){return ve(this,void 0,void 0,function(){return ge(this,function(n){switch(n.label){case 0:return e&&vc(t).pr?[4,function(r,i){return ve(this,void 0,void 0,function(){var o,a;return ge(this,function(u){switch(u.label){case 0:return y6(a=i.code)&&a!==Re.ABORTED?(o=r.Fr.shift(),vc(r).sr(),[4,n2(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,pm(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return r2(t)&&i2(t),[2]}})})}function zC(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return n=$e(t),e?(n.Or.delete(2),[4,Qy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,dm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function mm(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var o=$e(n);return o.br(),new FG(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:zG.bind(null,t),Ri:WG.bind(null,t),_r:HG.bind(null,t)}),t.Mr.push(function(n){return ve(e,void 0,void 0,function(){return ge(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),nA(t)?tA(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),t2(t),r.label=3;case 3:return[2]}})})})),t.Ur}function vc(t){var e=this;return t.Kr||(t.Kr=function(n,r,i){var o=$e(n);return o.br(),new UG(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:qG.bind(null,t),Ri:$G.bind(null,t),Ir:GG.bind(null,t),Tr:KG.bind(null,t)}),t.Mr.push(function(n){return ve(e,void 0,void 0,function(){return ge(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,pm(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(Ke("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var YG=function(){function t(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function gm(t,e){if(tr("AsyncQueue",e+": "+t),Ch(t))return new Ve(Re.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o2=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||lt.comparator(n.key,r.key)}:function(n,r){return lt.comparator(n.key,r.key)},this.keyedMap=UC(),this.sortedSet=new _i(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),dP=function(){function t(){this.Qr=new _i(lt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(n):e.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):ut():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),ob=function(){function t(e,n,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new t(e,n,o2.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),XG=function(){this.Wr=void 0,this.listeners=[]},QG=function(){this.queries=new hm(function(t){return u6(t)},qy),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:if(n=$e(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new XG),!i)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=d.sent(),[3,4];case 3:return u=d.sent(),c=gm(u,"Initialization of query '"+MC(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&oA(n),[2]}})})}function iA(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a;return ge(this,function(u){return n=$e(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function JG(t,e){for(var n=$e(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],u=a.query,c=n.queries.get(u);if(c){for(var d=0,p=c.listeners;d<p.length;d++)p[d].Hr(a)&&(r=!0);c.Wr=a}}r&&oA(n)}function ZG(t,e,n){var r=$e(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function oA(t){t.Gr.forEach(function(e){e.next()})}var sA=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}e=new ob(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=ob.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),eK=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),pP=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return Na(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?x6(this.R,e.document,!1):Zr.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return Dr(e)},t}(),tK=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=s2(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new pP(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var u=r.qn(a.metadata.name),c=0,d=a.metadata.queries;c<d.length;c++){var p=d[c],v=(n.get(p)||rn()).add(u);n.set(p,v)}}return n},t.prototype.complete=function(){return ve(this,void 0,void 0,function(){var e,n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return[4,EG(this.localStore,new pP(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,SG(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new mG(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a2=function(t){this.key=t},u2=function(t){this.key=t},l2=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=rn(),this.mutatedKeys=rn(),this.lo=l6(e),this.fo=new o2(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new dP,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,u=o,c=!1,d=l_(this.query)&&o.size===this.query.limit?o.last():null,p=Z_(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(y,w){var E=o.get(y),b=Gy(r.query,w)?w:null,I=!!E&&r.mutatedKeys.has(E.key),T=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),R=!1;E&&b?E.data.isEqual(b.data)?I!==T&&(i.track({type:3,doc:b}),R=!0):r.yo(E,b)||(i.track({type:2,doc:b}),R=!0,(d&&r.lo(b,d)>0||p&&r.lo(b,p)<0)&&(c=!0)):!E&&b?(i.track({type:0,doc:b}),R=!0):E&&!b&&(i.track({type:1,doc:E}),R=!0,(d||p)&&(c=!0)),R&&(b?(u=u.add(b),a=T?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),l_(this.query)||Z_(this.query))for(;u.size>this.query.limit;){var v=l_(this.query)?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:u,mo:i,Nn:c,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(p,v){return function(y,w){var E=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return E(y)-E(w)}(p.type,v.type)||i.lo(p.doc,v.doc)}),this.po(r);var u=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,d=c!==this.ao;return this.ao=c,a.length!==0||d?{snapshot:new ob(this.query,e.fo,o,a,e.mutatedKeys,c===0,d,!1),To:u}:{To:u}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new dP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=rn(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new u2(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new a2(i))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=rn();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return ob.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),nK=function(t,e,n){this.query=t,this.targetId=e,this.view=n},rK=function(t){this.key=t,this.bo=!1},iK=function(){function t(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new hm(function(u){return u6(u)},qy),this.Vo=new Map,this.So=new Set,this.Do=new _i(lt.comparator),this.Co=new Map,this.No=new Jk,this.xo={},this.ko=new Map,this.Fo=nb.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function oK(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u;return ge(this,function(c){switch(c.label){case 0:return n=fA(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Vp(n.localStore,Qo(e))];case 2:return a=c.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,aA(n,e,r,u==="current")];case 3:i=c.sent(),n.isPrimaryClient&&w1(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function aA(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o,a,u,c,d;return ge(this,function(p){switch(p.label){case 0:return t.Oo=function(v,y,w){return function(E,b,I,T){return ve(this,void 0,void 0,function(){var R,C,k;return ge(this,function(O){switch(O.label){case 0:return R=b.view._o(I),R.Nn?[4,rb(E.localStore,b.query,!1).then(function(W){var D=W.documents;return b.view._o(D,R)})]:[3,2];case 1:R=O.sent(),O.label=2;case 2:return C=T&&T.targetChanges.get(b.targetId),k=b.view.applyChanges(R,E.isPrimaryClient,C),[2,(WC(E,b.targetId,k.To),k.snapshot)]}})})}(t,v,y,w)},[4,rb(t.localStore,e,!0)];case 1:return i=p.sent(),o=new l2(e,i.Bn),a=o._o(i.documents),u=Hk.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),c=o.applyChanges(a,t.isPrimaryClient,u),WC(t,n,c.To),d=new nK(e,n,o),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function sK(t,e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:return n=$e(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!qy(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,zp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),my(n.remoteStore,r.targetId),Wp(n,r.targetId)}).catch(xh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Wp(n,r.targetId),[4,zp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function aK(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:r=hA(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(c,d){var p,v=$e(c),y=Zi.now(),w=d.reduce(function(E,b){return E.add(b.key)},rn());return v.persistence.runTransaction("Locally write mutations","readwrite",function(E){return v.Mn.pn(E,w).next(function(b){p=b;for(var I=[],T=0,R=d;T<R.length;T++){var C=R[T],k=Nq(C,p.get(C.key));k!=null&&I.push(new Ec(C.key,k,i6(k.value.mapValue),pi.exists(!0)))}return v._n.addMutationBatch(E,y,I,d)})}).then(function(E){return E.applyToLocalDocumentSet(p),{batchId:E.batchId,changes:p}})}(r.localStore,e)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,d,p){var v=c.xo[c.currentUser.toKey()];v||(v=new _i(Mt)),v=v.insert(d,p),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,ju(r,i.changes)];case 3:return u.sent(),[4,pm(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=gm(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function c2(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:n=$e(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wG(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var u=n.Co.get(a);u&&(wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?wt(u.bo):o.removedDocuments.size>0&&(wt(u.bo),u.bo=!1))}),[4,ju(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,xh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function mP(t,e,n){var r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var u=a.view.zr(e);u.snapshot&&i.push(u.snapshot)}),function(o,a){var u=$e(o);u.onlineState=a;var c=!1;u.queries.forEach(function(d,p){for(var v=0,y=p.listeners;v<y.length;v++)y[v].zr(a)&&(c=!0)}),c&&oA(u)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uK(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:return(r=$e(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new _i(lt.comparator)).insert(o,Zr.newNoDocument(o,Ot.min())),u=rn().add(o),c=new Wk(Ot.min(),new Map,new dr(Mt),a,u),[4,c2(r,c)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),cA(r),[3,4];case 2:return[4,zp(r.localStore,e,!1).then(function(){return Wp(r,e,n)}).catch(xh)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function lK(t,e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:n=$e(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,yG(n.localStore,e)];case 2:return i=o.sent(),lA(n,r,null),uA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ju(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,xh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function cK(t,e,n){return ve(this,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:r=$e(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,u){var c=$e(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return c._n.lookupMutationBatch(d,u).next(function(v){return wt(v!==null),p=v.keys(),c._n.removeMutationBatch(d,v)}).next(function(){return c._n.performConsistencyCheck(d)}).next(function(){return c.Mn.pn(d,p)})})}(r.localStore,e)];case 2:return i=o.sent(),lA(r,e,n),uA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ju(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,xh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function fK(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a;return ge(this,function(u){switch(u.label){case 0:Sc((n=$e(t)).remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(c){var d=$e(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),a=gm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function uA(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function lA(t,e,n){var r=$e(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Wp(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||f2(t,a)})}function f2(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(my(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),cA(t))}function WC(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof a2?(t.No.addReference(o.key,e),hK(t,o)):o instanceof u2?(Ke("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||f2(t,o.key)):ut()}}function hK(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ke("SyncEngine","New document in limbo: "+n),t.So.add(r),cA(t))}function cA(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new lt(Gt.fromString(e)),r=t.Fo.next();t.Co.set(r,new rK(n)),t.Do=t.Do.insert(n,r),w1(t.remoteStore,new y1(Qo(fm(n.path)),r,2,vo.o))}}function ju(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return r=$e(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,d){a.push(r.Oo(d,e,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),i.push(p);var v=gG.Pn(d.targetId,p);o.push(v)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(c,d){return ve(this,void 0,void 0,function(){var p,v,y,w,E,b,I,T,R;return ge(this,function(C){switch(C.label){case 0:p=$e(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(k){return We.forEach(d,function(O){return We.forEach(O.bn,function(W){return p.persistence.referenceDelegate.addReference(k,O.targetId,W)}).next(function(){return We.forEach(O.vn,function(W){return p.persistence.referenceDelegate.removeReference(k,O.targetId,W)})})})})];case 2:return C.sent(),[3,4];case 3:if(!Ch(v=C.sent()))throw v;return Ke("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(y=0,w=d;y<w.length;y++)E=w[y],b=E.targetId,E.fromCache||(I=p.kn.get(b),T=I.snapshotVersion,R=I.withLastLimboFreeSnapshotVersion(T),p.kn=p.kn.insert(b,R));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function dK(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return(n=$e(t)).currentUser.isEqual(e)?[3,3]:(Ke("SyncEngine","User change. New user:",e.toKey()),[4,G6(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(o,a){o.ko.forEach(function(u){u.forEach(function(c){c.reject(new Ve(Re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ju(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function pK(t,e){var n=$e(t),r=n.Co.get(e);if(r&&r.bo)return rn().add(r.key);var i=rn(),o=n.Vo.get(e);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var c=u[a],d=n.Po.get(c);i=i.unionWith(d.view.wo)}return i}function mK(t,e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,rb((n=$e(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&WC(n,e.targetId,i.To),i)]}})})}function gK(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){return[2,X6((e=$e(t)).localStore).then(function(r){return ju(e,r)})]})})}function vK(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o;return ge(this,function(a){switch(a.label){case 0:return[4,function(u,c){var d=$e(u),p=$e(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,c).next(function(y){return y?d.Mn.pn(v,y):We.resolve(null)})})}((i=$e(t)).localStore,e)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,pm(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(lA(i,e,r||null),uA(i,e),function(u,c){$e($e(u)._n).Gt(c)}(i.localStore,e)):ut(),a.label=4;case 4:return[4,ju(i,o)];case 5:return a.sent(),[3,7];case 6:Ke("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function yK(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c,d;return ge(this,function(p){switch(p.label){case 0:return fA(n=$e(t)),hA(n),e!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,gP(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,zC(n.remoteStore,!0)];case 2:for(p.sent(),o=0,a=i;o<a.length;o++)u=a[o],w1(n.remoteStore,u);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(c=[],d=Promise.resolve(),n.Vo.forEach(function(v,y){n.sharedClientState.isLocalQueryTarget(y)?c.push(y):d=d.then(function(){return Wp(n,y),zp(n.localStore,y,!0)}),my(n.remoteStore,y)}),[4,d]);case 4:return p.sent(),[4,gP(n,c)];case 5:return p.sent(),function(v){var y=$e(v);y.Co.forEach(function(w,E){my(y.remoteStore,E)}),y.No.ts(),y.Co=new Map,y.Do=new _i(lt.comparator)}(n),n.$o=!1,[4,zC(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function gP(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d,p,v,y,w,E,b,I;return ge(this,function(T){switch(T.label){case 0:r=$e(t),i=[],o=[],a=0,u=e,T.label=1;case 1:return a<u.length?(c=u[a],d=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,Vp(r.localStore,Qo(p[0]))]:[3,7]):[3,13];case 2:d=T.sent(),v=0,y=p,T.label=3;case 3:return v<y.length?(w=y[v],E=r.Po.get(w),[4,mK(r,E)]):[3,6];case 4:(b=T.sent()).snapshot&&o.push(b.snapshot),T.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,Y6(r.localStore,c)];case 8:return I=T.sent(),[4,Vp(r.localStore,I)];case 9:return d=T.sent(),[4,aA(r,h2(I),c,!1)];case 10:T.sent(),T.label=11;case 11:i.push(d),T.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function h2(t){return s6(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function wK(t){var e=$e(t);return $e($e(e.localStore).persistence).fn()}function _K(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o,a;return ge(this,function(u){switch(u.label){case 0:return(i=$e(t)).$o?(Ke("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,X6(i.localStore)];case 3:return o=u.sent(),a=Wk.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,ju(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,zp(i.localStore,e,!0)];case 6:return u.sent(),Wp(i,e,r),[3,8];case 7:ut(),u.label=8;case 8:return[2]}})})}function bK(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:if(!(r=fA(t)).$o)return[3,10];i=0,o=e,w.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Ke("SyncEngine","Adding an already active target "+a),[3,5]):[4,Y6(r.localStore,a)]):[3,6];case 2:return u=w.sent(),[4,Vp(r.localStore,u)];case 3:return c=w.sent(),[4,aA(r,h2(u),c.targetId,!1)];case 4:w.sent(),w1(r.remoteStore,c),w.label=5;case 5:return i++,[3,1];case 6:d=function(E){return ge(this,function(b){switch(b.label){case 0:return r.Vo.has(E)?[4,zp(r.localStore,E,!1).then(function(){my(r.remoteStore,E),Wp(r,E)}).catch(xh)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},p=0,v=n,w.label=7;case 7:return p<v.length?(y=v[p],[5,d(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function fA(t){var e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=c2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uK.bind(null,e),e.vo._r=JG.bind(null,e.eventManager),e.vo.Mo=ZG.bind(null,e.eventManager),e}function hA(t){var e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cK.bind(null,e),e}function EK(t,e,n){var r=$e(t);(function(i,o,a){return ve(this,void 0,void 0,function(){var u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:return w.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return u=w.sent(),[4,function(E,b){var I=$e(E),T=Dr(b.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",function(R){return I.Ke.getBundleMetadata(R,b.id)}).then(function(R){return!!R&&R.createTime.compareTo(T)>=0})}(i.localStore,u)];case 2:return w.sent()?[4,o.close()]:[3,4];case 3:return[2,(w.sent(),void a._completeWith(function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}}(u)))];case 4:return a._updateProgress(s2(u)),c=new tK(u,i.localStore,o.R),[4,o.Lo()];case 5:d=w.sent(),w.label=6;case 6:return d?[4,c.oo(d)]:[3,10];case 7:return(p=w.sent())&&a._updateProgress(p),[4,o.Lo()];case 8:d=w.sent(),w.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=w.sent(),[4,ju(i,v.wn,void 0)];case 12:return w.sent(),[4,function(E,b){var I=$e(E);return I.persistence.runTransaction("Save bundle","readwrite",function(T){return I.Ke.saveBundleMetadata(T,b)})}(i.localStore,u)];case 13:return w.sent(),a._completeWith(v.progress),[3,15];case 14:return uy("SyncEngine","Loading bundle failed with "+(y=w.sent())),a._failWith(y),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var d2=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){switch(n.label){case 0:return this.R=Xy(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return q6(this.persistence,new H6,e.initialUser,this.R)},t.prototype.qo=function(e){return new AG(NG.bs,this.R)},t.prototype.Bo=function(e){return new Q6},t.prototype.terminate=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),p2=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return Ye(e,t),e.prototype.initialize=function(n){return ve(this,void 0,void 0,function(){var r=this;return ge(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,bG(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,hA(this.Qo.syncEngine)];case 4:return i.sent(),[4,pm(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(n){return q6(this.persistence,new H6,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new uG(r,n.asyncQueue)},e.prototype.qo=function(n){var r=Qk(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?ba.withCacheSize(this.cacheSizeBytes):ba.DEFAULT;return new pG(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,J6(),h_(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new Q6},e}(d2),SK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ye(e,t),e.prototype.initialize=function(n){return ve(this,void 0,void 0,function(){var r,i=this;return ge(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof YS?(this.sharedClientState.syncEngine={ui:vK.bind(null,r),ai:_K.bind(null,r),hi:bK.bind(null,r),fn:wK.bind(null,r),ci:gK.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return ve(i,void 0,void 0,function(){return ge(this,function(u){switch(u.label){case 0:return[4,yK(this.Qo.syncEngine,a)];case 1:return u.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(n){var r=J6();if(!YS.yt(r))throw new Ve(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Qk(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new YS(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(p2),HC=function(){function t(){}return t.prototype.initialize=function(e,n){return ve(this,void 0,void 0,function(){var r=this;return ge(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return mP(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dK.bind(null,this.syncEngine),[4,zC(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new QG},t.prototype.createDatastore=function(e){var n,r=Xy(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new MG(n));return function(o,a,u){return new jG(o,a,u)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,o,a,u=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(c){return mP(u.syncEngine,c,0)},a=hP.yt()?new hP:new PG,new VG(n,r,i,o,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,o,a,u,c,d){var p=new iK(r,i,o,a,u,c);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return n=$e(e),Ke("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,dm(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return ve(this,void 0,void 0,function(){var r;return ge(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return ve(this,void 0,void 0,function(){return ge(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _1=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),TK=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new wi,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new eK(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e===123})},t.prototype.Jo=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),IK=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return ve(this,void 0,void 0,function(){var n,r=this;return ge(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ve(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return ve(this,void 0,void 0,function(){var u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:return u=$e(o),c=py(u.R)+"/documents",d={documents:a.map(function(E){return dy(u.R,E)})},[4,u.$i("BatchGetDocuments",c,d)];case 1:return p=w.sent(),v=new Map,p.forEach(function(E){var b=function(I,T){return"found"in T?function(R,C){wt(!!C.found),C.found.name,C.found.updateTime;var k=Na(R,C.found.name),O=Dr(C.found.updateTime),W=new go({mapValue:{fields:C.found.fields}});return Zr.newFoundDocument(k,O,W)}(I,T):"missing"in T?function(R,C){wt(!!C.missing),wt(!!C.readTime);var k=Na(R,C.missing),O=Dr(C.readTime);return Zr.newNoDocument(k,O)}(I,T):ut()}(u.R,E);v.set(b.key.toString(),b)}),y=[],[2,(a.forEach(function(E){var b=v.get(E.toString());wt(!!b),y.push(b)}),y)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Yy(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return ve(this,void 0,void 0,function(){var e,n=this;return ge(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=lt.fromPath(o);n.mutations.push(new zk(a,n.precondition(a)))}),[4,function(i,o){return ve(this,void 0,void 0,function(){var a,u,c;return ge(this,function(d){switch(d.label){case 0:return a=$e(i),u=py(a.R)+"/documents",c={writes:o.map(function(p){return eb(a.R,p)})},[4,a.Ni("Commit",u,c)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ut();n=Ot.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ve(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?pi.updateTime(n):pi.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ot.min()))throw new Ve(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pi.updateTime(n)}return pi.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),CK=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Zk(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return ve(e,void 0,void 0,function(){var n,r,i=this;return ge(this,function(o){return n=new IK(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(u){i.ic(u)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!Ih(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!y6(n)}return!1},t}(),xK=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=qr.UNAUTHENTICATED,this.clientId=J3.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return ve(i,void 0,void 0,function(){return ge(this,function(a){switch(a.label){case 0:return Ke("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return t.prototype.getConfiguration=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ve(Re.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return ve(e,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=gm(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t,e){return ve(this,void 0,void 0,function(){var n,r,i=this;return ge(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return ve(i,void 0,void 0,function(){return ge(this,function(u){switch(u.label){case 0:return r.isEqual(a)?[3,2]:[4,G6(e.localStore,a)];case 1:u.sent(),r=a,u.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function g2(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,dA(t)];case 1:return n=i.sent(),Ke("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(o){return function(a,u){return ve(this,void 0,void 0,function(){var c,d;return ge(this,function(p){switch(p.label){case 0:return(c=$e(a)).asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials"),d=Sc(c),c.Or.add(3),[4,dm(c)];case 1:return p.sent(),d&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(u)];case 2:return p.sent(),c.Or.delete(3),[4,Qy(c)];case 3:return p.sent(),[2]}})})}(e.remoteStore,o)}),t.onlineComponents=e,[2]}})})}function dA(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ke("FirestoreClient","Using default OfflineComponentProvider"),[4,m2(t,new d2)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function b1(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ke("FirestoreClient","Using default OnlineComponentProvider"),[4,g2(t,new HC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function yP(t){return dA(t).then(function(e){return e.persistence})}function pA(t){return dA(t).then(function(e){return e.localStore})}function wP(t){return b1(t).then(function(e){return e.remoteStore})}function mA(t){return b1(t).then(function(e){return e.syncEngine})}function Hp(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return[4,b1(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=oK.bind(null,e.syncEngine),n.onUnlisten=sK.bind(null,e.syncEngine),n)]}})})}function _P(t,e,n){var r=this;n===void 0&&(n={});var i=new wi;return t.asyncQueue.enqueueAndForget(function(){return ve(r,void 0,void 0,function(){var o;return ge(this,function(a){switch(a.label){case 0:return o=function(u,c,d,p,v){var y=new _1({next:function(E){c.enqueueAndForget(function(){return iA(u,w)});var b=E.docs.has(d);!b&&E.fromCache?v.reject(new Ve(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&E.fromCache&&p&&p.source==="server"?v.reject(new Ve(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(E)},error:function(E){return v.reject(E)}}),w=new sA(fm(d.path),y,{includeMetadataChanges:!0,so:!0});return rA(u,w)},[4,Hp(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function bP(t,e,n){var r=this;n===void 0&&(n={});var i=new wi;return t.asyncQueue.enqueueAndForget(function(){return ve(r,void 0,void 0,function(){var o;return ge(this,function(a){switch(a.label){case 0:return o=function(u,c,d,p,v){var y=new _1({next:function(E){c.enqueueAndForget(function(){return iA(u,w)}),E.fromCache&&p.source==="server"?v.reject(new Ve(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(E)},error:function(E){return v.reject(E)}}),w=new sA(d,y,{includeMetadataChanges:!0,so:!0});return rA(u,w)},[4,Hp(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var kK=function(t,e,n,r,i,o,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},sb=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),EP=new Map,v2=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},SP=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(qr.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),AK=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),RK=function(){function t(e){var n=this;this.currentUser=qr.UNAUTHENTICATED,this.oc=new wi,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){Ke("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):(Ke("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(Ke("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(wt(typeof i.accessToken=="string"),new v2(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return ve(r,void 0,void 0,function(){return ge(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new qr(e)},t}(),NK=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=qr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),OK=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new NK(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(qr.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e,n){if(!n)throw new Ve(Re.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function vA(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function y2(t,e,n,r){if(e===!0&&r===!0)throw new Ve(Re.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function TP(t){if(!lt.isDocumentKey(t))throw new Ve(Re.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function IP(t){if(lt.isDocumentKey(t))throw new Ve(Re.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function E1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":ut()}function Ht(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=E1(t);throw new Ve(Re.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function CP(t,e){if(e<=0)throw new Ve(Re.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xP=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ve(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),gy=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xP({}),this._settingsFrozen=!1,e instanceof sb?(this._databaseId=e,this._credentials=new SP):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ve(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sb(r.options.projectId)}(e),this._credentials=new RK(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ve(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ve(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xP(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new SP;switch(n.type){case"gapi":var r=n.client;return wt(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new OK(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Ve(Re.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=EP.get(e))&&(Ke("ComponentProvider","Removing Datastore"),EP.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Rn=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cc(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),eo=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),cc=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,fm(i))||this)._path=i,o.type="collection",o}return Ye(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Rn(this.firestore,null,new lt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(eo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Tt(t),gA("collection","path",e),t instanceof gy)return IP(n=Gt.fromString.apply(Gt,Ct([e],r))),new cc(t,null,n);if(!(t instanceof Rn||t instanceof cc))throw new Ve(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return IP(n=Gt.fromString.apply(Gt,Ct([t.path],r)).child(Gt.fromString(e))),new cc(t.firestore,null,n)}function d_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Tt(t),arguments.length===1&&(e=J3.u()),gA("doc","path",e),t instanceof gy)return TP(n=Gt.fromString.apply(Gt,Ct([e],r))),new Rn(t,null,new lt(n));if(!(t instanceof Rn||t instanceof cc))throw new Ve(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return TP(n=t._path.child(Gt.fromString.apply(Gt,Ct([e],r)))),new Rn(t.firestore,t instanceof cc?t.converter:null,new lt(n))}function _2(t,e){return t=Tt(t),e=Tt(e),(t instanceof Rn||t instanceof cc)&&(e instanceof Rn||e instanceof cc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function b2(t,e){return t=Tt(t),e=Tt(e),t instanceof eo&&e instanceof eo&&t.firestore===e.firestore&&qy(t._query,e._query)&&t.converter===e.converter}var PK=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Zk(this,"async_queue_retry"),this.Ic=function(){var r=h_();r&&Ke("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=h_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=h_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new wi;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return ve(this,void 0,void 0,function(){var e,n=this;return ge(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ch(e=r.sent()))throw e;return Ke("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(i){throw n.yc=i,n.gc=!1,tr("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var o=YG.createAndSchedule(this,e,n,r,function(a){return i.vc(a)});return this.mc.push(o),o},t.prototype.Ac=function(){this.yc&&ut()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,u){return a.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function qp(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var DK=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),LK=-1,Hn=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new PK,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return Ye(e,t),e.prototype._terminate=function(){return this._firestoreClient||E2(this),this._firestoreClient.terminate()},e}(gy);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){return t._firestoreClient||E2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function E2(t){var e,n=t._freezeSettings(),r=function(i,o,a,u){return new kK(i,o,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new xK(t._credentials,t._queue,r)}function kP(t,e,n){var r=this,i=new wi;return t.asyncQueue.enqueue(function(){return ve(r,void 0,void 0,function(){var o;return ge(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,m2(t,n)];case 1:return a.sent(),[4,g2(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===Re.FAILED_PRECONDITION||u.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function AP(t){if(t._initialized||t._terminated)throw new Ve(Re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oa=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ns(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),ph=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Di.fromBase64String(e))}catch(n){throw new Ve(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Di.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),kh=function(t){this._methodName=t},S1=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)},t}(),MK=/^__.*__$/,FK=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Ec(e,this.data,this.fieldMask,n,this.fieldTransforms):new $y(e,this.data,n,this.fieldTransforms)},t}(),S2=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new Ec(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}var I2=function(){function t(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},t.prototype.Oc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return ab(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(T2(this.Nc)&&MK.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),UK=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||Xy(e)}return t.prototype.Uc=function(e,n,r,i){return i===void 0&&(i=!1),new I2({Nc:e,methodName:n,qc:r,path:Ns.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Ah(t){var e=t._freezeSettings(),n=Xy(t._databaseId);return new UK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function T1(t,e,n,r,i,o){o===void 0&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);bA("Data must be an object, but it was:",a,r);var u,c,d=k2(r,a);if(o.merge)u=new Rp(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var p=[],v=0,y=o.mergeFields;v<y.length;v++){var w=qC(e,y[v],n);if(!a.contains(w))throw new Ve(Re.INVALID_ARGUMENT,"Field '"+w+"' is specified in your field mask but missing from your input data.");R2(p,w)||p.push(w)}u=new Rp(p),c=a.fieldTransforms.filter(function(E){return u.covers(E.field)})}else u=null,c=a.fieldTransforms;return new FK(new go(d),u,c)}var yA=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(kh);function C2(t,e,n){return new I2({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var jK=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype._toFieldTransform=function(n){return new Ky(n.path,new Dp)},e.prototype.isEqual=function(n){return n instanceof e},e}(kh),BK=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return Ye(e,t),e.prototype._toFieldTransform=function(n){var r=C2(this,n,!0),i=this.Kc.map(function(a){return Rh(a,r)}),o=new hh(i);return new Ky(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(kh),VK=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return Ye(e,t),e.prototype._toFieldTransform=function(n){var r=C2(this,n,!0),i=this.Kc.map(function(a){return Rh(a,r)}),o=new dh(i);return new Ky(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(kh),zK=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Qc=r,i}return Ye(e,t),e.prototype._toFieldTransform=function(n){var r=new Lp(n.R,h6(n.R,this.Qc));return new Ky(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(kh);function wA(t,e,n,r){var i=t.Uc(1,e,n);bA("Data must be an object, but it was:",i,r);var o=[],a=go.empty();Th(r,function(c,d){var p=EA(e,c,n);d=Tt(d);var v=i.Oc(p);if(d instanceof yA)o.push(p);else{var y=Rh(d,v);y!=null&&(o.push(p),a.set(p,y))}});var u=new Rp(o);return new S2(a,u,i.fieldTransforms)}function _A(t,e,n,r,i,o){var a=t.Uc(1,e,n),u=[qC(e,r,n)],c=[i];if(o.length%2!=0)throw new Ve(Re.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<o.length;d+=2)u.push(qC(e,o[d])),c.push(o[d+1]);for(var p=[],v=go.empty(),y=u.length-1;y>=0;--y)if(!R2(p,u[y])){var w=u[y],E=c[y];E=Tt(E);var b=a.Oc(w);if(E instanceof yA)p.push(w);else{var I=Rh(E,b);I!=null&&(p.push(w),v.set(w,I))}}var T=new Rp(p);return new S2(v,T,a.fieldTransforms)}function x2(t,e,n,r){return r===void 0&&(r=!1),Rh(n,t.Uc(r?4:3,e))}function Rh(t,e){if(A2(t=Tt(t)))return bA("Unsupported field value:",e,t),k2(t,e);if(t instanceof kh)return function(n,r){if(!T2(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,u=n;a<u.length;a++){var c=Rh(u[a],r.Mc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Tt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return h6(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Zi.fromDate(n);return{timestampValue:hy(r.R,i)}}if(n instanceof Zi)return i=new Zi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:hy(r.R,i)};if(n instanceof S1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ph)return{bytesValue:S6(r.R,n._byteString)};if(n instanceof Rn){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:qk(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+E1(n))}(t,e)}function k2(t,e){var n={};return e6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Th(t,function(r,i){var o=Rh(i,e.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function A2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zi||t instanceof S1||t instanceof ph||t instanceof Rn||t instanceof kh)}function bA(t,e,n){if(!A2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=E1(n);throw r==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function qC(t,e,n){if((e=Tt(e))instanceof Oa)return e._internalPath;if(typeof e=="string")return EA(t,e);throw ab("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var WK=new RegExp("[~\\*/\\[\\]]");function EA(t,e,n){if(e.search(WK)>=0)throw ab("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Oa.bind.apply(Oa,Ct([void 0],e.split("."))))()._internalPath}catch{throw ab("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ab(t,e,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new Ve(Re.INVALID_ARGUMENT,(u+=". ")+t+c)}function R2(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vy=function(){function t(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Rn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new HK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(ub("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),HK=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(vy);function ub(t,e){return typeof e=="string"?EA(t,e):e instanceof Oa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $f=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Cu=function(t){function e(n,r,i,o,a,u){var c=this;return(c=t.call(this,n,r,i,o,u)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return Ye(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(ub("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(vy),Wv=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Cu),nc=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $f(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new Wv(r._firestore,r._userDataWriter,i.key,i,new $f(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new Wv(r._firestore,r._userDataWriter,u.doc.key,u.doc,new $f(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var c=new Wv(r._firestore,r._userDataWriter,u.doc.key,u.doc,new $f(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,p=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(p=(a=a.add(u.doc)).indexOf(u.doc.key)),{type:qK(u.type),doc:c,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function qK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function N2(t,e){return t instanceof Cu&&e instanceof Cu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof nc&&e instanceof nc&&t._firestore===e._firestore&&b2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){if(Z_(t)&&t.explicitOrderBy.length===0)throw new Ve(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jy=function(){};function Yl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var GK=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return Ye(e,t),e.prototype._apply=function(n){var r=Ah(n.firestore),i=function(o,a,u,c,d,p,v){var y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ve(Re.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){DP(v,p);for(var w=[],E=0,b=v;E<b.length;E++){var I=b[E];w.push(PP(c,o,I))}y={arrayValue:{values:w}}}else y=PP(c,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||DP(v,p),y=x2(u,"where",v,p==="in"||p==="not-in");var T=yo.create(d,p,y);return function(R,C){if(C.g()){var k=Bk(R);if(k!==null&&!k.isEqual(C.field))throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+k.toString()+"' and '"+C.field.toString()+"'");var O=jk(R);O!==null&&D2(R,C.field,O)}var W=function(D,X){for(var V=0,se=D.filters;V<se.length;V++){var Ie=se[V];if(X.indexOf(Ie.op)>=0)return Ie.op}return null}(R,function(D){switch(D){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(W!==null)throw W===C.op?new Ve(Re.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new Ve(Re.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+W.toString()+"' filters.")}(o,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new eo(n.firestore,n.converter,function(o,a){var u=o.filters.concat([a]);return new Uu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(Jy),KK=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return Ye(e,t),e.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new hp(o,a);return function(c,d){if(jk(c)===null){var p=Bk(c);p!==null&&D2(c,p,d.field)}}(i,u),u}(n._query,this.jc,this.zc);return new eo(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new Uu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(Jy),RP=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return Ye(e,t),e.prototype._apply=function(n){return new eo(n.firestore,n.converter,a6(n._query,this.Hc,this.Jc))},e}(Jy),NP=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return Ye(e,t),e.prototype._apply=function(n){var r=P2(n,this.type,this.Yc,this.Xc);return new eo(n.firestore,n.converter,function(i,o){return new Uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},e}(Jy),OP=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return Ye(e,t),e.prototype._apply=function(n){var r=P2(n,this.type,this.Yc,this.Xc);return new eo(n.firestore,n.converter,function(i,o){return new Uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},e}(Jy);function P2(t,e,n,r){if(n[0]=Tt(n[0]),n[0]instanceof vy)return function(o,a,u,c,d){if(!c)throw new Ve(Re.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var p=[],v=0,y=Pp(o);v<y.length;v++){var w=y[v];if(w.field.isKeyField())p.push(X_(a,c.key));else{var E=c.data.field(w.field);if(Mk(E))throw new Ve(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){var b=w.field.canonicalString();throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}p.push(E)}}return new fy(p,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ah(t.firestore);return function(o,a,u,c,d,p){var v=o.explicitOrderBy;if(d.length>v.length)throw new Ve(Re.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],w=0;w<d.length;w++){var E=d[w];if(v[w].field.isKeyField()){if(typeof E!="string")throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof E);if(!Vk(o)&&E.indexOf("/")!==-1)throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+E+"' contains a slash.");var b=o.path.child(Gt.fromString(E));if(!lt.isDocumentKey(b))throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var I=new lt(b);y.push(X_(a,I))}else{var T=x2(u,c,E);y.push(T)}}return new fy(y,p)}(t._query,t.firestore._databaseId,i,e,n,r)}function PP(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vk(e)&&n.indexOf("/")!==-1)throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Gt.fromString(n));if(!lt.isDocumentKey(r))throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return X_(t,new lt(r))}if(n instanceof Rn)return X_(t,n._key);throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+E1(n)+".")}function DP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ve(Re.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function D2(t,e,n){if(!n.isEqual(e))throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SA=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),fh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Np(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ut()}},t.prototype.convertObject=function(e,n){var r=this,i={};return Th(e.fields,function(o,a){i[o]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new S1(Zn(e.latitude),Zn(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=n6(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ly(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=gc(e);return new Zi(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=Gt.fromString(e);wt(O6(r));var i=new sb(r.get(1),r.get(3)),o=new lt(r.popFirst(5));return i.isEqual(n)||tr("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var $K=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return Ye(e,t),e.prototype.convertBytes=function(n){return new ph(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Rn(this.firestore,null,r)},e}(SA),YK=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ah(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=rc(e,this._firestore),o=I1(i.converter,n,r),a=T1(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,pi.none())),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,u=rc(e,this._firestore);return a=typeof(n=Tt(n))=="string"||n instanceof Oa?_A(this._dataReader,"WriteBatch.update",u._key,n,r,i):wA(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(a.toMutation(u._key,pi.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=rc(e,this._firestore);return this._mutations=this._mutations.concat(new Yy(n._key,pi.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ve(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,e){if((t=Tt(t)).firestore!==e)throw new Ve(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nh=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return Ye(e,t),e.prototype.convertBytes=function(n){return new ph(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Rn(this.firestore,null,r)},e}(SA);function LP(t,e,n){t=Ht(t,Rn);var r=Ht(t.firestore,Hn),i=I1(t.converter,e,n);return Zy(r,[T1(Ah(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pi.none())])}function MP(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ht(t,Rn);var o=Ht(t.firestore,Hn),a=Ah(o);return Zy(o,[(typeof(e=Tt(e))=="string"||e instanceof Oa?_A(a,"updateDoc",t._key,e,n,r):wA(a,"updateDoc",t._key,e)).toMutation(t._key,pi.exists(!0))])}function L2(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Tt(t);var a={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||qp(i[u])||(a=i[u],u++);var c,d,p,v={includeMetadataChanges:a.includeMetadataChanges};if(qp(i[u])){var y=i[u];i[u]=(e=y.next)===null||e===void 0?void 0:e.bind(y),i[u+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),i[u+2]=(r=y.complete)===null||r===void 0?void 0:r.bind(y)}if(t instanceof Rn)d=Ht(t.firestore,Hn),p=fm(t._key.path),c={next:function(b){i[u]&&i[u](GC(d,t,b))},error:i[u+1],complete:i[u+2]};else{var w=Ht(t,eo);d=Ht(w.firestore,Hn),p=w._query;var E=new nh(d);c={next:function(b){i[u]&&i[u](new nc(d,E,w,b))},error:i[u+1],complete:i[u+2]},O2(t._query)}return function(b,I,T,R){var C=this,k=new _1(R),O=new sA(I,k,T);return b.asyncQueue.enqueueAndForget(function(){return ve(C,void 0,void 0,function(){var W;return ge(this,function(D){switch(D.label){case 0:return W=rA,[4,Hp(b)];case 1:return[2,W.apply(void 0,[D.sent(),O])]}})})}),function(){k.Wo(),b.asyncQueue.enqueueAndForget(function(){return ve(C,void 0,void 0,function(){var W;return ge(this,function(D){switch(D.label){case 0:return W=iA,[4,Hp(b)];case 1:return[2,W.apply(void 0,[D.sent(),O])]}})})})}}(Or(d),p,v,c)}function Zy(t,e){return function(n,r){var i=this,o=new wi;return n.asyncQueue.enqueueAndForget(function(){return ve(i,void 0,void 0,function(){var a;return ge(this,function(u){switch(u.label){case 0:return a=aK,[4,mA(n)];case 1:return[2,a.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(Or(t),e)}function GC(t,e,n){var r=n.docs.get(e._key),i=new nh(t);return new Cu(t,i,e._key,r,new $f(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return Ye(e,t),e.prototype.get=function(n){var r=this,i=rc(n,this._firestore),o=new nh(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Cu(r._firestore,o,i._key,a._document,new $f(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ah(e)}return t.prototype.get=function(e){var n=this,r=rc(e,this._firestore),i=new $K(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return ut();var a=o[0];if(a.isFoundDocument())return new vy(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new vy(n._firestore,i,r._key,null,r.converter);throw ut()})},t.prototype.set=function(e,n,r){var i=rc(e,this._firestore),o=I1(i.converter,n,r),a=T1(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,u=rc(e,this._firestore);return a=typeof(n=Tt(n))=="string"||n instanceof Oa?_A(this._dataReader,"Transaction.update",u._key,n,r,i):wA(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,a),this},t.prototype.delete=function(e){var n=rc(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(){if(typeof Uint8Array>"u")throw new Ve(Re.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function UP(){if(typeof atob>"u")throw new Ve(Re.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var M2=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return UP(),new t(ph.fromBase64String(e))},t.fromUint8Array=function(e){return FP(),new t(ph.fromUint8Array(e))},t.prototype.toBase64=function(){return UP(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return FP(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),QK=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){AP(r=Ht(r,Hn));var o=Or(r),a=r._freezeSettings(),u=new HC;return kP(o,u,new p2(u,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){AP(n=Ht(n,Hn));var r=Or(n),i=n._freezeSettings(),o=new HC;return kP(r,o,new SK(o,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Ve(Re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return ve(r,void 0,void 0,function(){var o;return ge(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(u){return ve(this,void 0,void 0,function(){var c;return ge(this,function(d){switch(d.label){case 0:return Up.yt()?(c=u+"main",[4,Up.delete(c)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(Qk(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),TA=function(){function t(e,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof sb||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||uy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,o,a,u){var c;u===void 0&&(u={});var d=(i=Ht(i,gy))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==o&&uy("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:o+":"+a,ssl:!1})),u.mockUserToken){var p,v;if(typeof u.mockUserToken=="string")p=u.mockUserToken,v=qr.MOCK_USER;else{p=Tx(u.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var y=u.mockUserToken.sub||u.mockUserToken.user_id;if(!y)throw new Ve(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new qr(y)}i._credentials=new AK(new v2(p,v))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return ve(n,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return[4,yP(e)];case 1:return r=o.sent(),[4,wP(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var u=$e(a);return u.Or.delete(0),Qy(u)}(i))]}})})})}(Or(Ht(this._delegate,Hn)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return ve(n,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return[4,yP(e)];case 1:return r=o.sent(),[4,wP(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return ve(this,void 0,void 0,function(){var u;return ge(this,function(c){switch(c.label){case 0:return(u=$e(a)).Or.add(0),[4,dm(u)];case 1:return c.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(Or(Ht(this._delegate,Hn)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&y2("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new wi;return e.asyncQueue.enqueueAndForget(function(){return ve(n,void 0,void 0,function(){var i;return ge(this,function(o){switch(o.label){case 0:return i=fK,[4,mA(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Or(Ht(this._delegate,Hn)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,o){var a=this,u=new _1(o);return i.asyncQueue.enqueueAndForget(function(){return ve(a,void 0,void 0,function(){var c;return ge(this,function(d){switch(d.label){case 0:return c=function(p,v){$e(p).Gr.add(v),v.next()},[4,Hp(i)];case 1:return[2,c.apply(void 0,[d.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return ve(a,void 0,void 0,function(){var c;return ge(this,function(d){switch(d.label){case 0:return c=function(p,v){$e(p).Gr.delete(v)},[4,Hp(i)];case 1:return[2,c.apply(void 0,[d.sent(),u])]}})})})}}(Or(n=Ht(n,Hn)),qp(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Ve(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new lb(this,w2(this._delegate,e))}catch(n){throw ki(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new rh(this,d_(this._delegate,e))}catch(n){throw ki(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new ew(this,function(n,r){if(n=Ht(n,gy),gA("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new eo(n,null,function(i){return new Uu(Gt.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw ki(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(o,a){var u=this,c=new wi;return o.asyncQueue.enqueueAndForget(function(){return ve(u,void 0,void 0,function(){var d;return ge(this,function(p){switch(p.label){case 0:return[4,function(v){return b1(v).then(function(y){return y.datastore})}(o)];case 1:return d=p.sent(),new CK(o.asyncQueue,d,a,c).run(),[2]}})})}),c.promise}(Or(r),function(o){return i(new XK(r,o))})}(this._delegate,function(r){return e(new F2(n,r))})},t.prototype.batch=function(){var e=this;return Or(this._delegate),new U2(new YK(this._delegate,function(n){return Zy(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new Ve(Re.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Ve(Re.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),C1=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return Ye(e,t),e.prototype.convertBytes=function(n){return new M2(new ph(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return rh.eu(r,this.firestore,null)},e}(SA);function JK(t){var e;e=t,As.setLogLevel(e)}var F2=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new C1(e)}return t.prototype.get=function(e){var n=this,r=Yf(e);return this._delegate.get(r).then(function(i){return new yy(n._firestore,new Cu(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=Yf(e);return r?(vA("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Yf(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Ct([u,n,r],o)),this},t.prototype.delete=function(e){var n=Yf(e);return this._delegate.delete(n),this},t}(),U2=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=Yf(e);return r?(vA("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Yf(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Ct([u,n,r],o)),this},t.prototype.delete=function(e){var n=Yf(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),x1=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new Wv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wy(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new C1(e),n),i.set(n,o)),o},t}();x1.su=new WeakMap;var rh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new C1(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Rn(n._delegate,r,new lt(e)))},t.eu=function(e,n,r){return new t(n,new Rn(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new lb(this.firestore,w2(this._delegate,e))}catch(n){throw ki(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Tt(e))instanceof Rn&&_2(this._delegate,e)},t.prototype.set=function(e,n){n=vA("DocumentReference.set",n);try{return n?LP(this._delegate,e,n):LP(this._delegate,e)}catch(r){throw ki(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?MP(this._delegate,e):MP.apply(void 0,Ct([this._delegate,e,n],r))}catch(o){throw ki(o,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Zy(Ht((e=this._delegate).firestore,Hn),[new Yy(e._key,pi.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=j2(n),o=B2(n,function(a){return new yy(e.firestore,new Cu(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return L2(this._delegate,i,o)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=Ht(r,Rn);var i=Ht(r.firestore,Hn),o=Or(i),a=new nh(i);return function(u,c){var d=this,p=new wi;return u.asyncQueue.enqueueAndForget(function(){return ve(d,void 0,void 0,function(){var v;return ge(this,function(y){switch(y.label){case 0:return v=function(w,E,b){return ve(this,void 0,void 0,function(){var I,T;return ge(this,function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),[4,function(C,k){var O=$e(C);return O.persistence.runTransaction("read document","readonly",function(W){return O.Mn.mn(W,k)})}(w,E)];case 1:return(T=R.sent()).isFoundDocument()?b.resolve(T):T.isNoDocument()?b.resolve(null):b.reject(new Ve(Re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return I=R.sent(),T=gm(I,"Failed to get document '"+E+" from cache"),b.reject(T),[3,3];case 3:return[2]}})})},[4,pA(u)];case 1:return[2,v.apply(void 0,[y.sent(),c,p])]}})})}),p.promise}(o,r._key).then(function(u){return new Cu(i,a,r._key,u,new $f(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=Ht(r,Rn);var i=Ht(r.firestore,Hn);return _P(Or(i),r._key,{source:"server"}).then(function(o){return GC(i,r,o)})}(this._delegate):function(r){r=Ht(r,Rn);var i=Ht(r.firestore,Hn);return _P(Or(i),r._key).then(function(o){return GC(i,r,o)})}(this._delegate)).then(function(r){return new yy(n.firestore,new Cu(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(x1.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function ki(t,e,n){return t.message=t.message.replace(e,n),t}function j2(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!qp(r))return r}return{}}function B2(t,e){var n,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(n=(i=qp(t[0])?t[0]:qp(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var yy=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new rh(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return N2(this._delegate,e._delegate)},t}(),wy=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(yy),ew=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new C1(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Yl(this._delegate,function(i,o,a){var u=o,c=ub("where",i);return new GK(c,u,a)}(e,n,r)))}catch(i){throw ki(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Yl(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=ub("orderBy",r);return new KK(a,o)}(e,n)))}catch(r){throw ki(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Yl(this._delegate,function(n){return CP("limit",n),new RP("limit",n,"F")}(e)))}catch(n){throw ki(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Yl(this._delegate,function(n){return CP("limitToLast",n),new RP("limitToLast",n,"L")}(e)))}catch(n){throw ki(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yl(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new NP("startAt",r,!0)}).apply(void 0,e)))}catch(r){throw ki(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yl(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new NP("startAfter",r,!1)}).apply(void 0,e)))}catch(r){throw ki(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yl(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new OP("endBefore",r,!0)}).apply(void 0,e)))}catch(r){throw ki(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yl(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new OP("endAt",r,!1)}).apply(void 0,e)))}catch(r){throw ki(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return b2(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=Ht(r,eo);var i=Ht(r.firestore,Hn),o=Or(i),a=new nh(i);return function(u,c){var d=this,p=new wi;return u.asyncQueue.enqueueAndForget(function(){return ve(d,void 0,void 0,function(){var v;return ge(this,function(y){switch(y.label){case 0:return v=function(w,E,b){return ve(this,void 0,void 0,function(){var I,T,R,C,k;return ge(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,rb(w,E,!0)];case 1:return k=O.sent(),I=new l2(E,k.Bn),T=I._o(k.documents),R=I.applyChanges(T,!1),b.resolve(R.snapshot),[3,3];case 2:return C=O.sent(),k=gm(C,"Failed to execute query '"+E+" against cache"),b.reject(k),[3,3];case 3:return[2]}})})},[4,pA(u)];case 1:return[2,v.apply(void 0,[y.sent(),c,p])]}})})}),p.promise}(o,r._query).then(function(u){return new nc(i,a,r,u)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=Ht(r,eo);var i=Ht(r.firestore,Hn),o=Or(i),a=new nh(i);return bP(o,r._query,{source:"server"}).then(function(u){return new nc(i,a,r,u)})}(this._delegate):function(r){r=Ht(r,eo);var i=Ht(r.firestore,Hn),o=Or(i),a=new nh(i);return O2(r._query),bP(o,r._query).then(function(u){return new nc(i,a,r,u)})}(this._delegate)).then(function(r){return new KC(n.firestore,new nc(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=j2(n),o=B2(n,function(a){return new KC(e.firestore,new nc(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return L2(this._delegate,i,o)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(x1.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),ZK=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new wy(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),KC=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new ew(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new wy(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new ZK(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new wy(r._firestore,i))})},t.prototype.isEqual=function(e){return N2(this._delegate,e._delegate)},t}(),lb=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return Ye(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new rh(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new rh(this.firestore,n===void 0?d_(this._delegate):d_(this._delegate,n))}catch(r){throw ki(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,o){var a=Ht(i.firestore,Hn),u=d_(i),c=I1(i.converter,o);return Zy(a,[T1(Ah(i.firestore),"addDoc",u._key,c,i.converter!==null,{}).toMutation(u._key,pi.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new rh(r.firestore,i)})},e.prototype.isEqual=function(n){return _2(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(x1.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(ew);function Yf(t){return Ht(t,Rn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e$=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Oa.bind.apply(Oa,Ct([void 0],e)))}return t.documentId=function(){return new t(Ns.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Tt(e))instanceof Oa&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),t$=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new jK("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new yA("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new BK("arrayUnion",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new VK("arrayRemove",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new zK("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(t){return function(e,n){var r=Or(e=Ht(e,Hn)),i=new DK;return function(o,a,u,c){var d=this,p=function(v,y){return function(w,E){return new TK(w,E)}(function(w,E){if(w instanceof Uint8Array)return vP(w,E);if(w instanceof ArrayBuffer)return vP(new Uint8Array(w),E);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),y)}(u,Xy(a));o.asyncQueue.enqueueAndForget(function(){return ve(d,void 0,void 0,function(){var v;return ge(this,function(y){switch(y.label){case 0:return v=EK,[4,mA(o)];case 1:return v.apply(void 0,[y.sent(),p,c]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function r$(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return ve(a,void 0,void 0,function(){var u;return ge(this,function(c){switch(c.label){case 0:return u=function(d,p){var v=$e(d);return v.persistence.runTransaction("Get named query","readonly",function(y){return v.Ke.getNamedQuery(y,p)})},[4,pA(i)];case 1:return[2,u.apply(void 0,[c.sent(),o])]}})})})}(Or(e=Ht(e,Hn)),n).then(function(i){return i?new eo(e,null,i.query):null})).then(function(i){return i?new ew(r,i):null})}var i$={Firestore:TA,GeoPoint:S1,Timestamp:Zi,Blob:M2,Transaction:F2,WriteBatch:U2,DocumentReference:rh,DocumentSnapshot:yy,Query:ew,QueryDocumentSnapshot:wy,QuerySnapshot:KC,CollectionReference:lb,FieldPath:e$,FieldValue:t$,setLogLevel:JK,CACHE_SIZE_UNLIMITED:LK};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){(function(e,n){e.INTERNAL.registerComponent(new yi("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},i$)))})(t,function(e,n){return new TA(e,new Hn(e,n),new QK)}),t.registerVersion("@firebase/firestore","2.4.1")}o$(at);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){t.prototype.loadBundle=n$,t.prototype.namedQuery=r$}s$(TA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dp=function(t){Ye(e,t);function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return e}(Error);function a$(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function u$(t,e,n){var r=a$(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var u=a.status;if(typeof u=="string"){if(!jP[u])return new dp("internal","internal");r=jP[u],i=u}var c=a.message;typeof c=="string"&&(i=c),o=a.details,o!==void 0&&(o=n.decode(o))}}catch{}return r==="ok"?null:new dp(r,i,o)}var l$=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c$="type.googleapis.com/google.protobuf.Int64Value",f$="type.googleapis.com/google.protobuf.UInt64Value";function BP(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var h$=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return BP(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case c$:case f$:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?BP(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new dp("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var VP=function(){function t(e,n,r,i,o,a){var u=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new h$,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(u.deleteService())}},this.contextProvider=new l$(n,r),this.cancelAllRequests=new Promise(function(d){u.deleteService=function(){return d()}});try{var c=new URL(o);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return ve(this,void 0,void 0,function(){var i,o,a;return ge(this,function(u){switch(u.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=u.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=u.sent(),[3,5];case 4:return u.sent(),[2,{status:0,json:null}];case 5:a=null,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,o.json()];case 7:return a=u.sent(),[3,9];case 8:return u.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}})})},t.prototype.getAppCheckToken=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return ve(this,void 0,void 0,function(){var i,o,a,u,c,d,p,v,y,w,E,b;return ge(this,function(I){switch(I.label){case 0:return i=this._url(e),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return u=I.sent(),u.authToken&&(a.Authorization="Bearer "+u.authToken),u.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=u.instanceIdToken),c=r.timeout||7e4,d=d$(c),p=d.timer,v=d.promise,[4,Promise.race([zP(p,this.postJSON(i,o,a)),v,zP(p,this.cancelAllRequests)])];case 2:if(y=I.sent(),!y)throw new dp("cancelled","Firebase Functions instance was deleted.");if(w=u$(y.status,y.json,this.serializer),w)throw w;if(!y.json)throw new dp("internal","Response is not valid JSON object.");if(E=y.json.data,typeof E>"u"&&(E=y.json.result),typeof E>"u")throw new dp("internal","Response is missing data field.");return b=this.serializer.decode(E),[2,{data:b}]}})})},t}();function zP(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p$="functions";function m$(t,e){var n={Functions:VP};function r(i,o){var a=o.instanceIdentifier,u=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),d=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new VP(u,c,p,d,a,e)}t.INTERNAL.registerComponent(new yi(p$,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var g$="@firebase/functions",v$="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */m$(at,fetch.bind(self));at.registerVersion(g$,v$);function y$(t){return Array.prototype.slice.call(t)}function V2(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function k1(t,e,n){var r,i=new Promise(function(o,a){r=t[e].apply(t,n),V2(r).then(o,a)});return i.request=r,i}function w$(t,e,n){var r=k1(t,e,n);return r.then(function(i){if(i)return new _y(i,r.request)})}function vm(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function IA(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return k1(this[e],i,arguments)})})}function A1(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function z2(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return w$(this[e],i,arguments)})})}function Nh(t){this._index=t}vm(Nh,"_index",["name","keyPath","multiEntry","unique"]);IA(Nh,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);z2(Nh,"_index",IDBIndex,["openCursor","openKeyCursor"]);function _y(t,e){this._cursor=t,this._request=e}vm(_y,"_cursor",["direction","key","primaryKey","value"]);IA(_y,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(_y.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),V2(e._request).then(function(r){if(r)return new _y(r,e._request)})})})});function Va(t){this._store=t}Va.prototype.createIndex=function(){return new Nh(this._store.createIndex.apply(this._store,arguments))};Va.prototype.index=function(){return new Nh(this._store.index.apply(this._store,arguments))};vm(Va,"_store",["name","keyPath","indexNames","autoIncrement"]);IA(Va,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);z2(Va,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);A1(Va,"_store",IDBObjectStore,["deleteIndex"]);function tw(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}tw.prototype.objectStore=function(){return new Va(this._tx.objectStore.apply(this._tx,arguments))};vm(tw,"_tx",["objectStoreNames","mode"]);A1(tw,"_tx",IDBTransaction,["abort"]);function R1(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new tw(n)}R1.prototype.createObjectStore=function(){return new Va(this._db.createObjectStore.apply(this._db,arguments))};vm(R1,"_db",["name","version","objectStoreNames"]);A1(R1,"_db",IDBDatabase,["deleteObjectStore","close"]);function N1(t){this._db=t}N1.prototype.transaction=function(){return new tw(this._db.transaction.apply(this._db,arguments))};vm(N1,"_db",["name","version","objectStoreNames"]);A1(N1,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Va,Nh].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=y$(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[Nh,Va].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(o){r.iterateCursor(e,function(a){if(!a){o(i);return}if(i.push(a.value),n!==void 0&&i.length==n){o(i);return}a.continue()})})})});function CA(t,e,n){var r=k1(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(o){n&&n(new R1(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new N1(o)})}function XS(t){return k1(indexedDB,"deleteDatabase",[t])}var _$="@firebase/installations",W2="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H2=1e4,q2="w:"+W2,G2="FIS_v2",b$="https://firebaseinstallations.googleapis.com/v1",E$=60*60*1e3,S$="installations",T$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xl,I$=(Xl={},Xl["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Xl["not-registered"]="Firebase Installation is not registered.",Xl["installation-not-found"]="Firebase Installation not found.",Xl["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Xl["app-offline"]="Could not process request. Application offline.",Xl["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Xl),Nu=new Fu(S$,T$,I$);function K2(t){return t instanceof rm&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){var e=t.projectId;return b$+"/projects/"+e+"/installations"}function $2(t){return{token:t.token,requestStatus:2,expiresIn:C$(t.expiresIn),creationTime:Date.now()}}function kA(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Nu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function Y2(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function X2(t,e){var n=e.refreshToken,r=Y2(t);return r.append("Authorization",x$(n)),r}function AA(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function C$(t){return Number(t.replace("s","000"))}function x$(t){return G2+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t,e){var n=e.fid;return ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d;return ge(this,function(p){switch(p.label){case 0:return r=xA(t),i=Y2(t),o={fid:n,authVersion:G2,appId:t.appId,sdkVersion:q2},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,AA(function(){return fetch(r,a)})];case 1:return u=p.sent(),u.ok?[4,u.json()]:[3,3];case 2:return c=p.sent(),d={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:$2(c.authToken)},[2,d];case 3:return[4,kA("Create Installation",u)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t){var e=btoa(String.fromCharCode.apply(String,Ct([],$r(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R$=/^[cdef][\w-]{21}$/,$C="";function N$(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=O$(t);return R$.test(n)?n:$C}catch{return $C}}function O$(t){var e=A$(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gp=new Map;function J2(t,e){var n=ym(t);Z2(n,e),L$(n,e)}function P$(t,e){e5();var n=ym(t),r=Gp.get(n);r||(r=new Set,Gp.set(n,r)),r.add(e)}function D$(t,e){var n=ym(t),r=Gp.get(n);r&&(r.delete(e),r.size===0&&Gp.delete(n),t5())}function Z2(t,e){var n,r,i=Gp.get(t);if(i)try{for(var o=Lr(i),a=o.next();!a.done;a=o.next()){var u=a.value;u(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function L$(t,e){var n=e5();n&&n.postMessage({key:t,fid:e}),t5()}var Xf=null;function e5(){return!Xf&&"BroadcastChannel"in self&&(Xf=new BroadcastChannel("[Firebase] FID Change"),Xf.onmessage=function(t){Z2(t.data.key,t.data.fid)}),Xf}function t5(){Gp.size===0&&Xf&&(Xf.close(),Xf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M$="firebase-installations-database",F$=1,mh="firebase-installations-store",QS=null;function RA(){return QS||(QS=CA(M$,F$,function(t){switch(t.oldVersion){case 0:t.createObjectStore(mh)}})),QS}function cb(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return n=ym(t),[4,RA()];case 1:return r=u.sent(),i=r.transaction(mh,"readwrite"),o=i.objectStore(mh),[4,o.get(n)];case 2:return a=u.sent(),[4,o.put(e,n)];case 3:return u.sent(),[4,i.complete];case 4:return u.sent(),(!a||a.fid!==e.fid)&&J2(t,e.fid),[2,e]}})})}function NA(t){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return e=ym(t),[4,RA()];case 1:return n=i.sent(),r=n.transaction(mh,"readwrite"),[4,r.objectStore(mh).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function nw(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u;return ge(this,function(c){switch(c.label){case 0:return n=ym(t),[4,RA()];case 1:return r=c.sent(),i=r.transaction(mh,"readwrite"),o=i.objectStore(mh),[4,o.get(n)];case 2:return a=c.sent(),u=e(a),u!==void 0?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),u&&(!a||a.fid!==u.fid)&&J2(t,u.fid),[2,u]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return[4,nw(t,function(o){var a=U$(o),u=j$(t,a);return e=u.registrationPromise,u.installationEntry})];case 1:return n=i.sent(),n.fid!==$C?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function U$(t){var e=t||{fid:N$(),registrationStatus:0};return n5(e)}function j$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Nu.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=B$(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:V$(t)}:{installationEntry:e}}function B$(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,k$(t,e)];case 1:return n=i.sent(),[2,cb(t,n)];case 2:return r=i.sent(),K2(r)&&r.customData.serverCode===409?[4,NA(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,cb(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function V$(t){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,WP(t)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,Q2(100)];case 3:return o.sent(),[4,WP(t)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,OA(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function WP(t){return nw(t,function(e){if(!e)throw Nu.create("installation-not-found");return n5(e)})}function n5(t){return z$(t)?{fid:t.fid,registrationStatus:0}:t}function z$(t){return t.registrationStatus===1&&t.registrationTime+H2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return ve(this,void 0,void 0,function(){var i,o,a,u,c,d,p,v;return ge(this,function(y){switch(y.label){case 0:return i=H$(n,e),o=X2(n,e),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),u={installation:{sdkVersion:q2}},c={method:"POST",headers:o,body:JSON.stringify(u)},[4,AA(function(){return fetch(i,c)})];case 1:return d=y.sent(),d.ok?[4,d.json()]:[3,3];case 2:return p=y.sent(),v=$2(p),[2,v];case 3:return[4,kA("Generate Auth Token",d)];case 4:throw y.sent()}})})}function H$(t,e){var n=e.fid;return xA(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t,e){return e===void 0&&(e=!1),ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return[4,nw(t.appConfig,function(u){if(!r5(u))throw Nu.create("not-registered");var c=u.authToken;if(!e&&K$(c))return u;if(c.requestStatus===1)return n=q$(t,e),u;if(!navigator.onLine)throw Nu.create("app-offline");var d=Y$(u);return n=G$(t,d),d})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function q$(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return[4,HP(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,Q2(100)];case 3:return i.sent(),[4,HP(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,PA(t,e)]:[2,r]}})})}function HP(t){return nw(t,function(e){if(!r5(e))throw Nu.create("not-registered");var n=e.authToken;return X$(n)?vt(vt({},e),{authToken:{requestStatus:0}}):e})}function G$(t,e){return ve(this,void 0,void 0,function(){var n,i,r,i;return ge(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,W$(t,e)];case 1:return n=o.sent(),i=vt(vt({},e),{authToken:n}),[4,cb(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),K2(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,NA(t.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return i=vt(vt({},e),{authToken:{requestStatus:0}}),[4,cb(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}function r5(t){return t!==void 0&&t.registrationStatus===2}function K$(t){return t.requestStatus===2&&!$$(t)}function $$(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+E$}function Y$(t){var e={requestStatus:1,requestTime:Date.now()};return vt(vt({},t),{authToken:e})}function X$(t){return t.requestStatus===1&&t.requestTime+H2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return[4,OA(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):PA(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t,e){return e===void 0&&(e=!1),ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,Z$(t.appConfig)];case 1:return r.sent(),[4,PA(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function Z$(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return[4,OA(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return n=tY(t,e),r=X2(t,e),i={method:"DELETE",headers:r},[4,AA(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,kA("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function tY(t,e){var n=e.fid;return xA(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,nw(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Nu.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Nu.create("app-offline");case 3:return[4,eY(e,n)];case 4:return r.sent(),[4,NA(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t,e){var n=t.appConfig;return P$(n,e),function(){D$(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t){var e,n;if(!t||!t.options)throw JS("App Configuration");if(!t.name)throw JS("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Lr(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw JS(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function JS(t){return Nu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(t){var e="installations";t.INTERNAL.registerComponent(new yi(e,function(n){var r=n.getProvider("app").getImmediate(),i=iY(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},u={app:r,getId:function(){return Q$(a)},getToken:function(c){return J$(a,c)},delete:function(){return nY(a)},onIdChange:function(c){return rY(a,c)}};return u},"PUBLIC")),t.registerVersion(_$,W2)}oY(at);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr,sY=(cr={},cr["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',cr["only-available-in-window"]="This method is available in a Window context.",cr["only-available-in-sw"]="This method is available in a service worker context.",cr["permission-default"]="The notification permission was not granted and dismissed instead.",cr["permission-blocked"]="The notification permission was not granted and blocked instead.",cr["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",cr["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",cr["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",cr["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",cr["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",cr["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",cr["token-update-no-token"]="FCM returned no token when updating the user to push.",cr["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",cr["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",cr["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",cr["invalid-vapid-key"]="The public VAPID key must be a string.",cr["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",cr),nn=new Fu("messaging","Messaging",sY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aY="/firebase-messaging-sw.js",uY="/firebase-cloud-messaging-push-scope",fb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lY="https://fcmregistrations.googleapis.com/v1",i5="FCM_MSG",cY="FirebaseMessaging: ",fY="google.c.a.e",o5="google.c.a.c_id",hY="google.c.a.ts",dY="google.c.a.c_l",pY=1e3,mY=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var gh;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(gh||(gh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,Ct([],$r(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gY(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZS="fcm_token_details_db",vY=5,qP="fcm_token_object_Store";function yY(t){return ve(this,void 0,void 0,function(){var e,n,r,i,o=this;return ge(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(u){return u.name}),!n.includes(ZS))return[2,null];a.label=2;case 2:return r=null,[4,CA(ZS,vY,function(u){return ve(o,void 0,void 0,function(){var c,d,p,p,p,v;return ge(this,function(y){switch(y.label){case 0:return u.oldVersion<2?[2]:u.objectStoreNames.contains(qP)?(c=u.transaction.objectStore(qP),[4,c.index("fcmSenderId").get(t)]):[2];case 1:return d=y.sent(),[4,c.clear()];case 2:if(y.sent(),!d)return[2];if(u.oldVersion===2){if(p=d,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:wu(p.vapidKey)}}}else u.oldVersion===3?(p=d,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:wu(p.auth),p256dh:wu(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:wu(p.vapidKey)}}):u.oldVersion===4&&(p=d,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:wu(p.auth),p256dh:wu(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:wu(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,XS(ZS)];case 4:return a.sent(),[4,XS("fcm_vapid_details_db")];case 5:return a.sent(),[4,XS("undefined")];case 6:return a.sent(),[2,wY(r)?r:null]}})})}function wY(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _Y="firebase-messaging-database",bY=1,vh="firebase-messaging-store",eT=null;function DA(){return eT||(eT=CA(_Y,bY,function(t){switch(t.oldVersion){case 0:t.createObjectStore(vh)}})),eT}function hb(t){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){switch(o.label){case 0:return e=MA(t),[4,DA()];case 1:return n=o.sent(),[4,n.transaction(vh).objectStore(vh).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,yY(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,LA(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function LA(t,e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:return n=MA(t),[4,DA()];case 1:return r=o.sent(),i=r.transaction(vh,"readwrite"),[4,i.objectStore(vh).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function EY(t){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return e=MA(t),[4,DA()];case 1:return n=i.sent(),r=n.transaction(vh,"readwrite"),[4,r.objectStore(vh).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function MA(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:return[4,UA(t)];case 1:n=d.sent(),r=a5(e),i={method:"POST",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(FA(t.appConfig),i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw u=d.sent(),nn.create("token-subscribe-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,nn.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw nn.create("token-subscribe-no-token");return[2,o.token]}})})}function TY(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:return[4,UA(t)];case 1:n=d.sent(),r=a5(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(FA(t.appConfig)+"/"+e.token,i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw u=d.sent(),nn.create("token-update-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,nn.create("token-update-failed",{errorInfo:c});if(!o.token)throw nn.create("token-update-no-token");return[2,o.token]}})})}function s5(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u;return ge(this,function(c){switch(c.label){case 0:return[4,UA(t)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(FA(t.appConfig)+"/"+e,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(o=c.sent(),o.error)throw a=o.error.message,nn.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw u=c.sent(),nn.create("token-unsubscribe-failed",{errorInfo:u});case 6:return[2]}})})}function FA(t){var e=t.projectId;return lY+"/projects/"+e+"/registrations"}function UA(t){var e=t.appConfig,n=t.installations;return ve(this,void 0,void 0,function(){var r;return ge(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function a5(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==fb&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IY=7*24*60*60*1e3;function YC(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:if(Notification.permission!=="granted")throw nn.create("permission-blocked");return[4,xY(e,n)];case 1:return r=u.sent(),[4,hb(t)];case 2:return i=u.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:wu(r.getKey("auth")),p256dh:wu(r.getKey("p256dh"))},i?[3,3]:[2,GP(t,o)];case 3:if(kY(i.subscriptionOptions,o))return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,s5(t,i.token)];case 5:return u.sent(),[3,7];case 6:return a=u.sent(),console.warn(a),[3,7];case 7:return[2,GP(t,o)];case 8:return Date.now()>=i.createTime+IY?[2,CY({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function Hv(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return[4,hb(t)];case 1:return n=i.sent(),n?[4,s5(t,n.token)]:[3,4];case 2:return i.sent(),[4,EY(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function CY(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o;return ge(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,TY(e,t)];case 1:return r=a.sent(),i=vt(vt({},t),{token:r,createTime:Date.now()}),[4,LA(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Hv(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function GP(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return[4,SY(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,LA(t,r)];case 2:return i.sent(),[2,r.token]}})})}function xY(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gY(e)})]}})})}function kY(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AY(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return RY(e,t),NY(e,t),OY(e,t),e}function RY(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function NY(t,e){e.data&&(t.data=e.data)}function OY(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){return typeof t=="object"&&!!t&&o5 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PY=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw nn.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return ve(this,void 0,void 0,function(){var r;return ge(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,hb(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:fb,i.label=2;case 2:return[2,YC(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Hv(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw nn.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw nn.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw nn.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw nn.create("only-available-in-window")},t.prototype.onMessage=function(){throw nn.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw nn.create("only-available-in-window")},t.prototype.onPush=function(e){return ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return n=LY(e),n?[4,l5()]:(console.debug(cY+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),FY(r)?[2,UY(r,n)]:(i=!1,n.notification?[4,jY(DY(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=AY(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,KP(pY)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return ve(this,void 0,void 0,function(){var i,o;return ge(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,Hv(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,hb(this.firebaseDependencies)];case 3:return o=a.sent(),[4,Hv(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,YC(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:fb)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return ve(this,void 0,void 0,function(){var i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[i5],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=BY(i),o?(a=new URL(o,self.location.href),u=new URL(self.location.origin),a.host!==u.host?[2]:[4,MY(a)]):[2];case 1:return c=d.sent(),c?[3,4]:[4,self.clients.openWindow(o)];case 2:return c=d.sent(),[4,KP(mY)];case 3:return d.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=d.sent(),d.label=6;case 6:return c?(i.messageType=gh.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},t}();function DY(t){var e,n=vt({},t.notification);return n.data=(e={},e[i5]=t,e),n}function LY(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function MY(t){return ve(this,void 0,void 0,function(){var e,n,r,i,o,a,u;return ge(this,function(c){switch(c.label){case 0:return[4,l5()];case 1:e=c.sent();try{for(n=Lr(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(d){a={error:d}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function FY(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function UY(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=gh.PUSH_RECEIVED;try{for(var i=Lr(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function l5(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function jY(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function BY(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(u5(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VY=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===gh.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(WY(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,u5(r)&&r[fY]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw nn.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,YC(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=fb),[2]})})},t.prototype.updateSwReg=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw nn.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(aY,{scope:uY})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),nn.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Hv(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?nn.create("permission-blocked"):nn.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw nn.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw nn.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw nn.create("invalid-sw-registration");if(this.swRegistration)throw nn.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw nn.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw nn.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return ve(this,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return r=zY(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[o5],message_name:n[dY],message_time:n[hY],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function zY(t){switch(t){case gh.NOTIFICATION_CLICKED:return"notification_open";case gh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function WY(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HY(t){var e,n;if(!t||!t.options)throw tT("App Configuration Object");if(!t.name)throw tT("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=Lr(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(!i[u])throw tT(u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function tT(t){return nn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qY="messaging";function GY(t){var e=t.getProvider("app").getImmediate(),n=HY(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!c5())throw nn.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new PY(o):new VY(o)}var KY={isSupported:c5};at.INTERNAL.registerComponent(new yi(qY,GY,"PUBLIC").setServiceProps(KY));function c5(){return self&&"ServiceWorkerGlobalScope"in self?YY():$Y()}function $Y(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function YY(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f5="firebasestorage.googleapis.com",h5="storageBucket",XY=2*60*1e3,QY=10*60*1e3,ir=function(t){Ye(e,t);function e(n,r){var i=t.call(this,nT(n),"Firebase Storage: "+r+" ("+nT(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return nT(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(rm);function nT(t){return"storage/"+t}function jA(){var t="An unknown error occurred, please check the error payload for server response.";return new ir("unknown",t)}function JY(t){return new ir("object-not-found","Object '"+t+"' does not exist.")}function ZY(t){return new ir("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function eX(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ir("unauthenticated",t)}function tX(){return new ir("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function nX(t){return new ir("unauthorized","User does not have permission to access '"+t+"'.")}function rX(){return new ir("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function d5(){return new ir("canceled","User canceled the upload/download.")}function iX(t){return new ir("invalid-url","Invalid URL '"+t+"'.")}function oX(t){return new ir("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function sX(){return new ir("no-default-bucket","No default bucket found. Did you set the '"+h5+"' property when initializing the app?")}function p5(){return new ir("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function aX(){return new ir("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function uX(){return new ir("no-download-url","The given file does not have any download URLs.")}function pp(t){return new ir("invalid-argument",t)}function m5(){return new ir("app-deleted","The Firebase app was deleted.")}function g5(t){return new ir("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qv(t,e){return new ir("invalid-format","String does not match format '"+t+"': "+e)}function M0(t){throw new ir("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rT=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function v5(t,e){switch(t){case qo.RAW:return new rT(y5(e));case qo.BASE64:case qo.BASE64URL:return new rT(w5(t,e));case qo.DATA_URL:return new rT(fX(e),hX(e))}throw jA()}function y5(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cX(t){var e;try{e=decodeURIComponent(t)}catch{throw qv(qo.DATA_URL,"Malformed data URL.")}return y5(e)}function w5(t,e){switch(t){case qo.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw qv(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case qo.BASE64URL:{var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw qv(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var u;try{u=lX(e)}catch{throw qv(t,"Invalid character found")}for(var c=new Uint8Array(u.length),d=0;d<u.length;d++)c[d]=u.charCodeAt(d);return c}var _5=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw qv(qo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=dX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function fX(t){var e=new _5(t);return e.base64?w5(qo.BASE64,e.rest):cX(e.rest)}function hX(t){var e=new _5(t);return e.contentType}function dX(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pX={STATE_CHANGED:"state_changed"},Ai={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function iT(t){switch(t){case"running":case"pausing":case"canceling":return Ai.RUNNING;case"paused":return Ai.PAUSED;case"success":return Ai.SUCCESS;case"canceled":return Ai.CANCELED;case"error":return Ai.ERROR;default:return Ai.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ih;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ih||(ih={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mX=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ih.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=ih.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=ih.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw M0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw M0("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw M0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw M0("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();function gX(){return new mX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vX=function(){function t(){}return t.prototype.createConnection=function(){return gX()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw oX(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}var a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(V){V.path_=decodeURIComponent(V.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp("^https?://"+v+"/"+p+"/b/"+i+"/o"+y,"i"),E={bucket:1,path:3},b=n===f5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",T=new RegExp("^https?://"+b+"/"+i+"/"+I,"i"),R={bucket:1,path:2},C=[{regex:u,indices:c,postModify:o},{regex:w,indices:E,postModify:d},{regex:T,indices:R,postModify:d}],k=0;k<C.length;k++){var O=C[k],W=O.regex.exec(e);if(W){var D=W[O.indices.bucket],X=W[O.indices.path];X||(X=""),r=new t(D,X),O.postModify(r);break}}if(r==null)throw iX(e);return r},t}(),yX=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wX(t,e,n){var r=1,i=null,o=!1,a=0;function u(){return a===2}var c=!1;function d(){for(var E=[],b=0;b<arguments.length;b++)E[b]=arguments[b];c||(c=!0,e.apply(null,E))}function p(E){i=setTimeout(function(){i=null,t(v,u())},E)}function v(E){for(var b=[],I=1;I<arguments.length;I++)b[I-1]=arguments[I];if(!c){if(E){d.call.apply(d,Ct([null,E],b));return}var T=u()||o;if(T){d.call.apply(d,Ct([null,E],b));return}r<64&&(r*=2);var R;a===1?(a=2,R=0):R=(r+Math.random())*1e3,p(R)}}var y=!1;function w(E){y||(y=!0,!c&&(i!==null?(E||(a=2),clearTimeout(i),p(0)):E||(a=1)))}return p(0),setTimeout(function(){o=!0,w(!0)},n),w}function _X(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t){return t!==void 0}function EX(t){return typeof t=="function"}function SX(t){return typeof t=="object"&&!Array.isArray(t)}function O1(t){return typeof t=="string"||t instanceof String}function $P(t){return BA()&&t instanceof Blob}function BA(){return typeof Blob<"u"}function XC(t,e,n,r){if(r<e)throw pp("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw pp("Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function b5(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TX=function(){function t(e,n,r,i,o,a,u,c,d,p,v){var y=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=u,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=d,this.pool_=v,this.promise_=new Promise(function(w,E){y.resolve_=w,y.reject_=E,y.start_()})}return t.prototype.start_=function(){var e=this;function n(i,o){if(o){i(!1,new F0(!1,null,!0));return}var a=e.pool_.createConnection();e.pendingConnection_=a;function u(c){var d=c.loaded,p=c.lengthComputable?c.total:-1;e.progressCallback_!==null&&e.progressCallback_(d,p)}e.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(){e.progressCallback_!==null&&a.removeUploadProgressListener(u),e.pendingConnection_=null;var c=a.getErrorCode()===ih.NO_ERROR,d=a.getStatus();if(!c||e.isRetryStatusCode_(d)){var p=a.getErrorCode()===ih.ABORT;i(!1,new F0(!1,null,p));return}var v=e.successCodes_.indexOf(d)!==-1;i(!0,new F0(v,a))})}function r(i,o){var a=e.resolve_,u=e.reject_,c=o.connection;if(o.wasSuccessCode)try{var d=e.callback_(c,c.getResponseText());bX(d)?a(d):a()}catch(v){u(v)}else if(c!==null){var p=jA();p.serverResponse=c.getResponseText(),e.errorCallback_?u(e.errorCallback_(c,p)):u(p)}else if(o.canceled){var p=e.appDelete_?m5():d5();u(p)}else{var p=rX();u(p)}}this.canceled_?r(!1,new F0(!1,null,!0)):this.backoffId_=wX(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_X(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o},t}(),F0=function(){function t(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}return t}();function IX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function CX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function AX(t,e,n,r,i,o){var a=b5(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return xX(c,e),IX(c,n),CX(c,o),kX(c,r),new TX(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function NX(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=RX();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(BA())return new Blob(t);throw new ir("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function OX(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VA=function(){function t(e,n){var r=0,i="";$P(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if($P(this.data_)){var r=this.data_,i=OX(r,e,n);return i===null?null:new t(i)}else{var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(BA()){var r=e.map(function(c){return c instanceof t?c.data_:c});return new t(NX.apply(null,r))}else{var i=e.map(function(c){return O1(c)?v5(qo.RAW,c).data:c.data_}),o=0;i.forEach(function(c){o+=c.byteLength});var a=new Uint8Array(o),u=0;return i.forEach(function(c){for(var d=0;d<c.length;d++)a[u++]=c[d]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){var e;try{e=JSON.parse(t)}catch{return null}return SX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function DX(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function E5(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LX(t,e){return e}var Ci=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||LX}return t}(),U0=null;function MX(t){return!O1(t)||t.length<2?t:E5(t)}function P1(){if(U0)return U0;var t=[];t.push(new Ci("bucket")),t.push(new Ci("generation")),t.push(new Ci("metageneration")),t.push(new Ci("name","fullPath",!0));function e(o,a){return MX(a)}var n=new Ci("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new Ci("size");return i.xform=r,t.push(i),t.push(new Ci("timeCreated")),t.push(new Ci("updated")),t.push(new Ci("md5Hash",null,!0)),t.push(new Ci("cacheControl",null,!0)),t.push(new Ci("contentDisposition",null,!0)),t.push(new Ci("contentEncoding",null,!0)),t.push(new Ci("contentLanguage",null,!0)),t.push(new Ci("contentType",null,!0)),t.push(new Ci("metadata","customMetadata",!0)),U0=t,U0}function FX(t,e){function n(){var r=t.bucket,i=t.fullPath,o=new Go(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function UX(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return FX(r,t),r}function S5(t,e,n){var r=zA(e);if(r===null)return null;var i=r;return UX(t,i,n)}function jX(t,e,n){var r=zA(e);if(r===null||!O1(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),u=a.map(function(c){var d=t.bucket,p=t.fullPath,v="/b/"+o(d)+"/o/"+o(p),y=Tc(v,n),w=b5({alt:"media",token:c});return y+w});return u[0]}function WA(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YP="prefixes",XP="items";function BX(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[YP])for(var i=0,o=n[YP];i<o.length;i++){var a=o[i],u=a.replace(/\/$/,""),c=t._makeStorageReference(new Go(e,u));r.prefixes.push(c)}if(n[XP])for(var d=0,p=n[XP];d<p.length;d++){var v=p[d],c=t._makeStorageReference(new Go(e,v.name));r.items.push(c)}return r}function VX(t,e,n){var r=zA(n);if(r===null)return null;var i=r;return BX(t,e,i)}var Bu=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){if(!t)throw jA()}function D1(t,e){function n(r,i){var o=S5(t,i,e);return Pa(o!==null),o}return n}function zX(t,e){function n(r,i){var o=VX(t,e,i);return Pa(o!==null),o}return n}function WX(t,e){function n(r,i){var o=S5(t,i,e);return Pa(o!==null),jX(o,i,t.host)}return n}function wm(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=tX():i=eX():n.getStatus()===402?i=ZY(t.bucket):n.getStatus()===403?i=nX(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function L1(t){var e=wm(t);function n(r,i){var o=e(r,i);return r.getStatus()===404&&(o=JY(t.path)),o.serverResponse=i.serverResponse,o}return n}function T5(t,e,n){var r=e.fullServerUrl(),i=Tc(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new Bu(i,o,D1(t,n),a);return u.errorHandler=L1(e),u}function HX(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),u=Tc(a,t.host),c="GET",d=t.maxOperationRetryTime,p=new Bu(u,c,zX(t,e.bucket),d);return p.urlParams=o,p.errorHandler=wm(e),p}function qX(t,e,n){var r=e.fullServerUrl(),i=Tc(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new Bu(i,o,WX(t,n),a);return u.errorHandler=L1(e),u}function GX(t,e,n,r){var i=e.fullServerUrl(),o=Tc(i,t.host),a="PATCH",u=WA(n,r),c={"Content-Type":"application/json; charset=utf-8"},d=t.maxOperationRetryTime,p=new Bu(o,a,D1(t,r),d);return p.headers=c,p.body=u,p.errorHandler=L1(e),p}function KX(t,e){var n=e.fullServerUrl(),r=Tc(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(c,d){}var u=new Bu(r,i,a,o);return u.successCodes=[200,204],u.errorHandler=L1(e),u}function $X(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function I5(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=$X(null,e)),r}function YX(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){for(var C="",k=0;k<2;k++)C=C+Math.random().toString().slice(2);return C}var c=u();a["Content-Type"]="multipart/related; boundary="+c;var d=I5(e,r,i),p=WA(d,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+c+"--",w=VA.getBlob(v,r,y);if(w===null)throw p5();var E={name:d.fullPath},b=Tc(o,t.host),I="POST",T=t.maxUploadRetryTime,R=new Bu(b,I,D1(t,n),T);return R.urlParams=E,R.headers=a,R.body=w.uploadData(),R.errorHandler=wm(e),R}var db=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function HA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Pa(!1)}var r=e||["active"];return Pa(!!n&&r.indexOf(n)!==-1),n}function XX(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=I5(e,r,i),u={name:a.fullPath},c=Tc(o,t.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=WA(a,n),y=t.maxUploadRetryTime;function w(b){HA(b);var I;try{I=b.getResponseHeader("X-Goog-Upload-URL")}catch{Pa(!1)}return Pa(O1(I)),I}var E=new Bu(c,d,w,y);return E.urlParams=u,E.headers=p,E.body=v,E.errorHandler=wm(e),E}function QX(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(d){var p=HA(d,["active","final"]),v=null;try{v=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pa(!1)}v||Pa(!1);var y=Number(v);return Pa(!isNaN(y)),new db(y,r.size(),p==="final")}var a="POST",u=t.maxUploadRetryTime,c=new Bu(n,a,o,u);return c.headers=i,c.errorHandler=wm(e),c}var QP=256*1024;function JX(t,e,n,r,i,o,a,u){var c=new db(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw aX();var d=c.total-c.current,p=d;i>0&&(p=Math.min(p,i));var v=c.current,y=v+p,w=p===d?"upload, finalize":"upload",E={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":""+c.current},b=r.slice(v,y);if(b===null)throw p5();function I(k,O){var W=HA(k,["active","final"]),D=c.current+p,X=r.size(),V;return W==="final"?V=D1(e,o)(k,O):V=null,new db(D,X,W==="final",V)}var T="POST",R=e.maxUploadRetryTime,C=new Bu(n,T,I,R);return C.headers=E,C.body=b.uploadData(),C.progressCallback=u||null,C.errorHandler=wm(t),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZX=function(){function t(e,n,r){var i=EX(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C5=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=P1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":e(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=XX(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=QX(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(u){u=u,e._request=void 0,e._updateProgress(u.current),e._needToFetchStatus=!1,u.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=QP*this._chunkMultiplier,r=new db(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var u;try{u=JX(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(d){e._error=d,e._transition("error");return}var c=e._ref.storage._makeRequest(u,o,a);e._request=c,c.getPromise().then(function(d){e._increaseMultiplier(),e._request=void 0,e._updateProgress(d.current),d.finalized?(e._metadata=d.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=QP*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=T5(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=YX(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=d5(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=iT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var o=this,a=new ZX(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(iT(this._state)){case Ai.SUCCESS:Zd(this._resolve.bind(null,this.snapshot))();break;case Ai.CANCELED:case Ai.ERROR:var n=this._reject;Zd(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=iT(this._state);switch(n){case Ai.RUNNING:case Ai.PAUSED:e.next&&Zd(e.next.bind(e,this.snapshot))();break;case Ai.SUCCESS:e.complete&&Zd(e.complete.bind(e))();break;case Ai.CANCELED:case Ai.ERROR:e.error&&Zd(e.error.bind(e,this._error))();break;default:e.error&&Zd(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M1=function(){function t(e,n){this._service=e,n instanceof Go?this._location=n:this._location=Go.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new Go(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return E5(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=PX(this._location.path);if(e===null)return null;var n=new Go(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw g5(e)},t}();function eQ(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new C5(t,new VA(e),n)}function tQ(t){var e={prefixes:[],items:[]};return x5(t,e).then(function(){return e})}function x5(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return r={pageToken:n},[4,k5(t,r)];case 1:return i=u.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,x5(t,e,i.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function k5(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&XC("options.maxResults",1,1e3,e.maxResults),n=e||{},r=HX(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function nQ(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=T5(t.storage,t._location,P1()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function rQ(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=GX(t.storage,t._location,e,P1()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function iQ(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=qX(t.storage,t._location,P1()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw uX();return r})]}})})}function oQ(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=KX(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function A5(t,e){var n=DX(t._location.path,e),r=new Go(t._location.bucket,n);return new M1(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){return/^[A-Za-z]+:\/\//.test(t)}function sQ(t,e){return new M1(t,e)}function R5(t,e){if(t instanceof F1){var n=t;if(n._bucket==null)throw sX();var r=new M1(n,n._bucket);return e!=null?R5(r,e):r}else return e!==void 0?A5(t,e):t}function aQ(t,e){if(e&&QC(e)){if(t instanceof F1)return sQ(t,e);throw pp("To use ref(service, url), the first argument must be a Storage instance.")}else return R5(t,e)}function JP(t,e){var n=e==null?void 0:e[h5];return n==null?null:Go.makeFromBucketSpec(n,t)}function uQ(t,e,n,r){r===void 0&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken=typeof i=="string"?i:Tx(i,t.app.options.projectId))}var F1=function(){function t(e,n,r,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=f5,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XY,this._maxUploadRetryTime=QY,this._requests=new Set,o!=null?this._bucket=Go.makeFromBucketSpec(o,this._host):this._bucket=JP(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=Go.makeFromBucketSpec(this._url,e):this._bucket=JP(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){XC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){XC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new M1(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new yX(m5());var o=AX(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},t.prototype.makeRequestWithTokens=function(e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(t,e,n){return t=Tt(t),eQ(t,e,n)}function cQ(t){return t=Tt(t),nQ(t)}function fQ(t,e){return t=Tt(t),rQ(t,e)}function hQ(t,e){return t=Tt(t),k5(t,e)}function dQ(t){return t=Tt(t),tQ(t)}function pQ(t){return t=Tt(t),iQ(t)}function mQ(t){return t=Tt(t),oQ(t)}function ZP(t,e){return t=Tt(t),aQ(t,e)}function gQ(t,e){return A5(t,e)}function vQ(t,e,n,r){r===void 0&&(r={}),uQ(t,e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j0=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eD=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new j0(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new j0(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(u){return n(new j0(u,o,o._ref))}:a={next:n.next?function(u){return n.next(new j0(u,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),tD=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new by(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new by(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var by=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=gQ(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new eD(lQ(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=qo.RAW),this._throwIfRoot("putString");var i=v5(n,e),o=vt({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new eD(new C5(this._delegate,new VA(i.data,!0),o),this)},t.prototype.listAll=function(){var e=this;return dQ(this._delegate).then(function(n){return new tD(n,e.storage)})},t.prototype.list=function(e){var n=this;return hQ(this._delegate,e||void 0).then(function(r){return new tD(r,n.storage)})},t.prototype.getMetadata=function(){return cQ(this._delegate)},t.prototype.updateMetadata=function(e){return fQ(this._delegate,e)},t.prototype.getDownloadURL=function(){return pQ(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),mQ(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw g5(e)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yQ=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(QC(e))throw pp("ref() expected a child path but got a URL, use refFromURL instead.");return new by(ZP(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!QC(e))throw pp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Go.makeFromUrl(e,this._delegate.host)}catch{throw pp("refFromUrl() expected a valid full URL but got an invalid one.")}return new by(ZP(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),vQ(this._delegate,e,n,r)},t}(),wQ="@firebase/storage",_Q="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bQ="storage";function EQ(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=new yQ(r,new F1(r,i,o,new vX,n,at.SDK_VERSION));return a}function SQ(t){var e={TaskState:Ai,TaskEvent:pX,StringFormat:qo,Storage:F1,Reference:by};t.INTERNAL.registerComponent(new yi(bQ,EQ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(wQ,_Q)}SQ(at);var TQ="@firebase/performance",N5="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O5=N5,IQ="FB-PERF-TRACE-START",CQ="FB-PERF-TRACE-STOP",JC="FB-PERF-TRACE-MEASURE",P5="_wt_",D5="_fp",L5="_fcp",M5="_fid",F5="@firebase/performance/config",U5="@firebase/performance/configexpire",xQ="performance",j5="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr,kQ=(Hr={},Hr["trace started"]="Trace {$traceName} was started before.",Hr["trace stopped"]="Trace {$traceName} is not running.",Hr["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Hr["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Hr["no window"]="Window is not available.",Hr["no app id"]="App id is not available.",Hr["no project id"]="Project id is not available.",Hr["no api key"]="Api key is not available.",Hr["invalid cc log"]="Attempted to queue invalid cc event",Hr["FB not default"]="Performance can only start when Firebase app instance is the default one.",Hr["RC response not ok"]="RC response is not ok",Hr["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Hr["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Hr["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Hr["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Hr),hi=new Fu(xQ,j5,kQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ou=new wh(j5);Ou.logLevel=Lt.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oT,B5,gi=function(){function t(e){if(this.window=e,!e)throw hi.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Ou.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):xy()?!0:(Ou.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var u=a[o];n(u)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return oT===void 0&&(oT=new t(B5)),oT},t}();function AQ(t){B5=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){var n=t.length-e.length;if(n<0||n>1)throw hi.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sT,hr=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=nD("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=nD("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw hi.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw hi.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw hi.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return sT===void 0&&(sT=new t),sT},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V5;function RQ(){var t=hr.getInstance().installationsService.getId();return t.then(function(e){V5=e}),t}function qA(){return V5}function NQ(){var t=hr.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(mp||(mp={}));var OQ=["firebase_","google_","ga_"],PQ=new RegExp("^[a-zA-Z]\\w*$"),DQ=40,LQ=100;function MQ(){var t=gi.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function z5(){var t=gi.getInstance().document,e=t.visibilityState;switch(e){case"visible":return mp.VISIBLE;case"hidden":return mp.HIDDEN;default:return mp.UNKNOWN}}function FQ(){var t=gi.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function UQ(t){if(t.length===0||t.length>DQ)return!1;var e=OQ.some(function(n){return t.startsWith(n)});return!e&&!!t.match(PQ)}function jQ(t){return t.length!==0&&t.length<=LQ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BQ="0.0.1",VQ={loggingEnabled:!0},zQ="FIREBASE_INSTALLATIONS_AUTH";function WQ(t){var e=HQ();return e?(rD(e),Promise.resolve()):KQ(t).then(rD).then(function(n){return qQ(n)},function(){})}function HQ(){var t=gi.getInstance().localStorage;if(t){var e=t.getItem(U5);if(!(!e||!$Q(e))){var n=t.getItem(F5);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function qQ(t){var e=gi.getInstance().localStorage;!t||!e||(e.setItem(F5,JSON.stringify(t)),e.setItem(U5,String(Date.now()+hr.getInstance().configTimeToLive*60*60*1e3)))}var GQ="Could not fetch config, will use default configs";function KQ(t){return NQ().then(function(e){var n=hr.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+hr.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:zQ+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:hr.getInstance().getAppId(),app_version:O5,sdk_version:BQ})});return fetch(i).then(function(o){if(o.ok)return o.json();throw hi.create("RC response not ok")})}).catch(function(){Ou.info(GQ)})}function rD(t){if(!t)return t;var e=hr.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=VQ.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=iD(e.tracesSamplingRate),e.logNetworkAfterSampling=iD(e.networkRequestsSamplingRate),t}function $Q(t){return Number(t)>Date.now()}function iD(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GA=1,aT;function W5(){return GA=2,aT=aT||XQ(),aT}function YQ(){return GA===3}function XQ(){return QQ().then(function(){return RQ()}).then(function(t){return WQ(t)}).then(function(){return oD()},function(){return oD()})}function QQ(){var t=gi.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function oD(){GA=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KA=10*1e3,JQ=5.5*1e3,H5=3,ZQ=1e3,pb=H5,fc=[],sD=!1;function eJ(){sD||(U1(JQ),sD=!0)}function U1(t){setTimeout(function(){if(pb!==0){if(!fc.length)return U1(KA);tJ()}},t)}function tJ(){var t=fc.splice(0,ZQ),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:hr.getInstance().logSource,log_event:e};nJ(n,t).catch(function(){fc=Ct(Ct([],t),fc),pb--,Ou.info("Tries left: "+pb+"."),U1(KA)})}function nJ(t,e){return rJ(t).then(function(n){return n.ok||Ou.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=KA;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(fc=Ct(Ct([],e),fc),Ou.info("Retry transport request later.")),pb=H5,U1(i)})}function rJ(t){var e=hr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function iJ(t){if(!t.eventTime||!t.message)throw hi.create("invalid cc log");fc=Ct(Ct([],fc),[t])}function oJ(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);iJ({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uT;function q5(t,e){uT||(uT=oJ(aJ)),uT(t,e)}function B0(t){var e=hr.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||gi.getInstance().requiredApisAvailable()&&(t.isAuto&&z5()!==mp.VISIBLE||(YQ()?lT(t):W5().then(function(){return lT(t)},function(){return lT(t)})))}function lT(t){if(qA()){var e=hr.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return q5(t,1)},0)}}function sJ(t){var e=hr.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return q5(t,0)},0)}}function aJ(t,e){return e===0?uJ(t):lJ(t)}function uJ(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:G5(),network_request_metric:e};return JSON.stringify(n)}function lJ(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:G5(),trace_metric:e};return JSON.stringify(r)}function G5(){return{google_app_id:hr.getInstance().getAppId(),app_instance_id:qA(),web_app_info:{sdk_version:O5,page_url:gi.getInstance().getUrl(),service_worker_status:MQ(),visibility_state:z5(),effective_connection_type:FQ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cJ=100,fJ="_",hJ=[D5,L5,M5];function dJ(t,e){return t.length===0||t.length>cJ?!1:e&&e.startsWith(P5)&&hJ.indexOf(t)>-1||!t.startsWith(fJ)}function pJ(t){var e=Math.floor(t);return e<t&&Ou.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gv=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=gi.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=IQ+"-"+this.randomId+"-"+this.name,this.traceStopMark=CQ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||JC+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw hi.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw hi.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),B0(this)},t.prototype.record=function(e,n,r){if(e<=0)throw hi.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw hi.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=vt({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}B0(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(dJ(e,this.name))this.counters[e]=pJ(n);else throw hi.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=UQ(e),i=jQ(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw hi.create("invalid attribute name",{attributeName:e});if(!i)throw hi.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return vt({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=gi.getInstance().getUrl();if(i){var o=new t(P5+i,!0),a=Math.floor(gi.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var u="first-paint",c="first-contentful-paint";if(n){var d=n.find(function(v){return v.name===u});d&&d.startTime&&o.putMetric(D5,Math.floor(d.startTime*1e3));var p=n.find(function(v){return v.name===c});p&&p.startTime&&o.putMetric(L5,Math.floor(p.startTime*1e3)),r&&o.putMetric(M5,Math.floor(r*1e3))}B0(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);B0(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=gi.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],u={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};sJ(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mJ=5e3;function uD(){qA()&&(setTimeout(function(){return vJ()},0),setTimeout(function(){return gJ()},0),setTimeout(function(){return yJ()},0))}function gJ(){for(var t=gi.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];aD(i)}t.setupObserver("resource",aD)}function vJ(){var t=gi.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Gv.createOobTrace(e,n),r=void 0},mJ);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),Gv.createOobTrace(e,n,i))})}else Gv.createOobTrace(e,n)}function yJ(){for(var t=gi.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];lD(i)}t.setupObserver("measure",lD)}function lD(t){var e=t.name;e.substring(0,JC.length)!==JC&&Gv.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wJ=function(){function t(e){this.app=e,gi.getInstance().requiredApisAvailable()&&xx().then(function(n){n&&(eJ(),W5().then(uD,uD))}).catch(function(n){Ou.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new Gv(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return hr.getInstance().instrumentationEnabled},set:function(e){hr.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return hr.getInstance().dataCollectionEnabled},set:function(e){hr.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _J="[DEFAULT]";function bJ(t){var e=function(n,r){if(n.name!==_J)throw hi.create("FB not default");if(typeof window>"u")throw hi.create("no window");return AQ(window),hr.getInstance().firebaseAppInstance=n,hr.getInstance().installationsService=r,new wJ(n)};t.INTERNAL.registerComponent(new yi("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(TQ,N5)}bJ(at);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EJ="firebase_id",SJ="origin",TJ=60*1e3,IJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",K5="https://www.googletagmanager.com/gtag/js",vi;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(vi||(vi={}));var ZC;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(ZC||(ZC={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CJ(t,e,n,r,i){return ve(this,void 0,void 0,function(){var o,a;return ge(this,function(u){switch(u.label){case 0:return i&&i.global?(t(vi.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=u.sent(),a=vt(vt({},r),{send_to:o}),t(vi.EVENT,n,a),u.label=3;case 3:return[2]}})})}function xJ(t,e,n,r){return ve(this,void 0,void 0,function(){var i;return ge(this,function(o){switch(o.label){case 0:return r&&r.global?(t(vi.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(vi.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function kJ(t,e,n,r){return ve(this,void 0,void 0,function(){var i;return ge(this,function(o){switch(o.label){case 0:return r&&r.global?(t(vi.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(vi.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function AJ(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)u=a[o],i["user_properties."+u]=n[u];return t(vi.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=d.sent(),t(vi.CONFIG,c,{update:!0,user_properties:n}),d.label=3;case 3:return[2]}})})}function RJ(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=new wh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NJ(t,e){var n=document.createElement("script");n.src=K5+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function OJ(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function PJ(t,e,n,r,i,o){return ve(this,void 0,void 0,function(){var a,u,c,d;return ge(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=p.sent(),c=u.find(function(v){return v.measurementId===i}),c?[4,e[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return d=p.sent(),Kr.error(d),[3,8];case 8:return t(vi.CONFIG,i,o),[2]}})})}function DJ(t,e,n,r,i){return ve(this,void 0,void 0,function(){var o,a,u,c,d,p,v,y,w;return ge(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=E.sent(),c=function(b){var I=u.find(function(R){return R.measurementId===b}),T=I&&e[I.appId];if(T)o.push(T);else return o=[],"break"},d=0,p=a;d<p.length&&(v=p[d],y=c(v),y!=="break");d++);E.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return E.sent(),t(vi.EVENT,r,i||{}),[3,5];case 4:return w=E.sent(),Kr.error(w),[3,5];case 5:return[2]}})})}function LJ(t,e,n,r){function i(o,a,u){return ve(this,void 0,void 0,function(){var c;return ge(this,function(d){switch(d.label){case 0:return d.trys.push([0,6,,7]),o!==vi.EVENT?[3,2]:[4,DJ(t,e,n,a,u)];case 1:return d.sent(),[3,5];case 2:return o!==vi.CONFIG?[3,4]:[4,PJ(t,e,n,r,a,u)];case 3:return d.sent(),[3,5];case 4:t(vi.SET,a),d.label=5;case 5:return[3,7];case 6:return c=d.sent(),Kr.error(c),[3,7];case 7:return[2]}})})}return i}function MJ(t,e,n,r,i){var o=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=LJ(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function FJ(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(K5))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es,UJ=(Es={},Es["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Es["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Es["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Es["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Es["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Es["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Es["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Es["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Es["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Es),Yo=new Fu("analytics","Analytics",UJ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jJ=30,BJ=1e3,VJ=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=BJ),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),$5=new VJ;function zJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function WJ(t){var e;return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:zJ(r)},o=IJ.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=d.sent(),!(a.status!==200&&a.status!==304))return[3,6];u="",d.label=2;case 2:return d.trys.push([2,4,,5]),[4,a.json()];case 3:return c=d.sent(),!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message),[3,5];case 4:return d.sent(),[3,5];case 5:throw Yo.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u});case 6:return[2,a.json()]}})})}function HJ(t,e,n){return e===void 0&&(e=$5),ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d=this;return ge(this,function(p){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Yo.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Yo.create("no-api-key")}return u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new KJ,setTimeout(function(){return ve(d,void 0,void 0,function(){return ge(this,function(v){return c.abort(),[2]})})},TJ),[2,Y5({appId:i,apiKey:o,measurementId:a},u,c,e)]})})}function Y5(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=$5),ve(this,void 0,void 0,function(){var a,u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:a=t.appId,u=t.measurementId,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,qJ(n,i)];case 2:return w.sent(),[3,4];case 3:if(c=w.sent(),u)return Kr.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:u}];throw c;case 4:return w.trys.push([4,6,,7]),[4,WJ(t)];case 5:return d=w.sent(),r.deleteThrottleMetadata(a),[2,d];case 6:if(p=w.sent(),!GJ(p)){if(r.deleteThrottleMetadata(a),u)return Kr.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:u}];throw p}return v=Number(p.customData.httpStatus)===503?ZI(o,r.intervalMillis,jJ):ZI(o,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+v,backoffCount:o+1},r.setThrottleMetadata(a,y),Kr.debug("Calling attemptFetch again in "+v+" millis"),[2,Y5(t,y,n,r)];case 7:return[2]}})})}function qJ(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Yo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GJ(t){if(!(t instanceof rm)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var KJ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(){return ve(this,void 0,void 0,function(){var t;return ge(this,function(e){switch(e.label){case 0:return xy()?[3,1]:(Kr.warn(Yo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,xx()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Kr.warn(Yo.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function YJ(t,e,n,r,i,o){return ve(this,void 0,void 0,function(){var a,u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:return a=HJ(t),a.then(function(E){n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Kr.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+E.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(E){return Kr.error(E)}),e.push(a),u=$J().then(function(E){if(E)return r.getId()}),[4,Promise.all([a,u])];case 1:return c=w.sent(),d=c[0],p=c[1],FJ()||NJ(o,d.measurementId),i("js",new Date),v=(y={},y[SJ]="firebase",y.update=!0,y),p!=null&&(v[EJ]=p),i(vi.CONFIG,d.measurementId,v),[2,d.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gu={},cD=[],fD={},p_="dataLayer",X5="gtag",hD,yv,ex=!1;function XJ(t){if(ex)throw Yo.create("already-initialized");t.dataLayerName&&(p_=t.dataLayerName),t.gtagName&&(X5=t.gtagName)}function QJ(){var t=[];if(Cx()&&t.push("This is a browser extension environment."),wF()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Yo.create("invalid-analytics-context",{errorInfo:e});Kr.warn(n.message)}}function JJ(t,e){QJ();var n=t.options.appId;if(!n)throw Yo.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Kr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Yo.create("no-api-key");if(gu[n]!=null)throw Yo.create("already-exists",{id:n});if(!ex){OJ(p_);var r=MJ(gu,cD,fD,p_,X5),i=r.wrappedGtag,o=r.gtagCore;yv=i,hD=o,ex=!0}gu[n]=YJ(t,cD,fD,e,hD,p_);var a={app:t,logEvent:function(u,c,d){CJ(yv,gu[n],u,c,d).catch(function(p){return Kr.error(p)})},setCurrentScreen:function(u,c){xJ(yv,gu[n],u,c).catch(function(d){return Kr.error(d)})},setUserId:function(u,c){kJ(yv,gu[n],u,c).catch(function(d){return Kr.error(d)})},setUserProperties:function(u,c){AJ(yv,gu[n],u,c).catch(function(d){return Kr.error(d)})},setAnalyticsCollectionEnabled:function(u){RJ(gu[n],u).catch(function(c){return Kr.error(c)})},INTERNAL:{delete:function(){return delete gu[n],Promise.resolve()}}};return a}var ZJ="@firebase/analytics",eZ="0.6.18",dD="analytics";function tZ(t){t.INTERNAL.registerComponent(new yi(dD,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return JJ(r,i)},"PUBLIC").setServiceProps({settings:XJ,EventName:ZC,isSupported:nZ})),t.INTERNAL.registerComponent(new yi("analytics-internal",e,"PRIVATE")),t.registerVersion(ZJ,eZ);function e(n){try{var r=n.getProvider(dD).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Yo.create("interop-component-reg-failed",{reason:i})}}}tZ(at);function nZ(){return ve(this,void 0,void 0,function(){var t;return ge(this,function(e){switch(e.label){case 0:if(Cx())return[2,!1];if(!wF())return[2,!1];if(!xy())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,xx()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rZ=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return ve(this,void 0,void 0,function(){var n,r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=u.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=u.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return u.sent(),[2,o]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi,iZ=(xi={},xi["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",xi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",xi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",xi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",xi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",xi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",xi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",xi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",xi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",xi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',xi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',xi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",xi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",xi),Ko=new Fu("remoteconfig","Remote Config",iZ);function oZ(t,e){return t instanceof rm&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sZ(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aZ=function(){function t(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return t.prototype.fetch=function(e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c,d,p,v,y,w,E,b,I,T,R,C,k;return ge(this,function(O){switch(O.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=O.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:sZ()},d={method:"POST",headers:u,body:JSON.stringify(c)},p=fetch(a,d),v=new Promise(function(W,D){e.signal.addEventListener(function(){var X=new Error("The operation was aborted.");X.name="AbortError",D(X)})}),O.label=2;case 2:return O.trys.push([2,5,,6]),[4,Promise.race([p,v])];case 3:return O.sent(),[4,p];case 4:return y=O.sent(),[3,6];case 5:throw w=O.sent(),E="fetch-client-network",w.name==="AbortError"&&(E="fetch-timeout"),Ko.create(E,{originalErrorMessage:w.message});case 6:if(b=y.status,I=y.headers.get("ETag")||void 0,y.status!==200)return[3,11];C=void 0,O.label=7;case 7:return O.trys.push([7,9,,10]),[4,y.json()];case 8:return C=O.sent(),[3,10];case 9:throw k=O.sent(),Ko.create("fetch-client-parse",{originalErrorMessage:k.message});case 10:T=C.entries,R=C.state,O.label=11;case 11:if(R==="INSTANCE_STATE_UNSPECIFIED"?b=500:R==="NO_CHANGE"?b=304:(R==="NO_TEMPLATE"||R==="EMPTY_CONFIG")&&(T={}),b!==304&&b!==200)throw Ko.create("fetch-status",{httpStatus:b});return[2,{status:b,eTag:I,config:T}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uZ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lZ=!1,cZ="",pD=0,fZ=["1","true","t","yes","y","on"],cT=function(){function t(e,n){n===void 0&&(n=cZ),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?lZ:fZ.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return pD;var e=Number(this._value);return isNaN(e)&&(e=pD),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hZ=60*1e3,dZ=12*60*60*1e3,pZ=function(){function t(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:hZ,minimumFetchIntervalMillis:dZ},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Lt.DEBUG;break;case"silent":this._logger.logLevel=Lt.SILENT;break;default:this._logger.logLevel=Lt.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return ve(this,void 0,void 0,function(){var e,n,r,i=this;return ge(this,function(o){switch(o.label){case 0:e=new uZ,setTimeout(function(){return ve(i,void 0,void 0,function(){return ge(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=oZ(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return mZ(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new cT("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new cT("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new cT("static"))},t}();function mZ(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(vt(vt({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t,e){var n=t.target.error||void 0;return Ko.create(e,{originalErrorMessage:n&&n.message})}var Vf="app_namespace_store",gZ="firebase_remote_config",vZ=1;function yZ(){return new Promise(function(t,e){var n=indexedDB.open(gZ,vZ);n.onerror=function(r){e(m_(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Vf,{keyPath:"compositeKey"})}}})}var wZ=function(){function t(e,n,r,i){i===void 0&&(i=yZ()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return ve(this,void 0,void 0,function(){var n,r=this;return ge(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Vf],"readonly"),c=u.objectStore(Vf),d=r.createCompositeKey(e);try{var p=c.get(d);p.onerror=function(v){a(m_(v,"storage-get"))},p.onsuccess=function(v){var y=v.target.result;o(y?y.value:void 0)}}catch(v){a(Ko.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.set=function(e,n){return ve(this,void 0,void 0,function(){var r,i=this;return ge(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,u){var c=r.transaction([Vf],"readwrite"),d=c.objectStore(Vf),p=i.createCompositeKey(e);try{var v=d.put({compositeKey:p,value:n});v.onerror=function(y){u(m_(y,"storage-set"))},v.onsuccess=function(){a()}}catch(y){u(Ko.create("storage-set",{originalErrorMessage:y&&y.message}))}})]}})})},t.prototype.delete=function(e){return ve(this,void 0,void 0,function(){var n,r=this;return ge(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Vf],"readwrite"),c=u.objectStore(Vf),d=r.createCompositeKey(e);try{var p=c.delete(d);p.onerror=function(v){a(m_(v,"storage-delete"))},p.onsuccess=function(){o()}}catch(v){a(Ko.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _Z=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return ve(this,void 0,void 0,function(){var e,n,r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=u.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=u.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=u.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Ko.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function EZ(t){if(!(t instanceof rm)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var SZ=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return ve(this,void 0,void 0,function(){var o,a,u;return ge(this,function(c){switch(c.label){case 0:return[4,bZ(e.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,o];case 5:if(a=c.sent(),!EZ(a))throw a;return u={throttleEndTimeMillis:Date.now()+ZI(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(u)];case 6:return c.sent(),[2,this.attemptFetch(e,u)];case 7:return[2]}})})},t}(),mD="@firebase/remote-config",TZ="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IZ(t){t.INTERNAL.registerComponent(new yi("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(mD,TZ);function e(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Ko.create("registration-window");var u=o.options,c=u.projectId,d=u.apiKey,p=u.appId;if(!c)throw Ko.create("registration-project-id");if(!d)throw Ko.create("registration-api-key");if(!p)throw Ko.create("registration-app-id");i=i||"firebase";var v=new wZ(p,o.name,i),y=new _Z(v),w=new wh(mD);w.logLevel=Lt.ERROR;var E=new aZ(a,t.SDK_VERSION,i,c,d,p),b=new SZ(E,v),I=new rZ(b,v,y,w),T=new pZ(o,I,y,v,w);return T.ensureInitialized(),T}}IZ(at);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss,CZ=(Ss={},Ss["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Ss["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Ss["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ss["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ss["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ss["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ss["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ss["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ss["recaptcha-error"]="ReCAPTCHA error.",Ss),wo=new Fu("appCheck","AppCheck",CZ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q5=new Map,xZ={activated:!1,tokenObservers:[]},kZ={enabled:!1};function Li(t){return Q5.get(t)||xZ}function Da(t,e){Q5.set(t,e)}function $A(){return kZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J5="https://content-firebaseappcheck.googleapis.com/v1beta",AZ="exchangeRecaptchaToken",RZ="exchangeDebugToken",gD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NZ=function(){function t(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Pr,[4,OZ(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Pr,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function OZ(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(){return self.grecaptcha}function Z5(t){if(!Li(t).activated)throw wo.create("use-before-activation",{appName:t.name})}function PZ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}function DZ(t){return Ob.encodeString(JSON.stringify(t),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t,e){var n=t.url,r=t.body;return ve(this,void 0,void 0,function(){var i,o,a,u,c,d,p,v,y,w;return ge(this,function(E){switch(E.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return u=E.sent(),[3,4];case 3:throw c=E.sent(),wo.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(u.status!==200)throw wo.create("fetch-status-error",{httpStatus:u.status});E.label=5;case 5:return E.trys.push([5,7,,8]),[4,u.json()];case 6:return d=E.sent(),[3,8];case 7:throw p=E.sent(),wo.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(v=d.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw wo.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+d.ttl)});return y=Number(v[1])*1e3,w=Date.now(),[2,{token:d.attestationToken,expireTimeMillis:w+y,issuedAtTimeMillis:w}]}})})}function LZ(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:J5+"/projects/"+r+"/apps/"+i+":"+AZ+"?key="+o,body:{recaptcha_token:e}}}function MZ(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:J5+"/projects/"+r+"/apps/"+i+":"+RZ+"?key="+o,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FZ="firebase-app-check-database",UZ=1,Ey="firebase-app-check-store",tU="debug-token",V0=null;function nU(){return V0||(V0=new Promise(function(t,e){try{var n=indexedDB.open(FZ,UZ);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(wo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ey,{keyPath:"compositeKey"})}}}catch(r){e(wo.create("storage-open",{originalErrorMessage:r.message}))}}),V0)}function jZ(t){return iU(oU(t))}function BZ(t,e){return rU(oU(t),e)}function VZ(t){return rU(tU,t)}function zZ(){return iU(tU)}function rU(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return[4,nU()];case 1:return n=a.sent(),r=n.transaction(Ey,"readwrite"),i=r.objectStore(Ey),o=i.put({compositeKey:t,value:e}),[2,new Promise(function(u,c){o.onsuccess=function(d){u()},r.onerror=function(d){var p;c(wo.create("storage-set",{originalErrorMessage:(p=d.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function iU(t){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,nU()];case 1:return e=o.sent(),n=e.transaction(Ey,"readonly"),r=n.objectStore(Ey),i=r.get(t),[2,new Promise(function(a,u){i.onsuccess=function(c){var d=c.target.result;a(d?d.value:void 0)},n.onerror=function(c){var d;u(wo.create("storage-get",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function oU(t){return t.options.appId+"-"+t.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j1=new wh("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WZ(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:if(!xy())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,jZ(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),j1.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function yD(t,e){return xy()?BZ(t,e).catch(function(n){j1.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function HZ(){return ve(this,void 0,void 0,function(){var t,e;return ge(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,zZ()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=PZ(),VZ(e).catch(function(r){return j1.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(){var t=$A();return t.enabled}function GZ(){return ve(this,void 0,void 0,function(){var t;return ge(this,function(e){if(t=$A(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function KZ(){var t=J8();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=$A();e.enabled=!0;var n=new Pr;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(HZ())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Z={error:"UNKNOWN_ERROR"};function mb(t,e,n){return n===void 0&&(n=!1),ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:return Z5(t),r=Li(t),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=w.sent(),a&&Sy(a)&&(i=a,Da(t,vt(vt({},r),{token:i})),wD(t,{token:i.token})),w.label=2;case 2:return!n&&i&&Sy(i)?[2,{token:i.token}]:qZ()?(c=eU,d=MZ,p=[t],[4,GZ()]):[3,6];case 3:return[4,c.apply(void 0,[d.apply(void 0,p.concat([w.sent()])),e])];case 4:return u=w.sent(),[4,yD(t,u)];case 5:return w.sent(),Da(t,vt(vt({},r),{token:u})),[2,{token:u.token}];case 6:return w.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=w.sent(),[3,9];case 8:return v=w.sent(),j1.error(v),o=v,[3,9];case 9:return i?[3,10]:(y=XZ(o),[3,12]);case 10:return y={token:i.token},Da(t,vt(vt({},r),{token:i})),[4,yD(t,i)];case 11:w.sent(),w.label=12;case 12:return wD(t,y),[2,y]}})})}function sU(t,e,n,r,i){var o=Li(t),a={next:r,error:i,type:n},u=vt(vt({},o),{tokenObservers:Ct(Ct([],o.tokenObservers),[a])});if(!u.tokenRefresher){var c=YZ(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&Sy(o.token)){var d=o.token;Promise.resolve().then(function(){return r({token:d.token})}).catch(function(){})}else o.token==null&&o.cachedTokenPromise.then(function(p){p&&Sy(p)&&r({token:p.token})}).catch(function(){});Da(t,u)}function YA(t,e){var n=Li(t),r=n.tokenObservers.filter(function(i){return i.next!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Da(t,vt(vt({},n),{tokenObservers:r}))}function YZ(t,e){var n=this;return new NZ(function(){return ve(n,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return r=Li(t),r.token?[3,2]:[4,mb(t,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,mb(t,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Li(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},gD.RETRIAL_MIN_WAIT,gD.RETRIAL_MAX_WAIT)}function wD(t,e){for(var n=Li(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{o.type==="EXTERNAL"&&e.error!=null?o.error(e.error):o.next(e)}catch{}}}function Sy(t){return t.expireTimeMillis-Date.now()>0}function XZ(t){return{token:DZ($Z),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QZ="https://www.google.com/recaptcha/api.js";function JZ(t,e){var n=Li(t),r=new Pr;Da(t,vt(vt({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=vD();return a?a.ready(function(){_D(t,e,a,i),r.resolve(a)}):eee(function(){var u=vD();if(!u)throw new Error("no recaptcha");u.ready(function(){_D(t,e,u,i),r.resolve(u)})}),r.promise}function ZZ(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return Z5(t),e=Li(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=Li(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function _D(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=Li(t);Da(t,vt(vt({},o),{reCAPTCHAState:vt(vt({},o.reCAPTCHAState),{widgetId:i})}))}function eee(t){var e=document.createElement("script");e.src=""+QZ,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tx=function(){function t(e){this._siteKey=e}return t.prototype.getToken=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw wo.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,ZZ(this._app)];case 2:return e=n.sent(),[3,4];case 3:throw n.sent(),wo.create("recaptcha-error");case 4:return[2,eU(LZ(this._app,e),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(e,n){this._app=e,this._platformLoggerProvider=n,JZ(e,this._siteKey).catch(function(){})},t}(),nx=function(){function t(e){this._customProviderOptions=e}return t.prototype.getToken=function(){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:if(!this._app)throw wo.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=i.sent(),n=nV(e.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,vt(vt({},e),{issuedAtTimeMillis:r})]}})})},t.prototype.initialize=function(e){this._app=e},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t,e,n,r){var i=Li(t);if(i.activated)throw wo.create("already-activated",{appName:t.name});var o=vt(vt({},i),{activated:!0});o.cachedTokenPromise=WZ(t).then(function(a){return a&&Sy(a)&&Da(t,vt(vt({},Li(t)),{token:a})),a}),typeof e=="string"?o.provider=new tx(e):e instanceof tx||e instanceof nx?o.provider=e:o.provider=new nx({getToken:e.getToken}),o.isTokenAutoRefreshEnabled=r===void 0?t.automaticDataCollectionEnabled:r,Da(t,o),o.provider.initialize(t,n)}function nee(t,e){var n=Li(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Da(t,vt(vt({},n),{isTokenAutoRefreshEnabled:e}))}function ree(t,e,n){return ve(this,void 0,void 0,function(){var r;return ge(this,function(i){switch(i.label){case 0:return[4,mb(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function iee(t,e,n,r,i){var o=function(){},a=function(){};return n.next!=null?o=n.next.bind(n):o=n,n.error!=null?a=n.error.bind(n):r&&(a=r),sU(t,e,"EXTERNAL",o,a),function(){return YA(t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oee(t,e){return{app:t,activate:function(n,r){return tee(t,n,e,r)},setTokenAutoRefreshEnabled:function(n){return nee(t,n)},getToken:function(n){return ree(t,e,n)},onTokenChanged:function(n,r,i){return iee(t,e,n,r)},INTERNAL:{delete:function(){for(var n=Li(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];YA(t,o.next)}return Promise.resolve()}}}}function see(t,e){return{getToken:function(n){return mb(t,e,n)},addTokenListener:function(n){return sU(t,e,"INTERNAL",n)},removeTokenListener:function(n){return YA(t,n)}}}var aee="@firebase/app-check",uee="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lee="appCheck",bD="app-check-internal";function cee(t){t.INTERNAL.registerComponent(new yi(lee,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return oee(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:tx,CustomProvider:nx}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(bD);i.initialize()})),t.INTERNAL.registerComponent(new yi(bD,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return see(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(aee,uee)}cee(at);KZ();var fee="firebase",aU="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */at.registerVersion(fee,aU,"app");at.SDK_VERSION=aU;var hee="firebase",dee="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);at.registerVersion(hee,dee);const pee={apiKey:"AIzaSyC_K17PkVzYRdF0hGazuBGM303aggFae2g",authDomain:"mipu-9f72e.firebaseapp.com",projectId:"mipu-9f72e",storageBucket:"mipu-9f72e.appspot.com",messagingSenderId:"725415495634",appId:"1:725415495634:web:2dab347a297b2939cc2a0b",measurementId:"G-2RZGM0GQBX"},XA=at.initializeApp(pee),B1=at.auth(XA),xu=at.firestore(XA),uU=at.storage(XA),QA=t=>at.firestore.Timestamp.fromDate(t),V1=(t,e,n)=>{const[r,i]=te.useState(null),[o,a]=te.useState(null),u=te.useRef(e).current,c=te.useRef(n).current;return te.useEffect(()=>{let d=xu.collection(t);u&&(d=d.where(...u)),c&&(d=d.orderBy(...c));const p=d.onSnapshot(v=>{let y=[];v.docs.forEach(w=>{y.push({...w.data(),id:w.id})}),i(y),a(null)},v=>{console.log(v),a("could not fetch the data")});return()=>p()},[t,u,c]),{documents:r,error:o}},lU=te.createContext(),mee=(t,e)=>{switch(e.type){case"LOGIN":return{...t,user:e.payload};case"LOGOUT":return{...t,user:null};case"AUTH_IS_READY":return{user:e.payload,authIsReady:!0};default:return t}},gee=({children:t})=>{const[e,n]=te.useReducer(mee,{user:null,authIsReady:!1});return te.useEffect(()=>{const r=B1.onAuthStateChanged(i=>{n({type:"AUTH_IS_READY",payload:i}),r()})},[]),console.log("AuthContext state:",e),Z.jsx(lU.Provider,{value:{...e,dispatch:n},children:t})},Zo=()=>{const t=te.useContext(lU);if(!t)throw Error("useAuthContext must be used inside an AuthContextProvider");return t};function vee(t,e,n){te.useEffect(()=>{if(!document)return;const r=document.querySelector('script[src="'.concat(t,'"]'));if(r!=null&&r.dataset.loaded){e==null||e();return}const i=r||document.createElement("script");r||(i.src=t);const o=()=>{i.dataset.loaded="1",e==null||e()};i.addEventListener("load",o),i.addEventListener("error",n),r||document.head.append(i)},[])}function yee(t){let{chartVersion:e="current",chartPackages:n=["corechart","controls"],chartLanguage:r="en",mapsApiKey:i}=t;const[o,a]=te.useState(null),[u,c]=te.useState(!1);return vee("https://www.gstatic.com/charts/loader.js",()=>{const d=window==null?void 0:window.google;d&&(d.charts.load(e,{packages:n,language:r,mapsApiKey:i}),d.charts.setOnLoadCallback(()=>{a(d)}))},()=>{c(!0)}),[o,u]}function wee(t){let{onLoad:e,onError:n,...r}=t;const[i,o]=yee(r);return te.useEffect(()=>{i&&e&&e(i)},[i]),te.useEffect(()=>{o&&n&&n()},[o]),null}const cU={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}};let ED=0;const _ee=()=>(ED+=1,"reactgooglegraph-".concat(ED)),bee=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],Eee=async function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((r,i)=>{const o="".concat(n.headers?"headers=".concat(n.headers):"headers=0"),a="".concat(n.query?"&tq=".concat(encodeURIComponent(n.query)):""),u="".concat(n.gid?"&gid=".concat(n.gid):""),c="".concat(n.sheet?"&sheet=".concat(n.sheet):""),d="".concat(n.access_token?"&access_token=".concat(n.access_token):""),p="".concat(o).concat(u).concat(c).concat(a).concat(d),v="".concat(e,"/gviz/tq?").concat(p);new t.visualization.Query(v).send(w=>{w.isError()?i("Error in query:  ".concat(w.getMessage()," ").concat(w.getDetailedMessage())):r(w.getDataTable())})})},{Provider:See,Consumer:Tee}=te.createContext(cU),Iee=t=>{let{children:e,value:n}=t;return te.createElement(See,{value:n},e)},fU=t=>{let{render:e}=t;return te.createElement(Tee,null,n=>e(n))},Cee="#CCCCCC";class xee extends te.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){const{google:e,googleChartWrapper:n}=this.props;window.removeEventListener("resize",this.onResize),e.visualization.events.removeAllListeners(n),n.getChartType()==="Timeline"&&n.getChart()&&n.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...e){super(...e),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{const{google:n,googleChartWrapper:r}=this.props;n.visualization.events.addListener(r,"select",()=>{const o=r.getChart().getSelection(),a=r.getDataTable();if(o.length===0||o[0].row||!a)return;const u=o[0].column,c=this.getColumnID(a,u);this.state.hiddenColumns.includes(c)?this.setState(d=>({...d,hiddenColumns:[...d.hiddenColumns.filter(p=>p!==c)]})):this.setState(d=>({...d,hiddenColumns:[...d.hiddenColumns,c]}))})},this.applyFormatters=(n,r)=>{const{google:i}=this.props;for(let o of r)switch(o.type){case"ArrowFormat":{new i.visualization.ArrowFormat(o.options).format(n,o.column);break}case"BarFormat":{new i.visualization.BarFormat(o.options).format(n,o.column);break}case"ColorFormat":{const a=new i.visualization.ColorFormat(o.options),{ranges:u}=o;for(let c of u)a.addRange(...c);a.format(n,o.column);break}case"DateFormat":{new i.visualization.DateFormat(o.options).format(n,o.column);break}case"NumberFormat":{new i.visualization.NumberFormat(o.options).format(n,o.column);break}case"PatternFormat":{new i.visualization.PatternFormat(o.options).format(n,o.column);break}}},this.getColumnID=(n,r)=>n.getColumnId(r)||n.getColumnLabel(r),this.draw=async n=>{let{data:r,diffdata:i,rows:o,columns:a,options:u,legend_toggle:c,legendToggle:d,chartType:p,formatters:v,spreadSheetUrl:y,spreadSheetQueryParameters:w}=n;const{google:E,googleChartWrapper:b}=this.props;let I,T=null;if(i){const W=E.visualization.arrayToDataTable(i.old),D=E.visualization.arrayToDataTable(i.new);T=E.visualization[p].prototype.computeDiff(W,D)}r?Array.isArray(r)?I=E.visualization.arrayToDataTable(r):I=new E.visualization.DataTable(r):o&&a?I=E.visualization.arrayToDataTable([a,...o]):y?I=await Eee(E,y,w):I=E.visualization.arrayToDataTable([]);const R=I.getNumberOfColumns(),C=Array(R).fill(0).map((W,D)=>{const X=this.getColumnID(I,D);return this.state.hiddenColumns.includes(X)?{label:I.getColumnLabel(D),type:I.getColumnType(D),calc:()=>null}:D}),k=b.getChart();b.getChartType()==="Timeline"&&k&&k.clearChart(),b.setChartType(p),b.setOptions(u||{});const O=new E.visualization.DataView(I);O.setColumns(C),b.setDataTable(O),b.draw(),this.props.googleChartDashboard!==null&&this.props.googleChartDashboard.draw(I),T&&(b.setDataTable(T),b.draw()),v&&(this.applyFormatters(I,v),b.setDataTable(I),b.draw()),(d===!0||c===!0)&&this.grayOutHiddenColumns({options:u})},this.grayOutHiddenColumns=n=>{let{options:r}=n;const{googleChartWrapper:i}=this.props,o=i.getDataTable();if(!o)return;const a=o.getNumberOfColumns();if(this.state.hiddenColumns.length>0===!1)return;const c=Array.from({length:a-1}).map((d,p)=>{const v=this.getColumnID(o,p+1);return this.state.hiddenColumns.includes(v)?Cee:r&&r.colors?r.colors[p]:bee[p]});i.setOptions({...r,colors:c}),i.draw()},this.onResize=()=>{const{googleChartWrapper:n}=this.props;n.draw()}}}class kee extends te.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){const{google:e,googleChartWrapper:n,googleChartDashboard:r}=this.props;return te.createElement(fU,{render:i=>te.createElement(xee,Object.assign({},i,{google:e,googleChartWrapper:n,googleChartDashboard:r}))})}}class Aee extends te.Component{shouldComponentUpdate(){return!1}listenToEvents(e){let{chartEvents:n,google:r,googleChartWrapper:i}=e;if(n){r.visualization.events.removeAllListeners(i);for(let a of n){var o=this;const{eventName:u,callback:c}=a;r.visualization.events.addListener(i,u,function(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];c({chartWrapper:i,props:o.props,google:r,eventArgs:p})})}}}componentDidMount(){var e;const{google:n,googleChartWrapper:r}=this.props;this.listenToEvents({chartEvents:((e=this.propsFromContext)===null||e===void 0?void 0:e.chartEvents)||null,google:n,googleChartWrapper:r})}render(){return this.props,te.createElement(fU,{render:e=>(this.propsFromContext=e,null)})}constructor(e){super(e),this.propsFromContext=null}}let SD=0;class Ree extends te.Component{componentDidMount(){const{options:e,google:n,chartType:r,chartWrapperParams:i,toolbarItems:o,getChartEditor:a,getChartWrapper:u}=this.props,c={chartType:r,options:e,containerId:this.getGraphID(),...i},d=new n.visualization.ChartWrapper(c);d.setOptions(e||{}),u&&u(d,n);const p=new n.visualization.Dashboard(this.dashboard_ref),v=this.addControls(d,p);o&&n.visualization.drawToolbar(this.toolbar_ref.current,o);let y=null;a&&(y=new n.visualization.ChartEditor,a({chartEditor:y,chartWrapper:d,google:n})),this.setState({googleChartEditor:y,googleChartControls:v,googleChartDashboard:p,googleChartWrapper:d,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper||!this.state.googleChartDashboard||!this.state.googleChartControls)return;const{controls:e}=this.props;if(e)for(let n=0;n<e.length;n+=1){const{controlType:r,options:i,controlWrapperParams:o}=e[n];o&&"state"in o&&this.state.googleChartControls[n].control.setState(o.state),this.state.googleChartControls[n].control.setOptions(i),this.state.googleChartControls[n].control.setControlType(r)}}shouldComponentUpdate(e,n){return this.state.isReady!==n.isReady||e.controls!==this.props.controls}render(){const{width:e,height:n,options:r,style:i}=this.props,o={height:n||r&&r.height,width:e||r&&r.width,...i};return this.props.render?te.createElement("div",{ref:this.dashboard_ref,style:o},te.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):te.createElement("div",{ref:this.dashboard_ref,style:o},this.renderControl(a=>{let{controlProp:u}=a;return u.controlPosition!=="bottom"}),this.renderChart(),this.renderControl(a=>{let{controlProp:u}=a;return u.controlPosition==="bottom"}),this.renderToolBar())}constructor(...e){var n;super(...e),n=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=te.createRef(),this.toolbar_ref=te.createRef(),this.getGraphID=()=>{const{graphID:r,graph_id:i}=this.props;let o;return!r&&!i?this.graphID?o=this.graphID:o=_ee():r&&!i?o=r:i&&!r?o=i:o=r,this.graphID=o,this.graphID},this.getControlID=(r,i)=>{SD+=1;let o;return typeof r>"u"?o="googlechart-control-".concat(i,"-").concat(SD):o=r,o},this.addControls=(r,i)=>{const{google:o,controls:a}=this.props,u=a?a.map((d,p)=>{const{controlID:v,controlType:y,options:w,controlWrapperParams:E}=d,b=this.getControlID(v,p);return{controlProp:d,control:new o.visualization.ControlWrapper({containerId:b,controlType:y,options:w,...E})}}):null;if(!u)return null;i.bind(u.map(d=>{let{control:p}=d;return p}),r);for(let d of u){const{control:p,controlProp:v}=d,{controlEvents:y=[]}=v;for(let w of y){var c=this;const{callback:E,eventName:b}=w;o.visualization.events.removeListener(p,b,E),o.visualization.events.addListener(p,b,function(){for(var I=arguments.length,T=new Array(I),R=0;R<I;R++)T[R]=arguments[R];E({chartWrapper:r,controlWrapper:p,props:c.props,google:o,eventArgs:T})})}}return u},this.renderChart=()=>{const{width:r,height:i,options:o,style:a,className:u,rootProps:c,google:d}=this.props,p={height:i||o&&o.height,width:r||o&&o.width,...a};return te.createElement("div",Object.assign({id:this.getGraphID(),style:p,className:u},c),this.state.isReady&&this.state.googleChartWrapper!==null?te.createElement(te.Fragment,null,te.createElement(kee,{googleChartWrapper:this.state.googleChartWrapper,google:d,googleChartDashboard:this.state.googleChartDashboard}),te.createElement(Aee,{googleChartWrapper:this.state.googleChartWrapper,google:d})):null)},this.renderControl=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i=>!0;return n.state.isReady&&n.state.googleChartControls!==null?te.createElement(te.Fragment,null,n.state.googleChartControls.filter(i=>{let{controlProp:o,control:a}=i;return r({control:a,controlProp:o})}).map(i=>{let{control:o,controlProp:a}=i;return te.createElement("div",{key:o.getContainerId(),id:o.getContainerId()})})):null},this.renderToolBar=()=>this.props.toolbarItems?te.createElement("div",{ref:this.toolbar_ref}):null}}class hU extends te.Component{render(){const{chartLanguage:e,chartPackages:n,chartVersion:r,mapsApiKey:i,loader:o,errorElement:a}=this.props;return te.createElement(Iee,{value:this.props},this.state.loadingStatus==="ready"&&this.state.google!==null?te.createElement(Ree,Object.assign({},this.props,{google:this.state.google})):this.state.loadingStatus==="errored"&&a?a:o,te.createElement(wee,{chartLanguage:e,chartPackages:n,chartVersion:r,mapsApiKey:i,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(e){const{controls:n,toolbarItems:r,getChartEditor:i}=this.props;return e&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!n||e.visualization.ChartWrapper)&&(!i||e.visualization.ChartEditor)&&(!r||e.visualization.drawToolbar)}constructor(...e){super(...e),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=n=>{if(this.props.onLoad&&this.props.onLoad(n),this.isFullyLoaded(n))this.onSuccess(n);else{const r=setInterval(()=>{const i=window.google;this._isMounted?i&&this.isFullyLoaded(i)&&(clearInterval(r),this.onSuccess(i)):clearInterval(r)},1e3)}},this.onSuccess=n=>{this.setState({loadingStatus:"ready",google:n})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}hU.defaultProps=cU;var TD;(function(t){t.annotation="annotation",t.annotationText="annotationText",t.certainty="certainty",t.emphasis="emphasis",t.interval="interval",t.scope="scope",t.style="style",t.tooltip="tooltip",t.domain="domain"})(TD||(TD={}));const Nee=({projects:t})=>{const e=te.useMemo(()=>{if(!t)return[["Project Status","Count"],["Active Projects",0],["Completed Projects",0]];const r=t.length,i=t.filter(a=>!a.completed).length,o=r-i;return r&&(i/r*100).toFixed(1),r&&(o/r*100).toFixed(1),[["Project Status","Count"],[`Active Projects (${i})`,i],[`Completed Projects (${o})`,o]]},[t]),n={title:"",pieHole:.8,colors:["#36A2EB","#FFCE56"],fontName:"Arial",fontSize:14,titleTextStyle:{fontName:"Arial",fontSize:16,bold:!0},legendTextStyle:{fontName:"Arial",fontSize:12},pieSliceText:"label",pieSliceTextStyle:{fontName:"Arial",fontSize:12},tooltip:{trigger:"selection"}};return Z.jsx("div",{children:Z.jsx(hU,{chartType:"PieChart",data:e,options:n,width:"100%",height:"250px"})})},Oee=()=>{const{documents:t,error:e}=V1("projects"),[n,r]=te.useState("Active"),{user:i}=Zo(),o=u=>{r(u)},a=te.useMemo(()=>t?t.filter(u=>{const c=u.completed||!1;switch(n){case"Active":return(u.createdBy.id===i.uid||u.assignedUsersList.some(d=>d.id===i.uid))&&!c;case"development":case"design":case"sales":case"marketing":return u.category===n&&!c;case"Completed":return c;default:return!0}}):[],[t,n,i.uid]);return Z.jsxs("div",{className:"dashboard w-[80%] pl-5 pages-margin",children:[e&&Z.jsx("p",{className:"error",children:e}),t&&Z.jsxs("div",{children:[Z.jsx(W8,{currentFilter:n,changeFilter:o}),Z.jsx(Nee,{projects:t})]}),a&&Z.jsx(z8,{projects:a})]})};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function Pee(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dU(t){var e=Pee(t,"string");return Pu(e)=="symbol"?e:e+""}function Ov(t,e,n){return(e=dU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){Ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dee(t){if(Array.isArray(t))return t}function Lee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,d=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pU(t,e){if(t){if(typeof t=="string")return rx(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rx(t,e):void 0}}function Mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ku(t,e){return Dee(t)||Lee(t,e)||pU(t,e)||Mee()}function Fee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Vu(t,e){if(t==null)return{};var n,r,i=Fee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Uee=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function jee(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,a=o===void 0?null:o,u=t.inputValue,c=t.menuIsOpen,d=t.onChange,p=t.onInputChange,v=t.onMenuClose,y=t.onMenuOpen,w=t.value,E=Vu(t,Uee),b=te.useState(u!==void 0?u:n),I=ku(b,2),T=I[0],R=I[1],C=te.useState(c!==void 0?c:i),k=ku(C,2),O=k[0],W=k[1],D=te.useState(w!==void 0?w:a),X=ku(D,2),V=X[0],se=X[1],Ie=te.useCallback(function(pe,me){typeof d=="function"&&d(pe,me),se(pe)},[d]),G=te.useCallback(function(pe,me){var Se;typeof p=="function"&&(Se=p(pe,me)),R(Se!==void 0?Se:pe)},[p]),ee=te.useCallback(function(){typeof y=="function"&&y(),W(!0)},[y]),j=te.useCallback(function(){typeof v=="function"&&v(),W(!1)},[v]),he=u!==void 0?u:T,Ee=c!==void 0?c:O,re=w!==void 0?w:V;return pt(pt({},E),{},{inputValue:he,menuIsOpen:Ee,onChange:Ie,onInputChange:G,onMenuClose:j,onMenuOpen:ee,value:re})}function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt.apply(null,arguments)}function Bee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dU(r.key),r)}}function Vee(t,e,n){return CD(t.prototype,e),CD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ix(t,e)}function zee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gb(t)}function mU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mU=function(){return!!t})()}function Wee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hee(t,e){if(e&&(Pu(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wee(t)}function qee(t){var e=mU();return function(){var n,r=gb(t);if(e){var i=gb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hee(this,n)}}function Gee(t){if(Array.isArray(t))return rx(t)}function Kee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JA(t){return Gee(t)||Kee(t)||pU(t)||$ee()}function Yee(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Xee(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Qee=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Xee(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Yee(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),fi="-ms-",vb="-moz-",Kt="-webkit-",gU="comm",ZA="rule",eR="decl",Jee="@import",vU="@keyframes",Zee="@layer",ete=Math.abs,z1=String.fromCharCode,tte=Object.assign;function nte(t,e){return Gr(t,0)^45?(((e<<2^Gr(t,0))<<2^Gr(t,1))<<2^Gr(t,2))<<2^Gr(t,3):0}function yU(t){return t.trim()}function rte(t,e){return(t=e.exec(t))?t[0]:t}function $t(t,e,n){return t.replace(e,n)}function ox(t,e){return t.indexOf(e)}function Gr(t,e){return t.charCodeAt(e)|0}function Ty(t,e,n){return t.slice(e,n)}function Ca(t){return t.length}function tR(t){return t.length}function z0(t,e){return e.push(t),t}function ite(t,e){return t.map(e).join("")}var W1=1,Kp=1,wU=0,to=0,er=0,_m="";function H1(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:W1,column:Kp,length:a,return:""}}function wv(t,e){return tte(H1("",null,null,"",null,null,0),t,{length:-t.length},e)}function ote(){return er}function ste(){return er=to>0?Gr(_m,--to):0,Kp--,er===10&&(Kp=1,W1--),er}function _o(){return er=to<wU?Gr(_m,to++):0,Kp++,er===10&&(Kp=1,W1++),er}function La(){return Gr(_m,to)}function g_(){return to}function rw(t,e){return Ty(_m,t,e)}function Iy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _U(t){return W1=Kp=1,wU=Ca(_m=t),to=0,[]}function bU(t){return _m="",t}function v_(t){return yU(rw(to-1,sx(t===91?t+2:t===40?t+1:t)))}function ate(t){for(;(er=La())&&er<33;)_o();return Iy(t)>2||Iy(er)>3?"":" "}function ute(t,e){for(;--e&&_o()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return rw(t,g_()+(e<6&&La()==32&&_o()==32))}function sx(t){for(;_o();)switch(er){case t:return to;case 34:case 39:t!==34&&t!==39&&sx(er);break;case 40:t===41&&sx(t);break;case 92:_o();break}return to}function lte(t,e){for(;_o()&&t+er!==57;)if(t+er===84&&La()===47)break;return"/*"+rw(e,to-1)+"*"+z1(t===47?t:_o())}function cte(t){for(;!Iy(La());)_o();return rw(t,to)}function fte(t){return bU(y_("",null,null,null,[""],t=_U(t),0,[0],t))}function y_(t,e,n,r,i,o,a,u,c){for(var d=0,p=0,v=a,y=0,w=0,E=0,b=1,I=1,T=1,R=0,C="",k=i,O=o,W=r,D=C;I;)switch(E=R,R=_o()){case 40:if(E!=108&&Gr(D,v-1)==58){ox(D+=$t(v_(R),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:D+=v_(R);break;case 9:case 10:case 13:case 32:D+=ate(E);break;case 92:D+=ute(g_()-1,7);continue;case 47:switch(La()){case 42:case 47:z0(hte(lte(_o(),g_()),e,n),c);break;default:D+="/"}break;case 123*b:u[d++]=Ca(D)*T;case 125*b:case 59:case 0:switch(R){case 0:case 125:I=0;case 59+p:T==-1&&(D=$t(D,/\f/g,"")),w>0&&Ca(D)-v&&z0(w>32?kD(D+";",r,n,v-1):kD($t(D," ","")+";",r,n,v-2),c);break;case 59:D+=";";default:if(z0(W=xD(D,e,n,d,p,i,u,C,k=[],O=[],v),o),R===123)if(p===0)y_(D,e,W,W,k,o,v,u,O);else switch(y===99&&Gr(D,3)===110?100:y){case 100:case 108:case 109:case 115:y_(t,W,W,r&&z0(xD(t,W,W,0,0,i,u,C,i,k=[],v),O),i,O,v,u,r?k:O);break;default:y_(D,W,W,W,[""],O,0,u,O)}}d=p=w=0,b=T=1,C=D="",v=a;break;case 58:v=1+Ca(D),w=E;default:if(b<1){if(R==123)--b;else if(R==125&&b++==0&&ste()==125)continue}switch(D+=z1(R),R*b){case 38:T=p>0?1:(D+="\f",-1);break;case 44:u[d++]=(Ca(D)-1)*T,T=1;break;case 64:La()===45&&(D+=v_(_o())),y=La(),p=v=Ca(C=D+=cte(g_())),R++;break;case 45:E===45&&Ca(D)==2&&(b=0)}}return o}function xD(t,e,n,r,i,o,a,u,c,d,p){for(var v=i-1,y=i===0?o:[""],w=tR(y),E=0,b=0,I=0;E<r;++E)for(var T=0,R=Ty(t,v+1,v=ete(b=a[E])),C=t;T<w;++T)(C=yU(b>0?y[T]+" "+R:$t(R,/&\f/g,y[T])))&&(c[I++]=C);return H1(t,e,n,i===0?ZA:u,c,d,p)}function hte(t,e,n){return H1(t,e,n,gU,z1(ote()),Ty(t,2,-2),0)}function kD(t,e,n,r){return H1(t,e,n,eR,Ty(t,0,r),Ty(t,r+1,-1),r)}function gp(t,e){for(var n="",r=tR(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function dte(t,e,n,r){switch(t.type){case Zee:if(t.children.length)break;case Jee:case eR:return t.return=t.return||t.value;case gU:return"";case vU:return t.return=t.value+"{"+gp(t.children,r)+"}";case ZA:t.value=t.props.join(",")}return Ca(n=gp(t.children,r))?t.return=t.value+"{"+n+"}":""}function pte(t){var e=tR(t);return function(n,r,i,o){for(var a="",u=0;u<e;u++)a+=t[u](n,r,i,o)||"";return a}}function mte(t){return function(e){e.root||(e=e.return)&&t(e)}}function gte(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var vte=function(e,n,r){for(var i=0,o=0;i=o,o=La(),i===38&&o===12&&(n[r]=1),!Iy(o);)_o();return rw(e,to)},yte=function(e,n){var r=-1,i=44;do switch(Iy(i)){case 0:i===38&&La()===12&&(n[r]=1),e[r]+=vte(to-1,n,r);break;case 2:e[r]+=v_(i);break;case 4:if(i===44){e[++r]=La()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=z1(i)}while(i=_o());return e},wte=function(e,n){return bU(yte(_U(e),n))},AD=new WeakMap,_te=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!AD.get(r))&&!i){AD.set(e,!0);for(var o=[],a=wte(n,o),u=r.props,c=0,d=0;c<a.length;c++)for(var p=0;p<u.length;p++,d++)e.props[d]=o[c]?a[c].replace(/&\f/g,u[p]):u[p]+" "+a[c]}}},bte=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function EU(t,e){switch(nte(t,e)){case 5103:return Kt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Kt+t+vb+t+fi+t+t;case 6828:case 4268:return Kt+t+fi+t+t;case 6165:return Kt+t+fi+"flex-"+t+t;case 5187:return Kt+t+$t(t,/(\w+).+(:[^]+)/,Kt+"box-$1$2"+fi+"flex-$1$2")+t;case 5443:return Kt+t+fi+"flex-item-"+$t(t,/flex-|-self/,"")+t;case 4675:return Kt+t+fi+"flex-line-pack"+$t(t,/align-content|flex-|-self/,"")+t;case 5548:return Kt+t+fi+$t(t,"shrink","negative")+t;case 5292:return Kt+t+fi+$t(t,"basis","preferred-size")+t;case 6060:return Kt+"box-"+$t(t,"-grow","")+Kt+t+fi+$t(t,"grow","positive")+t;case 4554:return Kt+$t(t,/([^-])(transform)/g,"$1"+Kt+"$2")+t;case 6187:return $t($t($t(t,/(zoom-|grab)/,Kt+"$1"),/(image-set)/,Kt+"$1"),t,"")+t;case 5495:case 3959:return $t(t,/(image-set\([^]*)/,Kt+"$1$`$1");case 4968:return $t($t(t,/(.+:)(flex-)?(.*)/,Kt+"box-pack:$3"+fi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kt+t+t;case 4095:case 3583:case 4068:case 2532:return $t(t,/(.+)-inline(.+)/,Kt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ca(t)-1-e>6)switch(Gr(t,e+1)){case 109:if(Gr(t,e+4)!==45)break;case 102:return $t(t,/(.+:)(.+)-([^]+)/,"$1"+Kt+"$2-$3$1"+vb+(Gr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ox(t,"stretch")?EU($t(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Gr(t,e+1)!==115)break;case 6444:switch(Gr(t,Ca(t)-3-(~ox(t,"!important")&&10))){case 107:return $t(t,":",":"+Kt)+t;case 101:return $t(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kt+(Gr(t,14)===45?"inline-":"")+"box$3$1"+Kt+"$2$3$1"+fi+"$2box$3")+t}break;case 5936:switch(Gr(t,e+11)){case 114:return Kt+t+fi+$t(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Kt+t+fi+$t(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Kt+t+fi+$t(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Kt+t+fi+t+t}return t}var Ete=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case eR:e.return=EU(e.value,e.length);break;case vU:return gp([wv(e,{value:$t(e.value,"@","@"+Kt)})],i);case ZA:if(e.length)return ite(e.props,function(o){switch(rte(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gp([wv(e,{props:[$t(o,/:(read-\w+)/,":"+vb+"$1")]})],i);case"::placeholder":return gp([wv(e,{props:[$t(o,/:(plac\w+)/,":"+Kt+"input-$1")]}),wv(e,{props:[$t(o,/:(plac\w+)/,":"+vb+"$1")]}),wv(e,{props:[$t(o,/:(plac\w+)/,fi+"input-$1")]})],i)}return""})}},Ste=[Ete],Tte=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var I=b.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||Ste,o={},a,u=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var I=b.getAttribute("data-emotion").split(" "),T=1;T<I.length;T++)o[I[T]]=!0;u.push(b)});var c,d=[_te,bte];{var p,v=[dte,mte(function(b){p.insert(b)})],y=pte(d.concat(i,v)),w=function(I){return gp(fte(I),y)};c=function(I,T,R,C){p=R,w(I?I+"{"+T.styles+"}":T.styles),C&&(E.inserted[T.name]=!0)}}var E={key:n,sheet:new Qee({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:c};return E.sheet.hydrate(u),E},fT={exports:{}},Yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD;function Ite(){if(RD)return Yt;RD=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,E=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,I=t?Symbol.for("react.fundamental"):60117,T=t?Symbol.for("react.responder"):60118,R=t?Symbol.for("react.scope"):60119;function C(O){if(typeof O=="object"&&O!==null){var W=O.$$typeof;switch(W){case e:switch(O=O.type,O){case c:case d:case r:case o:case i:case v:return O;default:switch(O=O&&O.$$typeof,O){case u:case p:case E:case w:case a:return O;default:return W}}case n:return W}}}function k(O){return C(O)===d}return Yt.AsyncMode=c,Yt.ConcurrentMode=d,Yt.ContextConsumer=u,Yt.ContextProvider=a,Yt.Element=e,Yt.ForwardRef=p,Yt.Fragment=r,Yt.Lazy=E,Yt.Memo=w,Yt.Portal=n,Yt.Profiler=o,Yt.StrictMode=i,Yt.Suspense=v,Yt.isAsyncMode=function(O){return k(O)||C(O)===c},Yt.isConcurrentMode=k,Yt.isContextConsumer=function(O){return C(O)===u},Yt.isContextProvider=function(O){return C(O)===a},Yt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Yt.isForwardRef=function(O){return C(O)===p},Yt.isFragment=function(O){return C(O)===r},Yt.isLazy=function(O){return C(O)===E},Yt.isMemo=function(O){return C(O)===w},Yt.isPortal=function(O){return C(O)===n},Yt.isProfiler=function(O){return C(O)===o},Yt.isStrictMode=function(O){return C(O)===i},Yt.isSuspense=function(O){return C(O)===v},Yt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===d||O===o||O===i||O===v||O===y||typeof O=="object"&&O!==null&&(O.$$typeof===E||O.$$typeof===w||O.$$typeof===a||O.$$typeof===u||O.$$typeof===p||O.$$typeof===I||O.$$typeof===T||O.$$typeof===R||O.$$typeof===b)},Yt.typeOf=C,Yt}var ND;function Cte(){return ND||(ND=1,fT.exports=Ite()),fT.exports}var hT,OD;function xte(){if(OD)return hT;OD=1;var t=Cte(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function a(E){return t.isMemo(E)?i:o[E.$$typeof]||e}var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,y=Object.prototype;function w(E,b,I){if(typeof b!="string"){if(y){var T=v(b);T&&T!==y&&w(E,T,I)}var R=c(b);d&&(R=R.concat(d(b)));for(var C=a(E),k=a(b),O=0;O<R.length;++O){var W=R[O];if(!n[W]&&!(I&&I[W])&&!(k&&k[W])&&!(C&&C[W])){var D=p(b,W);try{u(E,W,D)}catch{}}}}return E}return hT=w,hT}xte();var kte=!0;function Ate(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var SU=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||kte===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Rte=function(e,n,r){SU(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Nte(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ote={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pte=/[A-Z]|^ms/g,Dte=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TU=function(e){return e.charCodeAt(1)===45},PD=function(e){return e!=null&&typeof e!="boolean"},dT=gte(function(t){return TU(t)?t:t.replace(Pte,"-$&").toLowerCase()}),DD=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Dte,function(r,i,o){return xa={name:i,styles:o,next:xa},i})}return Ote[e]!==1&&!TU(e)&&typeof n=="number"&&n!==0?n+"px":n};function Cy(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return xa={name:i.name,styles:i.styles,next:xa},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)xa={name:a.name,styles:a.styles,next:xa},a=a.next;var u=o.styles+";";return u}return Lte(t,e,n)}case"function":{if(t!==void 0){var c=xa,d=n(t);return xa=c,Cy(t,e,d)}break}}var p=n;return p}function Lte(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Cy(t,e,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var u=a;PD(u)&&(r+=dT(o)+":"+DD(o,u)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var c=0;c<a.length;c++)PD(a[c])&&(r+=dT(o)+":"+DD(o,a[c])+";");else{var d=Cy(t,e,a);switch(o){case"animation":case"animationName":{r+=dT(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var LD=/label:\s*([^\s;{]+)\s*(;|$)/g,xa;function IU(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";xa=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Cy(n,e,o);else{var a=o;i+=a[0]}for(var u=1;u<t.length;u++)if(i+=Cy(n,e,t[u]),r){var c=o;i+=c[u]}LD.lastIndex=0;for(var d="",p;(p=LD.exec(i))!==null;)d+="-"+p[1];var v=Nte(i)+d;return{name:v,styles:i,next:xa}}var Mte=function(e){return e()},Fte=GI.useInsertionEffect?GI.useInsertionEffect:!1,Ute=Fte||Mte,CU=te.createContext(typeof HTMLElement<"u"?Tte({key:"css"}):null);CU.Provider;var jte=function(e){return te.forwardRef(function(n,r){var i=te.useContext(CU);return e(n,i,r)})},Bte=te.createContext({}),nR={}.hasOwnProperty,ax="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Vte=function(e,n){var r={};for(var i in n)nR.call(n,i)&&(r[i]=n[i]);return r[ax]=e,r},zte=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return SU(n,r,i),Ute(function(){return Rte(n,r,i)}),null},Wte=jte(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[ax],o=[r],a="";typeof t.className=="string"?a=Ate(e.registered,o,t.className):t.className!=null&&(a=t.className+" ");var u=IU(o,void 0,te.useContext(Bte));a+=e.key+"-"+u.name;var c={};for(var d in t)nR.call(t,d)&&d!=="css"&&d!==ax&&(c[d]=t[d]);return c.className=a,n&&(c.ref=n),te.createElement(te.Fragment,null,te.createElement(zte,{cache:e,serialized:u,isStringTag:typeof i=="string"}),te.createElement(i,c))}),Hte=Wte,dt=function(e,n){var r=arguments;if(n==null||!nR.call(n,"css"))return te.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=Hte,o[1]=Vte(e,n);for(var a=2;a<i;a++)o[a]=r[a];return te.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(dt);function rR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return IU(e)}function qte(){var t=rR.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Gte(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Kte=Math.min,$te=Math.max,yb=Math.round,W0=Math.floor,wb=t=>({x:t,y:t});function Yte(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function q1(){return typeof window<"u"}function xU(t){return AU(t)?(t.nodeName||"").toLowerCase():"#document"}function Du(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kU(t){var e;return(e=(AU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AU(t){return q1()?t instanceof Node||t instanceof Du(t).Node:!1}function Xte(t){return q1()?t instanceof Element||t instanceof Du(t).Element:!1}function iR(t){return q1()?t instanceof HTMLElement||t instanceof Du(t).HTMLElement:!1}function MD(t){return!q1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Du(t).ShadowRoot}function RU(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=oR(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Qte(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jte(t){return["html","body","#document"].includes(xU(t))}function oR(t){return Du(t).getComputedStyle(t)}function Zte(t){if(xU(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MD(t)&&t.host||kU(t);return MD(e)?e.host:e}function NU(t){const e=Zte(t);return Jte(e)?t.ownerDocument?t.ownerDocument.body:t.body:iR(e)&&RU(e)?e:NU(e)}function _b(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=NU(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=Du(i);if(o){const u=ux(a);return e.concat(a,a.visualViewport||[],RU(i)?i:[],u&&n?_b(u):[])}return e.concat(i,_b(i,[],n))}function ux(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ene(t){const e=oR(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=iR(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,u=yb(n)!==o||yb(r)!==a;return u&&(n=o,r=a),{width:n,height:r,$:u}}function sR(t){return Xte(t)?t:t.contextElement}function FD(t){const e=sR(t);if(!iR(e))return wb(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=ene(e);let a=(o?yb(n.width):n.width)/r,u=(o?yb(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const tne=wb(0);function nne(t){const e=Du(t);return!Qte()||!e.visualViewport?tne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rne(t,e,n){return!1}function UD(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),o=sR(t);let a=wb(1);e&&(a=FD(t));const u=rne()?nne(o):wb(0);let c=(i.left+u.x)/a.x,d=(i.top+u.y)/a.y,p=i.width/a.x,v=i.height/a.y;if(o){const y=Du(o),w=r;let E=y,b=ux(E);for(;b&&r&&w!==E;){const I=FD(b),T=b.getBoundingClientRect(),R=oR(b),C=T.left+(b.clientLeft+parseFloat(R.paddingLeft))*I.x,k=T.top+(b.clientTop+parseFloat(R.paddingTop))*I.y;c*=I.x,d*=I.y,p*=I.x,v*=I.y,c+=C,d+=k,E=Du(b),b=ux(E)}}return Yte({width:p,height:v,x:c,y:d})}function ine(t,e){let n=null,r;const i=kU(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const{left:d,top:p,width:v,height:y}=t.getBoundingClientRect();if(u||e(),!v||!y)return;const w=W0(p),E=W0(i.clientWidth-(d+v)),b=W0(i.clientHeight-(p+y)),I=W0(d),R={rootMargin:-w+"px "+-E+"px "+-b+"px "+-I+"px",threshold:$te(0,Kte(1,c))||1};let C=!0;function k(O){const W=O[0].intersectionRatio;if(W!==c){if(!C)return a();W?a(!1,W):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(k,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,R)}n.observe(t)}return a(!0),o}function one(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=sR(t),p=i||o?[...d?_b(d):[],..._b(e)]:[];p.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});const v=d&&u?ine(d,n):null;let y=-1,w=null;a&&(w=new ResizeObserver(T=>{let[R]=T;R&&R.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(e)})),n()}),d&&!c&&w.observe(d),w.observe(e));let E,b=c?UD(t):null;c&&I();function I(){const T=UD(t);b&&(T.x!==b.x||T.y!==b.y||T.width!==b.width||T.height!==b.height)&&n(),b=T,E=requestAnimationFrame(I)}return n(),()=>{var T;p.forEach(R=>{i&&R.removeEventListener("scroll",n),o&&R.removeEventListener("resize",n)}),v==null||v(),(T=w)==null||T.disconnect(),w=null,c&&cancelAnimationFrame(E)}}var lx=te.useLayoutEffect,sne=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],bb=function(){};function ane(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function une(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&o.push("".concat(ane(t,a)));return o.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var jD=function(e){return vne(e)?e.filter(Boolean):Pu(e)==="object"&&e!==null?[e]:[]},OU=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Vu(e,sne);return pt({},n)},jn=function(e,n,r){var i=e.cx,o=e.getStyles,a=e.getClassNames,u=e.className;return{css:o(n,e),className:i(r??{},a(n,e),u)}};function G1(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function lne(t){return G1(t)?window.innerHeight:t.clientHeight}function PU(t){return G1(t)?window.pageYOffset:t.scrollTop}function Eb(t,e){if(G1(t)){window.scrollTo(0,e);return}t.scrollTop=e}function cne(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function fne(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function H0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:bb,i=PU(t),o=e-i,a=10,u=0;function c(){u+=a;var d=fne(u,i,o,n);Eb(t,d),u<n?window.requestAnimationFrame(c):r(t)}c()}function BD(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Eb(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Eb(t,Math.max(e.offsetTop-i,0))}function hne(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function VD(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function dne(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var DU=!1,pne={get passive(){return DU=!0}},q0=typeof window<"u"?window:{};q0.addEventListener&&q0.removeEventListener&&(q0.addEventListener("p",bb,pne),q0.removeEventListener("p",bb,!1));var mne=DU;function gne(t){return t!=null}function vne(t){return Array.isArray(t)}function G0(t,e,n){return t?e:n}var yne=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(e).filter(function(a){var u=ku(a,1),c=u[0];return!r.includes(c)});return o.reduce(function(a,u){var c=ku(u,2),d=c[0],p=c[1];return a[d]=p,a},{})},wne=["children","innerProps"],_ne=["children","innerProps"];function bne(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,a=t.isFixedPosition,u=t.controlHeight,c=cne(n),d={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return d;var p=c.getBoundingClientRect(),v=p.height,y=n.getBoundingClientRect(),w=y.bottom,E=y.height,b=y.top,I=n.offsetParent.getBoundingClientRect(),T=I.top,R=a?window.innerHeight:lne(c),C=PU(c),k=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),W=T-O,D=R-b,X=W+C,V=v-C-b,se=w-R+C+k,Ie=C+b-O,G=160;switch(i){case"auto":case"bottom":if(D>=E)return{placement:"bottom",maxHeight:e};if(V>=E&&!a)return o&&H0(c,se,G),{placement:"bottom",maxHeight:e};if(!a&&V>=r||a&&D>=r){o&&H0(c,se,G);var ee=a?D-k:V-k;return{placement:"bottom",maxHeight:ee}}if(i==="auto"||a){var j=e,he=a?W:X;return he>=r&&(j=Math.min(he-k-u,e)),{placement:"top",maxHeight:j}}if(i==="bottom")return o&&Eb(c,se),{placement:"bottom",maxHeight:e};break;case"top":if(W>=E)return{placement:"top",maxHeight:e};if(X>=E&&!a)return o&&H0(c,Ie,G),{placement:"top",maxHeight:e};if(!a&&X>=r||a&&W>=r){var Ee=e;return(!a&&X>=r||a&&W>=r)&&(Ee=a?W-O:X-O),o&&H0(c,Ie,G),{placement:"top",maxHeight:Ee}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function Ene(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var LU=function(e){return e==="auto"?"bottom":e},Sne=function(e,n){var r,i=e.placement,o=e.theme,a=o.borderRadius,u=o.spacing,c=o.colors;return pt((r={label:"menu"},Ov(r,Ene(i),"100%"),Ov(r,"position","absolute"),Ov(r,"width","100%"),Ov(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},MU=te.createContext(null),Tne=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,a=e.menuPosition,u=e.menuShouldScrollIntoView,c=e.theme,d=te.useContext(MU)||{},p=d.setPortalPlacement,v=te.useRef(null),y=te.useState(i),w=ku(y,2),E=w[0],b=w[1],I=te.useState(null),T=ku(I,2),R=T[0],C=T[1],k=c.spacing.controlHeight;return lx(function(){var O=v.current;if(O){var W=a==="fixed",D=u&&!W,X=bne({maxHeight:i,menuEl:O,minHeight:r,placement:o,shouldScroll:D,isFixedPosition:W,controlHeight:k});b(X.maxHeight),C(X.placement),p==null||p(X.placement)}},[i,o,a,u,r,p,k]),n({ref:v,placerProps:pt(pt({},e),{},{placement:R||LU(o),maxHeight:E})})},Ine=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return dt("div",gt({},jn(e,"menu",{menu:!0}),{ref:r},i),n)},Cne=Ine,xne=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return pt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},kne=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,o=e.isMulti;return dt("div",gt({},jn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},FU=function(e,n){var r=e.theme,i=r.spacing.baseUnit,o=r.colors;return pt({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Ane=FU,Rne=FU,Nne=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,o=Vu(e,wne);return dt("div",gt({},jn(pt(pt({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},One=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,o=Vu(e,_ne);return dt("div",gt({},jn(pt(pt({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},Pne=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Dne=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,a=e.menuPlacement,u=e.menuPosition,c=te.useRef(null),d=te.useRef(null),p=te.useState(LU(a)),v=ku(p,2),y=v[0],w=v[1],E=te.useMemo(function(){return{setPortalPlacement:w}},[]),b=te.useState(null),I=ku(b,2),T=I[0],R=I[1],C=te.useCallback(function(){if(i){var D=hne(i),X=u==="fixed"?0:window.pageYOffset,V=D[y]+X;(V!==(T==null?void 0:T.offset)||D.left!==(T==null?void 0:T.rect.left)||D.width!==(T==null?void 0:T.rect.width))&&R({offset:V,rect:D})}},[i,u,y,T==null?void 0:T.offset,T==null?void 0:T.rect.left,T==null?void 0:T.rect.width]);lx(function(){C()},[C]);var k=te.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&c.current&&(d.current=one(i,c.current,C,{elementResize:"ResizeObserver"in window}))},[i,C]);lx(function(){k()},[k]);var O=te.useCallback(function(D){c.current=D,k()},[k]);if(!n&&u!=="fixed"||!T)return null;var W=dt("div",gt({ref:O},jn(pt(pt({},e),{},{offset:T.offset,position:u,rect:T.rect}),"menuPortal",{"menu-portal":!0}),o),r);return dt(MU.Provider,{value:E},n?jB.createPortal(W,n):W)},Lne=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Mne=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,o=e.isRtl;return dt("div",gt({},jn(e,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},Fne=function(e,n){var r=e.theme.spacing,i=e.isMulti,o=e.hasValue,a=e.selectProps.controlShouldRenderValue;return pt({alignItems:"center",display:i&&o&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Une=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,o=e.hasValue;return dt("div",gt({},jn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},jne=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Bne=function(e){var n=e.children,r=e.innerProps;return dt("div",gt({},jn(e,"indicatorsContainer",{indicators:!0}),r),n)},zD,Vne=["size"],zne=["innerProps","isRtl","size"],Wne={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},UU=function(e){var n=e.size,r=Vu(e,Vne);return dt("svg",gt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Wne},r))},aR=function(e){return dt(UU,gt({size:20},e),dt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},jU=function(e){return dt(UU,gt({size:20},e),dt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},BU=function(e,n){var r=e.isFocused,i=e.theme,o=i.spacing.baseUnit,a=i.colors;return pt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:o*2,":hover":{color:r?a.neutral80:a.neutral40}})},Hne=BU,qne=function(e){var n=e.children,r=e.innerProps;return dt("div",gt({},jn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||dt(jU,null))},Gne=BU,Kne=function(e){var n=e.children,r=e.innerProps;return dt("div",gt({},jn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||dt(aR,null))},$ne=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing.baseUnit,a=i.colors;return pt({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2})},Yne=function(e){var n=e.innerProps;return dt("span",gt({},n,jn(e,"indicatorSeparator",{"indicator-separator":!0})))},Xne=qte(zD||(zD=Gte([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Qne=function(e,n){var r=e.isFocused,i=e.size,o=e.theme,a=o.colors,u=o.spacing.baseUnit;return pt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:u*2})},pT=function(e){var n=e.delay,r=e.offset;return dt("span",{css:rR({animation:"".concat(Xne," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Jne=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,o=i===void 0?4:i,a=Vu(e,zne);return dt("div",gt({},jn(pt(pt({},a),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),dt(pT,{delay:0,offset:r}),dt(pT,{delay:160,offset:!0}),dt(pT,{delay:320,offset:!r}))},Zne=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.theme,a=o.colors,u=o.borderRadius,c=o.spacing;return pt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},ere=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.innerRef,a=e.innerProps,u=e.menuIsOpen;return dt("div",gt({ref:o},jn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":u}),a,{"aria-disabled":r||void 0}),n)},tre=ere,nre=["data"],rre=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},ire=function(e){var n=e.children,r=e.cx,i=e.getStyles,o=e.getClassNames,a=e.Heading,u=e.headingProps,c=e.innerProps,d=e.label,p=e.theme,v=e.selectProps;return dt("div",gt({},jn(e,"group",{group:!0}),c),dt(a,gt({},u,{selectProps:v,theme:p,getStyles:i,getClassNames:o,cx:r}),d),dt("div",null,n))},ore=function(e,n){var r=e.theme,i=r.colors,o=r.spacing;return pt({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},sre=function(e){var n=OU(e);n.data;var r=Vu(n,nre);return dt("div",gt({},jn(e,"groupHeading",{"group-heading":!0}),r))},are=ire,ure=["innerRef","isDisabled","isHidden","inputClassName"],lre=function(e,n){var r=e.isDisabled,i=e.value,o=e.theme,a=o.spacing,u=o.colors;return pt(pt({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},cre),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:u.neutral80})},VU={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},cre={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":pt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},VU)},fre=function(e){return pt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},VU)},hre=function(e){var n=e.cx,r=e.value,i=OU(e),o=i.innerRef,a=i.isDisabled,u=i.isHidden,c=i.inputClassName,d=Vu(i,ure);return dt("div",gt({},jn(e,"input",{"input-container":!0}),{"data-value":r||""}),dt("input",gt({className:n({input:!0},c),ref:o,style:fre(u),disabled:a},d)))},dre=hre,pre=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,a=r.colors;return pt({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},mre=function(e,n){var r=e.theme,i=r.borderRadius,o=r.colors,a=e.cropWithEllipsis;return pt({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},gre=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,a=r.colors,u=e.isFocused;return pt({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:u?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},zU=function(e){var n=e.children,r=e.innerProps;return dt("div",r,n)},vre=zU,yre=zU;function wre(t){var e=t.children,n=t.innerProps;return dt("div",gt({role:"button"},n),e||dt(aR,{size:14}))}var _re=function(e){var n=e.children,r=e.components,i=e.data,o=e.innerProps,a=e.isDisabled,u=e.removeProps,c=e.selectProps,d=r.Container,p=r.Label,v=r.Remove;return dt(d,{data:i,innerProps:pt(pt({},jn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),o),selectProps:c},dt(p,{data:i,innerProps:pt({},jn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),dt(v,{data:i,innerProps:pt(pt({},jn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:c}))},bre=_re,Ere=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.isSelected,a=e.theme,u=a.spacing,c=a.colors;return pt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?c.primary:i?c.primary25:"transparent",color:r?c.neutral20:o?c.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?c.primary:c.primary50}})},Sre=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.isSelected,a=e.innerRef,u=e.innerProps;return dt("div",gt({},jn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:a,"aria-disabled":r},u),n)},Tre=Sre,Ire=function(e,n){var r=e.theme,i=r.spacing,o=r.colors;return pt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Cre=function(e){var n=e.children,r=e.innerProps;return dt("div",gt({},jn(e,"placeholder",{placeholder:!0}),r),n)},xre=Cre,kre=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing,a=i.colors;return pt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Are=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return dt("div",gt({},jn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},Rre=Are,Nre={ClearIndicator:Kne,Control:tre,DropdownIndicator:qne,DownChevron:jU,CrossIcon:aR,Group:are,GroupHeading:sre,IndicatorsContainer:Bne,IndicatorSeparator:Yne,Input:dre,LoadingIndicator:Jne,Menu:Cne,MenuList:kne,MenuPortal:Dne,LoadingMessage:One,NoOptionsMessage:Nne,MultiValue:bre,MultiValueContainer:vre,MultiValueLabel:yre,MultiValueRemove:wre,Option:Tre,Placeholder:xre,SelectContainer:Mne,SingleValue:Rre,ValueContainer:Une},Ore=function(e){return pt(pt({},Nre),e.components)},WD=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Pre(t,e){return!!(t===e||WD(t)&&WD(e))}function Dre(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Pre(t[n],e[n]))return!1;return!0}function Lre(t,e){e===void 0&&(e=Dre);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var Mre={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Fre=function(e){return dt("span",gt({css:Mre},e))},HD=Fre,Ure={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,o=e.context,a=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,o=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,o=e.label,a=o===void 0?"":o,u=e.selectValue,c=e.isDisabled,d=e.isSelected,p=e.isAppleDevice,v=function(b,I){return b&&b.length?"".concat(b.indexOf(I)+1," of ").concat(b.length):""};if(n==="value"&&u)return"value ".concat(a," focused, ").concat(v(u,r),".");if(n==="menu"&&p){var y=c?" disabled":"",w="".concat(d?" selected":"").concat(y);return"".concat(a).concat(w,", ").concat(v(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},jre=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,a=e.isFocused,u=e.selectValue,c=e.selectProps,d=e.id,p=e.isAppleDevice,v=c.ariaLiveMessages,y=c.getOptionLabel,w=c.inputValue,E=c.isMulti,b=c.isOptionDisabled,I=c.isSearchable,T=c.menuIsOpen,R=c.options,C=c.screenReaderStatus,k=c.tabSelectsValue,O=c.isLoading,W=c["aria-label"],D=c["aria-live"],X=te.useMemo(function(){return pt(pt({},Ure),v||{})},[v]),V=te.useMemo(function(){var he="";if(n&&X.onChange){var Ee=n.option,re=n.options,pe=n.removedValue,me=n.removedValues,Se=n.value,K=function(M){return Array.isArray(M)?null:M},H=pe||Ee||K(Se),ae=H?y(H):"",de=re||me||void 0,_e=de?de.map(y):[],le=pt({isDisabled:H&&b(H,u),label:ae,labels:_e},n);he=X.onChange(le)}return he},[n,X,b,u,y]),se=te.useMemo(function(){var he="",Ee=r||i,re=!!(r&&u&&u.includes(r));if(Ee&&X.onFocus){var pe={focused:Ee,label:y(Ee),isDisabled:b(Ee,u),isSelected:re,options:o,context:Ee===r?"menu":"value",selectValue:u,isAppleDevice:p};he=X.onFocus(pe)}return he},[r,i,y,b,X,o,u,p]),Ie=te.useMemo(function(){var he="";if(T&&R.length&&!O&&X.onFilter){var Ee=C({count:o.length});he=X.onFilter({inputValue:w,resultsMessage:Ee})}return he},[o,w,T,X,R,C,O]),G=(n==null?void 0:n.action)==="initial-input-focus",ee=te.useMemo(function(){var he="";if(X.guidance){var Ee=i?"value":T?"menu":"input";he=X.guidance({"aria-label":W,context:Ee,isDisabled:r&&b(r,u),isMulti:E,isSearchable:I,tabSelectsValue:k,isInitialFocus:G})}return he},[W,r,i,E,b,I,T,X,u,k,G]),j=dt(te.Fragment,null,dt("span",{id:"aria-selection"},V),dt("span",{id:"aria-focused"},se),dt("span",{id:"aria-results"},Ie),dt("span",{id:"aria-guidance"},ee));return dt(te.Fragment,null,dt(HD,{id:d},G&&j),dt(HD,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!G&&j))},Bre=jre,cx=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Vre=new RegExp("["+cx.map(function(t){return t.letters}).join("")+"]","g"),WU={};for(var mT=0;mT<cx.length;mT++)for(var gT=cx[mT],vT=0;vT<gT.letters.length;vT++)WU[gT.letters[vT]]=gT.base;var HU=function(e){return e.replace(Vre,function(n){return WU[n]})},zre=Lre(HU),qD=function(e){return e.replace(/^\s+|\s+$/g,"")},Wre=function(e){return"".concat(e.label," ").concat(e.value)},Hre=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=pt({ignoreCase:!0,ignoreAccents:!0,stringify:Wre,trim:!0,matchFrom:"any"},e),o=i.ignoreCase,a=i.ignoreAccents,u=i.stringify,c=i.trim,d=i.matchFrom,p=c?qD(r):r,v=c?qD(u(n)):u(n);return o&&(p=p.toLowerCase(),v=v.toLowerCase()),a&&(p=zre(p),v=HU(v)),d==="start"?v.substr(0,p.length)===p:v.indexOf(p)>-1}},qre=["innerRef"];function Gre(t){var e=t.innerRef,n=Vu(t,qre),r=yne(n,"onExited","in","enter","exit","appear");return dt("input",gt({ref:e},r,{css:rR({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Kre=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function $re(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,a=te.useRef(!1),u=te.useRef(!1),c=te.useRef(0),d=te.useRef(null),p=te.useCallback(function(I,T){if(d.current!==null){var R=d.current,C=R.scrollTop,k=R.scrollHeight,O=R.clientHeight,W=d.current,D=T>0,X=k-O-C,V=!1;X>T&&a.current&&(r&&r(I),a.current=!1),D&&u.current&&(o&&o(I),u.current=!1),D&&T>X?(n&&!a.current&&n(I),W.scrollTop=k,V=!0,a.current=!0):!D&&-T>C&&(i&&!u.current&&i(I),W.scrollTop=0,V=!0,u.current=!0),V&&Kre(I)}},[n,r,i,o]),v=te.useCallback(function(I){p(I,I.deltaY)},[p]),y=te.useCallback(function(I){c.current=I.changedTouches[0].clientY},[]),w=te.useCallback(function(I){var T=c.current-I.changedTouches[0].clientY;p(I,T)},[p]),E=te.useCallback(function(I){if(I){var T=mne?{passive:!1}:!1;I.addEventListener("wheel",v,T),I.addEventListener("touchstart",y,T),I.addEventListener("touchmove",w,T)}},[w,y,v]),b=te.useCallback(function(I){I&&(I.removeEventListener("wheel",v,!1),I.removeEventListener("touchstart",y,!1),I.removeEventListener("touchmove",w,!1))},[w,y,v]);return te.useEffect(function(){if(e){var I=d.current;return E(I),function(){b(I)}}},[e,E,b]),function(I){d.current=I}}var GD=["boxSizing","height","overflow","paddingRight","position"],KD={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function $D(t){t.cancelable&&t.preventDefault()}function YD(t){t.stopPropagation()}function XD(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function QD(){return"ontouchstart"in window||navigator.maxTouchPoints}var JD=!!(typeof window<"u"&&window.document&&window.document.createElement),_v=0,ep={capture:!1,passive:!1};function Yre(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=te.useRef({}),o=te.useRef(null),a=te.useCallback(function(c){if(JD){var d=document.body,p=d&&d.style;if(r&&GD.forEach(function(E){var b=p&&p[E];i.current[E]=b}),r&&_v<1){var v=parseInt(i.current.paddingRight,10)||0,y=document.body?document.body.clientWidth:0,w=window.innerWidth-y+v||0;Object.keys(KD).forEach(function(E){var b=KD[E];p&&(p[E]=b)}),p&&(p.paddingRight="".concat(w,"px"))}d&&QD()&&(d.addEventListener("touchmove",$D,ep),c&&(c.addEventListener("touchstart",XD,ep),c.addEventListener("touchmove",YD,ep))),_v+=1}},[r]),u=te.useCallback(function(c){if(JD){var d=document.body,p=d&&d.style;_v=Math.max(_v-1,0),r&&_v<1&&GD.forEach(function(v){var y=i.current[v];p&&(p[v]=y)}),d&&QD()&&(d.removeEventListener("touchmove",$D,ep),c&&(c.removeEventListener("touchstart",XD,ep),c.removeEventListener("touchmove",YD,ep)))}},[r]);return te.useEffect(function(){if(e){var c=o.current;return a(c),function(){u(c)}}},[e,a,u]),function(c){o.current=c}}var Xre=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Qre={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Jre(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,a=t.onBottomLeave,u=t.onTopArrive,c=t.onTopLeave,d=$re({isEnabled:i,onBottomArrive:o,onBottomLeave:a,onTopArrive:u,onTopLeave:c}),p=Yre({isEnabled:n}),v=function(w){d(w),p(w)};return dt(te.Fragment,null,n&&dt("div",{onClick:Xre,css:Qre}),e(v))}var Zre={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},eie=function(e){var n=e.name,r=e.onFocus;return dt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Zre,value:"",onChange:function(){}})},tie=eie;function uR(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function nie(){return uR(/^iPhone/i)}function qU(){return uR(/^Mac/i)}function rie(){return uR(/^iPad/i)||qU()&&navigator.maxTouchPoints>1}function iie(){return nie()||rie()}function oie(){return qU()||iie()}var sie=function(e){return e.label},aie=function(e){return e.label},uie=function(e){return e.value},lie=function(e){return!!e.isDisabled},cie={clearIndicator:Gne,container:Lne,control:Zne,dropdownIndicator:Hne,group:rre,groupHeading:ore,indicatorsContainer:jne,indicatorSeparator:$ne,input:lre,loadingIndicator:Qne,loadingMessage:Rne,menu:Sne,menuList:xne,menuPortal:Pne,multiValue:pre,multiValueLabel:mre,multiValueRemove:gre,noOptionsMessage:Ane,option:Ere,placeholder:Ire,singleValue:kre,valueContainer:Fne},fie={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},hie=4,GU=4,die=38,pie=GU*2,mie={baseUnit:GU,controlHeight:die,menuGutter:pie},yT={borderRadius:hie,colors:fie,spacing:mie},gie={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:VD(),captureMenuScroll:!VD(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Hre(),formatGroupLabel:sie,getOptionLabel:aie,getOptionValue:uie,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:lie,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!dne(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function ZD(t,e,n,r){var i=YU(t,e,n),o=XU(t,e,n),a=$U(t,e),u=Sb(t,e);return{type:"option",data:e,isDisabled:i,isSelected:o,label:a,value:u,index:r}}function w_(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,u){return ZD(t,a,e,u)}).filter(function(a){return tL(t,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=ZD(t,n,e,r);return tL(t,o)?o:void 0}).filter(gne)}function KU(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,JA(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function eL(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,JA(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function vie(t,e){return KU(w_(t,e))}function tL(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,o=e.isSelected,a=e.label,u=e.value;return(!JU(t)||!o)&&QU(t,{label:a,value:u,data:i},r)}function yie(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=e.indexOf(n);if(o>-1)return n;if(i<e.length)return e[i]}return null}function wie(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var wT=function(e,n){var r,i=(r=e.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},$U=function(e,n){return e.getOptionLabel(n)},Sb=function(e,n){return e.getOptionValue(n)};function YU(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function XU(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Sb(t,e);return n.some(function(i){return Sb(t,i)===r})}function QU(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var JU=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},_ie=1,ZU=function(t){zee(n,t);var e=qee(n);function n(r){var i;if(Bee(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=oie(),i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,d){var p=i.props,v=p.onChange,y=p.name;d.name=y,i.ariaOnChange(c,d),v(c,d)},i.setValue=function(c,d,p){var v=i.props,y=v.closeMenuOnSelect,w=v.isMulti,E=v.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:E}),y&&(i.setState({inputIsHiddenAfterUpdate:!w}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:d,option:p})},i.selectOption=function(c){var d=i.props,p=d.blurInputOnSelect,v=d.isMulti,y=d.name,w=i.state.selectValue,E=v&&i.isOptionSelected(c,w),b=i.isOptionDisabled(c,w);if(E){var I=i.getOptionValue(c);i.setValue(w.filter(function(T){return i.getOptionValue(T)!==I}),"deselect-option",c)}else if(!b)v?i.setValue([].concat(JA(w),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:y});return}p&&i.blurInput()},i.removeValue=function(c){var d=i.props.isMulti,p=i.state.selectValue,v=i.getOptionValue(c),y=p.filter(function(E){return i.getOptionValue(E)!==v}),w=G0(d,y,y[0]||null);i.onChange(w,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(G0(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,d=i.state.selectValue,p=d[d.length-1],v=d.slice(0,d.length-1),y=G0(c,v,v[0]||null);p&&i.onChange(y,{action:"pop-value",removedValue:p})},i.getFocusedOptionId=function(c){return wT(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return eL(w_(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return une.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(c){return $U(i.props,c)},i.getOptionValue=function(c){return Sb(i.props,c)},i.getStyles=function(c,d){var p=i.props.unstyled,v=cie[c](d,p);v.boxSizing="border-box";var y=i.props.styles[c];return y?y(v,d):v},i.getClassNames=function(c,d){var p,v;return(p=(v=i.props.classNames)[c])===null||p===void 0?void 0:p.call(v,d)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return Ore(i.props)},i.buildCategorizedOptions=function(){return w_(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return KU(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,d){i.setState({ariaSelection:pt({value:c},d)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var d=i.props,p=d.isMulti,v=d.menuIsOpen;i.focusInput(),v?(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&G1(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var d=c.touches,p=d&&d.item(0);p&&(i.initialTouchX=p.clientX,i.initialTouchY=p.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var d=c.touches,p=d&&d.item(0);if(p){var v=Math.abs(p.clientX-i.initialTouchX),y=Math.abs(p.clientY-i.initialTouchY),w=5;i.userIsDragging=v>w||y>w}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var d=i.props.inputValue,p=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(p,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var d=i.getFocusableOptions(),p=d.indexOf(c);i.setState({focusedOption:c,focusedOptionId:p>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return JU(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var d=i.props,p=d.isMulti,v=d.backspaceRemovesValue,y=d.escapeClearsValue,w=d.inputValue,E=d.isClearable,b=d.isDisabled,I=d.menuIsOpen,T=d.onKeyDown,R=d.tabSelectsValue,C=d.openMenuOnFocus,k=i.state,O=k.focusedOption,W=k.focusedValue,D=k.selectValue;if(!b&&!(typeof T=="function"&&(T(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!p||w)return;i.focusValue("previous");break;case"ArrowRight":if(!p||w)return;i.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(W)i.removeValue(W);else{if(!v)return;p?i.popValue():E&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!I||!R||!O||C&&i.isOptionSelected(O,D))return;i.selectOption(O);break;case"Enter":if(c.keyCode===229)break;if(I){if(!O||i.isComposing)return;i.selectOption(O);break}return;case"Escape":I?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:w}),i.onMenuClose()):E&&y&&i.clearValue();break;case" ":if(w)return;if(!I){i.openMenu("first");break}if(!O)return;i.selectOption(O);break;case"ArrowUp":I?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":I?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!I)return;i.focusOption("pageup");break;case"PageDown":if(!I)return;i.focusOption("pagedown");break;case"Home":if(!I)return;i.focusOption("first");break;case"End":if(!I)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++_ie),i.state.selectValue=jD(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),u=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=a[u],i.state.focusedOptionId=wT(o,a[u])}return i}return Vee(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&BD(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isDisabled,u=o.menuIsOpen,c=this.state.isFocused;(c&&!a&&i.isDisabled||c&&u&&!i.menuIsOpen)&&this.focusInput(),c&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(BD(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,a=this.state,u=a.selectValue,c=a.isFocused,d=this.buildFocusableOptions(),p=i==="first"?0:d.length-1;if(!this.props.isMulti){var v=d.indexOf(u[0]);v>-1&&(p=v)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[p],focusedOptionId:this.getFocusedOptionId(d[p])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,a=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=a.indexOf(u);u||(c=-1);var d=a.length-1,p=-1;if(a.length){switch(i){case"previous":c===0?p=0:c===-1?p=d:p=c-1;break;case"next":c>-1&&c<d&&(p=c+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:a[p]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,a=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var c=0,d=u.indexOf(a);a||(d=-1),i==="up"?c=d>0?d-1:u.length-1:i==="down"?c=(d+1)%u.length:i==="pageup"?(c=d-o,c<0&&(c=0)):i==="pagedown"?(c=d+o,c>u.length-1&&(c=u.length-1)):i==="last"&&(c=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(yT):pt(pt({},yT),this.props.theme):yT}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,a=this.getStyles,u=this.getClassNames,c=this.getValue,d=this.selectOption,p=this.setValue,v=this.props,y=v.isMulti,w=v.isRtl,E=v.options,b=this.hasValue();return{clearValue:i,cx:o,getStyles:a,getClassNames:u,getValue:c,hasValue:b,isMulti:y,isRtl:w,options:E,selectOption:d,selectProps:v,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,a=i.isMulti;return o===void 0?a:o}},{key:"isOptionDisabled",value:function(i,o){return YU(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return XU(this.props,i,o)}},{key:"filterOption",value:function(i,o){return QU(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:a,selectValue:u})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,a=i.isSearchable,u=i.inputId,c=i.inputValue,d=i.tabIndex,p=i.form,v=i.menuIsOpen,y=i.required,w=this.getComponents(),E=w.Input,b=this.state,I=b.inputIsHidden,T=b.ariaSelection,R=this.commonProps,C=u||this.getElementId("input"),k=pt(pt(pt({"aria-autocomplete":"list","aria-expanded":v,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":y,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},v&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(T==null?void 0:T.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?te.createElement(E,gt({},R,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:o,isHidden:I,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:p,type:"text",value:c},k)):te.createElement(Gre,gt({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:bb,onFocus:this.onInputFocus,disabled:o,tabIndex:d,inputMode:"none",form:p,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),a=o.MultiValue,u=o.MultiValueContainer,c=o.MultiValueLabel,d=o.MultiValueRemove,p=o.SingleValue,v=o.Placeholder,y=this.commonProps,w=this.props,E=w.controlShouldRenderValue,b=w.isDisabled,I=w.isMulti,T=w.inputValue,R=w.placeholder,C=this.state,k=C.selectValue,O=C.focusedValue,W=C.isFocused;if(!this.hasValue()||!E)return T?null:te.createElement(v,gt({},y,{key:"placeholder",isDisabled:b,isFocused:W,innerProps:{id:this.getElementId("placeholder")}}),R);if(I)return k.map(function(X,V){var se=X===O,Ie="".concat(i.getOptionLabel(X),"-").concat(i.getOptionValue(X));return te.createElement(a,gt({},y,{components:{Container:u,Label:c,Remove:d},isFocused:se,isDisabled:b,key:Ie,index:V,removeProps:{onClick:function(){return i.removeValue(X)},onTouchEnd:function(){return i.removeValue(X)},onMouseDown:function(ee){ee.preventDefault()}},data:X}),i.formatOptionLabel(X,"value"))});if(T)return null;var D=k[0];return te.createElement(p,gt({},y,{data:D,isDisabled:b}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,a=this.commonProps,u=this.props,c=u.isDisabled,d=u.isLoading,p=this.state.isFocused;if(!this.isClearable()||!o||c||!this.hasValue()||d)return null;var v={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return te.createElement(o,gt({},a,{innerProps:v,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,a=this.commonProps,u=this.props,c=u.isDisabled,d=u.isLoading,p=this.state.isFocused;if(!o||!d)return null;var v={"aria-hidden":"true"};return te.createElement(o,gt({},a,{innerProps:v,isDisabled:c,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,a=i.IndicatorSeparator;if(!o||!a)return null;var u=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return te.createElement(a,gt({},u,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var a=this.commonProps,u=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return te.createElement(o,gt({},a,{innerProps:d,isDisabled:u,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),a=o.Group,u=o.GroupHeading,c=o.Menu,d=o.MenuList,p=o.MenuPortal,v=o.LoadingMessage,y=o.NoOptionsMessage,w=o.Option,E=this.commonProps,b=this.state.focusedOption,I=this.props,T=I.captureMenuScroll,R=I.inputValue,C=I.isLoading,k=I.loadingMessage,O=I.minMenuHeight,W=I.maxMenuHeight,D=I.menuIsOpen,X=I.menuPlacement,V=I.menuPosition,se=I.menuPortalTarget,Ie=I.menuShouldBlockScroll,G=I.menuShouldScrollIntoView,ee=I.noOptionsMessage,j=I.onMenuScrollToTop,he=I.onMenuScrollToBottom;if(!D)return null;var Ee=function(ae,de){var _e=ae.type,le=ae.data,B=ae.isDisabled,M=ae.isSelected,oe=ae.label,ie=ae.value,Q=b===le,J=B?void 0:function(){return i.onOptionHover(le)},Ce=B?void 0:function(){return i.selectOption(le)},F="".concat(i.getElementId("option"),"-").concat(de),Te={id:F,onClick:Ce,onMouseMove:J,onMouseOver:J,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:M};return te.createElement(w,gt({},E,{innerProps:Te,data:le,isDisabled:B,isSelected:M,key:F,label:oe,type:_e,value:ie,isFocused:Q,innerRef:Q?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(ae.data,"menu"))},re;if(this.hasOptions())re=this.getCategorizedOptions().map(function(H){if(H.type==="group"){var ae=H.data,de=H.options,_e=H.index,le="".concat(i.getElementId("group"),"-").concat(_e),B="".concat(le,"-heading");return te.createElement(a,gt({},E,{key:le,data:ae,options:de,Heading:u,headingProps:{id:B,data:H.data},label:i.formatGroupLabel(H.data)}),H.options.map(function(M){return Ee(M,"".concat(_e,"-").concat(M.index))}))}else if(H.type==="option")return Ee(H,"".concat(H.index))});else if(C){var pe=k({inputValue:R});if(pe===null)return null;re=te.createElement(v,E,pe)}else{var me=ee({inputValue:R});if(me===null)return null;re=te.createElement(y,E,me)}var Se={minMenuHeight:O,maxMenuHeight:W,menuPlacement:X,menuPosition:V,menuShouldScrollIntoView:G},K=te.createElement(Tne,gt({},E,Se),function(H){var ae=H.ref,de=H.placerProps,_e=de.placement,le=de.maxHeight;return te.createElement(c,gt({},E,Se,{innerRef:ae,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:C,placement:_e}),te.createElement(Jre,{captureEnabled:T,onTopArrive:j,onBottomArrive:he,lockEnabled:Ie},function(B){return te.createElement(d,gt({},E,{innerRef:function(oe){i.getMenuListRef(oe),B(oe)},innerProps:{role:"listbox","aria-multiselectable":E.isMulti,id:i.getElementId("listbox")},isLoading:C,maxHeight:le,focusedOption:b}),re)}))});return se||V==="fixed"?te.createElement(p,gt({},E,{appendTo:se,controlElement:this.controlRef,menuPlacement:X,menuPosition:V}),K):K}},{key:"renderFormField",value:function(){var i=this,o=this.props,a=o.delimiter,u=o.isDisabled,c=o.isMulti,d=o.name,p=o.required,v=this.state.selectValue;if(p&&!this.hasValue()&&!u)return te.createElement(tie,{name:d,onFocus:this.onValueInputFocus});if(!(!d||u))if(c)if(a){var y=v.map(function(b){return i.getOptionValue(b)}).join(a);return te.createElement("input",{name:d,type:"hidden",value:y})}else{var w=v.length>0?v.map(function(b,I){return te.createElement("input",{key:"i-".concat(I),name:d,type:"hidden",value:i.getOptionValue(b)})}):te.createElement("input",{name:d,type:"hidden",value:""});return te.createElement("div",null,w)}else{var E=v[0]?this.getOptionValue(v[0]):"";return te.createElement("input",{name:d,type:"hidden",value:E})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,a=o.ariaSelection,u=o.focusedOption,c=o.focusedValue,d=o.isFocused,p=o.selectValue,v=this.getFocusableOptions();return te.createElement(Bre,gt({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:u,focusedValue:c,isFocused:d,selectValue:p,focusableOptions:v,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,a=i.IndicatorsContainer,u=i.SelectContainer,c=i.ValueContainer,d=this.props,p=d.className,v=d.id,y=d.isDisabled,w=d.menuIsOpen,E=this.state.isFocused,b=this.commonProps=this.getCommonProps();return te.createElement(u,gt({},b,{className:p,innerProps:{id:v,onKeyDown:this.onKeyDown},isDisabled:y,isFocused:E}),this.renderLiveRegion(),te.createElement(o,gt({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:y,isFocused:E,menuIsOpen:w}),te.createElement(c,gt({},b,{isDisabled:y}),this.renderPlaceholderOrValue(),this.renderInput()),te.createElement(a,gt({},b,{isDisabled:y}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a=o.prevProps,u=o.clearFocusValueOnUpdate,c=o.inputIsHiddenAfterUpdate,d=o.ariaSelection,p=o.isFocused,v=o.prevWasFocused,y=o.instancePrefix,w=i.options,E=i.value,b=i.menuIsOpen,I=i.inputValue,T=i.isMulti,R=jD(E),C={};if(a&&(E!==a.value||w!==a.options||b!==a.menuIsOpen||I!==a.inputValue)){var k=b?vie(i,R):[],O=b?eL(w_(i,R),"".concat(y,"-option")):[],W=u?yie(o,R):null,D=wie(o,k),X=wT(O,D);C={selectValue:R,focusedOption:D,focusedOptionId:X,focusableOptionsWithIds:O,focusedValue:W,clearFocusValueOnUpdate:!1}}var V=c!=null&&i!==a?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},se=d,Ie=p&&v;return p&&!Ie&&(se={value:G0(T,R,R[0]||null),options:R,action:"initial-input-focus"},Ie=!v),(d==null?void 0:d.action)==="initial-input-focus"&&(se=null),pt(pt(pt({},C),V),{},{prevProps:i,ariaSelection:se,prevWasFocused:Ie})}}]),n}(te.Component);ZU.defaultProps=gie;var bie=te.forwardRef(function(t,e){var n=jee(t);return te.createElement(ZU,gt({ref:e},n))}),Tb=bie;let Eie={document:null,isPending:!1,error:null,success:null};const Sie=(t,e)=>{switch(e.type){case"IS_PENDING":return{isPending:!0,document:null,success:!1,error:null};case"ADDED_DOCUMENT":return{isPending:!1,document:e.payload,success:!0,error:null};case"DELETED_DOCUMENT":return{isPending:!1,document:null,success:!0,error:null};case"UPDATED_DOCUMENT":return{isPending:!1,document:e.payload,success:!0,error:null};case"ERROR":return{isPending:!1,document:null,success:!1,error:e.payload};default:return t}},K1=t=>{const[e,n]=te.useReducer(Sie,Eie),[r,i]=te.useState(!1),o=xu.collection(t),a=p=>{r||n(p)},u=async p=>{n({type:"IS_PENDING"});try{const v=QA(new Date),y=await o.add({...p,createdAt:v});console.log(y),a({type:"ADDED_DOCUMENT",payload:y})}catch(v){a({type:"ERROR",payload:v.message})}},c=async p=>{n({type:"IS_PENDING"});try{await o.doc(p).delete(),a({type:"DELETED_DOCUMENT"})}catch{a({type:"ERROR",payload:"could not delete"})}},d=async(p,v)=>{n({type:"IS_PENDING"});try{const y=await o.doc(p).update(v);return a({type:"UPDATED_DOCUMENT",payload:y}),y}catch(y){return a({type:"ERROR",payload:y.message}),null}};return te.useEffect(()=>()=>i(!0),[]),{addDocument:u,deleteDocument:c,updateDocument:d,response:e}},lR="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20preserveAspectRatio='xMidYMid'%20width='200'%20height='200'%20style='shape-rendering:%20auto;%20display:%20block;%20background:%20transparent;'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3ccircle%20fill='%23e5e4e2'%20r='10'%20cy='50'%20cx='84'%3e%3canimate%20begin='0s'%20keySplines='0%200.5%200.5%201'%20values='10;0'%20keyTimes='0;1'%20calcMode='spline'%20dur='0.5208333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='0s'%20values='%23e5e4e2;%23b2beb5;%23a9a9a9;%23d3d3d3;%23e5e4e2'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='discrete'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='fill'%3e%3c/animate%3e%3c/circle%3e%3ccircle%20fill='%23e5e4e2'%20r='10'%20cy='50'%20cx='16'%3e%3canimate%20begin='0s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='0;0;10;10;10'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='0s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='16;16;16;50;84'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='cx'%3e%3c/animate%3e%3c/circle%3e%3ccircle%20fill='%23d3d3d3'%20r='10'%20cy='50'%20cx='50'%3e%3canimate%20begin='-0.5208333333333333s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='0;0;10;10;10'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='-0.5208333333333333s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='16;16;16;50;84'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='cx'%3e%3c/animate%3e%3c/circle%3e%3ccircle%20fill='%23a9a9a9'%20r='10'%20cy='50'%20cx='84'%3e%3canimate%20begin='-1.0416666666666665s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='0;0;10;10;10'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='-1.0416666666666665s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='16;16;16;50;84'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='cx'%3e%3c/animate%3e%3c/circle%3e%3ccircle%20fill='%23b2beb5'%20r='10'%20cy='50'%20cx='16'%3e%3canimate%20begin='-1.5624999999999998s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='0;0;10;10;10'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='-1.5624999999999998s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='16;16;16;50;84'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='cx'%3e%3c/animate%3e%3c/circle%3e%3cg%3e%3c/g%3e%3c/g%3e%3c!--%20[ldio]%20generated%20by%20https://loading.io%20--%3e%3c/svg%3e";console.log(QA);const Tie=[{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"sconstruction",label:"Construction"},{value:"Monitoring & Evaluation",label:"Monitoring & Evaluation"}];function Iie(){const t=Rb(),{addDocument:e,isPending:n,response:r}=K1("projects"),{documents:i}=V1("users"),[o,a]=te.useState([]),{user:u}=Zo(),[c,d]=te.useState(""),[p,v]=te.useState(""),[y,w]=te.useState(""),[E,b]=te.useState(""),[I,T]=te.useState([]),[R,C]=te.useState(null),[k,O]=te.useState(!1);te.useEffect(()=>{if(i){const D=i.map(X=>({value:X,label:X.displayName}));a(D)}},[i]);const W=async D=>{if(D.preventDefault(),!E){C("you have to choose category");return}if(I.length<1){C("you have to assign users");return}C(null),O(!0);const X={displayName:u.displayName,photoURL:u.photoURL,id:u.uid},V=I.map(Ie=>({displayName:Ie.value.displayName,photoURL:Ie.value.photoURL,id:Ie.value.id})),se={name:c,details:p,category:E.value,dueDate:QA(new Date(y)),comments:[],createdBy:X,assignedUsersList:V,tasks:[]};await e(se),r.error||t("/"),O(!1)};return Z.jsx("div",{className:"create-form pl-5 pages-margin",children:Z.jsxs("form",{onSubmit:W,children:[Z.jsxs("label",{children:[Z.jsx("span",{children:"Project Name:"}),Z.jsx("input",{type:"text",required:!0,onChange:D=>d(D.target.value),value:c})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Project Details:"}),Z.jsx("textarea",{type:"text",required:!0,onChange:D=>v(D.target.value),value:p})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Due date::"}),Z.jsx("input",{type:"date",onChange:D=>w(D.target.value),value:y})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Project category:"}),Z.jsx(Tb,{options:Tie,onChange:D=>b(D)})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Assign to:"}),Z.jsx(Tb,{options:o,onChange:D=>T(D),isMulti:!0})]}),!n&&Z.jsx("button",{className:"btn",children:"Add project"}),R&&Z.jsx("p",{className:"error",children:R}),n&&k&&Z.jsx("div",{className:"loading-modal",children:Z.jsx("img",{src:lR,alt:"Loading",className:"loading-gif"})})]})})}const cR=()=>{const[t,e]=te.useState(!1),[n,r]=te.useState(null),[i,o]=te.useState(!1),{dispatch:a,user:u}=Zo(),c=async()=>{r(null),o(!0);try{const{uid:d}=u;await xu.collection("users").doc(d).update({online:!1}),await B1.signOut(),a({type:"LOGOUT"}),t||(o(!1),r(null))}catch(d){t||(r(d.message),o(!1))}};return te.useEffect(()=>()=>e(!0),[]),{logout:c,error:n,isPending:i}},Cie=24*60*60*1e3,xie=()=>{const[t,e]=te.useState(!1),[n,r]=te.useState(null),[i,o]=te.useState(!1),{dispatch:a}=Zo(),{logout:u}=cR();let c;const d=()=>{clearTimeout(c),c=setTimeout(()=>{u()},Cie)},p=async(v,y)=>{r(null),o(!0);try{const w=await B1.signInWithEmailAndPassword(v,y);await xu.collection("users").doc(w.user.uid).update({online:!0}),a({type:"LOGIN",payload:w.user}),t||(o(!1),r(null),d(),window.addEventListener("mousemove",d),window.addEventListener("keydown",d))}catch{t||(r("Invalid email or password. Please try again."),o(!1))}};return te.useEffect(()=>()=>{e(!0),clearTimeout(c),window.removeEventListener("mousemove",d),window.removeEventListener("keydown",d)},[]),{login:p,isPending:i,error:n}};function kie(){const[t,e]=te.useState(""),[n,r]=te.useState(""),{login:i,isPending:o,error:a}=xie(),u=c=>{c.preventDefault(),i(t,n)};return Z.jsxs("div",{className:`app-container w-full ${o?"blurred":""}`,children:[Z.jsxs("form",{className:"bg-white rounded-xl  p-10 mx-auto w-[700px] ",onSubmit:u,children:[Z.jsx("div",{className:"text-3xl font-bold",children:"SIGN IN AS ADMIN"}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Email:"}),Z.jsx("input",{required:!0,type:"email",value:t,onChange:c=>e(c.target.value)})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Password:"}),Z.jsx("input",{required:!0,type:"password",value:n,onChange:c=>r(c.target.value)})]}),!o&&Z.jsx("button",{className:"btn",children:"LOG IN"}),a&&Z.jsx("div",{className:"error",children:a})]}),o&&Z.jsx("div",{className:"loading-modal",children:Z.jsx("img",{src:lR,alt:"Loading",className:"loading-gif"})})]})}const Aie=()=>{const[t,e]=te.useState(!1),[n,r]=te.useState(null),[i,o]=te.useState(!1),{dispatch:a}=Zo(),u=async(c,d,p,v)=>{r(null),o(!0);try{const y=await B1.createUserWithEmailAndPassword(c,d);if(!y)throw new Error("Could not complete signup");const w=`thumbnails/${y.user.uid}/${v.name}`,b=await(await uU.ref(w).put(v)).ref.getDownloadURL();await y.user.updateProfile({displayName:p,photoURL:b}),await xu.collection("users").doc(y.user.uid).set({online:!0,displayName:p,photoURL:b}),a({type:"LOGIN",payload:y.user}),t||(o(!1),r(null))}catch(y){t||(r(y.message),o(!1))}};return te.useEffect(()=>()=>e(!0),[]),{signup:u,error:n,isPending:i}};function Rie(){const[t,e]=te.useState(""),[n,r]=te.useState(""),[i,o]=te.useState(""),[a,u]=te.useState(null),[c,d]=te.useState(""),{signup:p,isPending:v,error:y}=Aie(),w=b=>{b.preventDefault(),p(t,n,i,a)},E=b=>{u(null);let I=b.target.files[0];if(!I){d("Please select a file");return}if(!I.type.includes("image")){d("Selected file must be an image");return}if(I.size>3e6){d("Image file size must be less than 3MB");return}d(null),u(I)};return Z.jsxs("form",{className:"auth-form",onSubmit:w,children:[Z.jsx("h2",{children:"Signup"}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Email:"}),Z.jsx("input",{required:!0,type:"email",value:t,onChange:b=>e(b.target.value)})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Password:"}),Z.jsx("input",{required:!0,type:"password",value:n,onChange:b=>r(b.target.value)})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Full Name:"}),Z.jsx("input",{required:!0,type:"text",value:i,onChange:b=>o(b.target.value)})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Profile Picture:"}),Z.jsx("input",{required:!0,type:"file",accept:"image/*",capture:"camera",onChange:E}),c&&Z.jsx("div",{className:"error",children:c})]}),!v&&Z.jsx("button",{className:"btn",children:"Sign up"}),v&&Z.jsx("button",{className:"btn",disabled:!0,children:"Loading..."}),y&&Z.jsx("div",{className:"error",children:y})]})}function Nie(t,e){const[n,r]=te.useState(null),[i,o]=te.useState(null);return te.useEffect(()=>{const u=xu.collection(t).doc(e).onSnapshot(c=>{c.data()?(r({...c.data(),id:c.id}),o(null)):o("invalid document id")},c=>{console.log(c.message),o("cant get the document")});return()=>u()},[t,e]),{document:n,error:i}}const nL="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='mdi:tick-outline'%3e%3cpath%20id='Vector'%20d='M16.4833%201.83337L20%205.35004L7.03333%2018.3334L0%2011.2917L3.51667%207.77504L7.03333%2011.2917L16.4833%201.83337ZM16.4833%204.16671L7.03333%2013.6334L3.51667%2010.1584L2.34167%2011.2917L7.03333%2015.975L17.6583%205.35004L16.4833%204.16671Z'%20fill='%2333B06F'/%3e%3c/g%3e%3c/svg%3e";function Oie({project:t}){const{updateDocument:e}=K1("projects"),{user:n}=Zo(),{documents:r}=V1("users");Rb();const[i,o]=te.useState(t.location||null),[a,u]=te.useState({lat:"",lng:""}),[c,d]=te.useState(!1),[p,v]=te.useState(null),[y,w]=te.useState([]),[E,b]=te.useState([]),I=t.completed,T=async O=>{O.preventDefault(),d(!0),v(null);const W={lat:parseFloat(a.lat),lng:parseFloat(a.lng)};if(isNaN(W.lat)||isNaN(W.lng)){v("Invalid latitude or longitude."),d(!1);return}o(W),await e(t.id,{location:W}),d(!1)},R=O=>{const{name:W,value:D}=O.target;u(X=>({...X,[W]:D}))};te.useEffect(()=>{if(r){const O=t.assignedUsersList.map(D=>D.id),W=r.filter(D=>!O.includes(D.id)).map(D=>({value:D,label:D.displayName}));w(W)}},[r,t.assignedUsersList]);const C=async O=>{O.preventDefault(),await e(t.id,{completed:!0})},k=async O=>{if(O.preventDefault(),E.length===0){v("No users selected.");return}const W=E.map(se=>({displayName:se.value.displayName,photoURL:se.value.photoURL,id:se.value.id})),D=[...t.assignedUsersList,...W];await e(t.id,{assignedUsersList:D}),b([]),v(null);const X=D.map(se=>se.id),V=r.filter(se=>!X.includes(se.id)).map(se=>({value:se,label:se.displayName}));w(V)};return Z.jsxs("div",{className:"project-summary",children:[Z.jsxs("h2",{className:"project-title",children:["Project Name: ",t.name]}),Z.jsxs("p",{className:"by",children:["By: ",t.createdBy.displayName]}),Z.jsxs("p",{className:"due-date",children:["Project due by ",t.dueDate.toDate().toDateString()]}),Z.jsxs("p",{className:"details",children:["Details: ",t.details]}),Z.jsx("h4",{children:"Project is Assigned to:"}),Z.jsx("div",{className:"assigned-users",children:t.assignedUsersList.map(O=>Z.jsx("div",{children:Z.jsx(bp,{src:O.photoURL})},O.id))}),Z.jsxs("div",{className:"location-input",children:[p&&Z.jsx("p",{className:"error",children:p}),i&&Z.jsxs("p",{className:"location",children:["Location: Lat ",i.lat,", Lng ",i.lng]})]}),Z.jsx("div",{className:"",children:Z.jsx("div",{className:"manual-location-input",children:Z.jsxs("form",{onSubmit:T,children:[Z.jsxs("label",{children:[Z.jsx("span",{children:"Latitude:"}),Z.jsx("input",{type:"text",name:"lat",value:a.lat,onChange:R})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Longitude:"}),Z.jsx("input",{type:"text",name:"lng",value:a.lng,onChange:R})]}),Z.jsxs("div",{className:"gap-8 flex",children:[Z.jsx("button",{className:"btn",type:"submit",disabled:c,children:c?"Updating Location...":"Set Location"}),I&&Z.jsxs("div",{className:"complete",children:[Z.jsx("img",{src:nL,alt:"complete"}),Z.jsx("span",{children:"Completed"})]})]})]})})}),Z.jsxs("div",{className:"add-users mt-4",children:[Z.jsx("div",{className:"text-xl",children:"Add More Users:"}),Z.jsx(Tb,{options:y,onChange:O=>b(O),isMulti:!0}),Z.jsx("button",{className:"btn",onClick:k,children:"Add Users"}),p&&Z.jsx("p",{className:"error",children:p})]}),!I&&n.uid===t.createdBy.id&&Z.jsx("button",{className:"btn",onClick:C,children:"Mark project as complete"}),I&&Z.jsxs("div",{className:"complete",children:[Z.jsx("img",{src:nL,alt:"complete"}),Z.jsx("span",{children:"Completed"})]})]})}var Pie=Object.defineProperty,Die=Object.defineProperties,Lie=Object.getOwnPropertyDescriptors,rL=Object.getOwnPropertySymbols,Mie=Object.prototype.hasOwnProperty,Fie=Object.prototype.propertyIsEnumerable,fx=(t,e,n)=>e in t?Pie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nt=(t,e)=>{for(var n in e||(e={}))Mie.call(e,n)&&fx(t,n,e[n]);if(rL)for(var n of rL(e))Fie.call(e,n)&&fx(t,n,e[n]);return t},yc=(t,e)=>Die(t,Lie(e)),Ne=(t,e,n)=>fx(t,typeof e!="symbol"?e+"":e,n),K0=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{u(n.next(c))}catch(d){i(d)}},a=c=>{try{u(n.throw(c))}catch(d){i(d)}},u=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,a);u((n=n.apply(t,e)).next())});class Ib{constructor(e){Ne(this,"rootKey"),this.rootKey=e}}const Uie=Object.seal({});class Oe extends Ib{constructor(e){super(e),Ne(this,"root"),this.root=new Array}prepForXml(e){var n;e.stack.push(this);const r=this.root.map(i=>i instanceof Ib?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:r.length?r.length===1&&((n=r[0])!=null&&n._attr)?r[0]:r:Uie}}addChildElement(e){return this.root.push(e),this}}class $1 extends Oe{prepForXml(e){const n=super.prepForXml(e);if(n&&(typeof n[this.rootKey]!="object"||Object.keys(n[this.rootKey]).length))return n}}class Ze extends Ib{constructor(e){super("_attr"),Ne(this,"xmlKeys"),this.root=e}prepForXml(e){const n={};return Object.entries(this.root).forEach(([r,i])=>{if(i!==void 0){const o=this.xmlKeys&&this.xmlKeys[r]||r;n[o]=i}}),{_attr:n}}}class bm extends Ib{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:r})=>r!==void 0).reduce((r,{key:i,value:o})=>yc(Nt({},r),{[i]:o}),{})}}}class qn extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _T={},$0={exports:{}},iL;function hR(){if(iL)return $0.exports;iL=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(O,W,D){return Function.prototype.apply.call(O,W,D)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(k){console&&console.warn&&console.warn(k)}var i=Number.isNaN||function(O){return O!==O};function o(){o.init.call(this)}$0.exports=o,$0.exports.once=T,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function u(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(k){if(typeof k!="number"||k<0||i(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");a=k}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function c(k){return k._maxListeners===void 0?o.defaultMaxListeners:k._maxListeners}o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(O){for(var W=[],D=1;D<arguments.length;D++)W.push(arguments[D]);var X=O==="error",V=this._events;if(V!==void 0)X=X&&V.error===void 0;else if(!X)return!1;if(X){var se;if(W.length>0&&(se=W[0]),se instanceof Error)throw se;var Ie=new Error("Unhandled error."+(se?" ("+se.message+")":""));throw Ie.context=se,Ie}var G=V[O];if(G===void 0)return!1;if(typeof G=="function")e(G,this,W);else for(var ee=G.length,j=E(G,ee),D=0;D<ee;++D)e(j[D],this,W);return!0};function d(k,O,W,D){var X,V,se;if(u(W),V=k._events,V===void 0?(V=k._events=Object.create(null),k._eventsCount=0):(V.newListener!==void 0&&(k.emit("newListener",O,W.listener?W.listener:W),V=k._events),se=V[O]),se===void 0)se=V[O]=W,++k._eventsCount;else if(typeof se=="function"?se=V[O]=D?[W,se]:[se,W]:D?se.unshift(W):se.push(W),X=c(k),X>0&&se.length>X&&!se.warned){se.warned=!0;var Ie=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ie.name="MaxListenersExceededWarning",Ie.emitter=k,Ie.type=O,Ie.count=se.length,r(Ie)}return k}o.prototype.addListener=function(O,W){return d(this,O,W,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(O,W){return d(this,O,W,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(k,O,W){var D={fired:!1,wrapFn:void 0,target:k,type:O,listener:W},X=p.bind(D);return X.listener=W,D.wrapFn=X,X}o.prototype.once=function(O,W){return u(W),this.on(O,v(this,O,W)),this},o.prototype.prependOnceListener=function(O,W){return u(W),this.prependListener(O,v(this,O,W)),this},o.prototype.removeListener=function(O,W){var D,X,V,se,Ie;if(u(W),X=this._events,X===void 0)return this;if(D=X[O],D===void 0)return this;if(D===W||D.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete X[O],X.removeListener&&this.emit("removeListener",O,D.listener||W));else if(typeof D!="function"){for(V=-1,se=D.length-1;se>=0;se--)if(D[se]===W||D[se].listener===W){Ie=D[se].listener,V=se;break}if(V<0)return this;V===0?D.shift():b(D,V),D.length===1&&(X[O]=D[0]),X.removeListener!==void 0&&this.emit("removeListener",O,Ie||W)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(O){var W,D,X;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[O]),this;if(arguments.length===0){var V=Object.keys(D),se;for(X=0;X<V.length;++X)se=V[X],se!=="removeListener"&&this.removeAllListeners(se);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=D[O],typeof W=="function")this.removeListener(O,W);else if(W!==void 0)for(X=W.length-1;X>=0;X--)this.removeListener(O,W[X]);return this};function y(k,O,W){var D=k._events;if(D===void 0)return[];var X=D[O];return X===void 0?[]:typeof X=="function"?W?[X.listener||X]:[X]:W?I(X):E(X,X.length)}o.prototype.listeners=function(O){return y(this,O,!0)},o.prototype.rawListeners=function(O){return y(this,O,!1)},o.listenerCount=function(k,O){return typeof k.listenerCount=="function"?k.listenerCount(O):w.call(k,O)},o.prototype.listenerCount=w;function w(k){var O=this._events;if(O!==void 0){var W=O[k];if(typeof W=="function")return 1;if(W!==void 0)return W.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function E(k,O){for(var W=new Array(O),D=0;D<O;++D)W[D]=k[D];return W}function b(k,O){for(;O+1<k.length;O++)k[O]=k[O+1];k.pop()}function I(k){for(var O=new Array(k.length),W=0;W<O.length;++W)O[W]=k[W].listener||k[W];return O}function T(k,O){return new Promise(function(W,D){function X(se){k.removeListener(O,V),D(se)}function V(){typeof k.removeListener=="function"&&k.removeListener("error",X),W([].slice.call(arguments))}C(k,O,V,{once:!0}),O!=="error"&&R(k,X,{once:!0})})}function R(k,O,W){typeof k.on=="function"&&C(k,"error",O,W)}function C(k,O,W,D){if(typeof k.on=="function")D.once?k.once(O,W):k.on(O,W);else if(typeof k.addEventListener=="function")k.addEventListener(O,function X(V){D.once&&k.removeEventListener(O,X),W(V)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return $0.exports}var Y0={exports:{}},oL;function Ic(){return oL||(oL=1,typeof Object.create=="function"?Y0.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Y0.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),Y0.exports}function jie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ej={exports:{}},Gn=ej.exports={},Ea,Sa;function hx(){throw new Error("setTimeout has not been defined")}function dx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ea=setTimeout:Ea=hx}catch{Ea=hx}try{typeof clearTimeout=="function"?Sa=clearTimeout:Sa=dx}catch{Sa=dx}})();function tj(t){if(Ea===setTimeout)return setTimeout(t,0);if((Ea===hx||!Ea)&&setTimeout)return Ea=setTimeout,setTimeout(t,0);try{return Ea(t,0)}catch{try{return Ea.call(null,t,0)}catch{return Ea.call(this,t,0)}}}function Bie(t){if(Sa===clearTimeout)return clearTimeout(t);if((Sa===dx||!Sa)&&clearTimeout)return Sa=clearTimeout,clearTimeout(t);try{return Sa(t)}catch{try{return Sa.call(null,t)}catch{return Sa.call(this,t)}}}var Su=[],vp=!1,Qf,__=-1;function Vie(){!vp||!Qf||(vp=!1,Qf.length?Su=Qf.concat(Su):__=-1,Su.length&&nj())}function nj(){if(!vp){var t=tj(Vie);vp=!0;for(var e=Su.length;e;){for(Qf=Su,Su=[];++__<e;)Qf&&Qf[__].run();__=-1,e=Su.length}Qf=null,vp=!1,Bie(t)}}Gn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Su.push(new rj(t,e)),Su.length===1&&!vp&&tj(nj)};function rj(t,e){this.fun=t,this.array=e}rj.prototype.run=function(){this.fun.apply(null,this.array)};Gn.title="browser";Gn.browser=!0;Gn.env={};Gn.argv=[];Gn.version="";Gn.versions={};function zu(){}Gn.on=zu;Gn.addListener=zu;Gn.once=zu;Gn.off=zu;Gn.removeListener=zu;Gn.removeAllListeners=zu;Gn.emit=zu;Gn.prependListener=zu;Gn.prependOnceListener=zu;Gn.listeners=function(t){return[]};Gn.binding=function(t){throw new Error("process.binding is not supported")};Gn.cwd=function(){return"/"};Gn.chdir=function(t){throw new Error("process.chdir is not supported")};Gn.umask=function(){return 0};var zie=ej.exports;const kt=jie(zie);var bT,sL;function ij(){return sL||(sL=1,bT=hR().EventEmitter),bT}var ET={},bv={},aL;function Wie(){if(aL)return bv;aL=1,bv.byteLength=u,bv.toByteArray=d,bv.fromByteArray=y;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(w){var E=w.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=w.indexOf("=");b===-1&&(b=E);var I=b===E?0:4-b%4;return[b,I]}function u(w){var E=a(w),b=E[0],I=E[1];return(b+I)*3/4-I}function c(w,E,b){return(E+b)*3/4-b}function d(w){var E,b=a(w),I=b[0],T=b[1],R=new n(c(w,I,T)),C=0,k=T>0?I-4:I,O;for(O=0;O<k;O+=4)E=e[w.charCodeAt(O)]<<18|e[w.charCodeAt(O+1)]<<12|e[w.charCodeAt(O+2)]<<6|e[w.charCodeAt(O+3)],R[C++]=E>>16&255,R[C++]=E>>8&255,R[C++]=E&255;return T===2&&(E=e[w.charCodeAt(O)]<<2|e[w.charCodeAt(O+1)]>>4,R[C++]=E&255),T===1&&(E=e[w.charCodeAt(O)]<<10|e[w.charCodeAt(O+1)]<<4|e[w.charCodeAt(O+2)]>>2,R[C++]=E>>8&255,R[C++]=E&255),R}function p(w){return t[w>>18&63]+t[w>>12&63]+t[w>>6&63]+t[w&63]}function v(w,E,b){for(var I,T=[],R=E;R<b;R+=3)I=(w[R]<<16&16711680)+(w[R+1]<<8&65280)+(w[R+2]&255),T.push(p(I));return T.join("")}function y(w){for(var E,b=w.length,I=b%3,T=[],R=16383,C=0,k=b-I;C<k;C+=R)T.push(v(w,C,C+R>k?k:C+R));return I===1?(E=w[b-1],T.push(t[E>>2]+t[E<<4&63]+"==")):I===2&&(E=(w[b-2]<<8)+w[b-1],T.push(t[E>>10]+t[E>>4&63]+t[E<<2&63]+"=")),T.join("")}return bv}var X0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var uL;function Hie(){return uL||(uL=1,X0.read=function(t,e,n,r,i){var o,a,u=i*8-r-1,c=(1<<u)-1,d=c>>1,p=-7,v=n?i-1:0,y=n?-1:1,w=t[e+v];for(v+=y,o=w&(1<<-p)-1,w>>=-p,p+=u;p>0;o=o*256+t[e+v],v+=y,p-=8);for(a=o&(1<<-p)-1,o>>=-p,p+=r;p>0;a=a*256+t[e+v],v+=y,p-=8);if(o===0)o=1-d;else{if(o===c)return a?NaN:(w?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-d}return(w?-1:1)*a*Math.pow(2,o-r)},X0.write=function(t,e,n,r,i,o){var a,u,c,d=o*8-i-1,p=(1<<d)-1,v=p>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:o-1,E=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=p):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+v>=1?e+=y/c:e+=y*Math.pow(2,1-v),e*c>=2&&(a++,c/=2),a+v>=p?(u=0,a=p):a+v>=1?(u=(e*c-1)*Math.pow(2,i),a=a+v):(u=e*Math.pow(2,v-1)*Math.pow(2,i),a=0));i>=8;t[n+w]=u&255,w+=E,u/=256,i-=8);for(a=a<<i|u,d+=i;d>0;t[n+w]=a&255,w+=E,a/=256,d-=8);t[n+w-E]|=b*128}),X0}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var lL;function Y1(){return lL||(lL=1,function(t){var e=Wie(),n=Hie(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var z=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(z,x),z.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function a(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');var x=new Uint8Array(z);return Object.setPrototypeOf(x,u.prototype),x}function u(z,x,A){if(typeof z=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(z)}return c(z,x,A)}u.poolSize=8192;function c(z,x,A){if(typeof z=="string")return y(z,x);if(ArrayBuffer.isView(z))return E(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Ce(z,ArrayBuffer)||z&&Ce(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(z,SharedArrayBuffer)||z&&Ce(z.buffer,SharedArrayBuffer)))return b(z,x,A);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=z.valueOf&&z.valueOf();if(U!=null&&U!==z)return u.from(U,x,A);var ne=I(z);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return u.from(z[Symbol.toPrimitive]("string"),x,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}u.from=function(z,x,A){return c(z,x,A)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function d(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function p(z,x,A){return d(z),z<=0?a(z):x!==void 0?typeof A=="string"?a(z).fill(x,A):a(z).fill(x):a(z)}u.alloc=function(z,x,A){return p(z,x,A)};function v(z){return d(z),a(z<0?0:T(z)|0)}u.allocUnsafe=function(z){return v(z)},u.allocUnsafeSlow=function(z){return v(z)};function y(z,x){if((typeof x!="string"||x==="")&&(x="utf8"),!u.isEncoding(x))throw new TypeError("Unknown encoding: "+x);var A=C(z,x)|0,U=a(A),ne=U.write(z,x);return ne!==A&&(U=U.slice(0,ne)),U}function w(z){for(var x=z.length<0?0:T(z.length)|0,A=a(x),U=0;U<x;U+=1)A[U]=z[U]&255;return A}function E(z){if(Ce(z,Uint8Array)){var x=new Uint8Array(z);return b(x.buffer,x.byteOffset,x.byteLength)}return w(z)}function b(z,x,A){if(x<0||z.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<x+(A||0))throw new RangeError('"length" is outside of buffer bounds');var U;return x===void 0&&A===void 0?U=new Uint8Array(z):A===void 0?U=new Uint8Array(z,x):U=new Uint8Array(z,x,A),Object.setPrototypeOf(U,u.prototype),U}function I(z){if(u.isBuffer(z)){var x=T(z.length)|0,A=a(x);return A.length===0||z.copy(A,0,0,x),A}if(z.length!==void 0)return typeof z.length!="number"||F(z.length)?a(0):w(z);if(z.type==="Buffer"&&Array.isArray(z.data))return w(z.data)}function T(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function R(z){return+z!=z&&(z=0),u.alloc(+z)}u.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==u.prototype},u.compare=function(x,A){if(Ce(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),Ce(A,Uint8Array)&&(A=u.from(A,A.offset,A.byteLength)),!u.isBuffer(x)||!u.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===A)return 0;for(var U=x.length,ne=A.length,ye=0,ue=Math.min(U,ne);ye<ue;++ye)if(x[ye]!==A[ye]){U=x[ye],ne=A[ye];break}return U<ne?-1:ne<U?1:0},u.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(x,A){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return u.alloc(0);var U;if(A===void 0)for(A=0,U=0;U<x.length;++U)A+=x[U].length;var ne=u.allocUnsafe(A),ye=0;for(U=0;U<x.length;++U){var ue=x[U];if(Ce(ue,Uint8Array))ye+ue.length>ne.length?u.from(ue).copy(ne,ye):Uint8Array.prototype.set.call(ne,ue,ye);else if(u.isBuffer(ue))ue.copy(ne,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=ue.length}return ne};function C(z,x){if(u.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Ce(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var A=z.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&A===0)return 0;for(var ne=!1;;)switch(x){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return M(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return Q(z).length;default:if(ne)return U?-1:M(z).length;x=(""+x).toLowerCase(),ne=!0}}u.byteLength=C;function k(z,x,A){var U=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,x>>>=0,A<=x))return"";for(z||(z="utf8");;)switch(z){case"hex":return me(this,x,A);case"utf8":case"utf-8":return j(this,x,A);case"ascii":return re(this,x,A);case"latin1":case"binary":return pe(this,x,A);case"base64":return ee(this,x,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,x,A);default:if(U)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),U=!0}}u.prototype._isBuffer=!0;function O(z,x,A){var U=z[x];z[x]=z[A],z[A]=U}u.prototype.swap16=function(){var x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<x;A+=2)O(this,A,A+1);return this},u.prototype.swap32=function(){var x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<x;A+=4)O(this,A,A+3),O(this,A+1,A+2);return this},u.prototype.swap64=function(){var x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<x;A+=8)O(this,A,A+7),O(this,A+1,A+6),O(this,A+2,A+5),O(this,A+3,A+4);return this},u.prototype.toString=function(){var x=this.length;return x===0?"":arguments.length===0?j(this,0,x):k.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(x){if(!u.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:u.compare(this,x)===0},u.prototype.inspect=function(){var x="",A=t.INSPECT_MAX_BYTES;return x=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(x+=" ... "),"<Buffer "+x+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(x,A,U,ne,ye){if(Ce(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),!u.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(A===void 0&&(A=0),U===void 0&&(U=x?x.length:0),ne===void 0&&(ne=0),ye===void 0&&(ye=this.length),A<0||U>x.length||ne<0||ye>this.length)throw new RangeError("out of range index");if(ne>=ye&&A>=U)return 0;if(ne>=ye)return-1;if(A>=U)return 1;if(A>>>=0,U>>>=0,ne>>>=0,ye>>>=0,this===x)return 0;for(var ue=ye-ne,De=U-A,Pe=Math.min(ue,De),Me=this.slice(ne,ye),Ge=x.slice(A,U),et=0;et<Pe;++et)if(Me[et]!==Ge[et]){ue=Me[et],De=Ge[et];break}return ue<De?-1:De<ue?1:0};function W(z,x,A,U,ne){if(z.length===0)return-1;if(typeof A=="string"?(U=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,F(A)&&(A=ne?0:z.length-1),A<0&&(A=z.length+A),A>=z.length){if(ne)return-1;A=z.length-1}else if(A<0)if(ne)A=0;else return-1;if(typeof x=="string"&&(x=u.from(x,U)),u.isBuffer(x))return x.length===0?-1:D(z,x,A,U,ne);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(z,x,A):Uint8Array.prototype.lastIndexOf.call(z,x,A):D(z,[x],A,U,ne);throw new TypeError("val must be string, number or Buffer")}function D(z,x,A,U,ne){var ye=1,ue=z.length,De=x.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(z.length<2||x.length<2)return-1;ye=2,ue/=2,De/=2,A/=2}function Pe(Pt,Fr){return ye===1?Pt[Fr]:Pt.readUInt16BE(Fr*ye)}var Me;if(ne){var Ge=-1;for(Me=A;Me<ue;Me++)if(Pe(z,Me)===Pe(x,Ge===-1?0:Me-Ge)){if(Ge===-1&&(Ge=Me),Me-Ge+1===De)return Ge*ye}else Ge!==-1&&(Me-=Me-Ge),Ge=-1}else for(A+De>ue&&(A=ue-De),Me=A;Me>=0;Me--){for(var et=!0,ct=0;ct<De;ct++)if(Pe(z,Me+ct)!==Pe(x,ct)){et=!1;break}if(et)return Me}return-1}u.prototype.includes=function(x,A,U){return this.indexOf(x,A,U)!==-1},u.prototype.indexOf=function(x,A,U){return W(this,x,A,U,!0)},u.prototype.lastIndexOf=function(x,A,U){return W(this,x,A,U,!1)};function X(z,x,A,U){A=Number(A)||0;var ne=z.length-A;U?(U=Number(U),U>ne&&(U=ne)):U=ne;var ye=x.length;U>ye/2&&(U=ye/2);for(var ue=0;ue<U;++ue){var De=parseInt(x.substr(ue*2,2),16);if(F(De))return ue;z[A+ue]=De}return ue}function V(z,x,A,U){return J(M(x,z.length-A),z,A,U)}function se(z,x,A,U){return J(oe(x),z,A,U)}function Ie(z,x,A,U){return J(Q(x),z,A,U)}function G(z,x,A,U){return J(ie(x,z.length-A),z,A,U)}u.prototype.write=function(x,A,U,ne){if(A===void 0)ne="utf8",U=this.length,A=0;else if(U===void 0&&typeof A=="string")ne=A,U=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(U)?(U=U>>>0,ne===void 0&&(ne="utf8")):(ne=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-A;if((U===void 0||U>ye)&&(U=ye),x.length>0&&(U<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");for(var ue=!1;;)switch(ne){case"hex":return X(this,x,A,U);case"utf8":case"utf-8":return V(this,x,A,U);case"ascii":case"latin1":case"binary":return se(this,x,A,U);case"base64":return Ie(this,x,A,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,x,A,U);default:if(ue)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ue=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(z,x,A){return x===0&&A===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(x,A))}function j(z,x,A){A=Math.min(z.length,A);for(var U=[],ne=x;ne<A;){var ye=z[ne],ue=null,De=ye>239?4:ye>223?3:ye>191?2:1;if(ne+De<=A){var Pe,Me,Ge,et;switch(De){case 1:ye<128&&(ue=ye);break;case 2:Pe=z[ne+1],(Pe&192)===128&&(et=(ye&31)<<6|Pe&63,et>127&&(ue=et));break;case 3:Pe=z[ne+1],Me=z[ne+2],(Pe&192)===128&&(Me&192)===128&&(et=(ye&15)<<12|(Pe&63)<<6|Me&63,et>2047&&(et<55296||et>57343)&&(ue=et));break;case 4:Pe=z[ne+1],Me=z[ne+2],Ge=z[ne+3],(Pe&192)===128&&(Me&192)===128&&(Ge&192)===128&&(et=(ye&15)<<18|(Pe&63)<<12|(Me&63)<<6|Ge&63,et>65535&&et<1114112&&(ue=et))}}ue===null?(ue=65533,De=1):ue>65535&&(ue-=65536,U.push(ue>>>10&1023|55296),ue=56320|ue&1023),U.push(ue),ne+=De}return Ee(U)}var he=4096;function Ee(z){var x=z.length;if(x<=he)return String.fromCharCode.apply(String,z);for(var A="",U=0;U<x;)A+=String.fromCharCode.apply(String,z.slice(U,U+=he));return A}function re(z,x,A){var U="";A=Math.min(z.length,A);for(var ne=x;ne<A;++ne)U+=String.fromCharCode(z[ne]&127);return U}function pe(z,x,A){var U="";A=Math.min(z.length,A);for(var ne=x;ne<A;++ne)U+=String.fromCharCode(z[ne]);return U}function me(z,x,A){var U=z.length;(!x||x<0)&&(x=0),(!A||A<0||A>U)&&(A=U);for(var ne="",ye=x;ye<A;++ye)ne+=Te[z[ye]];return ne}function Se(z,x,A){for(var U=z.slice(x,A),ne="",ye=0;ye<U.length-1;ye+=2)ne+=String.fromCharCode(U[ye]+U[ye+1]*256);return ne}u.prototype.slice=function(x,A){var U=this.length;x=~~x,A=A===void 0?U:~~A,x<0?(x+=U,x<0&&(x=0)):x>U&&(x=U),A<0?(A+=U,A<0&&(A=0)):A>U&&(A=U),A<x&&(A=x);var ne=this.subarray(x,A);return Object.setPrototypeOf(ne,u.prototype),ne};function K(z,x,A){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+x>A)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(x,A,U){x=x>>>0,A=A>>>0,U||K(x,A,this.length);for(var ne=this[x],ye=1,ue=0;++ue<A&&(ye*=256);)ne+=this[x+ue]*ye;return ne},u.prototype.readUintBE=u.prototype.readUIntBE=function(x,A,U){x=x>>>0,A=A>>>0,U||K(x,A,this.length);for(var ne=this[x+--A],ye=1;A>0&&(ye*=256);)ne+=this[x+--A]*ye;return ne},u.prototype.readUint8=u.prototype.readUInt8=function(x,A){return x=x>>>0,A||K(x,1,this.length),this[x]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(x,A){return x=x>>>0,A||K(x,2,this.length),this[x]|this[x+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(x,A){return x=x>>>0,A||K(x,2,this.length),this[x]<<8|this[x+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(x,A){return x=x>>>0,A||K(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(x,A){return x=x>>>0,A||K(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},u.prototype.readIntLE=function(x,A,U){x=x>>>0,A=A>>>0,U||K(x,A,this.length);for(var ne=this[x],ye=1,ue=0;++ue<A&&(ye*=256);)ne+=this[x+ue]*ye;return ye*=128,ne>=ye&&(ne-=Math.pow(2,8*A)),ne},u.prototype.readIntBE=function(x,A,U){x=x>>>0,A=A>>>0,U||K(x,A,this.length);for(var ne=A,ye=1,ue=this[x+--ne];ne>0&&(ye*=256);)ue+=this[x+--ne]*ye;return ye*=128,ue>=ye&&(ue-=Math.pow(2,8*A)),ue},u.prototype.readInt8=function(x,A){return x=x>>>0,A||K(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},u.prototype.readInt16LE=function(x,A){x=x>>>0,A||K(x,2,this.length);var U=this[x]|this[x+1]<<8;return U&32768?U|4294901760:U},u.prototype.readInt16BE=function(x,A){x=x>>>0,A||K(x,2,this.length);var U=this[x+1]|this[x]<<8;return U&32768?U|4294901760:U},u.prototype.readInt32LE=function(x,A){return x=x>>>0,A||K(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},u.prototype.readInt32BE=function(x,A){return x=x>>>0,A||K(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},u.prototype.readFloatLE=function(x,A){return x=x>>>0,A||K(x,4,this.length),n.read(this,x,!0,23,4)},u.prototype.readFloatBE=function(x,A){return x=x>>>0,A||K(x,4,this.length),n.read(this,x,!1,23,4)},u.prototype.readDoubleLE=function(x,A){return x=x>>>0,A||K(x,8,this.length),n.read(this,x,!0,52,8)},u.prototype.readDoubleBE=function(x,A){return x=x>>>0,A||K(x,8,this.length),n.read(this,x,!1,52,8)};function H(z,x,A,U,ne,ye){if(!u.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>ne||x<ye)throw new RangeError('"value" argument is out of bounds');if(A+U>z.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(x,A,U,ne){if(x=+x,A=A>>>0,U=U>>>0,!ne){var ye=Math.pow(2,8*U)-1;H(this,x,A,U,ye,0)}var ue=1,De=0;for(this[A]=x&255;++De<U&&(ue*=256);)this[A+De]=x/ue&255;return A+U},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(x,A,U,ne){if(x=+x,A=A>>>0,U=U>>>0,!ne){var ye=Math.pow(2,8*U)-1;H(this,x,A,U,ye,0)}var ue=U-1,De=1;for(this[A+ue]=x&255;--ue>=0&&(De*=256);)this[A+ue]=x/De&255;return A+U},u.prototype.writeUint8=u.prototype.writeUInt8=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,1,255,0),this[A]=x&255,A+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,2,65535,0),this[A]=x&255,this[A+1]=x>>>8,A+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,2,65535,0),this[A]=x>>>8,this[A+1]=x&255,A+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,4,4294967295,0),this[A+3]=x>>>24,this[A+2]=x>>>16,this[A+1]=x>>>8,this[A]=x&255,A+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,4,4294967295,0),this[A]=x>>>24,this[A+1]=x>>>16,this[A+2]=x>>>8,this[A+3]=x&255,A+4},u.prototype.writeIntLE=function(x,A,U,ne){if(x=+x,A=A>>>0,!ne){var ye=Math.pow(2,8*U-1);H(this,x,A,U,ye-1,-ye)}var ue=0,De=1,Pe=0;for(this[A]=x&255;++ue<U&&(De*=256);)x<0&&Pe===0&&this[A+ue-1]!==0&&(Pe=1),this[A+ue]=(x/De>>0)-Pe&255;return A+U},u.prototype.writeIntBE=function(x,A,U,ne){if(x=+x,A=A>>>0,!ne){var ye=Math.pow(2,8*U-1);H(this,x,A,U,ye-1,-ye)}var ue=U-1,De=1,Pe=0;for(this[A+ue]=x&255;--ue>=0&&(De*=256);)x<0&&Pe===0&&this[A+ue+1]!==0&&(Pe=1),this[A+ue]=(x/De>>0)-Pe&255;return A+U},u.prototype.writeInt8=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,1,127,-128),x<0&&(x=255+x+1),this[A]=x&255,A+1},u.prototype.writeInt16LE=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,2,32767,-32768),this[A]=x&255,this[A+1]=x>>>8,A+2},u.prototype.writeInt16BE=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,2,32767,-32768),this[A]=x>>>8,this[A+1]=x&255,A+2},u.prototype.writeInt32LE=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,4,2147483647,-2147483648),this[A]=x&255,this[A+1]=x>>>8,this[A+2]=x>>>16,this[A+3]=x>>>24,A+4},u.prototype.writeInt32BE=function(x,A,U){return x=+x,A=A>>>0,U||H(this,x,A,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[A]=x>>>24,this[A+1]=x>>>16,this[A+2]=x>>>8,this[A+3]=x&255,A+4};function ae(z,x,A,U,ne,ye){if(A+U>z.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function de(z,x,A,U,ne){return x=+x,A=A>>>0,ne||ae(z,x,A,4),n.write(z,x,A,U,23,4),A+4}u.prototype.writeFloatLE=function(x,A,U){return de(this,x,A,!0,U)},u.prototype.writeFloatBE=function(x,A,U){return de(this,x,A,!1,U)};function _e(z,x,A,U,ne){return x=+x,A=A>>>0,ne||ae(z,x,A,8),n.write(z,x,A,U,52,8),A+8}u.prototype.writeDoubleLE=function(x,A,U){return _e(this,x,A,!0,U)},u.prototype.writeDoubleBE=function(x,A,U){return _e(this,x,A,!1,U)},u.prototype.copy=function(x,A,U,ne){if(!u.isBuffer(x))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&ne!==0&&(ne=this.length),A>=x.length&&(A=x.length),A||(A=0),ne>0&&ne<U&&(ne=U),ne===U||x.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),x.length-A<ne-U&&(ne=x.length-A+U);var ye=ne-U;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(A,U,ne):Uint8Array.prototype.set.call(x,this.subarray(U,ne),A),ye},u.prototype.fill=function(x,A,U,ne){if(typeof x=="string"){if(typeof A=="string"?(ne=A,A=0,U=this.length):typeof U=="string"&&(ne=U,U=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!u.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(x.length===1){var ye=x.charCodeAt(0);(ne==="utf8"&&ye<128||ne==="latin1")&&(x=ye)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(A<0||this.length<A||this.length<U)throw new RangeError("Out of range index");if(U<=A)return this;A=A>>>0,U=U===void 0?this.length:U>>>0,x||(x=0);var ue;if(typeof x=="number")for(ue=A;ue<U;++ue)this[ue]=x;else{var De=u.isBuffer(x)?x:u.from(x,ne),Pe=De.length;if(Pe===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(ue=0;ue<U-A;++ue)this[ue+A]=De[ue%Pe]}return this};var le=/[^+/0-9A-Za-z-_]/g;function B(z){if(z=z.split("=")[0],z=z.trim().replace(le,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function M(z,x){x=x||1/0;for(var A,U=z.length,ne=null,ye=[],ue=0;ue<U;++ue){if(A=z.charCodeAt(ue),A>55295&&A<57344){if(!ne){if(A>56319){(x-=3)>-1&&ye.push(239,191,189);continue}else if(ue+1===U){(x-=3)>-1&&ye.push(239,191,189);continue}ne=A;continue}if(A<56320){(x-=3)>-1&&ye.push(239,191,189),ne=A;continue}A=(ne-55296<<10|A-56320)+65536}else ne&&(x-=3)>-1&&ye.push(239,191,189);if(ne=null,A<128){if((x-=1)<0)break;ye.push(A)}else if(A<2048){if((x-=2)<0)break;ye.push(A>>6|192,A&63|128)}else if(A<65536){if((x-=3)<0)break;ye.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((x-=4)<0)break;ye.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return ye}function oe(z){for(var x=[],A=0;A<z.length;++A)x.push(z.charCodeAt(A)&255);return x}function ie(z,x){for(var A,U,ne,ye=[],ue=0;ue<z.length&&!((x-=2)<0);++ue)A=z.charCodeAt(ue),U=A>>8,ne=A%256,ye.push(ne),ye.push(U);return ye}function Q(z){return e.toByteArray(B(z))}function J(z,x,A,U){for(var ne=0;ne<U&&!(ne+A>=x.length||ne>=z.length);++ne)x[ne+A]=z[ne];return ne}function Ce(z,x){return z instanceof x||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===x.name}function F(z){return z!==z}var Te=function(){for(var z="0123456789abcdef",x=new Array(256),A=0;A<16;++A)for(var U=A*16,ne=0;ne<16;++ne)x[U+ne]=z[A]+z[ne];return x}()}(ET)),ET}var ST={},TT={},IT,cL;function oj(){return cL||(cL=1,IT=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),IT}var CT,fL;function dR(){if(fL)return CT;fL=1;var t=oj();return CT=function(){return t()&&!!Symbol.toStringTag},CT}var xT,hL;function qie(){return hL||(hL=1,xT=Error),xT}var kT,dL;function Gie(){return dL||(dL=1,kT=EvalError),kT}var AT,pL;function Kie(){return pL||(pL=1,AT=RangeError),AT}var RT,mL;function $ie(){return mL||(mL=1,RT=ReferenceError),RT}var NT,gL;function sj(){return gL||(gL=1,NT=SyntaxError),NT}var OT,vL;function X1(){return vL||(vL=1,OT=TypeError),OT}var PT,yL;function Yie(){return yL||(yL=1,PT=URIError),PT}var DT,wL;function Xie(){if(wL)return DT;wL=1;var t=typeof Symbol<"u"&&Symbol,e=oj();return DT=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},DT}var LT,_L;function Qie(){if(_L)return LT;_L=1;var t={__proto__:null,foo:{}},e=Object;return LT=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof e)},LT}var MT,bL;function Jie(){if(bL)return MT;bL=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,d){for(var p=[],v=0;v<c.length;v+=1)p[v]=c[v];for(var y=0;y<d.length;y+=1)p[y+c.length]=d[y];return p},o=function(c,d){for(var p=[],v=d,y=0;v<c.length;v+=1,y+=1)p[y]=c[v];return p},a=function(u,c){for(var d="",p=0;p<u.length;p+=1)d+=u[p],p+1<u.length&&(d+=c);return d};return MT=function(c){var d=this;if(typeof d!="function"||e.apply(d)!==r)throw new TypeError(t+d);for(var p=o(arguments,1),v,y=function(){if(this instanceof v){var T=d.apply(this,i(p,arguments));return Object(T)===T?T:this}return d.apply(c,i(p,arguments))},w=n(0,d.length-p.length),E=[],b=0;b<w;b++)E[b]="$"+b;if(v=Function("binder","return function ("+a(E,",")+"){ return binder.apply(this,arguments); }")(y),d.prototype){var I=function(){};I.prototype=d.prototype,v.prototype=new I,I.prototype=null}return v},MT}var FT,EL;function pR(){if(EL)return FT;EL=1;var t=Jie();return FT=Function.prototype.bind||t,FT}var UT,SL;function Zie(){if(SL)return UT;SL=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=pR();return UT=n.call(t,e),UT}var jT,TL;function iw(){if(TL)return jT;TL=1;var t,e=qie(),n=Gie(),r=Kie(),i=$ie(),o=sj(),a=X1(),u=Yie(),c=Function,d=function(re){try{return c('"use strict"; return ('+re+").constructor;")()}catch{}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch{p=null}var v=function(){throw new a},y=p?function(){try{return arguments.callee,v}catch{try{return p(arguments,"callee").get}catch{return v}}}():v,w=Xie()(),E=Qie()(),b=Object.getPrototypeOf||(E?function(re){return re.__proto__}:null),I={},T=typeof Uint8Array>"u"||!b?t:b(Uint8Array),R={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":w&&b?b([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w&&b?b(b([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!w||!b?t:b(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":r,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!w||!b?t:b(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w&&b?b(""[Symbol.iterator]()):t,"%Symbol%":w?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":y,"%TypedArray%":T,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(b)try{null.error}catch(re){var C=b(b(re));R["%Error.prototype%"]=C}var k=function re(pe){var me;if(pe==="%AsyncFunction%")me=d("async function () {}");else if(pe==="%GeneratorFunction%")me=d("function* () {}");else if(pe==="%AsyncGeneratorFunction%")me=d("async function* () {}");else if(pe==="%AsyncGenerator%"){var Se=re("%AsyncGeneratorFunction%");Se&&(me=Se.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var K=re("%AsyncGenerator%");K&&b&&(me=b(K.prototype))}return R[pe]=me,me},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=pR(),D=Zie(),X=W.call(Function.call,Array.prototype.concat),V=W.call(Function.apply,Array.prototype.splice),se=W.call(Function.call,String.prototype.replace),Ie=W.call(Function.call,String.prototype.slice),G=W.call(Function.call,RegExp.prototype.exec),ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,he=function(pe){var me=Ie(pe,0,1),Se=Ie(pe,-1);if(me==="%"&&Se!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Se==="%"&&me!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var K=[];return se(pe,ee,function(H,ae,de,_e){K[K.length]=de?se(_e,j,"$1"):ae||H}),K},Ee=function(pe,me){var Se=pe,K;if(D(O,Se)&&(K=O[Se],Se="%"+K[0]+"%"),D(R,Se)){var H=R[Se];if(H===I&&(H=k(Se)),typeof H>"u"&&!me)throw new a("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:K,name:Se,value:H}}throw new o("intrinsic "+pe+" does not exist!")};return jT=function(pe,me){if(typeof pe!="string"||pe.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof me!="boolean")throw new a('"allowMissing" argument must be a boolean');if(G(/^%?[^%]*%?$/,pe)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Se=he(pe),K=Se.length>0?Se[0]:"",H=Ee("%"+K+"%",me),ae=H.name,de=H.value,_e=!1,le=H.alias;le&&(K=le[0],V(Se,X([0,1],le)));for(var B=1,M=!0;B<Se.length;B+=1){var oe=Se[B],ie=Ie(oe,0,1),Q=Ie(oe,-1);if((ie==='"'||ie==="'"||ie==="`"||Q==='"'||Q==="'"||Q==="`")&&ie!==Q)throw new o("property names with quotes must have matching quotes");if((oe==="constructor"||!M)&&(_e=!0),K+="."+oe,ae="%"+K+"%",D(R,ae))de=R[ae];else if(de!=null){if(!(oe in de)){if(!me)throw new a("base intrinsic for "+pe+" exists, but the property is not available.");return}if(p&&B+1>=Se.length){var J=p(de,oe);M=!!J,M&&"get"in J&&!("originalValue"in J.get)?de=J.get:de=de[oe]}else M=D(de,oe),de=de[oe];M&&!_e&&(R[ae]=de)}}return de},jT}var BT={exports:{}},VT,IL;function mR(){if(IL)return VT;IL=1;var t=iw(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return VT=e,VT}var zT,CL;function gR(){if(CL)return zT;CL=1;var t=iw(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return zT=e,zT}var WT,xL;function eoe(){if(xL)return WT;xL=1;var t=mR(),e=sj(),n=X1(),r=gR();return WT=function(o,a,u){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,v=arguments.length>6?arguments[6]:!1,y=!!r&&r(o,a);if(t)t(o,a,{configurable:p===null&&y?y.configurable:!p,enumerable:c===null&&y?y.enumerable:!c,value:u,writable:d===null&&y?y.writable:!d});else if(v||!c&&!d&&!p)o[a]=u;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},WT}var HT,kL;function toe(){if(kL)return HT;kL=1;var t=mR(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},HT=e,HT}var qT,AL;function noe(){if(AL)return qT;AL=1;var t=iw(),e=eoe(),n=toe()(),r=gR(),i=X1(),o=t("%Math.floor%");return qT=function(u,c){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||o(c)!==c)throw new i("`length` must be a positive 32-bit integer");var d=arguments.length>2&&!!arguments[2],p=!0,v=!0;if("length"in u&&r){var y=r(u,"length");y&&!y.configurable&&(p=!1),y&&!y.writable&&(v=!1)}return(p||v||!d)&&(n?e(u,"length",c,!0,!0):e(u,"length",c)),u},qT}var RL;function aj(){return RL||(RL=1,function(t){var e=pR(),n=iw(),r=noe(),i=X1(),o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),u=n("%Reflect.apply%",!0)||e.call(a,o),c=mR(),d=n("%Math.max%");t.exports=function(y){if(typeof y!="function")throw new i("a function is required");var w=u(e,a,arguments);return r(w,1+d(0,y.length-(arguments.length-1)),!0)};var p=function(){return u(e,o,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p}(BT)),BT.exports}var GT,NL;function uj(){if(NL)return GT;NL=1;var t=iw(),e=aj(),n=e(t("String.prototype.indexOf"));return GT=function(i,o){var a=t(i,!!o);return typeof a=="function"&&n(i,".prototype.")>-1?e(a):a},GT}var KT,OL;function roe(){if(OL)return KT;OL=1;var t=dR()(),e=uj(),n=e("Object.prototype.toString"),r=function(u){return t&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:n(u)==="[object Arguments]"},i=function(u){return r(u)?!0:u!==null&&typeof u=="object"&&typeof u.length=="number"&&u.length>=0&&n(u)!=="[object Array]"&&n(u.callee)==="[object Function]"},o=function(){return r(arguments)}();return r.isLegacyArguments=i,KT=o?r:i,KT}var $T,PL;function ioe(){if(PL)return $T;PL=1;var t=Object.prototype.toString,e=Function.prototype.toString,n=/^\s*(?:function)?\*/,r=dR()(),i=Object.getPrototypeOf,o=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},a;return $T=function(c){if(typeof c!="function")return!1;if(n.test(e.call(c)))return!0;if(!r){var d=t.call(c);return d==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var p=o();a=p?i(p):!1}return i(c)===a},$T}var YT,DL;function ooe(){if(DL)return YT;DL=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(R){R!==r&&(e=null)}else e=null;var i=/^\s*class\b/,o=function(C){try{var k=t.call(C);return i.test(k)}catch{return!1}},a=function(C){try{return o(C)?!1:(t.call(C),!0)}catch{return!1}},u=Object.prototype.toString,c="[object Object]",d="[object Function]",p="[object GeneratorFunction]",v="[object HTMLAllCollection]",y="[object HTML document.all class]",w="[object HTMLCollection]",E=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var T=document.all;u.call(T)===u.call(document.all)&&(I=function(C){if((b||!C)&&(typeof C>"u"||typeof C=="object"))try{var k=u.call(C);return(k===v||k===y||k===w||k===c)&&C("")==null}catch{}return!1})}return YT=e?function(C){if(I(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;try{e(C,null,n)}catch(k){if(k!==r)return!1}return!o(C)&&a(C)}:function(C){if(I(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;if(E)return a(C);if(o(C))return!1;var k=u.call(C);return k!==d&&k!==p&&!/^\[object HTML/.test(k)?!1:a(C)},YT}var XT,LL;function soe(){if(LL)return XT;LL=1;var t=ooe(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(c,d,p){for(var v=0,y=c.length;v<y;v++)n.call(c,v)&&(p==null?d(c[v],v,c):d.call(p,c[v],v,c))},i=function(c,d,p){for(var v=0,y=c.length;v<y;v++)p==null?d(c.charAt(v),v,c):d.call(p,c.charAt(v),v,c)},o=function(c,d,p){for(var v in c)n.call(c,v)&&(p==null?d(c[v],v,c):d.call(p,c[v],v,c))},a=function(c,d,p){if(!t(d))throw new TypeError("iterator must be a function");var v;arguments.length>=3&&(v=p),e.call(c)==="[object Array]"?r(c,d,v):typeof c=="string"?i(c,d,v):o(c,d,v)};return XT=a,XT}var QT,ML;function aoe(){return ML||(ML=1,QT=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),QT}var JT,FL;function uoe(){if(FL)return JT;FL=1;var t=aoe(),e=typeof globalThis>"u"?Aa:globalThis;return JT=function(){for(var r=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(r[r.length]=t[i]);return r},JT}var ZT,UL;function lj(){if(UL)return ZT;UL=1;var t=soe(),e=uoe(),n=aj(),r=uj(),i=gR(),o=r("Object.prototype.toString"),a=dR()(),u=typeof globalThis>"u"?Aa:globalThis,c=e(),d=r("String.prototype.slice"),p=Object.getPrototypeOf,v=r("Array.prototype.indexOf",!0)||function(I,T){for(var R=0;R<I.length;R+=1)if(I[R]===T)return R;return-1},y={__proto__:null};a&&i&&p?t(c,function(b){var I=new u[b];if(Symbol.toStringTag in I){var T=p(I),R=i(T,Symbol.toStringTag);if(!R){var C=p(T);R=i(C,Symbol.toStringTag)}y["$"+b]=n(R.get)}}):t(c,function(b){var I=new u[b],T=I.slice||I.set;T&&(y["$"+b]=n(T))});var w=function(I){var T=!1;return t(y,function(R,C){if(!T)try{"$"+R(I)===C&&(T=d(C,1))}catch{}}),T},E=function(I){var T=!1;return t(y,function(R,C){if(!T)try{R(I),T=d(C,1)}catch{}}),T};return ZT=function(I){if(!I||typeof I!="object")return!1;if(!a){var T=d(o(I),8,-1);return v(c,T)>-1?T:T!=="Object"?!1:E(I)}return i?w(I):null},ZT}var eI,jL;function loe(){if(jL)return eI;jL=1;var t=lj();return eI=function(n){return!!t(n)},eI}var BL;function coe(){return BL||(BL=1,function(t){var e=roe(),n=ioe(),r=lj(),i=loe();function o(U){return U.call.bind(U)}var a=typeof BigInt<"u",u=typeof Symbol<"u",c=o(Object.prototype.toString),d=o(Number.prototype.valueOf),p=o(String.prototype.valueOf),v=o(Boolean.prototype.valueOf);if(a)var y=o(BigInt.prototype.valueOf);if(u)var w=o(Symbol.prototype.valueOf);function E(U,ne){if(typeof U!="object")return!1;try{return ne(U),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=i;function b(U){return typeof Promise<"u"&&U instanceof Promise||U!==null&&typeof U=="object"&&typeof U.then=="function"&&typeof U.catch=="function"}t.isPromise=b;function I(U){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(U):i(U)||ae(U)}t.isArrayBufferView=I;function T(U){return r(U)==="Uint8Array"}t.isUint8Array=T;function R(U){return r(U)==="Uint8ClampedArray"}t.isUint8ClampedArray=R;function C(U){return r(U)==="Uint16Array"}t.isUint16Array=C;function k(U){return r(U)==="Uint32Array"}t.isUint32Array=k;function O(U){return r(U)==="Int8Array"}t.isInt8Array=O;function W(U){return r(U)==="Int16Array"}t.isInt16Array=W;function D(U){return r(U)==="Int32Array"}t.isInt32Array=D;function X(U){return r(U)==="Float32Array"}t.isFloat32Array=X;function V(U){return r(U)==="Float64Array"}t.isFloat64Array=V;function se(U){return r(U)==="BigInt64Array"}t.isBigInt64Array=se;function Ie(U){return r(U)==="BigUint64Array"}t.isBigUint64Array=Ie;function G(U){return c(U)==="[object Map]"}G.working=typeof Map<"u"&&G(new Map);function ee(U){return typeof Map>"u"?!1:G.working?G(U):U instanceof Map}t.isMap=ee;function j(U){return c(U)==="[object Set]"}j.working=typeof Set<"u"&&j(new Set);function he(U){return typeof Set>"u"?!1:j.working?j(U):U instanceof Set}t.isSet=he;function Ee(U){return c(U)==="[object WeakMap]"}Ee.working=typeof WeakMap<"u"&&Ee(new WeakMap);function re(U){return typeof WeakMap>"u"?!1:Ee.working?Ee(U):U instanceof WeakMap}t.isWeakMap=re;function pe(U){return c(U)==="[object WeakSet]"}pe.working=typeof WeakSet<"u"&&pe(new WeakSet);function me(U){return pe(U)}t.isWeakSet=me;function Se(U){return c(U)==="[object ArrayBuffer]"}Se.working=typeof ArrayBuffer<"u"&&Se(new ArrayBuffer);function K(U){return typeof ArrayBuffer>"u"?!1:Se.working?Se(U):U instanceof ArrayBuffer}t.isArrayBuffer=K;function H(U){return c(U)==="[object DataView]"}H.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&H(new DataView(new ArrayBuffer(1),0,1));function ae(U){return typeof DataView>"u"?!1:H.working?H(U):U instanceof DataView}t.isDataView=ae;var de=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function _e(U){return c(U)==="[object SharedArrayBuffer]"}function le(U){return typeof de>"u"?!1:(typeof _e.working>"u"&&(_e.working=_e(new de)),_e.working?_e(U):U instanceof de)}t.isSharedArrayBuffer=le;function B(U){return c(U)==="[object AsyncFunction]"}t.isAsyncFunction=B;function M(U){return c(U)==="[object Map Iterator]"}t.isMapIterator=M;function oe(U){return c(U)==="[object Set Iterator]"}t.isSetIterator=oe;function ie(U){return c(U)==="[object Generator]"}t.isGeneratorObject=ie;function Q(U){return c(U)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Q;function J(U){return E(U,d)}t.isNumberObject=J;function Ce(U){return E(U,p)}t.isStringObject=Ce;function F(U){return E(U,v)}t.isBooleanObject=F;function Te(U){return a&&E(U,y)}t.isBigIntObject=Te;function z(U){return u&&E(U,w)}t.isSymbolObject=z;function x(U){return J(U)||Ce(U)||F(U)||Te(U)||z(U)}t.isBoxedPrimitive=x;function A(U){return typeof Uint8Array<"u"&&(K(U)||le(U))}t.isAnyArrayBuffer=A,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(U){Object.defineProperty(t,U,{enumerable:!1,value:function(){throw new Error(U+" is not supported in userland")}})})}(TT)),TT}var tI,VL;function foe(){return VL||(VL=1,tI=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),tI}var zL;function cj(){return zL||(zL=1,function(t){var e=Object.getOwnPropertyDescriptors||function(ae){for(var de=Object.keys(ae),_e={},le=0;le<de.length;le++)_e[de[le]]=Object.getOwnPropertyDescriptor(ae,de[le]);return _e},n=/%[sdj%]/g;t.format=function(H){if(!O(H)){for(var ae=[],de=0;de<arguments.length;de++)ae.push(a(arguments[de]));return ae.join(" ")}for(var de=1,_e=arguments,le=_e.length,B=String(H).replace(n,function(oe){if(oe==="%%")return"%";if(de>=le)return oe;switch(oe){case"%s":return String(_e[de++]);case"%d":return Number(_e[de++]);case"%j":try{return JSON.stringify(_e[de++])}catch{return"[Circular]"}default:return oe}}),M=_e[de];de<le;M=_e[++de])R(M)||!V(M)?B+=" "+M:B+=" "+a(M);return B},t.deprecate=function(H,ae){if(typeof kt<"u"&&kt.noDeprecation===!0)return H;if(typeof kt>"u")return function(){return t.deprecate(H,ae).apply(this,arguments)};var de=!1;function _e(){if(!de){if(kt.throwDeprecation)throw new Error(ae);kt.traceDeprecation?console.trace(ae):console.error(ae),de=!0}return H.apply(this,arguments)}return _e};var r={},i=/^$/;if(kt.env.NODE_DEBUG){var o=kt.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}t.debuglog=function(H){if(H=H.toUpperCase(),!r[H])if(i.test(H)){var ae=kt.pid;r[H]=function(){var de=t.format.apply(t,arguments);console.error("%s %d: %s",H,ae,de)}}else r[H]=function(){};return r[H]};function a(H,ae){var de={seen:[],stylize:c};return arguments.length>=3&&(de.depth=arguments[2]),arguments.length>=4&&(de.colors=arguments[3]),T(ae)?de.showHidden=ae:ae&&t._extend(de,ae),D(de.showHidden)&&(de.showHidden=!1),D(de.depth)&&(de.depth=2),D(de.colors)&&(de.colors=!1),D(de.customInspect)&&(de.customInspect=!0),de.colors&&(de.stylize=u),p(de,H,de.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(H,ae){var de=a.styles[ae];return de?"\x1B["+a.colors[de][0]+"m"+H+"\x1B["+a.colors[de][1]+"m":H}function c(H,ae){return H}function d(H){var ae={};return H.forEach(function(de,_e){ae[de]=!0}),ae}function p(H,ae,de){if(H.customInspect&&ae&&G(ae.inspect)&&ae.inspect!==t.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var _e=ae.inspect(de,H);return O(_e)||(_e=p(H,_e,de)),_e}var le=v(H,ae);if(le)return le;var B=Object.keys(ae),M=d(B);if(H.showHidden&&(B=Object.getOwnPropertyNames(ae)),Ie(ae)&&(B.indexOf("message")>=0||B.indexOf("description")>=0))return y(ae);if(B.length===0){if(G(ae)){var oe=ae.name?": "+ae.name:"";return H.stylize("[Function"+oe+"]","special")}if(X(ae))return H.stylize(RegExp.prototype.toString.call(ae),"regexp");if(se(ae))return H.stylize(Date.prototype.toString.call(ae),"date");if(Ie(ae))return y(ae)}var ie="",Q=!1,J=["{","}"];if(I(ae)&&(Q=!0,J=["[","]"]),G(ae)){var Ce=ae.name?": "+ae.name:"";ie=" [Function"+Ce+"]"}if(X(ae)&&(ie=" "+RegExp.prototype.toString.call(ae)),se(ae)&&(ie=" "+Date.prototype.toUTCString.call(ae)),Ie(ae)&&(ie=" "+y(ae)),B.length===0&&(!Q||ae.length==0))return J[0]+ie+J[1];if(de<0)return X(ae)?H.stylize(RegExp.prototype.toString.call(ae),"regexp"):H.stylize("[Object]","special");H.seen.push(ae);var F;return Q?F=w(H,ae,de,M,B):F=B.map(function(Te){return E(H,ae,de,M,Te,Q)}),H.seen.pop(),b(F,ie,J)}function v(H,ae){if(D(ae))return H.stylize("undefined","undefined");if(O(ae)){var de="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(de,"string")}if(k(ae))return H.stylize(""+ae,"number");if(T(ae))return H.stylize(""+ae,"boolean");if(R(ae))return H.stylize("null","null")}function y(H){return"["+Error.prototype.toString.call(H)+"]"}function w(H,ae,de,_e,le){for(var B=[],M=0,oe=ae.length;M<oe;++M)pe(ae,String(M))?B.push(E(H,ae,de,_e,String(M),!0)):B.push("");return le.forEach(function(ie){ie.match(/^\d+$/)||B.push(E(H,ae,de,_e,ie,!0))}),B}function E(H,ae,de,_e,le,B){var M,oe,ie;if(ie=Object.getOwnPropertyDescriptor(ae,le)||{value:ae[le]},ie.get?ie.set?oe=H.stylize("[Getter/Setter]","special"):oe=H.stylize("[Getter]","special"):ie.set&&(oe=H.stylize("[Setter]","special")),pe(_e,le)||(M="["+le+"]"),oe||(H.seen.indexOf(ie.value)<0?(R(de)?oe=p(H,ie.value,null):oe=p(H,ie.value,de-1),oe.indexOf(`
`)>-1&&(B?oe=oe.split(`
`).map(function(Q){return"  "+Q}).join(`
`).slice(2):oe=`
`+oe.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):oe=H.stylize("[Circular]","special")),D(M)){if(B&&le.match(/^\d+$/))return oe;M=JSON.stringify(""+le),M.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.slice(1,-1),M=H.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=H.stylize(M,"string"))}return M+": "+oe}function b(H,ae,de){var _e=H.reduce(function(le,B){return B.indexOf(`
`)>=0,le+B.replace(/\u001b\[\d\d?m/g,"").length+1},0);return _e>60?de[0]+(ae===""?"":ae+`
 `)+" "+H.join(`,
  `)+" "+de[1]:de[0]+ae+" "+H.join(", ")+" "+de[1]}t.types=coe();function I(H){return Array.isArray(H)}t.isArray=I;function T(H){return typeof H=="boolean"}t.isBoolean=T;function R(H){return H===null}t.isNull=R;function C(H){return H==null}t.isNullOrUndefined=C;function k(H){return typeof H=="number"}t.isNumber=k;function O(H){return typeof H=="string"}t.isString=O;function W(H){return typeof H=="symbol"}t.isSymbol=W;function D(H){return H===void 0}t.isUndefined=D;function X(H){return V(H)&&j(H)==="[object RegExp]"}t.isRegExp=X,t.types.isRegExp=X;function V(H){return typeof H=="object"&&H!==null}t.isObject=V;function se(H){return V(H)&&j(H)==="[object Date]"}t.isDate=se,t.types.isDate=se;function Ie(H){return V(H)&&(j(H)==="[object Error]"||H instanceof Error)}t.isError=Ie,t.types.isNativeError=Ie;function G(H){return typeof H=="function"}t.isFunction=G;function ee(H){return H===null||typeof H=="boolean"||typeof H=="number"||typeof H=="string"||typeof H=="symbol"||typeof H>"u"}t.isPrimitive=ee,t.isBuffer=foe();function j(H){return Object.prototype.toString.call(H)}function he(H){return H<10?"0"+H.toString(10):H.toString(10)}var Ee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function re(){var H=new Date,ae=[he(H.getHours()),he(H.getMinutes()),he(H.getSeconds())].join(":");return[H.getDate(),Ee[H.getMonth()],ae].join(" ")}t.log=function(){console.log("%s - %s",re(),t.format.apply(t,arguments))},t.inherits=Ic(),t._extend=function(H,ae){if(!ae||!V(ae))return H;for(var de=Object.keys(ae),_e=de.length;_e--;)H[de[_e]]=ae[de[_e]];return H};function pe(H,ae){return Object.prototype.hasOwnProperty.call(H,ae)}var me=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(ae){if(typeof ae!="function")throw new TypeError('The "original" argument must be of type Function');if(me&&ae[me]){var de=ae[me];if(typeof de!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(de,me,{value:de,enumerable:!1,writable:!1,configurable:!0}),de}function de(){for(var _e,le,B=new Promise(function(ie,Q){_e=ie,le=Q}),M=[],oe=0;oe<arguments.length;oe++)M.push(arguments[oe]);M.push(function(ie,Q){ie?le(ie):_e(Q)});try{ae.apply(this,M)}catch(ie){le(ie)}return B}return Object.setPrototypeOf(de,Object.getPrototypeOf(ae)),me&&Object.defineProperty(de,me,{value:de,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(de,e(ae))},t.promisify.custom=me;function Se(H,ae){if(!H){var de=new Error("Promise was rejected with a falsy value");de.reason=H,H=de}return ae(H)}function K(H){if(typeof H!="function")throw new TypeError('The "original" argument must be of type Function');function ae(){for(var de=[],_e=0;_e<arguments.length;_e++)de.push(arguments[_e]);var le=de.pop();if(typeof le!="function")throw new TypeError("The last argument must be of type Function");var B=this,M=function(){return le.apply(B,arguments)};H.apply(this,de).then(function(oe){kt.nextTick(M.bind(null,null,oe))},function(oe){kt.nextTick(Se.bind(null,oe,M))})}return Object.setPrototypeOf(ae,Object.getPrototypeOf(H)),Object.defineProperties(ae,e(H)),ae}t.callbackify=K}(ST)),ST}var nI,WL;function hoe(){if(WL)return nI;WL=1;function t(y,w){var E=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);w&&(b=b.filter(function(I){return Object.getOwnPropertyDescriptor(y,I).enumerable})),E.push.apply(E,b)}return E}function e(y){for(var w=1;w<arguments.length;w++){var E=arguments[w]!=null?arguments[w]:{};w%2?t(Object(E),!0).forEach(function(b){n(y,b,E[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(E)):t(Object(E)).forEach(function(b){Object.defineProperty(y,b,Object.getOwnPropertyDescriptor(E,b))})}return y}function n(y,w,E){return w in y?Object.defineProperty(y,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):y[w]=E,y}function r(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function i(y,w){for(var E=0;E<w.length;E++){var b=w[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}function o(y,w,E){return i(y.prototype,w),y}var a=Y1(),u=a.Buffer,c=cj(),d=c.inspect,p=d&&d.custom||"inspect";function v(y,w,E){u.prototype.copy.call(y,w,E)}return nI=function(){function y(){r(this,y),this.head=null,this.tail=null,this.length=0}return o(y,[{key:"push",value:function(E){var b={data:E,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(E){var b={data:E,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var b=this.head,I=""+b.data;b=b.next;)I+=E+b.data;return I}},{key:"concat",value:function(E){if(this.length===0)return u.alloc(0);for(var b=u.allocUnsafe(E>>>0),I=this.head,T=0;I;)v(I.data,b,T),T+=I.data.length,I=I.next;return b}},{key:"consume",value:function(E,b){var I;return E<this.head.data.length?(I=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?I=this.shift():I=b?this._getString(E):this._getBuffer(E),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var b=this.head,I=1,T=b.data;for(E-=T.length;b=b.next;){var R=b.data,C=E>R.length?R.length:E;if(C===R.length?T+=R:T+=R.slice(0,E),E-=C,E===0){C===R.length?(++I,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=R.slice(C));break}++I}return this.length-=I,T}},{key:"_getBuffer",value:function(E){var b=u.allocUnsafe(E),I=this.head,T=1;for(I.data.copy(b),E-=I.data.length;I=I.next;){var R=I.data,C=E>R.length?R.length:E;if(R.copy(b,b.length-E,0,C),E-=C,E===0){C===R.length?(++T,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=R.slice(C));break}++T}return this.length-=T,b}},{key:p,value:function(E,b){return d(this,e({},b,{depth:0,customInspect:!1}))}}]),y}(),nI}var rI,HL;function fj(){if(HL)return rI;HL=1;function t(a,u){var c=this,d=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return d||p?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,kt.nextTick(i,this,a)):kt.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(v){!u&&v?c._writableState?c._writableState.errorEmitted?kt.nextTick(n,c):(c._writableState.errorEmitted=!0,kt.nextTick(e,c,v)):kt.nextTick(e,c,v):u?(kt.nextTick(n,c),u(v)):kt.nextTick(n,c)}),this)}function e(a,u){i(a,u),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,u){a.emit("error",u)}function o(a,u){var c=a._readableState,d=a._writableState;c&&c.autoDestroy||d&&d.autoDestroy?a.destroy(u):a.emit("error",u)}return rI={destroy:t,undestroy:r,errorOrDestroy:o},rI}var iI={},qL;function Em(){if(qL)return iI;qL=1;function t(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c}var e={};function n(u,c,d){d||(d=Error);function p(y,w,E){return typeof c=="string"?c:c(y,w,E)}var v=function(y){t(w,y);function w(E,b,I){return y.call(this,p(E,b,I))||this}return w}(d);v.prototype.name=d.name,v.prototype.code=u,e[u]=v}function r(u,c){if(Array.isArray(u)){var d=u.length;return u=u.map(function(p){return String(p)}),d>2?"one of ".concat(c," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}else return"of ".concat(c," ").concat(String(u))}function i(u,c,d){return u.substr(0,c.length)===c}function o(u,c,d){return(d===void 0||d>u.length)&&(d=u.length),u.substring(d-c.length,d)===c}function a(u,c,d){return typeof d!="number"&&(d=0),d+c.length>u.length?!1:u.indexOf(c,d)!==-1}return n("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(u,c,d){var p;typeof c=="string"&&i(c,"not ")?(p="must not be",c=c.replace(/^not /,"")):p="must be";var v;if(o(u," argument"))v="The ".concat(u," ").concat(p," ").concat(r(c,"type"));else{var y=a(u,".")?"property":"argument";v='The "'.concat(u,'" ').concat(y," ").concat(p," ").concat(r(c,"type"))}return v+=". Received type ".concat(typeof d),v},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),iI.codes=e,iI}var oI,GL;function hj(){if(GL)return oI;GL=1;var t=Em().codes.ERR_INVALID_OPT_VALUE;function e(r,i,o){return r.highWaterMark!=null?r.highWaterMark:i?r[o]:null}function n(r,i,o,a){var u=e(i,a,o);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var c=a?o:"highWaterMark";throw new t(c,u)}return Math.floor(u)}return r.objectMode?16:16*1024}return oI={getHighWaterMark:n},oI}var sI,KL;function doe(){if(KL)return sI;KL=1,sI=t;function t(n,r){if(e("noDeprecation"))return n;var i=!1;function o(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return o}function e(n){try{if(!Aa.localStorage)return!1}catch{return!1}var r=Aa.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return sI}var aI,$L;function dj(){if($L)return aI;$L=1,aI=X;function t(le){var B=this;this.next=null,this.entry=null,this.finish=function(){_e(B,le)}}var e;X.WritableState=W;var n={deprecate:doe()},r=ij(),i=Y1().Buffer,o=Aa.Uint8Array||function(){};function a(le){return i.from(le)}function u(le){return i.isBuffer(le)||le instanceof o}var c=fj(),d=hj(),p=d.getHighWaterMark,v=Em().codes,y=v.ERR_INVALID_ARG_TYPE,w=v.ERR_METHOD_NOT_IMPLEMENTED,E=v.ERR_MULTIPLE_CALLBACK,b=v.ERR_STREAM_CANNOT_PIPE,I=v.ERR_STREAM_DESTROYED,T=v.ERR_STREAM_NULL_VALUES,R=v.ERR_STREAM_WRITE_AFTER_END,C=v.ERR_UNKNOWN_ENCODING,k=c.errorOrDestroy;Ic()(X,r);function O(){}function W(le,B,M){e=e||$p(),le=le||{},typeof M!="boolean"&&(M=B instanceof e),this.objectMode=!!le.objectMode,M&&(this.objectMode=this.objectMode||!!le.writableObjectMode),this.highWaterMark=p(this,le,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var oe=le.decodeStrings===!1;this.decodeStrings=!oe,this.defaultEncoding=le.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){Ee(B,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=le.emitClose!==!1,this.autoDestroy=!!le.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}W.prototype.getBuffer=function(){for(var B=this.bufferedRequest,M=[];B;)M.push(B),B=B.next;return M},function(){try{Object.defineProperty(W.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(B){return D.call(this,B)?!0:this!==X?!1:B&&B._writableState instanceof W}})):D=function(B){return B instanceof this};function X(le){e=e||$p();var B=this instanceof e;if(!B&&!D.call(X,this))return new X(le);this._writableState=new W(le,this,B),this.writable=!0,le&&(typeof le.write=="function"&&(this._write=le.write),typeof le.writev=="function"&&(this._writev=le.writev),typeof le.destroy=="function"&&(this._destroy=le.destroy),typeof le.final=="function"&&(this._final=le.final)),r.call(this)}X.prototype.pipe=function(){k(this,new b)};function V(le,B){var M=new R;k(le,M),kt.nextTick(B,M)}function se(le,B,M,oe){var ie;return M===null?ie=new T:typeof M!="string"&&!B.objectMode&&(ie=new y("chunk",["string","Buffer"],M)),ie?(k(le,ie),kt.nextTick(oe,ie),!1):!0}X.prototype.write=function(le,B,M){var oe=this._writableState,ie=!1,Q=!oe.objectMode&&u(le);return Q&&!i.isBuffer(le)&&(le=a(le)),typeof B=="function"&&(M=B,B=null),Q?B="buffer":B||(B=oe.defaultEncoding),typeof M!="function"&&(M=O),oe.ending?V(this,M):(Q||se(this,oe,le,M))&&(oe.pendingcb++,ie=G(this,oe,Q,le,B,M)),ie},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var le=this._writableState;le.corked&&(le.corked--,!le.writing&&!le.corked&&!le.bufferProcessing&&le.bufferedRequest&&me(this,le))},X.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new C(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ie(le,B,M){return!le.objectMode&&le.decodeStrings!==!1&&typeof B=="string"&&(B=i.from(B,M)),B}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function G(le,B,M,oe,ie,Q){if(!M){var J=Ie(B,oe,ie);oe!==J&&(M=!0,ie="buffer",oe=J)}var Ce=B.objectMode?1:oe.length;B.length+=Ce;var F=B.length<B.highWaterMark;if(F||(B.needDrain=!0),B.writing||B.corked){var Te=B.lastBufferedRequest;B.lastBufferedRequest={chunk:oe,encoding:ie,isBuf:M,callback:Q,next:null},Te?Te.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else ee(le,B,!1,Ce,oe,ie,Q);return F}function ee(le,B,M,oe,ie,Q,J){B.writelen=oe,B.writecb=J,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new I("write")):M?le._writev(ie,B.onwrite):le._write(ie,Q,B.onwrite),B.sync=!1}function j(le,B,M,oe,ie){--B.pendingcb,M?(kt.nextTick(ie,oe),kt.nextTick(ae,le,B),le._writableState.errorEmitted=!0,k(le,oe)):(ie(oe),le._writableState.errorEmitted=!0,k(le,oe),ae(le,B))}function he(le){le.writing=!1,le.writecb=null,le.length-=le.writelen,le.writelen=0}function Ee(le,B){var M=le._writableState,oe=M.sync,ie=M.writecb;if(typeof ie!="function")throw new E;if(he(M),B)j(le,M,oe,B,ie);else{var Q=Se(M)||le.destroyed;!Q&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&me(le,M),oe?kt.nextTick(re,le,M,Q,ie):re(le,M,Q,ie)}}function re(le,B,M,oe){M||pe(le,B),B.pendingcb--,oe(),ae(le,B)}function pe(le,B){B.length===0&&B.needDrain&&(B.needDrain=!1,le.emit("drain"))}function me(le,B){B.bufferProcessing=!0;var M=B.bufferedRequest;if(le._writev&&M&&M.next){var oe=B.bufferedRequestCount,ie=new Array(oe),Q=B.corkedRequestsFree;Q.entry=M;for(var J=0,Ce=!0;M;)ie[J]=M,M.isBuf||(Ce=!1),M=M.next,J+=1;ie.allBuffers=Ce,ee(le,B,!0,B.length,ie,"",Q.finish),B.pendingcb++,B.lastBufferedRequest=null,Q.next?(B.corkedRequestsFree=Q.next,Q.next=null):B.corkedRequestsFree=new t(B),B.bufferedRequestCount=0}else{for(;M;){var F=M.chunk,Te=M.encoding,z=M.callback,x=B.objectMode?1:F.length;if(ee(le,B,!1,x,F,Te,z),M=M.next,B.bufferedRequestCount--,B.writing)break}M===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=M,B.bufferProcessing=!1}X.prototype._write=function(le,B,M){M(new w("_write()"))},X.prototype._writev=null,X.prototype.end=function(le,B,M){var oe=this._writableState;return typeof le=="function"?(M=le,le=null,B=null):typeof B=="function"&&(M=B,B=null),le!=null&&this.write(le,B),oe.corked&&(oe.corked=1,this.uncork()),oe.ending||de(this,oe,M),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Se(le){return le.ending&&le.length===0&&le.bufferedRequest===null&&!le.finished&&!le.writing}function K(le,B){le._final(function(M){B.pendingcb--,M&&k(le,M),B.prefinished=!0,le.emit("prefinish"),ae(le,B)})}function H(le,B){!B.prefinished&&!B.finalCalled&&(typeof le._final=="function"&&!B.destroyed?(B.pendingcb++,B.finalCalled=!0,kt.nextTick(K,le,B)):(B.prefinished=!0,le.emit("prefinish")))}function ae(le,B){var M=Se(B);if(M&&(H(le,B),B.pendingcb===0&&(B.finished=!0,le.emit("finish"),B.autoDestroy))){var oe=le._readableState;(!oe||oe.autoDestroy&&oe.endEmitted)&&le.destroy()}return M}function de(le,B,M){B.ending=!0,ae(le,B),M&&(B.finished?kt.nextTick(M):le.once("finish",M)),B.ended=!0,le.writable=!1}function _e(le,B,M){var oe=le.entry;for(le.entry=null;oe;){var ie=oe.callback;B.pendingcb--,ie(M),oe=oe.next}B.corkedRequestsFree.next=le}return Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),X.prototype.destroy=c.destroy,X.prototype._undestroy=c.undestroy,X.prototype._destroy=function(le,B){B(le)},aI}var uI,YL;function $p(){if(YL)return uI;YL=1;var t=Object.keys||function(d){var p=[];for(var v in d)p.push(v);return p};uI=a;var e=pj(),n=dj();Ic()(a,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var o=r[i];a.prototype[o]||(a.prototype[o]=n.prototype[o])}function a(d){if(!(this instanceof a))return new a(d);e.call(this,d),n.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||kt.nextTick(c,this)}function c(d){d.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),uI}var lI={},Q0={exports:{}},XL;function poe(){return XL||(XL=1,function(t,e){var n=Y1(),r=n.Buffer;function i(a,u){for(var c in a)u[c]=a[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(a,u,c){return r(a,u,c)}i(r,o),o.from=function(a,u,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,u,c)},o.alloc=function(a,u,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var d=r(a);return u!==void 0?typeof c=="string"?d.fill(u,c):d.fill(u):d.fill(0),d},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}}(Q0,Q0.exports)),Q0.exports}var QL;function px(){if(QL)return lI;QL=1;var t=poe().Buffer,e=t.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(T){if(!T)return"utf8";for(var R;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(R)return;T=(""+T).toLowerCase(),R=!0}}function r(T){var R=n(T);if(typeof R!="string"&&(t.isEncoding===e||!e(T)))throw new Error("Unknown encoding: "+T);return R||T}lI.StringDecoder=i;function i(T){this.encoding=r(T);var R;switch(this.encoding){case"utf16le":this.text=v,this.end=y,R=4;break;case"utf8":this.fillLast=c,R=4;break;case"base64":this.text=w,this.end=E,R=3;break;default:this.write=b,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(R)}i.prototype.write=function(T){if(T.length===0)return"";var R,C;if(this.lastNeed){if(R=this.fillLast(T),R===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<T.length?R?R+this.text(T,C):this.text(T,C):R||""},i.prototype.end=p,i.prototype.text=d,i.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function o(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function a(T,R,C){var k=R.length-1;if(k<C)return 0;var O=o(R[k]);return O>=0?(O>0&&(T.lastNeed=O-1),O):--k<C||O===-2?0:(O=o(R[k]),O>=0?(O>0&&(T.lastNeed=O-2),O):--k<C||O===-2?0:(O=o(R[k]),O>=0?(O>0&&(O===2?O=0:T.lastNeed=O-3),O):0))}function u(T,R,C){if((R[0]&192)!==128)return T.lastNeed=0,"";if(T.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return T.lastNeed=1,"";if(T.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return T.lastNeed=2,""}}function c(T){var R=this.lastTotal-this.lastNeed,C=u(this,T);if(C!==void 0)return C;if(this.lastNeed<=T.length)return T.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,R,0,T.length),this.lastNeed-=T.length}function d(T,R){var C=a(this,T,R);if(!this.lastNeed)return T.toString("utf8",R);this.lastTotal=C;var k=T.length-(C-this.lastNeed);return T.copy(this.lastChar,0,k),T.toString("utf8",R,k)}function p(T){var R=T&&T.length?this.write(T):"";return this.lastNeed?R+"":R}function v(T,R){if((T.length-R)%2===0){var C=T.toString("utf16le",R);if(C){var k=C.charCodeAt(C.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",R,T.length-1)}function y(T){var R=T&&T.length?this.write(T):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,C)}return R}function w(T,R){var C=(T.length-R)%3;return C===0?T.toString("base64",R):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",R,T.length-C))}function E(T){var R=T&&T.length?this.write(T):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function b(T){return T.toString(this.encoding)}function I(T){return T&&T.length?this.write(T):""}return lI}var cI,JL;function vR(){if(JL)return cI;JL=1;var t=Em().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var a=!1;return function(){if(!a){a=!0;for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];o.apply(this,c)}}}function n(){}function r(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,u){if(typeof a=="function")return i(o,null,a);a||(a={}),u=e(u||n);var c=a.readable||a.readable!==!1&&o.readable,d=a.writable||a.writable!==!1&&o.writable,p=function(){o.writable||y()},v=o._writableState&&o._writableState.finished,y=function(){d=!1,v=!0,c||u.call(o)},w=o._readableState&&o._readableState.endEmitted,E=function(){c=!1,w=!0,d||u.call(o)},b=function(C){u.call(o,C)},I=function(){var C;if(c&&!w)return(!o._readableState||!o._readableState.ended)&&(C=new t),u.call(o,C);if(d&&!v)return(!o._writableState||!o._writableState.ended)&&(C=new t),u.call(o,C)},T=function(){o.req.on("finish",y)};return r(o)?(o.on("complete",y),o.on("abort",I),o.req?T():o.on("request",T)):d&&!o._writableState&&(o.on("end",p),o.on("close",p)),o.on("end",E),o.on("finish",y),a.error!==!1&&o.on("error",b),o.on("close",I),function(){o.removeListener("complete",y),o.removeListener("abort",I),o.removeListener("request",T),o.req&&o.req.removeListener("finish",y),o.removeListener("end",p),o.removeListener("close",p),o.removeListener("finish",y),o.removeListener("end",E),o.removeListener("error",b),o.removeListener("close",I)}}return cI=i,cI}var fI,ZL;function moe(){if(ZL)return fI;ZL=1;var t;function e(T,R,C){return R in T?Object.defineProperty(T,R,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[R]=C,T}var n=vR(),r=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),a=Symbol("ended"),u=Symbol("lastPromise"),c=Symbol("handlePromise"),d=Symbol("stream");function p(T,R){return{value:T,done:R}}function v(T){var R=T[r];if(R!==null){var C=T[d].read();C!==null&&(T[u]=null,T[r]=null,T[i]=null,R(p(C,!1)))}}function y(T){kt.nextTick(v,T)}function w(T,R){return function(C,k){T.then(function(){if(R[a]){C(p(void 0,!0));return}R[c](C,k)},k)}}var E=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((t={get stream(){return this[d]},next:function(){var R=this,C=this[o];if(C!==null)return Promise.reject(C);if(this[a])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise(function(D,X){kt.nextTick(function(){R[o]?X(R[o]):D(p(void 0,!0))})});var k=this[u],O;if(k)O=new Promise(w(k,this));else{var W=this[d].read();if(W!==null)return Promise.resolve(p(W,!1));O=new Promise(this[c])}return this[u]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var R=this;return new Promise(function(C,k){R[d].destroy(null,function(O){if(O){k(O);return}C(p(void 0,!0))})})}),t),E),I=function(R){var C,k=Object.create(b,(C={},e(C,d,{value:R,writable:!0}),e(C,r,{value:null,writable:!0}),e(C,i,{value:null,writable:!0}),e(C,o,{value:null,writable:!0}),e(C,a,{value:R._readableState.endEmitted,writable:!0}),e(C,c,{value:function(W,D){var X=k[d].read();X?(k[u]=null,k[r]=null,k[i]=null,W(p(X,!1))):(k[r]=W,k[i]=D)},writable:!0}),C));return k[u]=null,n(R,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=k[i];W!==null&&(k[u]=null,k[r]=null,k[i]=null,W(O)),k[o]=O;return}var D=k[r];D!==null&&(k[u]=null,k[r]=null,k[i]=null,D(p(void 0,!0))),k[a]=!0}),R.on("readable",y.bind(null,k)),k};return fI=I,fI}var hI,eM;function goe(){return eM||(eM=1,hI=function(){throw new Error("Readable.from is not available in the browser")}),hI}var dI,tM;function pj(){if(tM)return dI;tM=1,dI=V;var t;V.ReadableState=X,hR().EventEmitter;var e=function(J,Ce){return J.listeners(Ce).length},n=ij(),r=Y1().Buffer,i=Aa.Uint8Array||function(){};function o(Q){return r.from(Q)}function a(Q){return r.isBuffer(Q)||Q instanceof i}var u=cj(),c;u&&u.debuglog?c=u.debuglog("stream"):c=function(){};var d=hoe(),p=fj(),v=hj(),y=v.getHighWaterMark,w=Em().codes,E=w.ERR_INVALID_ARG_TYPE,b=w.ERR_STREAM_PUSH_AFTER_EOF,I=w.ERR_METHOD_NOT_IMPLEMENTED,T=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,C,k;Ic()(V,n);var O=p.errorOrDestroy,W=["error","close","destroy","pause","resume"];function D(Q,J,Ce){if(typeof Q.prependListener=="function")return Q.prependListener(J,Ce);!Q._events||!Q._events[J]?Q.on(J,Ce):Array.isArray(Q._events[J])?Q._events[J].unshift(Ce):Q._events[J]=[Ce,Q._events[J]]}function X(Q,J,Ce){t=t||$p(),Q=Q||{},typeof Ce!="boolean"&&(Ce=J instanceof t),this.objectMode=!!Q.objectMode,Ce&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=y(this,Q,"readableHighWaterMark",Ce),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(R||(R=px().StringDecoder),this.decoder=new R(Q.encoding),this.encoding=Q.encoding)}function V(Q){if(t=t||$p(),!(this instanceof V))return new V(Q);var J=this instanceof t;this._readableState=new X(Q,this,J),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),n.call(this)}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(J){this._readableState&&(this._readableState.destroyed=J)}}),V.prototype.destroy=p.destroy,V.prototype._undestroy=p.undestroy,V.prototype._destroy=function(Q,J){J(Q)},V.prototype.push=function(Q,J){var Ce=this._readableState,F;return Ce.objectMode?F=!0:typeof Q=="string"&&(J=J||Ce.defaultEncoding,J!==Ce.encoding&&(Q=r.from(Q,J),J=""),F=!0),se(this,Q,J,!1,F)},V.prototype.unshift=function(Q){return se(this,Q,null,!0,!1)};function se(Q,J,Ce,F,Te){c("readableAddChunk",J);var z=Q._readableState;if(J===null)z.reading=!1,Ee(Q,z);else{var x;if(Te||(x=G(z,J)),x)O(Q,x);else if(z.objectMode||J&&J.length>0)if(typeof J!="string"&&!z.objectMode&&Object.getPrototypeOf(J)!==r.prototype&&(J=o(J)),F)z.endEmitted?O(Q,new T):Ie(Q,z,J,!0);else if(z.ended)O(Q,new b);else{if(z.destroyed)return!1;z.reading=!1,z.decoder&&!Ce?(J=z.decoder.write(J),z.objectMode||J.length!==0?Ie(Q,z,J,!1):me(Q,z)):Ie(Q,z,J,!1)}else F||(z.reading=!1,me(Q,z))}return!z.ended&&(z.length<z.highWaterMark||z.length===0)}function Ie(Q,J,Ce,F){J.flowing&&J.length===0&&!J.sync?(J.awaitDrain=0,Q.emit("data",Ce)):(J.length+=J.objectMode?1:Ce.length,F?J.buffer.unshift(Ce):J.buffer.push(Ce),J.needReadable&&re(Q)),me(Q,J)}function G(Q,J){var Ce;return!a(J)&&typeof J!="string"&&J!==void 0&&!Q.objectMode&&(Ce=new E("chunk",["string","Buffer","Uint8Array"],J)),Ce}V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(Q){R||(R=px().StringDecoder);var J=new R(Q);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ce=this._readableState.buffer.head,F="";Ce!==null;)F+=J.write(Ce.data),Ce=Ce.next;return this._readableState.buffer.clear(),F!==""&&this._readableState.buffer.push(F),this._readableState.length=F.length,this};var ee=1073741824;function j(Q){return Q>=ee?Q=ee:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function he(Q,J){return Q<=0||J.length===0&&J.ended?0:J.objectMode?1:Q!==Q?J.flowing&&J.length?J.buffer.head.data.length:J.length:(Q>J.highWaterMark&&(J.highWaterMark=j(Q)),Q<=J.length?Q:J.ended?J.length:(J.needReadable=!0,0))}V.prototype.read=function(Q){c("read",Q),Q=parseInt(Q,10);var J=this._readableState,Ce=Q;if(Q!==0&&(J.emittedReadable=!1),Q===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended))return c("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?M(this):re(this),null;if(Q=he(Q,J),Q===0&&J.ended)return J.length===0&&M(this),null;var F=J.needReadable;c("need readable",F),(J.length===0||J.length-Q<J.highWaterMark)&&(F=!0,c("length less than watermark",F)),J.ended||J.reading?(F=!1,c("reading or ended",F)):F&&(c("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(Q=he(Ce,J)));var Te;return Q>0?Te=B(Q,J):Te=null,Te===null?(J.needReadable=J.length<=J.highWaterMark,Q=0):(J.length-=Q,J.awaitDrain=0),J.length===0&&(J.ended||(J.needReadable=!0),Ce!==Q&&J.ended&&M(this)),Te!==null&&this.emit("data",Te),Te};function Ee(Q,J){if(c("onEofChunk"),!J.ended){if(J.decoder){var Ce=J.decoder.end();Ce&&Ce.length&&(J.buffer.push(Ce),J.length+=J.objectMode?1:Ce.length)}J.ended=!0,J.sync?re(Q):(J.needReadable=!1,J.emittedReadable||(J.emittedReadable=!0,pe(Q)))}}function re(Q){var J=Q._readableState;c("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,J.emittedReadable||(c("emitReadable",J.flowing),J.emittedReadable=!0,kt.nextTick(pe,Q))}function pe(Q){var J=Q._readableState;c("emitReadable_",J.destroyed,J.length,J.ended),!J.destroyed&&(J.length||J.ended)&&(Q.emit("readable"),J.emittedReadable=!1),J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,le(Q)}function me(Q,J){J.readingMore||(J.readingMore=!0,kt.nextTick(Se,Q,J))}function Se(Q,J){for(;!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0);){var Ce=J.length;if(c("maybeReadMore read 0"),Q.read(0),Ce===J.length)break}J.readingMore=!1}V.prototype._read=function(Q){O(this,new I("_read()"))},V.prototype.pipe=function(Q,J){var Ce=this,F=this._readableState;switch(F.pipesCount){case 0:F.pipes=Q;break;case 1:F.pipes=[F.pipes,Q];break;default:F.pipes.push(Q);break}F.pipesCount+=1,c("pipe count=%d opts=%j",F.pipesCount,J);var Te=(!J||J.end!==!1)&&Q!==kt.stdout&&Q!==kt.stderr,z=Te?A:Ge;F.endEmitted?kt.nextTick(z):Ce.once("end",z),Q.on("unpipe",x);function x(et,ct){c("onunpipe"),et===Ce&&ct&&ct.hasUnpiped===!1&&(ct.hasUnpiped=!0,ye())}function A(){c("onend"),Q.end()}var U=K(Ce);Q.on("drain",U);var ne=!1;function ye(){c("cleanup"),Q.removeListener("close",Pe),Q.removeListener("finish",Me),Q.removeListener("drain",U),Q.removeListener("error",De),Q.removeListener("unpipe",x),Ce.removeListener("end",A),Ce.removeListener("end",Ge),Ce.removeListener("data",ue),ne=!0,F.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&U()}Ce.on("data",ue);function ue(et){c("ondata");var ct=Q.write(et);c("dest.write",ct),ct===!1&&((F.pipesCount===1&&F.pipes===Q||F.pipesCount>1&&ie(F.pipes,Q)!==-1)&&!ne&&(c("false write response, pause",F.awaitDrain),F.awaitDrain++),Ce.pause())}function De(et){c("onerror",et),Ge(),Q.removeListener("error",De),e(Q,"error")===0&&O(Q,et)}D(Q,"error",De);function Pe(){Q.removeListener("finish",Me),Ge()}Q.once("close",Pe);function Me(){c("onfinish"),Q.removeListener("close",Pe),Ge()}Q.once("finish",Me);function Ge(){c("unpipe"),Ce.unpipe(Q)}return Q.emit("pipe",Ce),F.flowing||(c("pipe resume"),Ce.resume()),Q};function K(Q){return function(){var Ce=Q._readableState;c("pipeOnDrain",Ce.awaitDrain),Ce.awaitDrain&&Ce.awaitDrain--,Ce.awaitDrain===0&&e(Q,"data")&&(Ce.flowing=!0,le(Q))}}V.prototype.unpipe=function(Q){var J=this._readableState,Ce={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return Q&&Q!==J.pipes?this:(Q||(Q=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,Q&&Q.emit("unpipe",this,Ce),this);if(!Q){var F=J.pipes,Te=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var z=0;z<Te;z++)F[z].emit("unpipe",this,{hasUnpiped:!1});return this}var x=ie(J.pipes,Q);return x===-1?this:(J.pipes.splice(x,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),Q.emit("unpipe",this,Ce),this)},V.prototype.on=function(Q,J){var Ce=n.prototype.on.call(this,Q,J),F=this._readableState;return Q==="data"?(F.readableListening=this.listenerCount("readable")>0,F.flowing!==!1&&this.resume()):Q==="readable"&&!F.endEmitted&&!F.readableListening&&(F.readableListening=F.needReadable=!0,F.flowing=!1,F.emittedReadable=!1,c("on readable",F.length,F.reading),F.length?re(this):F.reading||kt.nextTick(ae,this)),Ce},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(Q,J){var Ce=n.prototype.removeListener.call(this,Q,J);return Q==="readable"&&kt.nextTick(H,this),Ce},V.prototype.removeAllListeners=function(Q){var J=n.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&kt.nextTick(H,this),J};function H(Q){var J=Q._readableState;J.readableListening=Q.listenerCount("readable")>0,J.resumeScheduled&&!J.paused?J.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function ae(Q){c("readable nexttick read 0"),Q.read(0)}V.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(c("resume"),Q.flowing=!Q.readableListening,de(this,Q)),Q.paused=!1,this};function de(Q,J){J.resumeScheduled||(J.resumeScheduled=!0,kt.nextTick(_e,Q,J))}function _e(Q,J){c("resume",J.reading),J.reading||Q.read(0),J.resumeScheduled=!1,Q.emit("resume"),le(Q),J.flowing&&!J.reading&&Q.read(0)}V.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function le(Q){var J=Q._readableState;for(c("flow",J.flowing);J.flowing&&Q.read()!==null;);}V.prototype.wrap=function(Q){var J=this,Ce=this._readableState,F=!1;Q.on("end",function(){if(c("wrapped end"),Ce.decoder&&!Ce.ended){var x=Ce.decoder.end();x&&x.length&&J.push(x)}J.push(null)}),Q.on("data",function(x){if(c("wrapped data"),Ce.decoder&&(x=Ce.decoder.write(x)),!(Ce.objectMode&&x==null)&&!(!Ce.objectMode&&(!x||!x.length))){var A=J.push(x);A||(F=!0,Q.pause())}});for(var Te in Q)this[Te]===void 0&&typeof Q[Te]=="function"&&(this[Te]=function(A){return function(){return Q[A].apply(Q,arguments)}}(Te));for(var z=0;z<W.length;z++)Q.on(W[z],this.emit.bind(this,W[z]));return this._read=function(x){c("wrapped _read",x),F&&(F=!1,Q.resume())},this},typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=moe()),C(this)}),Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),V._fromList=B,Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function B(Q,J){if(J.length===0)return null;var Ce;return J.objectMode?Ce=J.buffer.shift():!Q||Q>=J.length?(J.decoder?Ce=J.buffer.join(""):J.buffer.length===1?Ce=J.buffer.first():Ce=J.buffer.concat(J.length),J.buffer.clear()):Ce=J.buffer.consume(Q,J.decoder),Ce}function M(Q){var J=Q._readableState;c("endReadable",J.endEmitted),J.endEmitted||(J.ended=!0,kt.nextTick(oe,J,Q))}function oe(Q,J){if(c("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,J.readable=!1,J.emit("end"),Q.autoDestroy)){var Ce=J._writableState;(!Ce||Ce.autoDestroy&&Ce.finished)&&J.destroy()}}typeof Symbol=="function"&&(V.from=function(Q,J){return k===void 0&&(k=goe()),k(V,Q,J)});function ie(Q,J){for(var Ce=0,F=Q.length;Ce<F;Ce++)if(Q[Ce]===J)return Ce;return-1}return dI}var pI,nM;function mj(){if(nM)return pI;nM=1,pI=u;var t=Em().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,o=$p();Ic()(u,o);function a(p,v){var y=this._transformState;y.transforming=!1;var w=y.writecb;if(w===null)return this.emit("error",new n);y.writechunk=null,y.writecb=null,v!=null&&this.push(v),w(p);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function u(p){if(!(this instanceof u))return new u(p);o.call(this,p),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",c)}function c(){var p=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(v,y){d(p,v,y)}):d(this,null,null)}u.prototype.push=function(p,v){return this._transformState.needTransform=!1,o.prototype.push.call(this,p,v)},u.prototype._transform=function(p,v,y){y(new e("_transform()"))},u.prototype._write=function(p,v,y){var w=this._transformState;if(w.writecb=y,w.writechunk=p,w.writeencoding=v,!w.transforming){var E=this._readableState;(w.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},u.prototype._read=function(p){var v=this._transformState;v.writechunk!==null&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},u.prototype._destroy=function(p,v){o.prototype._destroy.call(this,p,function(y){v(y)})};function d(p,v,y){if(v)return p.emit("error",v);if(y!=null&&p.push(y),p._writableState.length)throw new i;if(p._transformState.transforming)throw new r;return p.push(null)}return pI}var mI,rM;function voe(){if(rM)return mI;rM=1,mI=e;var t=mj();Ic()(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,r,i){i(null,n)},mI}var gI,iM;function yoe(){if(iM)return gI;iM=1;var t;function e(y){var w=!1;return function(){w||(w=!0,y.apply(void 0,arguments))}}var n=Em().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function o(y){if(y)throw y}function a(y){return y.setHeader&&typeof y.abort=="function"}function u(y,w,E,b){b=e(b);var I=!1;y.on("close",function(){I=!0}),t===void 0&&(t=vR()),t(y,{readable:w,writable:E},function(R){if(R)return b(R);I=!0,b()});var T=!1;return function(R){if(!I&&!T){if(T=!0,a(y))return y.abort();if(typeof y.destroy=="function")return y.destroy();b(R||new i("pipe"))}}}function c(y){y()}function d(y,w){return y.pipe(w)}function p(y){return!y.length||typeof y[y.length-1]!="function"?o:y.pop()}function v(){for(var y=arguments.length,w=new Array(y),E=0;E<y;E++)w[E]=arguments[E];var b=p(w);if(Array.isArray(w[0])&&(w=w[0]),w.length<2)throw new r("streams");var I,T=w.map(function(R,C){var k=C<w.length-1,O=C>0;return u(R,k,O,function(W){I||(I=W),W&&T.forEach(c),!k&&(T.forEach(c),b(I))})});return w.reduce(d)}return gI=v,gI}var vI,oM;function yR(){if(oM)return vI;oM=1,vI=n;var t=hR().EventEmitter,e=Ic();e(n,t),n.Readable=pj(),n.Writable=dj(),n.Duplex=$p(),n.Transform=mj(),n.PassThrough=voe(),n.finished=vR(),n.pipeline=yoe(),n.Stream=n;function n(){t.call(this)}return n.prototype.pipe=function(r,i){var o=this;function a(w){r.writable&&r.write(w)===!1&&o.pause&&o.pause()}o.on("data",a);function u(){o.readable&&o.resume&&o.resume()}r.on("drain",u),!r._isStdio&&(!i||i.end!==!1)&&(o.on("end",d),o.on("close",p));var c=!1;function d(){c||(c=!0,r.end())}function p(){c||(c=!0,typeof r.destroy=="function"&&r.destroy())}function v(w){if(y(),t.listenerCount(this,"error")===0)throw w}o.on("error",v),r.on("error",v);function y(){o.removeListener("data",a),r.removeListener("drain",u),o.removeListener("end",d),o.removeListener("close",p),o.removeListener("error",v),r.removeListener("error",v),o.removeListener("end",y),o.removeListener("close",y),r.removeListener("close",y)}return o.on("end",y),o.on("close",y),r.on("close",y),r.emit("pipe",o),r},vI}var sM;function woe(){return sM||(sM=1,function(t){(function(e){e.parser=function(B,M){return new r(B,M)},e.SAXParser=r,e.SAXStream=p,e.createStream=d,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(B,M){if(!(this instanceof r))return new r(B,M);var oe=this;o(oe),oe.q=oe.c="",oe.bufferCheckPosition=e.MAX_BUFFER_LENGTH,oe.opt=M||{},oe.opt.lowercase=oe.opt.lowercase||oe.opt.lowercasetags,oe.looseCase=oe.opt.lowercase?"toLowerCase":"toUpperCase",oe.tags=[],oe.closed=oe.closedRoot=oe.sawRoot=!1,oe.tag=oe.error=null,oe.strict=!!B,oe.noscript=!!(B||oe.opt.noscript),oe.state=V.BEGIN,oe.strictEntities=oe.opt.strictEntities,oe.ENTITIES=oe.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),oe.attribList=[],oe.opt.xmlns&&(oe.ns=Object.create(b)),oe.trackPosition=oe.opt.position!==!1,oe.trackPosition&&(oe.position=oe.line=oe.column=0),Ie(oe,"onready")}Object.create||(Object.create=function(B){function M(){}M.prototype=B;var oe=new M;return oe}),Object.keys||(Object.keys=function(B){var M=[];for(var oe in B)B.hasOwnProperty(oe)&&M.push(oe);return M});function i(B){for(var M=Math.max(e.MAX_BUFFER_LENGTH,10),oe=0,ie=0,Q=n.length;ie<Q;ie++){var J=B[n[ie]].length;if(J>M)switch(n[ie]){case"textNode":ee(B);break;case"cdata":G(B,"oncdata",B.cdata),B.cdata="";break;case"script":G(B,"onscript",B.script),B.script="";break;default:he(B,"Max buffer length exceeded: "+n[ie])}oe=Math.max(oe,J)}var Ce=e.MAX_BUFFER_LENGTH-oe;B.bufferCheckPosition=Ce+B.position}function o(B){for(var M=0,oe=n.length;M<oe;M++)B[n[M]]=""}function a(B){ee(B),B.cdata!==""&&(G(B,"oncdata",B.cdata),B.cdata=""),B.script!==""&&(G(B,"onscript",B.script),B.script="")}r.prototype={end:function(){Ee(this)},write:le,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var u;try{u=yR().Stream}catch{u=function(){}}var c=e.EVENTS.filter(function(B){return B!=="error"&&B!=="end"});function d(B,M){return new p(B,M)}function p(B,M){if(!(this instanceof p))return new p(B,M);u.apply(this),this._parser=new r(B,M),this.writable=!0,this.readable=!0;var oe=this;this._parser.onend=function(){oe.emit("end")},this._parser.onerror=function(ie){oe.emit("error",ie),oe._parser.error=null},this._decoder=null,c.forEach(function(ie){Object.defineProperty(oe,"on"+ie,{get:function(){return oe._parser["on"+ie]},set:function(Q){if(!Q)return oe.removeAllListeners(ie),oe._parser["on"+ie]=Q,Q;oe.on(ie,Q)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(u.prototype,{constructor:{value:p}}),p.prototype.write=function(B){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(B)){if(!this._decoder){var M=px().StringDecoder;this._decoder=new M("utf8")}B=this._decoder.write(B)}return this._parser.write(B.toString()),this.emit("data",B),!0},p.prototype.end=function(B){return B&&B.length&&this.write(B),this._parser.end(),!0},p.prototype.on=function(B,M){var oe=this;return!oe._parser["on"+B]&&c.indexOf(B)!==-1&&(oe._parser["on"+B]=function(){var ie=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ie.splice(0,0,B),oe.emit.apply(oe,ie)}),u.prototype.on.call(oe,B,M)};var v="[CDATA[",y="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",b={xml:w,xmlns:E},I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k(B){return B===" "||B===`
`||B==="\r"||B==="	"}function O(B){return B==='"'||B==="'"}function W(B){return B===">"||k(B)}function D(B,M){return B.test(M)}function X(B,M){return!D(B,M)}var V=0;e.STATE={BEGIN:V++,BEGIN_WHITESPACE:V++,TEXT:V++,TEXT_ENTITY:V++,OPEN_WAKA:V++,SGML_DECL:V++,SGML_DECL_QUOTED:V++,DOCTYPE:V++,DOCTYPE_QUOTED:V++,DOCTYPE_DTD:V++,DOCTYPE_DTD_QUOTED:V++,COMMENT_STARTING:V++,COMMENT:V++,COMMENT_ENDING:V++,COMMENT_ENDED:V++,CDATA:V++,CDATA_ENDING:V++,CDATA_ENDING_2:V++,PROC_INST:V++,PROC_INST_BODY:V++,PROC_INST_ENDING:V++,OPEN_TAG:V++,OPEN_TAG_SLASH:V++,ATTRIB:V++,ATTRIB_NAME:V++,ATTRIB_NAME_SAW_WHITE:V++,ATTRIB_VALUE:V++,ATTRIB_VALUE_QUOTED:V++,ATTRIB_VALUE_CLOSED:V++,ATTRIB_VALUE_UNQUOTED:V++,ATTRIB_VALUE_ENTITY_Q:V++,ATTRIB_VALUE_ENTITY_U:V++,CLOSE_TAG:V++,CLOSE_TAG_SAW_WHITE:V++,SCRIPT:V++,SCRIPT_ENDING:V++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(B){var M=e.ENTITIES[B],oe=typeof M=="number"?String.fromCharCode(M):M;e.ENTITIES[B]=oe});for(var se in e.STATE)e.STATE[e.STATE[se]]=se;V=e.STATE;function Ie(B,M,oe){B[M]&&B[M](oe)}function G(B,M,oe){B.textNode&&ee(B),Ie(B,M,oe)}function ee(B){B.textNode=j(B.opt,B.textNode),B.textNode&&Ie(B,"ontext",B.textNode),B.textNode=""}function j(B,M){return B.trim&&(M=M.trim()),B.normalize&&(M=M.replace(/\s+/g," ")),M}function he(B,M){return ee(B),B.trackPosition&&(M+=`
Line: `+B.line+`
Column: `+B.column+`
Char: `+B.c),M=new Error(M),B.error=M,Ie(B,"onerror",M),B}function Ee(B){return B.sawRoot&&!B.closedRoot&&re(B,"Unclosed root tag"),B.state!==V.BEGIN&&B.state!==V.BEGIN_WHITESPACE&&B.state!==V.TEXT&&he(B,"Unexpected end"),ee(B),B.c="",B.closed=!0,Ie(B,"onend"),r.call(B,B.strict,B.opt),B}function re(B,M){if(typeof B!="object"||!(B instanceof r))throw new Error("bad call to strictFail");B.strict&&he(B,M)}function pe(B){B.strict||(B.tagName=B.tagName[B.looseCase]());var M=B.tags[B.tags.length-1]||B,oe=B.tag={name:B.tagName,attributes:{}};B.opt.xmlns&&(oe.ns=M.ns),B.attribList.length=0,G(B,"onopentagstart",oe)}function me(B,M){var oe=B.indexOf(":"),ie=oe<0?["",B]:B.split(":"),Q=ie[0],J=ie[1];return M&&B==="xmlns"&&(Q="xmlns",J=""),{prefix:Q,local:J}}function Se(B){if(B.strict||(B.attribName=B.attribName[B.looseCase]()),B.attribList.indexOf(B.attribName)!==-1||B.tag.attributes.hasOwnProperty(B.attribName)){B.attribName=B.attribValue="";return}if(B.opt.xmlns){var M=me(B.attribName,!0),oe=M.prefix,ie=M.local;if(oe==="xmlns")if(ie==="xml"&&B.attribValue!==w)re(B,"xml: prefix must be bound to "+w+`
Actual: `+B.attribValue);else if(ie==="xmlns"&&B.attribValue!==E)re(B,"xmlns: prefix must be bound to "+E+`
Actual: `+B.attribValue);else{var Q=B.tag,J=B.tags[B.tags.length-1]||B;Q.ns===J.ns&&(Q.ns=Object.create(J.ns)),Q.ns[ie]=B.attribValue}B.attribList.push([B.attribName,B.attribValue])}else B.tag.attributes[B.attribName]=B.attribValue,G(B,"onattribute",{name:B.attribName,value:B.attribValue});B.attribName=B.attribValue=""}function K(B,M){if(B.opt.xmlns){var oe=B.tag,ie=me(B.tagName);oe.prefix=ie.prefix,oe.local=ie.local,oe.uri=oe.ns[ie.prefix]||"",oe.prefix&&!oe.uri&&(re(B,"Unbound namespace prefix: "+JSON.stringify(B.tagName)),oe.uri=ie.prefix);var Q=B.tags[B.tags.length-1]||B;oe.ns&&Q.ns!==oe.ns&&Object.keys(oe.ns).forEach(function(ue){G(B,"onopennamespace",{prefix:ue,uri:oe.ns[ue]})});for(var J=0,Ce=B.attribList.length;J<Ce;J++){var F=B.attribList[J],Te=F[0],z=F[1],x=me(Te,!0),A=x.prefix,U=x.local,ne=A===""?"":oe.ns[A]||"",ye={name:Te,value:z,prefix:A,local:U,uri:ne};A&&A!=="xmlns"&&!ne&&(re(B,"Unbound namespace prefix: "+JSON.stringify(A)),ye.uri=A),B.tag.attributes[Te]=ye,G(B,"onattribute",ye)}B.attribList.length=0}B.tag.isSelfClosing=!!M,B.sawRoot=!0,B.tags.push(B.tag),G(B,"onopentag",B.tag),M||(!B.noscript&&B.tagName.toLowerCase()==="script"?B.state=V.SCRIPT:B.state=V.TEXT,B.tag=null,B.tagName=""),B.attribName=B.attribValue="",B.attribList.length=0}function H(B){if(!B.tagName){re(B,"Weird empty close tag."),B.textNode+="</>",B.state=V.TEXT;return}if(B.script){if(B.tagName!=="script"){B.script+="</"+B.tagName+">",B.tagName="",B.state=V.SCRIPT;return}G(B,"onscript",B.script),B.script=""}var M=B.tags.length,oe=B.tagName;B.strict||(oe=oe[B.looseCase]());for(var ie=oe;M--;){var Q=B.tags[M];if(Q.name!==ie)re(B,"Unexpected close tag");else break}if(M<0){re(B,"Unmatched closing tag: "+B.tagName),B.textNode+="</"+B.tagName+">",B.state=V.TEXT;return}B.tagName=oe;for(var J=B.tags.length;J-- >M;){var Ce=B.tag=B.tags.pop();B.tagName=B.tag.name,G(B,"onclosetag",B.tagName);var F={};for(var Te in Ce.ns)F[Te]=Ce.ns[Te];var z=B.tags[B.tags.length-1]||B;B.opt.xmlns&&Ce.ns!==z.ns&&Object.keys(Ce.ns).forEach(function(x){var A=Ce.ns[x];G(B,"onclosenamespace",{prefix:x,uri:A})})}M===0&&(B.closedRoot=!0),B.tagName=B.attribValue=B.attribName="",B.attribList.length=0,B.state=V.TEXT}function ae(B){var M=B.entity,oe=M.toLowerCase(),ie,Q="";return B.ENTITIES[M]?B.ENTITIES[M]:B.ENTITIES[oe]?B.ENTITIES[oe]:(M=oe,M.charAt(0)==="#"&&(M.charAt(1)==="x"?(M=M.slice(2),ie=parseInt(M,16),Q=ie.toString(16)):(M=M.slice(1),ie=parseInt(M,10),Q=ie.toString(10))),M=M.replace(/^0+/,""),isNaN(ie)||Q.toLowerCase()!==M?(re(B,"Invalid character entity"),"&"+B.entity+";"):String.fromCodePoint(ie))}function de(B,M){M==="<"?(B.state=V.OPEN_WAKA,B.startTagPosition=B.position):k(M)||(re(B,"Non-whitespace before first tag."),B.textNode=M,B.state=V.TEXT)}function _e(B,M){var oe="";return M<B.length&&(oe=B.charAt(M)),oe}function le(B){var M=this;if(this.error)throw this.error;if(M.closed)return he(M,"Cannot write after close. Assign an onready handler.");if(B===null)return Ee(M);typeof B=="object"&&(B=B.toString());for(var oe=0,ie="";ie=_e(B,oe++),M.c=ie,!!ie;)switch(M.trackPosition&&(M.position++,ie===`
`?(M.line++,M.column=0):M.column++),M.state){case V.BEGIN:if(M.state=V.BEGIN_WHITESPACE,ie==="\uFEFF")continue;de(M,ie);continue;case V.BEGIN_WHITESPACE:de(M,ie);continue;case V.TEXT:if(M.sawRoot&&!M.closedRoot){for(var Q=oe-1;ie&&ie!=="<"&&ie!=="&";)ie=_e(B,oe++),ie&&M.trackPosition&&(M.position++,ie===`
`?(M.line++,M.column=0):M.column++);M.textNode+=B.substring(Q,oe-1)}ie==="<"&&!(M.sawRoot&&M.closedRoot&&!M.strict)?(M.state=V.OPEN_WAKA,M.startTagPosition=M.position):(!k(ie)&&(!M.sawRoot||M.closedRoot)&&re(M,"Text data outside of root node."),ie==="&"?M.state=V.TEXT_ENTITY:M.textNode+=ie);continue;case V.SCRIPT:ie==="<"?M.state=V.SCRIPT_ENDING:M.script+=ie;continue;case V.SCRIPT_ENDING:ie==="/"?M.state=V.CLOSE_TAG:(M.script+="<"+ie,M.state=V.SCRIPT);continue;case V.OPEN_WAKA:if(ie==="!")M.state=V.SGML_DECL,M.sgmlDecl="";else if(!k(ie))if(D(I,ie))M.state=V.OPEN_TAG,M.tagName=ie;else if(ie==="/")M.state=V.CLOSE_TAG,M.tagName="";else if(ie==="?")M.state=V.PROC_INST,M.procInstName=M.procInstBody="";else{if(re(M,"Unencoded <"),M.startTagPosition+1<M.position){var J=M.position-M.startTagPosition;ie=new Array(J).join(" ")+ie}M.textNode+="<"+ie,M.state=V.TEXT}continue;case V.SGML_DECL:(M.sgmlDecl+ie).toUpperCase()===v?(G(M,"onopencdata"),M.state=V.CDATA,M.sgmlDecl="",M.cdata=""):M.sgmlDecl+ie==="--"?(M.state=V.COMMENT,M.comment="",M.sgmlDecl=""):(M.sgmlDecl+ie).toUpperCase()===y?(M.state=V.DOCTYPE,(M.doctype||M.sawRoot)&&re(M,"Inappropriately located doctype declaration"),M.doctype="",M.sgmlDecl=""):ie===">"?(G(M,"onsgmldeclaration",M.sgmlDecl),M.sgmlDecl="",M.state=V.TEXT):(O(ie)&&(M.state=V.SGML_DECL_QUOTED),M.sgmlDecl+=ie);continue;case V.SGML_DECL_QUOTED:ie===M.q&&(M.state=V.SGML_DECL,M.q=""),M.sgmlDecl+=ie;continue;case V.DOCTYPE:ie===">"?(M.state=V.TEXT,G(M,"ondoctype",M.doctype),M.doctype=!0):(M.doctype+=ie,ie==="["?M.state=V.DOCTYPE_DTD:O(ie)&&(M.state=V.DOCTYPE_QUOTED,M.q=ie));continue;case V.DOCTYPE_QUOTED:M.doctype+=ie,ie===M.q&&(M.q="",M.state=V.DOCTYPE);continue;case V.DOCTYPE_DTD:M.doctype+=ie,ie==="]"?M.state=V.DOCTYPE:O(ie)&&(M.state=V.DOCTYPE_DTD_QUOTED,M.q=ie);continue;case V.DOCTYPE_DTD_QUOTED:M.doctype+=ie,ie===M.q&&(M.state=V.DOCTYPE_DTD,M.q="");continue;case V.COMMENT:ie==="-"?M.state=V.COMMENT_ENDING:M.comment+=ie;continue;case V.COMMENT_ENDING:ie==="-"?(M.state=V.COMMENT_ENDED,M.comment=j(M.opt,M.comment),M.comment&&G(M,"oncomment",M.comment),M.comment=""):(M.comment+="-"+ie,M.state=V.COMMENT);continue;case V.COMMENT_ENDED:ie!==">"?(re(M,"Malformed comment"),M.comment+="--"+ie,M.state=V.COMMENT):M.state=V.TEXT;continue;case V.CDATA:ie==="]"?M.state=V.CDATA_ENDING:M.cdata+=ie;continue;case V.CDATA_ENDING:ie==="]"?M.state=V.CDATA_ENDING_2:(M.cdata+="]"+ie,M.state=V.CDATA);continue;case V.CDATA_ENDING_2:ie===">"?(M.cdata&&G(M,"oncdata",M.cdata),G(M,"onclosecdata"),M.cdata="",M.state=V.TEXT):ie==="]"?M.cdata+="]":(M.cdata+="]]"+ie,M.state=V.CDATA);continue;case V.PROC_INST:ie==="?"?M.state=V.PROC_INST_ENDING:k(ie)?M.state=V.PROC_INST_BODY:M.procInstName+=ie;continue;case V.PROC_INST_BODY:if(!M.procInstBody&&k(ie))continue;ie==="?"?M.state=V.PROC_INST_ENDING:M.procInstBody+=ie;continue;case V.PROC_INST_ENDING:ie===">"?(G(M,"onprocessinginstruction",{name:M.procInstName,body:M.procInstBody}),M.procInstName=M.procInstBody="",M.state=V.TEXT):(M.procInstBody+="?"+ie,M.state=V.PROC_INST_BODY);continue;case V.OPEN_TAG:D(T,ie)?M.tagName+=ie:(pe(M),ie===">"?K(M):ie==="/"?M.state=V.OPEN_TAG_SLASH:(k(ie)||re(M,"Invalid character in tag name"),M.state=V.ATTRIB));continue;case V.OPEN_TAG_SLASH:ie===">"?(K(M,!0),H(M)):(re(M,"Forward-slash in opening tag not followed by >"),M.state=V.ATTRIB);continue;case V.ATTRIB:if(k(ie))continue;ie===">"?K(M):ie==="/"?M.state=V.OPEN_TAG_SLASH:D(I,ie)?(M.attribName=ie,M.attribValue="",M.state=V.ATTRIB_NAME):re(M,"Invalid attribute name");continue;case V.ATTRIB_NAME:ie==="="?M.state=V.ATTRIB_VALUE:ie===">"?(re(M,"Attribute without value"),M.attribValue=M.attribName,Se(M),K(M)):k(ie)?M.state=V.ATTRIB_NAME_SAW_WHITE:D(T,ie)?M.attribName+=ie:re(M,"Invalid attribute name");continue;case V.ATTRIB_NAME_SAW_WHITE:if(ie==="=")M.state=V.ATTRIB_VALUE;else{if(k(ie))continue;re(M,"Attribute without value"),M.tag.attributes[M.attribName]="",M.attribValue="",G(M,"onattribute",{name:M.attribName,value:""}),M.attribName="",ie===">"?K(M):D(I,ie)?(M.attribName=ie,M.state=V.ATTRIB_NAME):(re(M,"Invalid attribute name"),M.state=V.ATTRIB)}continue;case V.ATTRIB_VALUE:if(k(ie))continue;O(ie)?(M.q=ie,M.state=V.ATTRIB_VALUE_QUOTED):(re(M,"Unquoted attribute value"),M.state=V.ATTRIB_VALUE_UNQUOTED,M.attribValue=ie);continue;case V.ATTRIB_VALUE_QUOTED:if(ie!==M.q){ie==="&"?M.state=V.ATTRIB_VALUE_ENTITY_Q:M.attribValue+=ie;continue}Se(M),M.q="",M.state=V.ATTRIB_VALUE_CLOSED;continue;case V.ATTRIB_VALUE_CLOSED:k(ie)?M.state=V.ATTRIB:ie===">"?K(M):ie==="/"?M.state=V.OPEN_TAG_SLASH:D(I,ie)?(re(M,"No whitespace between attributes"),M.attribName=ie,M.attribValue="",M.state=V.ATTRIB_NAME):re(M,"Invalid attribute name");continue;case V.ATTRIB_VALUE_UNQUOTED:if(!W(ie)){ie==="&"?M.state=V.ATTRIB_VALUE_ENTITY_U:M.attribValue+=ie;continue}Se(M),ie===">"?K(M):M.state=V.ATTRIB;continue;case V.CLOSE_TAG:if(M.tagName)ie===">"?H(M):D(T,ie)?M.tagName+=ie:M.script?(M.script+="</"+M.tagName,M.tagName="",M.state=V.SCRIPT):(k(ie)||re(M,"Invalid tagname in closing tag"),M.state=V.CLOSE_TAG_SAW_WHITE);else{if(k(ie))continue;X(I,ie)?M.script?(M.script+="</"+ie,M.state=V.SCRIPT):re(M,"Invalid tagname in closing tag."):M.tagName=ie}continue;case V.CLOSE_TAG_SAW_WHITE:if(k(ie))continue;ie===">"?H(M):re(M,"Invalid characters in closing tag");continue;case V.TEXT_ENTITY:case V.ATTRIB_VALUE_ENTITY_Q:case V.ATTRIB_VALUE_ENTITY_U:var Ce,F;switch(M.state){case V.TEXT_ENTITY:Ce=V.TEXT,F="textNode";break;case V.ATTRIB_VALUE_ENTITY_Q:Ce=V.ATTRIB_VALUE_QUOTED,F="attribValue";break;case V.ATTRIB_VALUE_ENTITY_U:Ce=V.ATTRIB_VALUE_UNQUOTED,F="attribValue";break}ie===";"?(M[F]+=ae(M),M.entity="",M.state=Ce):D(M.entity.length?C:R,ie)?M.entity+=ie:(re(M,"Invalid character in entity name"),M[F]+="&"+M.entity+ie,M.entity="",M.state=Ce);continue;default:throw new Error(M,"Unknown state: "+M.state)}return M.position>=M.bufferCheckPosition&&i(M),M}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var B=String.fromCharCode,M=Math.floor,oe=function(){var ie=16384,Q=[],J,Ce,F=-1,Te=arguments.length;if(!Te)return"";for(var z="";++F<Te;){var x=Number(arguments[F]);if(!isFinite(x)||x<0||x>1114111||M(x)!==x)throw RangeError("Invalid code point: "+x);x<=65535?Q.push(x):(x-=65536,J=(x>>10)+55296,Ce=x%1024+56320,Q.push(J,Ce)),(F+1===Te||Q.length>ie)&&(z+=B.apply(null,Q),Q.length=0)}return z};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:oe,configurable:!0,writable:!0}):String.fromCodePoint=oe}()})(t)}(_T)),_T}var yI,aM;function wR(){return aM||(aM=1,yI={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),yI}var wI,uM;function _R(){if(uM)return wI;uM=1;var t=wR().isArray;return wI={copyOptions:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},ensureFlagExists:function(e,n){(!(e in n)||typeof n[e]!="boolean")&&(n[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,n){(!(e+"Key"in n)||typeof n[e+"Key"]!="string")&&(n[e+"Key"]=n.compact?"_"+e:e)},checkFnExists:function(e,n){return e+"Fn"in n}},wI}var _I,lM;function gj(){if(lM)return _I;lM=1;var t=woe(),e=_R(),n=wR().isArray,r,i;function o(T){return r=e.copyOptions(T),e.ensureFlagExists("ignoreDeclaration",r),e.ensureFlagExists("ignoreInstruction",r),e.ensureFlagExists("ignoreAttributes",r),e.ensureFlagExists("ignoreText",r),e.ensureFlagExists("ignoreComment",r),e.ensureFlagExists("ignoreCdata",r),e.ensureFlagExists("ignoreDoctype",r),e.ensureFlagExists("compact",r),e.ensureFlagExists("alwaysChildren",r),e.ensureFlagExists("addParent",r),e.ensureFlagExists("trim",r),e.ensureFlagExists("nativeType",r),e.ensureFlagExists("nativeTypeAttributes",r),e.ensureFlagExists("sanitize",r),e.ensureFlagExists("instructionHasAttributes",r),e.ensureFlagExists("captureSpacesBetweenElements",r),e.ensureAlwaysArrayExists(r),e.ensureKeyExists("declaration",r),e.ensureKeyExists("instruction",r),e.ensureKeyExists("attributes",r),e.ensureKeyExists("text",r),e.ensureKeyExists("comment",r),e.ensureKeyExists("cdata",r),e.ensureKeyExists("doctype",r),e.ensureKeyExists("type",r),e.ensureKeyExists("name",r),e.ensureKeyExists("elements",r),e.ensureKeyExists("parent",r),e.checkFnExists("doctype",r),e.checkFnExists("instruction",r),e.checkFnExists("cdata",r),e.checkFnExists("comment",r),e.checkFnExists("text",r),e.checkFnExists("instructionName",r),e.checkFnExists("elementName",r),e.checkFnExists("attributeName",r),e.checkFnExists("attributeValue",r),e.checkFnExists("attributes",r),r}function a(T){var R=Number(T);if(!isNaN(R))return R;var C=T.toLowerCase();return C==="true"?!0:C==="false"?!1:T}function u(T,R){var C;if(r.compact){if(!i[r[T+"Key"]]&&(n(r.alwaysArray)?r.alwaysArray.indexOf(r[T+"Key"])!==-1:r.alwaysArray)&&(i[r[T+"Key"]]=[]),i[r[T+"Key"]]&&!n(i[r[T+"Key"]])&&(i[r[T+"Key"]]=[i[r[T+"Key"]]]),T+"Fn"in r&&typeof R=="string"&&(R=r[T+"Fn"](R,i)),T==="instruction"&&("instructionFn"in r||"instructionNameFn"in r)){for(C in R)if(R.hasOwnProperty(C))if("instructionFn"in r)R[C]=r.instructionFn(R[C],C,i);else{var k=R[C];delete R[C],R[r.instructionNameFn(C,k,i)]=k}}n(i[r[T+"Key"]])?i[r[T+"Key"]].push(R):i[r[T+"Key"]]=R}else{i[r.elementsKey]||(i[r.elementsKey]=[]);var O={};if(O[r.typeKey]=T,T==="instruction"){for(C in R)if(R.hasOwnProperty(C))break;O[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(C,R,i):C,r.instructionHasAttributes?(O[r.attributesKey]=R[C][r.attributesKey],"instructionFn"in r&&(O[r.attributesKey]=r.instructionFn(O[r.attributesKey],C,i))):("instructionFn"in r&&(R[C]=r.instructionFn(R[C],C,i)),O[r.instructionKey]=R[C])}else T+"Fn"in r&&(R=r[T+"Fn"](R,i)),O[r[T+"Key"]]=R;r.addParent&&(O[r.parentKey]=i),i[r.elementsKey].push(O)}}function c(T){if("attributesFn"in r&&T&&(T=r.attributesFn(T,i)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&T){var R;for(R in T)if(T.hasOwnProperty(R)&&(r.trim&&(T[R]=T[R].trim()),r.nativeTypeAttributes&&(T[R]=a(T[R])),"attributeValueFn"in r&&(T[R]=r.attributeValueFn(T[R],R,i)),"attributeNameFn"in r)){var C=T[R];delete T[R],T[r.attributeNameFn(R,T[R],i)]=C}}return T}function d(T){var R={};if(T.body&&(T.name.toLowerCase()==="xml"||r.instructionHasAttributes)){for(var C=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,k;(k=C.exec(T.body))!==null;)R[k[1]]=k[2]||k[3]||k[4];R=c(R)}if(T.name.toLowerCase()==="xml"){if(r.ignoreDeclaration)return;i[r.declarationKey]={},Object.keys(R).length&&(i[r.declarationKey][r.attributesKey]=R),r.addParent&&(i[r.declarationKey][r.parentKey]=i)}else{if(r.ignoreInstruction)return;r.trim&&(T.body=T.body.trim());var O={};r.instructionHasAttributes&&Object.keys(R).length?(O[T.name]={},O[T.name][r.attributesKey]=R):O[T.name]=T.body,u("instruction",O)}}function p(T,R){var C;if(typeof T=="object"&&(R=T.attributes,T=T.name),R=c(R),"elementNameFn"in r&&(T=r.elementNameFn(T,i)),r.compact){if(C={},!r.ignoreAttributes&&R&&Object.keys(R).length){C[r.attributesKey]={};var k;for(k in R)R.hasOwnProperty(k)&&(C[r.attributesKey][k]=R[k])}!(T in i)&&(n(r.alwaysArray)?r.alwaysArray.indexOf(T)!==-1:r.alwaysArray)&&(i[T]=[]),i[T]&&!n(i[T])&&(i[T]=[i[T]]),n(i[T])?i[T].push(C):i[T]=C}else i[r.elementsKey]||(i[r.elementsKey]=[]),C={},C[r.typeKey]="element",C[r.nameKey]=T,!r.ignoreAttributes&&R&&Object.keys(R).length&&(C[r.attributesKey]=R),r.alwaysChildren&&(C[r.elementsKey]=[]),i[r.elementsKey].push(C);C[r.parentKey]=i,i=C}function v(T){r.ignoreText||!T.trim()&&!r.captureSpacesBetweenElements||(r.trim&&(T=T.trim()),r.nativeType&&(T=a(T)),r.sanitize&&(T=T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),u("text",T))}function y(T){r.ignoreComment||(r.trim&&(T=T.trim()),u("comment",T))}function w(T){var R=i[r.parentKey];r.addParent||delete i[r.parentKey],i=R}function E(T){r.ignoreCdata||(r.trim&&(T=T.trim()),u("cdata",T))}function b(T){r.ignoreDoctype||(T=T.replace(/^ /,""),r.trim&&(T=T.trim()),u("doctype",T))}function I(T){T.note=T}return _I=function(T,R){var C=t.parser(!0,{}),k={};if(i=k,r=o(R),C.opt={strictEntities:!0},C.onopentag=p,C.ontext=v,C.oncomment=y,C.onclosetag=w,C.onerror=I,C.oncdata=E,C.ondoctype=b,C.onprocessinginstruction=d,C.write(T).close(),k[r.elementsKey]){var O=k[r.elementsKey];delete k[r.elementsKey],k[r.elementsKey]=O,delete k.text}return k},_I}var bI,cM;function _oe(){if(cM)return bI;cM=1;var t=_R(),e=gj();function n(r){var i=t.copyOptions(r);return t.ensureSpacesExists(i),i}return bI=function(r,i){var o,a,u,c;return o=n(i),a=e(r,o),c="compact"in o&&o.compact?"_parent":"parent","addParent"in o&&o.addParent?u=JSON.stringify(a,function(d,p){return d===c?"_":p},o.spaces):u=JSON.stringify(a,null,o.spaces),u.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},bI}var EI,fM;function vj(){if(fM)return EI;fM=1;var t=_R(),e=wR().isArray,n,r;function i(C){var k=t.copyOptions(C);return t.ensureFlagExists("ignoreDeclaration",k),t.ensureFlagExists("ignoreInstruction",k),t.ensureFlagExists("ignoreAttributes",k),t.ensureFlagExists("ignoreText",k),t.ensureFlagExists("ignoreComment",k),t.ensureFlagExists("ignoreCdata",k),t.ensureFlagExists("ignoreDoctype",k),t.ensureFlagExists("compact",k),t.ensureFlagExists("indentText",k),t.ensureFlagExists("indentCdata",k),t.ensureFlagExists("indentAttributes",k),t.ensureFlagExists("indentInstruction",k),t.ensureFlagExists("fullTagEmptyElement",k),t.ensureFlagExists("noQuotesForNativeAttributes",k),t.ensureSpacesExists(k),typeof k.spaces=="number"&&(k.spaces=Array(k.spaces+1).join(" ")),t.ensureKeyExists("declaration",k),t.ensureKeyExists("instruction",k),t.ensureKeyExists("attributes",k),t.ensureKeyExists("text",k),t.ensureKeyExists("comment",k),t.ensureKeyExists("cdata",k),t.ensureKeyExists("doctype",k),t.ensureKeyExists("type",k),t.ensureKeyExists("name",k),t.ensureKeyExists("elements",k),t.checkFnExists("doctype",k),t.checkFnExists("instruction",k),t.checkFnExists("cdata",k),t.checkFnExists("comment",k),t.checkFnExists("text",k),t.checkFnExists("instructionName",k),t.checkFnExists("elementName",k),t.checkFnExists("attributeName",k),t.checkFnExists("attributeValue",k),t.checkFnExists("attributes",k),t.checkFnExists("fullTagEmptyElement",k),k}function o(C,k,O){return(!O&&C.spaces?`
`:"")+Array(k+1).join(C.spaces)}function a(C,k,O){if(k.ignoreAttributes)return"";"attributesFn"in k&&(C=k.attributesFn(C,r,n));var W,D,X,V,se=[];for(W in C)C.hasOwnProperty(W)&&C[W]!==null&&C[W]!==void 0&&(V=k.noQuotesForNativeAttributes&&typeof C[W]!="string"?"":'"',D=""+C[W],D=D.replace(/"/g,"&quot;"),X="attributeNameFn"in k?k.attributeNameFn(W,D,r,n):W,se.push(k.spaces&&k.indentAttributes?o(k,O+1,!1):" "),se.push(X+"="+V+("attributeValueFn"in k?k.attributeValueFn(D,W,r,n):D)+V));return C&&Object.keys(C).length&&k.spaces&&k.indentAttributes&&se.push(o(k,O,!1)),se.join("")}function u(C,k,O){return n=C,r="xml",k.ignoreDeclaration?"":"<?xml"+a(C[k.attributesKey],k,O)+"?>"}function c(C,k,O){if(k.ignoreInstruction)return"";var W;for(W in C)if(C.hasOwnProperty(W))break;var D="instructionNameFn"in k?k.instructionNameFn(W,C[W],r,n):W;if(typeof C[W]=="object")return n=C,r=D,"<?"+D+a(C[W][k.attributesKey],k,O)+"?>";var X=C[W]?C[W]:"";return"instructionFn"in k&&(X=k.instructionFn(X,W,r,n)),"<?"+D+(X?" "+X:"")+"?>"}function d(C,k){return k.ignoreComment?"":"<!--"+("commentFn"in k?k.commentFn(C,r,n):C)+"-->"}function p(C,k){return k.ignoreCdata?"":"<![CDATA["+("cdataFn"in k?k.cdataFn(C,r,n):C.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function v(C,k){return k.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in k?k.doctypeFn(C,r,n):C)+">"}function y(C,k){return k.ignoreText?"":(C=""+C,C=C.replace(/&amp;/g,"&"),C=C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in k?k.textFn(C,r,n):C)}function w(C,k){var O;if(C.elements&&C.elements.length)for(O=0;O<C.elements.length;++O)switch(C.elements[O][k.typeKey]){case"text":if(k.indentText)return!0;break;case"cdata":if(k.indentCdata)return!0;break;case"instruction":if(k.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function E(C,k,O){n=C,r=C.name;var W=[],D="elementNameFn"in k?k.elementNameFn(C.name,C):C.name;W.push("<"+D),C[k.attributesKey]&&W.push(a(C[k.attributesKey],k,O));var X=C[k.elementsKey]&&C[k.elementsKey].length||C[k.attributesKey]&&C[k.attributesKey]["xml:space"]==="preserve";return X||("fullTagEmptyElementFn"in k?X=k.fullTagEmptyElementFn(C.name,C):X=k.fullTagEmptyElement),X?(W.push(">"),C[k.elementsKey]&&C[k.elementsKey].length&&(W.push(b(C[k.elementsKey],k,O+1)),n=C,r=C.name),W.push(k.spaces&&w(C,k)?`
`+Array(O+1).join(k.spaces):""),W.push("</"+D+">")):W.push("/>"),W.join("")}function b(C,k,O,W){return C.reduce(function(D,X){var V=o(k,O,W&&!D);switch(X.type){case"element":return D+V+E(X,k,O);case"comment":return D+V+d(X[k.commentKey],k);case"doctype":return D+V+v(X[k.doctypeKey],k);case"cdata":return D+(k.indentCdata?V:"")+p(X[k.cdataKey],k);case"text":return D+(k.indentText?V:"")+y(X[k.textKey],k);case"instruction":var se={};return se[X[k.nameKey]]=X[k.attributesKey]?X:X[k.instructionKey],D+(k.indentInstruction?V:"")+c(se,k,O)}},"")}function I(C,k,O){var W;for(W in C)if(C.hasOwnProperty(W))switch(W){case k.parentKey:case k.attributesKey:break;case k.textKey:if(k.indentText||O)return!0;break;case k.cdataKey:if(k.indentCdata||O)return!0;break;case k.instructionKey:if(k.indentInstruction||O)return!0;break;case k.doctypeKey:case k.commentKey:return!0;default:return!0}return!1}function T(C,k,O,W,D){n=C,r=k;var X="elementNameFn"in O?O.elementNameFn(k,C):k;if(typeof C>"u"||C===null||C==="")return"fullTagEmptyElementFn"in O&&O.fullTagEmptyElementFn(k,C)||O.fullTagEmptyElement?"<"+X+"></"+X+">":"<"+X+"/>";var V=[];if(k){if(V.push("<"+X),typeof C!="object")return V.push(">"+y(C,O)+"</"+X+">"),V.join("");C[O.attributesKey]&&V.push(a(C[O.attributesKey],O,W));var se=I(C,O,!0)||C[O.attributesKey]&&C[O.attributesKey]["xml:space"]==="preserve";if(se||("fullTagEmptyElementFn"in O?se=O.fullTagEmptyElementFn(k,C):se=O.fullTagEmptyElement),se)V.push(">");else return V.push("/>"),V.join("")}return V.push(R(C,O,W+1,!1)),n=C,r=k,k&&V.push((D?o(O,W,!1):"")+"</"+X+">"),V.join("")}function R(C,k,O,W){var D,X,V,se=[];for(X in C)if(C.hasOwnProperty(X))for(V=e(C[X])?C[X]:[C[X]],D=0;D<V.length;++D){switch(X){case k.declarationKey:se.push(u(V[D],k,O));break;case k.instructionKey:se.push((k.indentInstruction?o(k,O,W):"")+c(V[D],k,O));break;case k.attributesKey:case k.parentKey:break;case k.textKey:se.push((k.indentText?o(k,O,W):"")+y(V[D],k));break;case k.cdataKey:se.push((k.indentCdata?o(k,O,W):"")+p(V[D],k));break;case k.doctypeKey:se.push(o(k,O,W)+v(V[D],k));break;case k.commentKey:se.push(o(k,O,W)+d(V[D],k));break;default:se.push(o(k,O,W)+T(V[D],X,k,O,I(V[D],k)))}W=W&&!se.length}return se.join("")}return EI=function(C,k){k=i(k);var O=[];return n=C,r="_root_",k.compact?O.push(R(C,k,0,!0)):(C[k.declarationKey]&&O.push(u(C[k.declarationKey],k,0)),C[k.elementsKey]&&C[k.elementsKey].length&&O.push(b(C[k.elementsKey],k,0,!O.length))),O.join("")},EI}var SI,hM;function boe(){if(hM)return SI;hM=1;var t=vj();return SI=function(e,n){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return t(r,n)},SI}var TI,dM;function Eoe(){if(dM)return TI;dM=1;var t=gj(),e=_oe(),n=vj(),r=boe();return TI={xml2js:t,xml2json:e,js2xml:n,json2xml:r},TI}var yj=Eoe();const bR=t=>{switch(t.type){case void 0:case"element":const e=new Toe(t.name,t.attributes),n=t.elements||[];for(const r of n){const i=bR(r);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class Soe extends Ze{}class Toe extends Oe{static fromXmlString(e){const n=yj.xml2js(e,{compact:!1});return bR(n)}constructor(e,n){super(e),n&&this.root.push(new Soe(n))}push(e){this.root.push(e)}}class Ioe extends Oe{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class wj extends Oe{constructor(e,n){super(e),n&&(this.root=n.root)}}const no=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Q1=t=>{const e=no(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},_j=(t,e)=>{const n=e*2;if(t.length!==n||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${n} digit hex value`);return t},pM=t=>_j(t,1),bj=t=>{const e=t.slice(-2),n=t.substring(0,t.length-2);return`${Number(n)}${e}`},Ej=t=>{const e=bj(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Yp=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return _j(e,3)},Jf=t=>typeof t=="string"?bj(t):no(t),Coe=t=>typeof t=="string"?Ej(t):Q1(t),xs=t=>typeof t=="string"?Ej(t):Q1(t),xoe=Q1,koe=Q1,Aoe=t=>t.toISOString();class Be extends Oe{constructor(e,n=!0){super(e),n!==!0&&this.root.push(new qn({val:n}))}}class II extends Oe{constructor(e,n){super(e),this.root.push(new qn({val:Coe(n)}))}}class yp extends Oe{constructor(e,n){super(e),this.root.push(new qn({val:n}))}}const Ev=(t,e)=>new rr({name:t,attributes:{value:{key:"w:val",value:e}}});class Kv extends Oe{constructor(e,n){super(e),this.root.push(new qn({val:n}))}}class Mf extends Oe{constructor(e,n){super(e),this.root.push(n)}}class rr extends Oe{constructor({name:e,attributes:n,children:r}){super(e),n&&this.root.push(new bm(n)),r&&this.root.push(...r)}}const _a={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class Roe extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class Noe extends Oe{constructor(e){super("w:jc"),this.root.push(new Roe({val:e}))}}class Fn extends Oe{constructor(e,{color:n,size:r,space:i,style:o}){super(e),this.root.push(new Ooe({style:o,color:n===void 0?void 0:Yp(n),size:r===void 0?void 0:xoe(r),space:i===void 0?void 0:koe(i)}))}}class Ooe extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const ER={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class Poe extends $1{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Fn("w:top",e.top)),e.bottom&&this.root.push(new Fn("w:bottom",e.bottom)),e.left&&this.root.push(new Fn("w:left",e.left)),e.right&&this.root.push(new Fn("w:right",e.right))}}class Doe extends Oe{constructor(){super("w:pBdr");const e=new Fn("w:bottom",{color:"auto",space:1,style:ER.SINGLE,size:6});this.root.push(e)}}class Loe extends Oe{constructor({start:e,end:n,left:r,right:i,hanging:o,firstLine:a}){super("w:ind"),this.root.push(new bm({start:{key:"w:start",value:e===void 0?void 0:Jf(e)},end:{key:"w:end",value:n===void 0?void 0:Jf(n)},left:{key:"w:left",value:r===void 0?void 0:Jf(r)},right:{key:"w:right",value:i===void 0?void 0:Jf(i)},hanging:{key:"w:hanging",value:o===void 0?void 0:xs(o)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:xs(a)}}))}}let Moe=class extends Oe{constructor(){super("w:br")}};const SR={BEGIN:"begin",END:"end",SEPARATE:"separate"};class TR extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class J0 extends Oe{constructor(e){super("w:fldChar"),this.root.push(new TR({type:SR.BEGIN,dirty:e}))}}class Z0 extends Oe{constructor(e){super("w:fldChar"),this.root.push(new TR({type:SR.SEPARATE,dirty:e}))}}class e_ extends Oe{constructor(e){super("w:fldChar"),this.root.push(new TR({type:SR.END,dirty:e}))}}const Xp={DEFAULT:"default",PRESERVE:"preserve"};class Qp extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{space:"xml:space"})}}class Foe extends Oe{constructor(){super("w:instrText"),this.root.push(new Qp({space:Xp.PRESERVE})),this.root.push("PAGE")}}class Uoe extends Oe{constructor(){super("w:instrText"),this.root.push(new Qp({space:Xp.PRESERVE})),this.root.push("NUMPAGES")}}class joe extends Oe{constructor(){super("w:instrText"),this.root.push(new Qp({space:Xp.PRESERVE})),this.root.push("SECTIONPAGES")}}class Boe extends Oe{constructor(){super("w:instrText"),this.root.push(new Qp({space:Xp.PRESERVE})),this.root.push("SECTION")}}class Voe extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Sj extends Oe{constructor({fill:e,color:n,type:r}){super("w:shd"),this.root.push(new Voe({fill:e===void 0?void 0:Yp(e),color:n===void 0?void 0:Yp(n),type:r}))}}class zoe extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const Woe={DOT:"dot"};class Hoe extends Oe{constructor(e){super("w:em"),this.root.push(new qn({val:e}))}}class qoe extends Hoe{constructor(e=Woe.DOT){super(e)}}class Goe extends Oe{constructor(e){super("w:spacing"),this.root.push(new qn({val:Jf(e)}))}}class Koe extends Oe{constructor(e){super("w:color"),this.root.push(new qn({val:Yp(e)}))}}class $oe extends Oe{constructor(e){super("w:highlight"),this.root.push(new qn({val:e}))}}class Yoe extends Oe{constructor(e){super("w:highlightCs"),this.root.push(new qn({val:e}))}}const Xoe=t=>new rr({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class mM extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class CI extends Oe{constructor(e,n){if(super("w:rFonts"),typeof e=="string"){const r=e;this.root.push(new mM({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:n}))}else{const r=e;this.root.push(new mM(r))}}}let Tj=class extends Oe{constructor(e){super("w:vertAlign"),this.root.push(new qn({val:e}))}};class Qoe extends Tj{constructor(){super("superscript")}}class Joe extends Tj{constructor(){super("subscript")}}const Ij={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class Zoe extends Oe{constructor(e=Ij.SINGLE,n){super("w:u"),this.root.push(new qn({val:e,color:n===void 0?void 0:Yp(n)}))}}class Oh extends $1{constructor(e){var n,r;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new Be("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new Be("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Be("w:bCs",(n=e.boldComplexScript)!=null?n:e.bold)),e.italics!==void 0&&this.push(new Be("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Be("w:iCs",(r=e.italicsComplexScript)!=null?r:e.italics)),e.underline&&this.push(new Zoe(e.underline.type,e.underline.color)),e.effect&&this.push(new yp("w:effect",e.effect)),e.emphasisMark&&this.push(new qoe(e.emphasisMark.type)),e.color&&this.push(new Koe(e.color)),e.kern&&this.push(new II("w:kern",e.kern)),e.position&&this.push(new yp("w:position",e.position)),e.size!==void 0&&this.push(new II("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new II("w:szCs",i)),e.rightToLeft!==void 0&&this.push(new Be("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new Be("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Be("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Be("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Be("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new Joe),e.superScript&&this.push(new Qoe),e.style&&this.push(new yp("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new CI(e.font)):"name"in e.font?this.push(new CI(e.font.name,e.font.hint)):this.push(new CI(e.font))),e.highlight&&this.push(new $oe(e.highlight));const o=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;o&&this.push(new Yoe(o)),e.characterSpacing&&this.push(new Goe(e.characterSpacing)),e.emboss!==void 0&&this.push(new Be("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Be("w:imprint",e.imprint)),e.shading&&this.push(new Sj(e.shading)),e.revision&&this.push(new ese(e.revision)),e.border&&this.push(new Fn("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new Be("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Be("w:vanish",e.vanish)),e.specVanish&&this.push(new Be("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new Kv("w:w",e.scale)),e.language&&this.push(Xoe(e.language)),e.math&&this.push(new Be("w:oMath",e.math))}push(e){this.root.push(e)}}class ese extends Oe{constructor(e){super("w:rPrChange"),this.root.push(new zoe({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Oh(e))}}class gM extends Oe{constructor(e){var n;super("w:t"),typeof e=="string"?(this.root.push(new Qp({space:Xp.PRESERVE})),this.root.push(e)):(this.root.push(new Qp({space:(n=e.space)!=null?n:Xp.DEFAULT})),this.root.push(e.text))}}const t_={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class ow extends Oe{constructor(e){if(super("w:r"),Ne(this,"properties"),this.properties=new Oh(e),this.root.push(this.properties),e.break)for(let n=0;n<e.break;n++)this.root.push(new Moe);if(e.children)for(const n of e.children){if(typeof n=="string"){switch(n){case t_.CURRENT:this.root.push(new J0),this.root.push(new Foe),this.root.push(new Z0),this.root.push(new e_);break;case t_.TOTAL_PAGES:this.root.push(new J0),this.root.push(new Uoe),this.root.push(new Z0),this.root.push(new e_);break;case t_.TOTAL_PAGES_IN_SECTION:this.root.push(new J0),this.root.push(new joe),this.root.push(new Z0),this.root.push(new e_);break;case t_.CURRENT_SECTION:this.root.push(new J0),this.root.push(new Boe),this.root.push(new Z0),this.root.push(new e_);break;default:this.root.push(new gM(n));break}continue}this.root.push(n)}else e.text!==void 0&&this.root.push(new gM(e.text))}}class Zl extends ow{constructor(e){super(typeof e=="string"?{text:e}:e)}}var xI={},ln={},kI,vM;function sw(){if(vM)return kI;vM=1,kI=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},kI}var yM;function za(){if(yM)return ln;yM=1;var t=sw(),e=Ic();ln.inherits=e;function n(G,ee){return(G.charCodeAt(ee)&64512)!==55296||ee<0||ee+1>=G.length?!1:(G.charCodeAt(ee+1)&64512)===56320}function r(G,ee){if(Array.isArray(G))return G.slice();if(!G)return[];var j=[];if(typeof G=="string")if(ee){if(ee==="hex")for(G=G.replace(/[^a-z0-9]+/ig,""),G.length%2!==0&&(G="0"+G),Ee=0;Ee<G.length;Ee+=2)j.push(parseInt(G[Ee]+G[Ee+1],16))}else for(var he=0,Ee=0;Ee<G.length;Ee++){var re=G.charCodeAt(Ee);re<128?j[he++]=re:re<2048?(j[he++]=re>>6|192,j[he++]=re&63|128):n(G,Ee)?(re=65536+((re&1023)<<10)+(G.charCodeAt(++Ee)&1023),j[he++]=re>>18|240,j[he++]=re>>12&63|128,j[he++]=re>>6&63|128,j[he++]=re&63|128):(j[he++]=re>>12|224,j[he++]=re>>6&63|128,j[he++]=re&63|128)}else for(Ee=0;Ee<G.length;Ee++)j[Ee]=G[Ee]|0;return j}ln.toArray=r;function i(G){for(var ee="",j=0;j<G.length;j++)ee+=u(G[j].toString(16));return ee}ln.toHex=i;function o(G){var ee=G>>>24|G>>>8&65280|G<<8&16711680|(G&255)<<24;return ee>>>0}ln.htonl=o;function a(G,ee){for(var j="",he=0;he<G.length;he++){var Ee=G[he];ee==="little"&&(Ee=o(Ee)),j+=c(Ee.toString(16))}return j}ln.toHex32=a;function u(G){return G.length===1?"0"+G:G}ln.zero2=u;function c(G){return G.length===7?"0"+G:G.length===6?"00"+G:G.length===5?"000"+G:G.length===4?"0000"+G:G.length===3?"00000"+G:G.length===2?"000000"+G:G.length===1?"0000000"+G:G}ln.zero8=c;function d(G,ee,j,he){var Ee=j-ee;t(Ee%4===0);for(var re=new Array(Ee/4),pe=0,me=ee;pe<re.length;pe++,me+=4){var Se;he==="big"?Se=G[me]<<24|G[me+1]<<16|G[me+2]<<8|G[me+3]:Se=G[me+3]<<24|G[me+2]<<16|G[me+1]<<8|G[me],re[pe]=Se>>>0}return re}ln.join32=d;function p(G,ee){for(var j=new Array(G.length*4),he=0,Ee=0;he<G.length;he++,Ee+=4){var re=G[he];ee==="big"?(j[Ee]=re>>>24,j[Ee+1]=re>>>16&255,j[Ee+2]=re>>>8&255,j[Ee+3]=re&255):(j[Ee+3]=re>>>24,j[Ee+2]=re>>>16&255,j[Ee+1]=re>>>8&255,j[Ee]=re&255)}return j}ln.split32=p;function v(G,ee){return G>>>ee|G<<32-ee}ln.rotr32=v;function y(G,ee){return G<<ee|G>>>32-ee}ln.rotl32=y;function w(G,ee){return G+ee>>>0}ln.sum32=w;function E(G,ee,j){return G+ee+j>>>0}ln.sum32_3=E;function b(G,ee,j,he){return G+ee+j+he>>>0}ln.sum32_4=b;function I(G,ee,j,he,Ee){return G+ee+j+he+Ee>>>0}ln.sum32_5=I;function T(G,ee,j,he){var Ee=G[ee],re=G[ee+1],pe=he+re>>>0,me=(pe<he?1:0)+j+Ee;G[ee]=me>>>0,G[ee+1]=pe}ln.sum64=T;function R(G,ee,j,he){var Ee=ee+he>>>0,re=(Ee<ee?1:0)+G+j;return re>>>0}ln.sum64_hi=R;function C(G,ee,j,he){var Ee=ee+he;return Ee>>>0}ln.sum64_lo=C;function k(G,ee,j,he,Ee,re,pe,me){var Se=0,K=ee;K=K+he>>>0,Se+=K<ee?1:0,K=K+re>>>0,Se+=K<re?1:0,K=K+me>>>0,Se+=K<me?1:0;var H=G+j+Ee+pe+Se;return H>>>0}ln.sum64_4_hi=k;function O(G,ee,j,he,Ee,re,pe,me){var Se=ee+he+re+me;return Se>>>0}ln.sum64_4_lo=O;function W(G,ee,j,he,Ee,re,pe,me,Se,K){var H=0,ae=ee;ae=ae+he>>>0,H+=ae<ee?1:0,ae=ae+re>>>0,H+=ae<re?1:0,ae=ae+me>>>0,H+=ae<me?1:0,ae=ae+K>>>0,H+=ae<K?1:0;var de=G+j+Ee+pe+Se+H;return de>>>0}ln.sum64_5_hi=W;function D(G,ee,j,he,Ee,re,pe,me,Se,K){var H=ee+he+re+me+K;return H>>>0}ln.sum64_5_lo=D;function X(G,ee,j){var he=ee<<32-j|G>>>j;return he>>>0}ln.rotr64_hi=X;function V(G,ee,j){var he=G<<32-j|ee>>>j;return he>>>0}ln.rotr64_lo=V;function se(G,ee,j){return G>>>j}ln.shr64_hi=se;function Ie(G,ee,j){var he=G<<32-j|ee>>>j;return he>>>0}return ln.shr64_lo=Ie,ln}var AI={},wM;function aw(){if(wM)return AI;wM=1;var t=za(),e=sw();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return AI.BlockHash=n,n.prototype.update=function(i,o){if(i=t.toArray(i,o),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var u=0;u<i.length;u+=this._delta32)this._update(i,u,u+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,o=this._delta8,a=o-(i+this.padLength)%o,u=new Array(a+this.padLength);u[0]=128;for(var c=1;c<a;c++)u[c]=0;if(i<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)u[c++]=0;u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=i>>>24&255,u[c++]=i>>>16&255,u[c++]=i>>>8&255,u[c++]=i&255}else for(u[c++]=i&255,u[c++]=i>>>8&255,u[c++]=i>>>16&255,u[c++]=i>>>24&255,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,d=8;d<this.padLength;d++)u[c++]=0;return u},AI}var Ff={},wa={},_M;function Cj(){if(_M)return wa;_M=1;var t=za(),e=t.rotr32;function n(p,v,y,w){if(p===0)return r(v,y,w);if(p===1||p===3)return o(v,y,w);if(p===2)return i(v,y,w)}wa.ft_1=n;function r(p,v,y){return p&v^~p&y}wa.ch32=r;function i(p,v,y){return p&v^p&y^v&y}wa.maj32=i;function o(p,v,y){return p^v^y}wa.p32=o;function a(p){return e(p,2)^e(p,13)^e(p,22)}wa.s0_256=a;function u(p){return e(p,6)^e(p,11)^e(p,25)}wa.s1_256=u;function c(p){return e(p,7)^e(p,18)^p>>>3}wa.g0_256=c;function d(p){return e(p,17)^e(p,19)^p>>>10}return wa.g1_256=d,wa}var RI,bM;function tse(){if(bM)return RI;bM=1;var t=za(),e=aw(),n=Cj(),r=t.rotl32,i=t.sum32,o=t.sum32_5,a=n.ft_1,u=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(d,u),RI=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(v,y){for(var w=this.W,E=0;E<16;E++)w[E]=v[y+E];for(;E<w.length;E++)w[E]=r(w[E-3]^w[E-8]^w[E-14]^w[E-16],1);var b=this.h[0],I=this.h[1],T=this.h[2],R=this.h[3],C=this.h[4];for(E=0;E<w.length;E++){var k=~~(E/20),O=o(r(b,5),a(k,I,T,R),C,w[E],c[k]);C=R,R=T,T=r(I,30),I=b,b=O}this.h[0]=i(this.h[0],b),this.h[1]=i(this.h[1],I),this.h[2]=i(this.h[2],T),this.h[3]=i(this.h[3],R),this.h[4]=i(this.h[4],C)},d.prototype._digest=function(v){return v==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},RI}var NI,EM;function xj(){if(EM)return NI;EM=1;var t=za(),e=aw(),n=Cj(),r=sw(),i=t.sum32,o=t.sum32_4,a=t.sum32_5,u=n.ch32,c=n.maj32,d=n.s0_256,p=n.s1_256,v=n.g0_256,y=n.g1_256,w=e.BlockHash,E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;w.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=E,this.W=new Array(64)}return t.inherits(b,w),NI=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(T,R){for(var C=this.W,k=0;k<16;k++)C[k]=T[R+k];for(;k<C.length;k++)C[k]=o(y(C[k-2]),C[k-7],v(C[k-15]),C[k-16]);var O=this.h[0],W=this.h[1],D=this.h[2],X=this.h[3],V=this.h[4],se=this.h[5],Ie=this.h[6],G=this.h[7];for(r(this.k.length===C.length),k=0;k<C.length;k++){var ee=a(G,p(V),u(V,se,Ie),this.k[k],C[k]),j=i(d(O),c(O,W,D));G=Ie,Ie=se,se=V,V=i(X,ee),X=D,D=W,W=O,O=i(ee,j)}this.h[0]=i(this.h[0],O),this.h[1]=i(this.h[1],W),this.h[2]=i(this.h[2],D),this.h[3]=i(this.h[3],X),this.h[4]=i(this.h[4],V),this.h[5]=i(this.h[5],se),this.h[6]=i(this.h[6],Ie),this.h[7]=i(this.h[7],G)},b.prototype._digest=function(T){return T==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},NI}var OI,SM;function nse(){if(SM)return OI;SM=1;var t=za(),e=xj();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),OI=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},OI}var PI,TM;function kj(){if(TM)return PI;TM=1;var t=za(),e=aw(),n=sw(),r=t.rotr64_hi,i=t.rotr64_lo,o=t.shr64_hi,a=t.shr64_lo,u=t.sum64,c=t.sum64_hi,d=t.sum64_lo,p=t.sum64_4_hi,v=t.sum64_4_lo,y=t.sum64_5_hi,w=t.sum64_5_lo,E=e.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;E.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}t.inherits(I,E),PI=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(j,he){for(var Ee=this.W,re=0;re<32;re++)Ee[re]=j[he+re];for(;re<Ee.length;re+=2){var pe=Ie(Ee[re-4],Ee[re-3]),me=G(Ee[re-4],Ee[re-3]),Se=Ee[re-14],K=Ee[re-13],H=V(Ee[re-30],Ee[re-29]),ae=se(Ee[re-30],Ee[re-29]),de=Ee[re-32],_e=Ee[re-31];Ee[re]=p(pe,me,Se,K,H,ae,de,_e),Ee[re+1]=v(pe,me,Se,K,H,ae,de,_e)}},I.prototype._update=function(j,he){this._prepareBlock(j,he);var Ee=this.W,re=this.h[0],pe=this.h[1],me=this.h[2],Se=this.h[3],K=this.h[4],H=this.h[5],ae=this.h[6],de=this.h[7],_e=this.h[8],le=this.h[9],B=this.h[10],M=this.h[11],oe=this.h[12],ie=this.h[13],Q=this.h[14],J=this.h[15];n(this.k.length===Ee.length);for(var Ce=0;Ce<Ee.length;Ce+=2){var F=Q,Te=J,z=D(_e,le),x=X(_e,le),A=T(_e,le,B,M,oe),U=R(_e,le,B,M,oe,ie),ne=this.k[Ce],ye=this.k[Ce+1],ue=Ee[Ce],De=Ee[Ce+1],Pe=y(F,Te,z,x,A,U,ne,ye,ue,De),Me=w(F,Te,z,x,A,U,ne,ye,ue,De);F=O(re,pe),Te=W(re,pe),z=C(re,pe,me,Se,K),x=k(re,pe,me,Se,K,H);var Ge=c(F,Te,z,x),et=d(F,Te,z,x);Q=oe,J=ie,oe=B,ie=M,B=_e,M=le,_e=c(ae,de,Pe,Me),le=d(de,de,Pe,Me),ae=K,de=H,K=me,H=Se,me=re,Se=pe,re=c(Pe,Me,Ge,et),pe=d(Pe,Me,Ge,et)}u(this.h,0,re,pe),u(this.h,2,me,Se),u(this.h,4,K,H),u(this.h,6,ae,de),u(this.h,8,_e,le),u(this.h,10,B,M),u(this.h,12,oe,ie),u(this.h,14,Q,J)},I.prototype._digest=function(j){return j==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function T(ee,j,he,Ee,re){var pe=ee&he^~ee&re;return pe<0&&(pe+=4294967296),pe}function R(ee,j,he,Ee,re,pe){var me=j&Ee^~j&pe;return me<0&&(me+=4294967296),me}function C(ee,j,he,Ee,re){var pe=ee&he^ee&re^he&re;return pe<0&&(pe+=4294967296),pe}function k(ee,j,he,Ee,re,pe){var me=j&Ee^j&pe^Ee&pe;return me<0&&(me+=4294967296),me}function O(ee,j){var he=r(ee,j,28),Ee=r(j,ee,2),re=r(j,ee,7),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function W(ee,j){var he=i(ee,j,28),Ee=i(j,ee,2),re=i(j,ee,7),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function D(ee,j){var he=r(ee,j,14),Ee=r(ee,j,18),re=r(j,ee,9),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function X(ee,j){var he=i(ee,j,14),Ee=i(ee,j,18),re=i(j,ee,9),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function V(ee,j){var he=r(ee,j,1),Ee=r(ee,j,8),re=o(ee,j,7),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function se(ee,j){var he=i(ee,j,1),Ee=i(ee,j,8),re=a(ee,j,7),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function Ie(ee,j){var he=r(ee,j,19),Ee=r(j,ee,29),re=o(ee,j,6),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function G(ee,j){var he=i(ee,j,19),Ee=i(j,ee,29),re=a(ee,j,6),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}return PI}var DI,IM;function rse(){if(IM)return DI;IM=1;var t=za(),e=kj();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),DI=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},DI}var CM;function ise(){return CM||(CM=1,Ff.sha1=tse(),Ff.sha224=nse(),Ff.sha256=xj(),Ff.sha384=rse(),Ff.sha512=kj()),Ff}var LI={},xM;function ose(){if(xM)return LI;xM=1;var t=za(),e=aw(),n=t.rotl32,r=t.sum32,i=t.sum32_3,o=t.sum32_4,a=e.BlockHash;function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(u,a),LI.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(I,T){for(var R=this.h[0],C=this.h[1],k=this.h[2],O=this.h[3],W=this.h[4],D=R,X=C,V=k,se=O,Ie=W,G=0;G<80;G++){var ee=r(n(o(R,c(G,C,k,O),I[v[G]+T],d(G)),w[G]),W);R=W,W=O,O=n(k,10),k=C,C=ee,ee=r(n(o(D,c(79-G,X,V,se),I[y[G]+T],p(G)),E[G]),Ie),D=Ie,Ie=se,se=n(V,10),V=X,X=ee}ee=i(this.h[1],k,se),this.h[1]=i(this.h[2],O,Ie),this.h[2]=i(this.h[3],W,D),this.h[3]=i(this.h[4],R,X),this.h[4]=i(this.h[0],C,V),this.h[0]=ee},u.prototype._digest=function(I){return I==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(b,I,T,R){return b<=15?I^T^R:b<=31?I&T|~I&R:b<=47?(I|~T)^R:b<=63?I&R|T&~R:I^(T|~R)}function d(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function p(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return LI}var MI,kM;function sse(){if(kM)return MI;kM=1;var t=za(),e=sw();function n(r,i,o){if(!(this instanceof n))return new n(r,i,o);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,o))}return MI=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var o=i.length;o<this.blockSize;o++)i.push(0);for(o=0;o<i.length;o++)i[o]^=54;for(this.inner=new this.Hash().update(i),o=0;o<i.length;o++)i[o]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,o){return this.inner.update(i,o),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},MI}var AM;function ase(){return AM||(AM=1,function(t){var e=t;e.utils=za(),e.common=aw(),e.sha=ise(),e.ripemd=ose(),e.hmac=sse(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(xI)),xI}var use=ase();const lse=fR(use);let cse="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",fse=(t,e=21)=>(n=e)=>{let r="",i=n|0;for(;i--;)r+=t[Math.random()*t.length|0];return r},hse=(t=21)=>{let e="",n=t|0;for(;n--;)e+=cse[Math.random()*64|0];return e};const Ts=t=>Math.floor(t*72*20),J1=(t=0)=>{let e=t;return()=>++e},dse=()=>J1(),pse=()=>J1(1),mse=()=>J1(),gse=()=>J1(),vse=()=>hse().toLowerCase(),RM=t=>lse.sha1().update(t instanceof ArrayBuffer?new Uint8Array(t):t).digest("hex"),Sv=t=>fse("1234567890abcdef",t)(),yse=()=>`${Sv(8)}-${Sv(4)}-${Sv(4)}-${Sv(4)}-${Sv(12)}`,wse={CHARACTER:"character",COLUMN:"column",INSIDE_MARGIN:"insideMargin",LEFT_MARGIN:"leftMargin",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",RIGHT_MARGIN:"rightMargin"},_se={BOTTOM_MARGIN:"bottomMargin",INSIDE_MARGIN:"insideMargin",LINE:"line",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",PARAGRAPH:"paragraph",TOP_MARGIN:"topMargin"};class bse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{x:"x",y:"y"})}}class Ese extends Oe{constructor(){super("wp:simplePos"),this.root.push(new bse({x:0,y:0}))}}class Aj extends Oe{constructor(e){super("wp:align"),this.root.push(e)}}class Rj extends Oe{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class Sse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class Tse extends Oe{constructor(e){if(super("wp:positionH"),this.root.push(new Sse({relativeFrom:e.relative||wse.PAGE})),e.align)this.root.push(new Aj(e.align));else if(e.offset!==void 0)this.root.push(new Rj(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class Ise extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class Cse extends Oe{constructor(e){if(super("wp:positionV"),this.root.push(new Ise({relativeFrom:e.relative||_se.PAGE})),e.align)this.root.push(new Aj(e.align));else if(e.offset!==void 0)this.root.push(new Rj(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class xse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{uri:"uri"})}}const kse=t=>new rr({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${t.fileName}}`}}}),Ase=t=>new rr({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[kse(t)]}),Rse=t=>new rr({name:"a:extLst",children:[Ase(t)]}),Nse=t=>new rr({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${t.type==="svg"?t.fallback.fileName:t.fileName}}`},cstate:{key:"cstate",value:"none"}},children:t.type==="svg"?[Rse(t)]:[]});class Ose extends Oe{constructor(){super("a:srcRect")}}class Pse extends Oe{constructor(){super("a:fillRect")}}class Dse extends Oe{constructor(){super("a:stretch"),this.root.push(new Pse)}}class Lse extends Oe{constructor(e){super("pic:blipFill"),this.root.push(Nse(e)),this.root.push(new Ose),this.root.push(new Dse)}}class Mse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class Fse extends Oe{constructor(){super("a:picLocks"),this.root.push(new Mse({noChangeAspect:1,noChangeArrowheads:1}))}}class Use extends Oe{constructor(){super("pic:cNvPicPr"),this.root.push(new Fse)}}const Nj=(t,e)=>new rr({name:"a:hlinkClick",attributes:yc(Nt({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class jse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class Bse extends Oe{constructor(){super("pic:cNvPr"),this.root.push(new jse({id:0,name:"",descr:""}))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const r=e.stack[n];if(r instanceof IR){this.root.push(Nj(r.linkId,!1));break}}return super.prepForXml(e)}}class Vse extends Oe{constructor(){super("pic:nvPicPr"),this.root.push(new Bse),this.root.push(new Use)}}class zse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class Wse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Hse extends Oe{constructor(e,n){super("a:ext"),Ne(this,"attributes"),this.attributes=new Wse({cx:e,cy:n}),this.root.push(this.attributes)}}class qse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{x:"x",y:"y"})}}class Gse extends Oe{constructor(){super("a:off"),this.root.push(new qse({x:0,y:0}))}}class Kse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class $se extends Oe{constructor(e){var n,r;super("a:xfrm"),Ne(this,"extents"),this.root.push(new Kse({flipVertical:(n=e.flip)==null?void 0:n.vertical,flipHorizontal:(r=e.flip)==null?void 0:r.horizontal,rotation:e.rotation})),this.extents=new Hse(e.emus.x,e.emus.y),this.root.push(new Gse),this.root.push(this.extents)}}const Oj=()=>new rr({name:"a:noFill"}),Yse=t=>new rr({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),Xse=t=>new rr({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),NM=t=>new rr({name:"a:solidFill",children:[t.type==="rgb"?Yse(t):Xse(t)]}),Qse=t=>new rr({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?Oj():t.solidFillType==="rgb"?NM({type:"rgb",value:t.value}):NM({type:"scheme",value:t.value})]});class Jse extends Oe{constructor(){super("a:avLst")}}class Zse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{prst:"prst"})}}class eae extends Oe{constructor(){super("a:prstGeom"),this.root.push(new Zse({prst:"rect"})),this.root.push(new Jse)}}class tae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{bwMode:"bwMode"})}}class nae extends Oe{constructor({outline:e,transform:n}){super("pic:spPr"),Ne(this,"form"),this.root.push(new tae({bwMode:"auto"})),this.form=new $se(n),this.root.push(this.form),this.root.push(new eae),e&&(this.root.push(Oj()),this.root.push(Qse(e)))}}class rae extends Oe{constructor({mediaData:e,transform:n,outline:r}){super("pic:pic"),this.root.push(new zse({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new Vse),this.root.push(new Lse(e)),this.root.push(new nae({transform:n,outline:r}))}}class iae extends Oe{constructor({mediaData:e,transform:n,outline:r}){super("a:graphicData"),Ne(this,"pic"),this.root.push(new xse({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new rae({mediaData:e,transform:n,outline:r}),this.root.push(this.pic)}}class oae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{a:"xmlns:a"})}}class Pj extends Oe{constructor({mediaData:e,transform:n,outline:r}){super("a:graphic"),Ne(this,"data"),this.root.push(new oae({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new iae({mediaData:e,transform:n,outline:r}),this.root.push(this.data)}}const n_={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},sae={BOTH_SIDES:"bothSides",LEFT:"left",RIGHT:"right",LARGEST:"largest"};class OM extends Oe{constructor(){super("wp:wrapNone")}}class aae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class uae extends Oe{constructor(e,n={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new aae({wrapText:e.side||sae.BOTH_SIDES,distT:n.top,distB:n.bottom,distL:n.left,distR:n.right}))}}class lae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class cae extends Oe{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new lae({distT:e.top,distB:e.bottom}))}}class fae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class hae extends Oe{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new fae({distT:e.top,distB:e.bottom}))}}class Dj extends Oe{constructor({name:e,description:n,title:r}={name:"",description:"",title:""}){super("wp:docPr"),Ne(this,"docPropertiesUniqueNumericId",mse()),this.root.push(new bm({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:n},title:{key:"title",value:r}}))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const r=e.stack[n];if(r instanceof IR){this.root.push(Nj(r.linkId,!0));break}}return super.prepForXml(e)}}const Lj=({top:t,right:e,bottom:n,left:r})=>new rr({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:n},left:{key:"l",value:r}}});class dae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Mj extends Oe{constructor(e,n){super("wp:extent"),Ne(this,"attributes"),this.attributes=new dae({cx:e,cy:n}),this.root.push(this.attributes)}}class pae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class mae extends Oe{constructor(){super("a:graphicFrameLocks"),this.root.push(new pae({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class Fj extends Oe{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new mae)}}class gae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class vae extends Oe{constructor({mediaData:e,transform:n,drawingOptions:r}){super("wp:anchor");const i=Nt({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},r.floating);if(this.root.push(new gae({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:n.emus.y})),this.root.push(new Ese),this.root.push(new Tse(i.horizontalPosition)),this.root.push(new Cse(i.verticalPosition)),this.root.push(new Mj(n.emus.x,n.emus.y)),this.root.push(Lj({top:0,right:0,bottom:0,left:0})),r.floating!==void 0&&r.floating.wrap!==void 0)switch(r.floating.wrap.type){case n_.SQUARE:this.root.push(new uae(r.floating.wrap,r.floating.margins));break;case n_.TIGHT:this.root.push(new cae(r.floating.margins));break;case n_.TOP_AND_BOTTOM:this.root.push(new hae(r.floating.margins));break;case n_.NONE:default:this.root.push(new OM)}else this.root.push(new OM);this.root.push(new Dj(r.docProperties)),this.root.push(new Fj),this.root.push(new Pj({mediaData:e,transform:n,outline:r.outline}))}}const yae=({mediaData:t,transform:e,docProperties:n,outline:r})=>{var i,o,a,u;return new rr({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new Mj(e.emus.x,e.emus.y),Lj(r?{top:((i=r.width)!=null?i:9525)*2,right:((o=r.width)!=null?o:9525)*2,bottom:((a=r.width)!=null?a:9525)*2,left:((u=r.width)!=null?u:9525)*2}:{top:0,right:0,bottom:0,left:0}),new Dj(n),new Fj,new Pj({mediaData:t,transform:e,outline:r})]})};class wae extends Oe{constructor(e,n={}){super("w:drawing"),n.floating?this.root.push(new vae({mediaData:e,transform:e.transformation,drawingOptions:n})):this.root.push(yae({mediaData:e,transform:e.transformation,docProperties:n.docProperties,outline:n.outline}))}}const _ae=t=>{if(typeof atob=="function"){const e=";base64,",n=t.indexOf(e),r=n===-1?0:n+e.length;return new Uint8Array(atob(t.substring(r)).split("").map(i=>i.charCodeAt(0)))}else{const e=require("buffer");return new e.Buffer(t,"base64")}},bae=t=>typeof t=="string"?_ae(t):t,FI=(t,e)=>({data:bae(t.data),fileName:e,transformation:{pixels:{x:Math.round(t.transformation.width),y:Math.round(t.transformation.height)},emus:{x:Math.round(t.transformation.width*9525),y:Math.round(t.transformation.height*9525)},flip:t.transformation.flip,rotation:t.transformation.rotation?t.transformation.rotation*6e4:void 0}});class Eae extends ow{constructor(e){super({}),Ne(this,"imageData");const r=`${RM(e.data)}.${e.type}`;this.imageData=e.type==="svg"?yc(Nt({type:e.type},FI(e,r)),{fallback:Nt({type:e.fallback.type},FI(yc(Nt({},e.fallback),{transformation:e.transformation}),`${RM(e.fallback.data)}.${e.fallback.type}`))}):Nt({type:e.type},FI(e,r));const i=new wae(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(i)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}}class Sae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class Tae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class Iae extends Oe{constructor({id:e,initials:n,author:r,date:i=new Date,children:o}){super("w:comment"),this.root.push(new Sae({id:e,initials:n,author:r,date:i.toISOString()}));for(const a of o)this.root.push(a)}}class Cae extends Oe{constructor({children:e}){super("w:comments"),this.root.push(new Tae({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const n of e)this.root.push(new Iae(n))}}class xae extends Oe{constructor(){super("w:pageBreakBefore")}}const mx={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class kae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutoSpacing"})}}class Aae extends Oe{constructor(e){super("w:spacing"),this.root.push(new kae(e))}}const Rae={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let r_=class extends Oe{constructor(e){super("w:pStyle"),this.root.push(new qn({val:e}))}};class Nae extends Oe{constructor(e){super("w:tabs");for(const n of e)this.root.push(new Pae(n))}}const PM={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class Oae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class Pae extends Oe{constructor({type:e,position:n,leader:r}){super("w:tab"),this.root.push(new Oae({val:e,pos:n,leader:r}))}}class UI extends Oe{constructor(e,n){super("w:numPr"),this.root.push(new Dae(n)),this.root.push(new Lae(e))}}class Dae extends Oe{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new qn({val:e}))}}class Lae extends Oe{constructor(e){super("w:numId"),this.root.push(new qn({val:typeof e=="string"?`{${e}}`:e}))}}class Mae extends Oe{constructor(){super(...arguments),Ne(this,"fileChild",Symbol())}}class Fae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Uae={EXTERNAL:"External"};class jae extends Oe{constructor(e,n,r,i){super("Relationship"),this.root.push(new Fae({id:e,type:n,target:r,targetMode:i}))}}class Bae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class IR extends Oe{constructor(e,n,r){super("w:hyperlink"),Ne(this,"linkId"),this.linkId=n;const i={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},o=new Bae(i);this.root.push(o),e.forEach(a=>{this.root.push(a)})}}class Vae extends Oe{constructor(e){super("w:externalHyperlink"),this.options=e}}class zae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class Wae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"w:id"})}}class Hae{constructor(e){Ne(this,"bookmarkUniqueNumericId",gse()),Ne(this,"start"),Ne(this,"children"),Ne(this,"end");const n=this.bookmarkUniqueNumericId();this.start=new qae(e.id,n),this.children=e.children,this.end=new Gae(n)}}class qae extends Oe{constructor(e,n){super("w:bookmarkStart");const r=new zae({name:e,id:n});this.root.push(r)}}class Gae extends Oe{constructor(e){super("w:bookmarkEnd");const n=new Wae({id:e});this.root.push(n)}}class Kae extends Oe{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new qn({val:e}))}}class $ae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{verticalAlign:"w:val"})}}class Yae extends Oe{constructor(e){super("w:vAlign"),this.root.push(new $ae({verticalAlign:e}))}}class Xae extends Oe{constructor({space:e,count:n,separate:r,equalWidth:i,children:o}){super("w:cols"),this.root.push(new bm({space:{key:"w:space",value:e===void 0?void 0:xs(e)},count:{key:"w:num",value:n===void 0?void 0:no(n)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:i}})),!i&&o&&o.forEach(a=>this.addChildElement(a))}}class Qae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class Jae extends Oe{constructor(e,n,r){super("w:docGrid"),this.root.push(new Qae({type:r,linePitch:no(e),charSpace:n?no(n):void 0}))}}const wp={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Zae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const DM={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class jI extends Oe{constructor(e,n){super(e),this.root.push(new Zae({type:n.type||wp.DEFAULT,id:`rId${n.id}`}))}}const eue=({countBy:t,start:e,restart:n,distance:r})=>new rr({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:no(t)},start:{key:"w:start",value:e===void 0?void 0:no(e)},restart:{key:"w:restart",value:n},distance:{key:"w:distance",value:r===void 0?void 0:xs(r)}}});class LM extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class tue extends $1{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new LM({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new LM({})),e.pageBorderTop&&this.root.push(new Fn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Fn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Fn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Fn("w:right",e.pageBorderRight))}}class nue extends Oe{constructor(e,n,r,i,o,a,u){super("w:pgMar"),this.root.push(new bm({top:{key:"w:top",value:Jf(e)},right:{key:"w:right",value:xs(n)},bottom:{key:"w:bottom",value:Jf(r)},left:{key:"w:left",value:xs(i)},header:{key:"w:header",value:xs(o)},footer:{key:"w:footer",value:xs(a)},gutter:{key:"w:gutter",value:xs(u)}}))}}class rue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class iue extends Oe{constructor({start:e,formatType:n,separator:r}){super("w:pgNumType"),this.root.push(new rue({start:e===void 0?void 0:no(e),formatType:n,separator:r}))}}const Uj={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class oue extends Oe{constructor(e,n,r){super("w:pgSz");const i=r===Uj.LANDSCAPE,o=xs(e),a=xs(n);this.root.push(new bm({width:{key:"w:w",value:i?a:o},height:{key:"w:h",value:i?o:a},orientation:{key:"w:orient",value:r}}))}}class sue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class aue extends Oe{constructor(e){super("w:textDirection"),this.root.push(new sue({val:e}))}}class uue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class lue extends Oe{constructor(e){super("w:type"),this.root.push(new uue({val:e}))}}const Uf={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},BI={WIDTH:11906,HEIGHT:16838,ORIENTATION:Uj.PORTRAIT};class cue extends Oe{constructor({page:{size:{width:e=BI.WIDTH,height:n=BI.HEIGHT,orientation:r=BI.ORIENTATION}={},margin:{top:i=Uf.TOP,right:o=Uf.RIGHT,bottom:a=Uf.BOTTOM,left:u=Uf.LEFT,header:c=Uf.HEADER,footer:d=Uf.FOOTER,gutter:p=Uf.GUTTER}={},pageNumbers:v={},borders:y,textDirection:w}={},grid:{linePitch:E=360,charSpace:b,type:I}={},headerWrapperGroup:T={},footerWrapperGroup:R={},lineNumbers:C,titlePage:k,verticalAlign:O,column:W,type:D}={}){super("w:sectPr"),this.addHeaderFooterGroup(DM.HEADER,T),this.addHeaderFooterGroup(DM.FOOTER,R),D&&this.root.push(new lue(D)),this.root.push(new oue(e,n,r)),this.root.push(new nue(i,o,a,u,c,d,p)),y&&this.root.push(new tue(y)),C&&this.root.push(eue(C)),this.root.push(new iue(v)),W&&this.root.push(new Xae(W)),O&&this.root.push(new Yae(O)),k!==void 0&&this.root.push(new Be("w:titlePg",k)),w&&this.root.push(new aue(w)),this.root.push(new Jae(E,b,I))}addHeaderFooterGroup(e,n){n.default&&this.root.push(new jI(e,{type:wp.DEFAULT,id:n.default.View.ReferenceId})),n.first&&this.root.push(new jI(e,{type:wp.FIRST,id:n.first.View.ReferenceId})),n.even&&this.root.push(new jI(e,{type:wp.EVEN,id:n.even.View.ReferenceId}))}}class fue extends Oe{constructor(){super("w:body"),Ne(this,"sections",[])}addSection(e){const n=this.sections.pop();this.root.push(this.createSectionParagraph(n)),this.sections.push(new cue(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const n=new Ta({}),r=new Jp({});return r.push(e),n.addChildElement(r),n}}const MM={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class Z1 extends Ze{constructor(e,n){super(Nt({Ignorable:n},Object.fromEntries(e.map(r=>[r,MM[r]])))),Ne(this,"xmlKeys",Nt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(MM).map(r=>[r,`xmlns:${r}`]))))}}class hue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class due extends Oe{constructor(e){super("w:background"),this.root.push(new hue({color:e.color===void 0?void 0:Yp(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:pM(e.themeShade),themeTint:e.themeTint===void 0?void 0:pM(e.themeTint)}))}}class pue extends Oe{constructor(e){super("w:document"),Ne(this,"body"),this.root.push(new Z1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new fue,e.background&&this.root.push(new due(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class mue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns"})}}class Sm extends Oe{constructor(){super("Relationships"),this.root.push(new mue({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,n,r,i){const o=new jae(`rId${e}`,n,r,i);return this.root.push(o),o}get RelationshipCount(){return this.root.length-1}}class jj{constructor(e){Ne(this,"document"),Ne(this,"relationships"),this.document=new pue(e),this.relationships=new Sm}get View(){return this.document}get Relationships(){return this.relationships}}class gue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class vue extends Oe{constructor(){super("w:wordWrap"),this.root.push(new gue({val:0}))}}const yue=t=>{var e,n;return new rr({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(n=t.space)==null?void 0:n.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Jp extends $1{constructor(e){var n,r;if(super("w:pPr"),Ne(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new r_(e.heading)),e.bullet&&this.push(new r_("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new r_("ListParagraph"))),e.style&&this.push(new r_(e.style)),e.keepNext!==void 0&&this.push(new Be("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Be("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new xae),e.frame&&this.push(yue(e.frame)),e.widowControl!==void 0&&this.push(new Be("w:widowControl",e.widowControl)),e.bullet&&this.push(new UI(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(n=e.numbering.instance)!=null?n:0}),this.push(new UI(`${e.numbering.reference}-${(r=e.numbering.instance)!=null?r:0}`,e.numbering.level))):e.numbering===!1&&this.push(new UI(0,0)),e.border&&this.push(new Poe(e.border)),e.thematicBreak&&this.push(new Doe),e.shading&&this.push(new Sj(e.shading)),e.wordWrap&&this.push(new vue),e.overflowPunctuation&&this.push(new Be("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:PM.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:PM.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new Nae(i)),e.bidirectional!==void 0&&this.push(new Be("w:bidi",e.bidirectional)),e.spacing&&this.push(new Aae(e.spacing)),e.indent&&this.push(new Loe(e.indent)),e.contextualSpacing!==void 0&&this.push(new Be("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new Noe(e.alignment)),e.outlineLevel!==void 0&&this.push(new Kae(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Be("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Be("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Oh(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof jj)for(const n of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(n.reference,n.instance);return super.prepForXml(e)}}class Ta extends Mae{constructor(e){if(super("w:p"),Ne(this,"properties"),typeof e=="string")return this.properties=new Jp({}),this.root.push(this.properties),this.root.push(new Zl(e)),this;if(this.properties=new Jp(e),this.root.push(this.properties),e.text&&this.root.push(new Zl(e.text)),e.children)for(const n of e.children){if(n instanceof Hae){this.root.push(n.start);for(const r of n.children)this.root.push(r);this.root.push(n.end);continue}this.root.push(n)}}prepForXml(e){for(const n of this.root)if(n instanceof Vae){const r=this.root.indexOf(n),i=new IR(n.options.children,vse());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",n.options.link,Uae.EXTERNAL),this.root[r]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const tp={style:ER.NONE,size:0,color:"auto"},np={style:ER.SINGLE,size:4,color:"auto"};class wue extends Oe{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Fn("w:top",e.top)):this.root.push(new Fn("w:top",np)),e.left?this.root.push(new Fn("w:left",e.left)):this.root.push(new Fn("w:left",np)),e.bottom?this.root.push(new Fn("w:bottom",e.bottom)):this.root.push(new Fn("w:bottom",np)),e.right?this.root.push(new Fn("w:right",e.right)):this.root.push(new Fn("w:right",np)),e.insideHorizontal?this.root.push(new Fn("w:insideH",e.insideHorizontal)):this.root.push(new Fn("w:insideH",np)),e.insideVertical?this.root.push(new Fn("w:insideV",e.insideVertical)):this.root.push(new Fn("w:insideV",np))}}Ne(wue,"NONE",{top:tp,bottom:tp,left:tp,right:tp,insideHorizontal:tp,insideVertical:tp});class _ue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class bue extends Oe{constructor(){super("Properties"),this.root.push(new _ue({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class Eue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns"})}}class Sue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class vu extends Oe{constructor(e,n){super("Default"),this.root.push(new Sue({contentType:e,extension:n}))}}class Tue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class zo extends Oe{constructor(e,n){super("Override"),this.root.push(new Tue({contentType:e,partName:n}))}}class Iue extends Oe{constructor(){super("Types"),this.root.push(new Eue({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new vu("image/png","png")),this.root.push(new vu("image/jpeg","jpeg")),this.root.push(new vu("image/jpeg","jpg")),this.root.push(new vu("image/bmp","bmp")),this.root.push(new vu("image/gif","gif")),this.root.push(new vu("image/svg+xml","svg")),this.root.push(new vu("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new vu("application/xml","xml")),this.root.push(new vu("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new zo("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class Cue extends Oe{constructor(e){super("cp:coreProperties"),this.root.push(new Z1(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Mf("dc:title",e.title)),e.subject&&this.root.push(new Mf("dc:subject",e.subject)),e.creator&&this.root.push(new Mf("dc:creator",e.creator)),e.keywords&&this.root.push(new Mf("cp:keywords",e.keywords)),e.description&&this.root.push(new Mf("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Mf("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Mf("cp:revision",String(e.revision))),this.root.push(new FM("dcterms:created")),this.root.push(new FM("dcterms:modified"))}}class xue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"xsi:type"})}}class FM extends Oe{constructor(e){super(e),this.root.push(new xue({type:"dcterms:W3CDTF"})),this.root.push(Aoe(new Date))}}class kue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Aue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class Rue extends Oe{constructor(e,n){super("property"),this.root.push(new Aue({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:n.name})),this.root.push(new Nue(n.value))}}class Nue extends Oe{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class Oue extends Oe{constructor(e){super("Properties"),Ne(this,"nextId"),Ne(this,"properties",[]),this.root.push(new kue({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const n of e)this.addCustomProperty(n)}prepForXml(e){return this.properties.forEach(n=>this.root.push(n)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new Rue(this.nextId++,e))}}const i_=({id:t,fontKey:e,subsetted:n},r)=>new rr({name:r,attributes:Nt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...n?[new Be("w:subsetted",n)]:[]]}),Pue=({name:t,altName:e,panose1:n,charset:r,family:i,notTrueType:o,pitch:a,sig:u,embedRegular:c,embedBold:d,embedItalic:p,embedBoldItalic:v})=>new rr({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Ev("w:altName",e)]:[],...n?[Ev("w:panose1",n)]:[],...r?[Ev("w:charset",r)]:[],...i?[Ev("w:family",i)]:[],...o?[new Be("w:notTrueType",o)]:[],...a?[Ev("w:pitch",a)]:[],...u?[new rr({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:u.usb0},usb1:{key:"w:usb1",value:u.usb1},usb2:{key:"w:usb2",value:u.usb2},usb3:{key:"w:usb3",value:u.usb3},csb0:{key:"w:csb0",value:u.csb0},csb1:{key:"w:csb1",value:u.csb1}}})]:[],...c?[i_(c,"w:embedRegular")]:[],...d?[i_(d,"w:embedBold")]:[],...p?[i_(p,"w:embedItalic")]:[],...v?[i_(v,"w:embedBoldItalic")]:[]]}),Due=({name:t,index:e,fontKey:n,characterSet:r})=>Pue({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:r,family:"auto",pitch:"variable",embedRegular:{fontKey:n,id:`rId${e}`}}),Lue=t=>new rr({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,n)=>Due({name:e.name,index:n+1,fontKey:e.fontKey}))});class Mue{constructor(e){Ne(this,"fontTable"),Ne(this,"relationships"),Ne(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(n=>yc(Nt({},n),{fontKey:yse()})),this.fontTable=Lue(this.fontOptionsWithKey),this.relationships=new Sm;for(let n=0;n<e.length;n++)this.relationships.createRelationship(n+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[n].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class Fue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let Uue=class extends wj{constructor(e,n){super("w:ftr",n),Ne(this,"refId"),this.refId=e,n||this.root.push(new Fue({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class jue{constructor(e,n,r){Ne(this,"footer"),Ne(this,"relationships"),this.media=e,this.footer=new Uue(n,r),this.relationships=new Sm}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Bue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class Vue extends Oe{constructor(){super("w:footnoteRef")}}class zue extends ow{constructor(){super({style:"FootnoteReference"}),this.root.push(new Vue)}}const UM={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class VI extends Oe{constructor(e){super("w:footnote"),this.root.push(new Bue({type:e.type,id:e.id}));for(let n=0;n<e.children.length;n++){const r=e.children[n];n===0&&r.addRunToFront(new zue),this.root.push(r)}}}class Wue extends Oe{constructor(){super("w:continuationSeparator")}}class Hue extends ow{constructor(){super({}),this.root.push(new Wue)}}class que extends Oe{constructor(){super("w:separator")}}class Gue extends ow{constructor(){super({}),this.root.push(new que)}}class Kue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class $ue extends Oe{constructor(){super("w:footnotes"),this.root.push(new Kue({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new VI({id:-1,type:UM.SEPERATOR,children:[new Ta({spacing:{after:0,line:240,lineRule:mx.AUTO},children:[new Gue]})]});this.root.push(e);const n=new VI({id:0,type:UM.CONTINUATION_SEPERATOR,children:[new Ta({spacing:{after:0,line:240,lineRule:mx.AUTO},children:[new Hue]})]});this.root.push(n)}createFootNote(e,n){const r=new VI({id:e,children:n});this.root.push(r)}}class Yue{constructor(){Ne(this,"footnotess"),Ne(this,"relationships"),this.footnotess=new $ue,this.relationships=new Sm}get View(){return this.footnotess}get Relationships(){return this.relationships}}class Xue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let Que=class extends wj{constructor(e,n){super("w:hdr",n),Ne(this,"refId"),this.refId=e,n||this.root.push(new Xue({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Jue{constructor(e,n,r){Ne(this,"header"),Ne(this,"relationships"),this.media=e,this.header=new Que(n,r),this.relationships=new Sm}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Zue{constructor(){Ne(this,"map"),this.map=new Map}addImage(e,n){this.map.set(e,n)}get Array(){return Array.from(this.map.values())}}const yu={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class ele extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class tle extends Oe{constructor(e){super("w:numFmt"),this.root.push(new qn({val:e}))}}class nle extends Oe{constructor(e){super("w:lvlText"),this.root.push(new qn({val:e}))}}class rle extends Oe{constructor(e){super("w:lvlJc"),this.root.push(new qn({val:e}))}}class ile extends Oe{constructor(e){super("w:suff"),this.root.push(new qn({val:e}))}}class ole extends Oe{constructor(){super("w:isLgl")}}class sle extends Oe{constructor({level:e,format:n,text:r,alignment:i=_a.START,start:o=1,style:a,suffix:u,isLegalNumberingStyle:c}){if(super("w:lvl"),Ne(this,"paragraphProperties"),Ne(this,"runProperties"),this.root.push(new Kv("w:start",no(o))),n&&this.root.push(new tle(n)),u&&this.root.push(new ile(u)),c&&this.root.push(new ole),r&&this.root.push(new nle(r)),this.root.push(new rle(i)),this.paragraphProperties=new Jp(a&&a.paragraph),this.runProperties=new Oh(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new ele({ilvl:no(e),tentative:1}))}}class ale extends sle{}class ule extends Oe{constructor(e){super("w:multiLevelType"),this.root.push(new qn({val:e}))}}class lle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class jM extends Oe{constructor(e,n){super("w:abstractNum"),Ne(this,"id"),this.root.push(new lle({abstractNumId:no(e),restartNumberingAfterBreak:0})),this.root.push(new ule("hybridMultilevel")),this.id=e;for(const r of n)this.root.push(new ale(r))}}class cle extends Oe{constructor(e){super("w:abstractNumId"),this.root.push(new qn({val:e}))}}class fle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{numId:"w:numId"})}}class BM extends Oe{constructor(e){if(super("w:num"),Ne(this,"numId"),Ne(this,"reference"),Ne(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new fle({numId:no(e.numId)})),this.root.push(new cle(no(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const n of e.overrideLevels)this.root.push(new dle(n.num,n.start))}}class hle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{ilvl:"w:ilvl"})}}class dle extends Oe{constructor(e,n){super("w:lvlOverride"),this.root.push(new hle({ilvl:e})),n!==void 0&&this.root.push(new mle(n))}}class ple extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class mle extends Oe{constructor(e){super("w:startOverride"),this.root.push(new ple({val:e}))}}class gle extends Oe{constructor(e){super("w:numbering"),Ne(this,"abstractNumberingMap",new Map),Ne(this,"concreteNumberingMap",new Map),Ne(this,"referenceConfigMap",new Map),Ne(this,"abstractNumUniqueNumericId",dse()),Ne(this,"concreteNumUniqueNumericId",pse()),this.root.push(new Z1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const n=new jM(this.abstractNumUniqueNumericId(),[{level:0,format:yu.BULLET,text:"",alignment:_a.LEFT,style:{paragraph:{indent:{left:Ts(.5),hanging:Ts(.25)}}}},{level:1,format:yu.BULLET,text:"",alignment:_a.LEFT,style:{paragraph:{indent:{left:Ts(1),hanging:Ts(.25)}}}},{level:2,format:yu.BULLET,text:"",alignment:_a.LEFT,style:{paragraph:{indent:{left:2160,hanging:Ts(.25)}}}},{level:3,format:yu.BULLET,text:"",alignment:_a.LEFT,style:{paragraph:{indent:{left:2880,hanging:Ts(.25)}}}},{level:4,format:yu.BULLET,text:"",alignment:_a.LEFT,style:{paragraph:{indent:{left:3600,hanging:Ts(.25)}}}},{level:5,format:yu.BULLET,text:"",alignment:_a.LEFT,style:{paragraph:{indent:{left:4320,hanging:Ts(.25)}}}},{level:6,format:yu.BULLET,text:"",alignment:_a.LEFT,style:{paragraph:{indent:{left:5040,hanging:Ts(.25)}}}},{level:7,format:yu.BULLET,text:"",alignment:_a.LEFT,style:{paragraph:{indent:{left:5760,hanging:Ts(.25)}}}},{level:8,format:yu.BULLET,text:"",alignment:_a.LEFT,style:{paragraph:{indent:{left:6480,hanging:Ts(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new BM({numId:1,abstractNumId:n.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",n);for(const r of e.config)this.abstractNumberingMap.set(r.reference,new jM(this.abstractNumUniqueNumericId(),r.levels)),this.referenceConfigMap.set(r.reference,r.levels)}prepForXml(e){for(const n of this.abstractNumberingMap.values())this.root.push(n);for(const n of this.concreteNumberingMap.values())this.root.push(n);return super.prepForXml(e)}createConcreteNumberingInstance(e,n){const r=this.abstractNumberingMap.get(e);if(!r)return;const i=`${e}-${n}`;if(this.concreteNumberingMap.has(i))return;const o=this.referenceConfigMap.get(e),a=o&&o[0].start,u={numId:this.concreteNumUniqueNumericId(),abstractNumId:r.id,reference:e,instance:n,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new BM(u))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class vle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class yle extends Oe{constructor(e){super("w:compatSetting"),this.root.push(new vle({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class wle extends Oe{constructor(e){super("w:compat"),e.version&&this.root.push(new yle(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Be("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Be("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Be("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Be("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Be("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Be("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Be("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Be("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Be("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Be("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Be("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Be("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Be("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Be("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Be("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Be("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Be("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Be("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Be("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Be("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Be("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Be("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Be("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Be("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Be("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Be("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Be("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Be("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Be("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Be("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Be("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Be("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Be("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Be("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Be("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Be("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Be("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Be("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Be("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Be("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Be("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Be("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Be("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Be("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Be("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Be("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Be("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Be("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Be("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Be("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Be("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Be("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Be("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Be("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Be("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Be("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Be("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Be("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Be("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Be("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Be("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Be("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Be("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Be("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Be("w:cachedColBalance",e.cachedColumnBalance))}}class _le extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class ble extends Oe{constructor(e){var n,r,i,o,a,u,c,d;super("w:settings"),this.root.push(new _le({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Be("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Be("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Be("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Be("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Kv("w:defaultTabStop",e.defaultTabStop)),((n=e.hyphenation)==null?void 0:n.autoHyphenation)!==void 0&&this.root.push(new Be("w:autoHyphenation",e.hyphenation.autoHyphenation)),((r=e.hyphenation)==null?void 0:r.hyphenationZone)!==void 0&&this.root.push(new Kv("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Kv("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((o=e.hyphenation)==null?void 0:o.doNotHyphenateCaps)!==void 0&&this.root.push(new Be("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new wle(yc(Nt({},(a=e.compatibility)!=null?a:{}),{version:(d=(c=(u=e.compatibility)==null?void 0:u.version)!=null?c:e.compatibilityModeVersion)!=null?d:15})))}}class Bj extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class Ele extends Oe{constructor(e){super("w:name"),this.root.push(new Bj({val:e}))}}class Sle extends Oe{constructor(e){super("w:uiPriority"),this.root.push(new Bj({val:no(e)}))}}class Tle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class Vj extends Oe{constructor(e,n){super("w:style"),this.root.push(new Tle(e)),n.name&&this.root.push(new Ele(n.name)),n.basedOn&&this.root.push(new yp("w:basedOn",n.basedOn)),n.next&&this.root.push(new yp("w:next",n.next)),n.link&&this.root.push(new yp("w:link",n.link)),n.uiPriority!==void 0&&this.root.push(new Sle(n.uiPriority)),n.semiHidden!==void 0&&this.root.push(new Be("w:semiHidden",n.semiHidden)),n.unhideWhenUsed!==void 0&&this.root.push(new Be("w:unhideWhenUsed",n.unhideWhenUsed)),n.quickFormat!==void 0&&this.root.push(new Be("w:qFormat",n.quickFormat))}}class eE extends Vj{constructor(e){super({type:"paragraph",styleId:e.id},e),Ne(this,"paragraphProperties"),Ne(this,"runProperties"),this.paragraphProperties=new Jp(e.paragraph),this.runProperties=new Oh(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class tE extends Vj{constructor(e){super({type:"character",styleId:e.id},Nt({uiPriority:99,unhideWhenUsed:!0},e)),Ne(this,"runProperties"),this.runProperties=new Oh(e.run),this.root.push(this.runProperties)}}class Cc extends eE{constructor(e){super(Nt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class Ile extends Cc{constructor(e){super(Nt({id:"Title",name:"Title"},e))}}class Cle extends Cc{constructor(e){super(Nt({id:"Heading1",name:"Heading 1"},e))}}class xle extends Cc{constructor(e){super(Nt({id:"Heading2",name:"Heading 2"},e))}}class kle extends Cc{constructor(e){super(Nt({id:"Heading3",name:"Heading 3"},e))}}class Ale extends Cc{constructor(e){super(Nt({id:"Heading4",name:"Heading 4"},e))}}class Rle extends Cc{constructor(e){super(Nt({id:"Heading5",name:"Heading 5"},e))}}class Nle extends Cc{constructor(e){super(Nt({id:"Heading6",name:"Heading 6"},e))}}class Ole extends Cc{constructor(e){super(Nt({id:"Strong",name:"Strong"},e))}}class Ple extends eE{constructor(e){super(Nt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class Dle extends eE{constructor(e){super(Nt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:mx.AUTO}},run:{size:20}},e))}}class Lle extends tE{constructor(e){super(Nt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class Mle extends tE{constructor(e){super(Nt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class Fle extends tE{constructor(e){super(Nt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Ij.SINGLE}}},e))}}class gx extends Oe{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const n of e.importedStyles)this.root.push(n);if(e.paragraphStyles)for(const n of e.paragraphStyles)this.root.push(new eE(n));if(e.characterStyles)for(const n of e.characterStyles)this.root.push(new tE(n))}}class Ule extends Oe{constructor(e){super("w:pPrDefault"),this.root.push(new Jp(e))}}class jle extends Oe{constructor(e){super("w:rPrDefault"),this.root.push(new Oh(e))}}class Ble extends Oe{constructor(e){super("w:docDefaults"),Ne(this,"runPropertiesDefaults"),Ne(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new jle(e.run),this.paragraphPropertiesDefaults=new Ule(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class Vle{newInstance(e){const n=yj.xml2js(e,{compact:!1});let r;for(const a of n.elements||[])a.name==="w:styles"&&(r=a);if(r===void 0)throw new Error("can not find styles element");const i=r.elements||[];return new gx({initialStyles:new Ioe(r.attributes),importedStyles:i.map(a=>bR(a))})}}class VM{newInstance(e={}){var n;return{initialStyles:new Z1(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new Ble((n=e.document)!=null?n:{}),new Ile(Nt({run:{size:56}},e.title)),new Cle(Nt({run:{color:"2E74B5",size:32}},e.heading1)),new xle(Nt({run:{color:"2E74B5",size:26}},e.heading2)),new kle(Nt({run:{color:"1F4D78",size:24}},e.heading3)),new Ale(Nt({run:{color:"2E74B5",italics:!0}},e.heading4)),new Rle(Nt({run:{color:"2E74B5"}},e.heading5)),new Nle(Nt({run:{color:"1F4D78"}},e.heading6)),new Ole(Nt({run:{bold:!0}},e.strong)),new Ple(e.listParagraph||{}),new Fle(e.hyperlink||{}),new Lle(e.footnoteReference||{}),new Dle(e.footnoteText||{}),new Mle(e.footnoteTextChar||{})]}}}class zle{constructor(e){Ne(this,"currentRelationshipId",1),Ne(this,"documentWrapper"),Ne(this,"headers",[]),Ne(this,"footers",[]),Ne(this,"coreProperties"),Ne(this,"numbering"),Ne(this,"media"),Ne(this,"fileRelationships"),Ne(this,"footnotesWrapper"),Ne(this,"settings"),Ne(this,"contentTypes"),Ne(this,"customProperties"),Ne(this,"appProperties"),Ne(this,"styles"),Ne(this,"comments"),Ne(this,"fontWrapper");var n,r,i,o,a,u,c,d,p,v,y,w;if(this.coreProperties=new Cue(yc(Nt({},e),{creator:(n=e.creator)!=null?n:"Un-named",revision:(r=e.revision)!=null?r:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new gle(e.numbering?e.numbering:{config:[]}),this.comments=new Cae((o=e.comments)!=null?o:{children:[]}),this.fileRelationships=new Sm,this.customProperties=new Oue((a=e.customProperties)!=null?a:[]),this.appProperties=new bue,this.footnotesWrapper=new Yue,this.contentTypes=new Iue,this.documentWrapper=new jj({background:e.background}),this.settings=new ble({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(u=e.features)==null?void 0:u.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(d=e.hyphenation)==null?void 0:d.autoHyphenation,hyphenationZone:(p=e.hyphenation)==null?void 0:p.hyphenationZone,consecutiveHyphenLimit:(v=e.hyphenation)==null?void 0:v.consecutiveHyphenLimit,doNotHyphenateCaps:(y=e.hyphenation)==null?void 0:y.doNotHyphenateCaps}}),this.media=new Zue,e.externalStyles!==void 0){const E=new Vle;this.styles=E.newInstance(e.externalStyles)}else if(e.styles){const b=new VM().newInstance(e.styles.default);this.styles=new gx(Nt(Nt({},b),e.styles))}else{const E=new VM;this.styles=new gx(E.newInstance())}this.addDefaultRelationships();for(const E of e.sections)this.addSection(E);if(e.footnotes)for(const E in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(E),e.footnotes[E].children);this.fontWrapper=new Mue((w=e.fonts)!=null?w:[])}addSection({headers:e={},footers:n={},children:r,properties:i}){this.documentWrapper.View.Body.addSection(yc(Nt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:n.default?this.createFooter(n.default):void 0,first:n.first?this.createFooter(n.first):void 0,even:n.even?this.createFooter(n.even):void 0}}));for(const o of r)this.documentWrapper.View.add(o)}createHeader(e){const n=new Jue(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addHeaderToDocument(n),n}createFooter(e){const n=new jue(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addFooterToDocument(n),n}addHeaderToDocument(e,n=wp.DEFAULT){this.headers.push({header:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,n=wp.DEFAULT){this.footers.push({footer:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var Wle=yR();function o_(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zI={exports:{}},zM;function Hle(){return zM||(zM=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,o){function a(d,p){if(!i[d]){if(!r[d]){var v=typeof o_=="function"&&o_;if(!p&&v)return v(d,!0);if(u)return u(d,!0);var y=new Error("Cannot find module '"+d+"'");throw y.code="MODULE_NOT_FOUND",y}var w=i[d]={exports:{}};r[d][0].call(w.exports,function(E){var b=r[d][1][E];return a(b||E)},w,w.exports,n,r,i,o)}return i[d].exports}for(var u=typeof o_=="function"&&o_,c=0;c<o.length;c++)a(o[c]);return a}({1:[function(n,r,i){var o=n("./utils"),a=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var d,p,v,y,w,E,b,I=[],T=0,R=c.length,C=R,k=o.getTypeOf(c)!=="string";T<c.length;)C=R-T,v=k?(d=c[T++],p=T<R?c[T++]:0,T<R?c[T++]:0):(d=c.charCodeAt(T++),p=T<R?c.charCodeAt(T++):0,T<R?c.charCodeAt(T++):0),y=d>>2,w=(3&d)<<4|p>>4,E=1<C?(15&p)<<2|v>>6:64,b=2<C?63&v:64,I.push(u.charAt(y)+u.charAt(w)+u.charAt(E)+u.charAt(b));return I.join("")},i.decode=function(c){var d,p,v,y,w,E,b=0,I=0,T="data:";if(c.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var R,C=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===u.charAt(64)&&C--,c.charAt(c.length-2)===u.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=a.uint8array?new Uint8Array(0|C):new Array(0|C);b<c.length;)d=u.indexOf(c.charAt(b++))<<2|(y=u.indexOf(c.charAt(b++)))>>4,p=(15&y)<<4|(w=u.indexOf(c.charAt(b++)))>>2,v=(3&w)<<6|(E=u.indexOf(c.charAt(b++))),R[I++]=d,w!==64&&(R[I++]=p),E!==64&&(R[I++]=v);return R}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),a=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function d(p,v,y,w,E){this.compressedSize=p,this.uncompressedSize=v,this.crc32=y,this.compression=w,this.compressedContent=E}d.prototype={getContentWorker:function(){var p=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),v=this;return p.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(p,v,y){return p.pipe(new u).pipe(new c("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",v)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),a=function(){for(var u,c=[],d=0;d<256;d++){u=d;for(var p=0;p<8;p++)u=1&u?3988292384^u>>>1:u>>>1;c[d]=u}return c}();r.exports=function(u,c){return u!==void 0&&u.length?o.getTypeOf(u)!=="string"?function(d,p,v,y){var w=a,E=y+v;d^=-1;for(var b=y;b<E;b++)d=d>>>8^w[255&(d^p[b])];return-1^d}(0|c,u,u.length,0):function(d,p,v,y){var w=a,E=y+v;d^=-1;for(var b=y;b<E;b++)d=d>>>8^w[255&(d^p.charCodeAt(b))];return-1^d}(0|c,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),u=n("./utils"),c=n("./stream/GenericWorker"),d=o?"uint8array":"array";function p(v,y){c.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}i.magic="\b\0",u.inherits(p,c),p.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(d,v.data),!1)},p.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},i.compressWorker=function(v){return new p("Deflate",v)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(w,E){var b,I="";for(b=0;b<E;b++)I+=String.fromCharCode(255&w),w>>>=8;return I}function a(w,E,b,I,T,R){var C,k,O=w.file,W=w.compression,D=R!==d.utf8encode,X=u.transformTo("string",R(O.name)),V=u.transformTo("string",d.utf8encode(O.name)),se=O.comment,Ie=u.transformTo("string",R(se)),G=u.transformTo("string",d.utf8encode(se)),ee=V.length!==O.name.length,j=G.length!==se.length,he="",Ee="",re="",pe=O.dir,me=O.date,Se={crc32:0,compressedSize:0,uncompressedSize:0};E&&!b||(Se.crc32=w.crc32,Se.compressedSize=w.compressedSize,Se.uncompressedSize=w.uncompressedSize);var K=0;E&&(K|=8),D||!ee&&!j||(K|=2048);var H=0,ae=0;pe&&(H|=16),T==="UNIX"?(ae=798,H|=function(_e,le){var B=_e;return _e||(B=le?16893:33204),(65535&B)<<16}(O.unixPermissions,pe)):(ae=20,H|=function(_e){return 63&(_e||0)}(O.dosPermissions)),C=me.getUTCHours(),C<<=6,C|=me.getUTCMinutes(),C<<=5,C|=me.getUTCSeconds()/2,k=me.getUTCFullYear()-1980,k<<=4,k|=me.getUTCMonth()+1,k<<=5,k|=me.getUTCDate(),ee&&(Ee=o(1,1)+o(p(X),4)+V,he+="up"+o(Ee.length,2)+Ee),j&&(re=o(1,1)+o(p(Ie),4)+G,he+="uc"+o(re.length,2)+re);var de="";return de+=`
\0`,de+=o(K,2),de+=W.magic,de+=o(C,2),de+=o(k,2),de+=o(Se.crc32,4),de+=o(Se.compressedSize,4),de+=o(Se.uncompressedSize,4),de+=o(X.length,2),de+=o(he.length,2),{fileRecord:v.LOCAL_FILE_HEADER+de+X+he,dirRecord:v.CENTRAL_FILE_HEADER+o(ae,2)+de+o(Ie.length,2)+"\0\0\0\0"+o(H,4)+o(I,4)+X+he+Ie}}var u=n("../utils"),c=n("../stream/GenericWorker"),d=n("../utf8"),p=n("../crc32"),v=n("../signature");function y(w,E,b,I){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=b,this.encodeFileName=I,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(y,c),y.prototype.push=function(w){var E=w.meta.percent||0,b=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,c.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:b?(E+100*(b-I-1))/b:100}}))},y.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var E=this.streamFiles&&!w.file.dir;if(E){var b=a(w,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(w){this.accumulate=!1;var E=this.streamFiles&&!w.file.dir,b=a(w,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),E)this.push({data:function(I){return v.DATA_DESCRIPTOR+o(I.crc32,4)+o(I.compressedSize,4)+o(I.uncompressedSize,4)}(w),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var w=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var b=this.bytesWritten-w,I=function(T,R,C,k,O){var W=u.transformTo("string",O(k));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(T,2)+o(T,2)+o(R,4)+o(C,4)+o(W.length,2)+W}(this.dirRecords.length,b,w,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(w){this._sources.push(w);var E=this;return w.on("data",function(b){E.processChunk(b)}),w.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),w.on("error",function(b){E.error(b)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(w){var E=this._sources;if(!c.prototype.error.call(this,w))return!1;for(var b=0;b<E.length;b++)try{E[b].error(w)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var w=this._sources,E=0;E<w.length;E++)w[E].lock()},r.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(u,c,d){var p=new a(c.streamFiles,d,c.platform,c.encodeFileName),v=0;try{u.forEach(function(y,w){v++;var E=function(R,C){var k=R||C,O=o[k];if(!O)throw new Error(k+" is not a valid compression method !");return O}(w.options.compression,c.compression),b=w.options.compressionOptions||c.compressionOptions||{},I=w.dir,T=w.date;w._compressWorker(E,b).withStreamInfo("file",{name:y,dir:I,date:T,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(p)}),p.entriesCount=v}catch(y){p.error(y)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var u in this)typeof this[u]!="function"&&(a[u]=this[u]);return a}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(a,u){return new o().loadAsync(a,u)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),a=n("./external"),u=n("./utf8"),c=n("./zipEntries"),d=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function v(y){return new a.Promise(function(w,E){var b=y.decompressed.getContentWorker().pipe(new d);b.on("error",function(I){E(I)}).on("end",function(){b.streamInfo.crc32!==y.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}r.exports=function(y,w){var E=this;return w=o.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),p.isNode&&p.isStream(y)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",y,!0,w.optimizedBinaryString,w.base64).then(function(b){var I=new c(w);return I.load(b),I}).then(function(b){var I=[a.Promise.resolve(b)],T=b.files;if(w.checkCRC32)for(var R=0;R<T.length;R++)I.push(v(T[R]));return a.Promise.all(I)}).then(function(b){for(var I=b.shift(),T=I.files,R=0;R<T.length;R++){var C=T[R],k=C.fileNameStr,O=o.resolve(C.fileNameStr);E.file(O,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:w.createFolders}),C.dir||(E.file(O).unsafeOriginalName=k)}return I.zipComment.length&&(E.comment=I.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),a=n("../stream/GenericWorker");function u(c,d){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}o.inherits(u,a),u.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(p){d.push({data:p,meta:{percent:0}})}).on("error",function(p){d.isPaused?this.generatedError=p:d.error(p)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},u.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function a(u,c,d){o.call(this,c),this._helper=u;var p=this;u.on("data",function(v,y){p.push(v)||p._helper.pause(),d&&d(y)}).on("error",function(v){p.emit("error",v)}).on("end",function(){p.push(null)})}n("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(O,W,D){var X,V=u.getTypeOf(W),se=u.extend(D||{},p);se.date=se.date||new Date,se.compression!==null&&(se.compression=se.compression.toUpperCase()),typeof se.unixPermissions=="string"&&(se.unixPermissions=parseInt(se.unixPermissions,8)),se.unixPermissions&&16384&se.unixPermissions&&(se.dir=!0),se.dosPermissions&&16&se.dosPermissions&&(se.dir=!0),se.dir&&(O=T(O)),se.createFolders&&(X=I(O))&&R.call(this,X,!0);var Ie=V==="string"&&se.binary===!1&&se.base64===!1;D&&D.binary!==void 0||(se.binary=!Ie),(W instanceof v&&W.uncompressedSize===0||se.dir||!W||W.length===0)&&(se.base64=!1,se.binary=!0,W="",se.compression="STORE",V="string");var G=null;G=W instanceof v||W instanceof c?W:E.isNode&&E.isStream(W)?new b(O,W):u.prepareContent(O,W,se.binary,se.optimizedBinaryString,se.base64);var ee=new y(O,G,se);this.files[O]=ee}var a=n("./utf8"),u=n("./utils"),c=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),p=n("./defaults"),v=n("./compressedObject"),y=n("./zipObject"),w=n("./generate"),E=n("./nodejsUtils"),b=n("./nodejs/NodejsStreamInputAdapter"),I=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var W=O.lastIndexOf("/");return 0<W?O.substring(0,W):""},T=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},R=function(O,W){return W=W!==void 0?W:p.createFolders,O=T(O),this.files[O]||o.call(this,O,null,{dir:!0,createFolders:W}),this.files[O]};function C(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var W,D,X;for(W in this.files)X=this.files[W],(D=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&O(D,X)},filter:function(O){var W=[];return this.forEach(function(D,X){O(D,X)&&W.push(X)}),W},file:function(O,W,D){if(arguments.length!==1)return O=this.root+O,o.call(this,O,W,D),this;if(C(O)){var X=O;return this.filter(function(se,Ie){return!Ie.dir&&X.test(se)})}var V=this.files[this.root+O];return V&&!V.dir?V:null},folder:function(O){if(!O)return this;if(C(O))return this.filter(function(V,se){return se.dir&&O.test(V)});var W=this.root+O,D=R.call(this,W),X=this.clone();return X.root=D.name,X},remove:function(O){O=this.root+O;var W=this.files[O];if(W||(O.slice(-1)!=="/"&&(O+="/"),W=this.files[O]),W&&!W.dir)delete this.files[O];else for(var D=this.filter(function(V,se){return se.name.slice(0,O.length)===O}),X=0;X<D.length;X++)delete this.files[D[X].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var W,D={};try{if((D=u.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");u.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var X=D.comment||this.comment||"";W=w.generateWorker(this,D,X)}catch(V){(W=new c("error")).error(V)}return new d(W,D.type||"string",D.mimeType)},generateAsync:function(O,W){return this.generateInternalStream(O).accumulate(W)},generateNodeStream:function(O,W){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(W)}};r.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function a(u){o.call(this,u);for(var c=0;c<this.data.length;c++)u[c]=255&u[c]}n("../utils").inherits(a,o),a.prototype.byteAt=function(u){return this.data[this.zero+u]},a.prototype.lastIndexOfSignature=function(u){for(var c=u.charCodeAt(0),d=u.charCodeAt(1),p=u.charCodeAt(2),v=u.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===d&&this.data[y+2]===p&&this.data[y+3]===v)return y-this.zero;return-1},a.prototype.readAndCheckSignature=function(u){var c=u.charCodeAt(0),d=u.charCodeAt(1),p=u.charCodeAt(2),v=u.charCodeAt(3),y=this.readData(4);return c===y[0]&&d===y[1]&&p===y[2]&&v===y[3]},a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function a(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var c,d=0;for(this.checkOffset(u),c=this.index+u-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=u,d},readString:function(u){return o.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function a(u){o.call(this,u)}n("../utils").inherits(a,o),a.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function a(u){o.call(this,u)}n("../utils").inherits(a,o),a.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},a.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},a.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},a.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function a(u){o.call(this,u)}n("../utils").inherits(a,o),a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),a=n("../support"),u=n("./ArrayReader"),c=n("./StringReader"),d=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(v){var y=o.getTypeOf(v);return o.checkSupport(y),y!=="string"||a.uint8array?y==="nodebuffer"?new d(v):a.uint8array?new p(o.transformTo("uint8array",v)):new u(o.transformTo("array",v)):new c(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),a=n("../utils");function u(c){o.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(u,o),u.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),a=n("../crc32");function u(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,o),u.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),a=n("./GenericWorker");function u(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}o.inherits(u,a),u.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}a.prototype.processChunk.call(this,c)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),a=n("./GenericWorker");function u(c){a.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(p){d.dataIsReady=!0,d.data=p,d.max=p&&p.length||0,d.type=o.getTypeOf(p),d.isPaused||d._tickAndRepeat()},function(p){d.error(p)})}o.inherits(u,a),u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,u){return this._listeners[a].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,u){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,u)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var u=this;return a.on("data",function(c){u.processChunk(c)}),a.on("end",function(){u.end()}),a.on("error",function(c){u.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,u){return this.extraStreamInfo[a]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),a=n("./ConvertWorker"),u=n("./GenericWorker"),c=n("../base64"),d=n("../support"),p=n("../external"),v=null;if(d.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(E,b){return new p.Promise(function(I,T){var R=[],C=E._internalType,k=E._outputType,O=E._mimeType;E.on("data",function(W,D){R.push(W),b&&b(D)}).on("error",function(W){R=[],T(W)}).on("end",function(){try{var W=function(D,X,V){switch(D){case"blob":return o.newBlob(o.transformTo("arraybuffer",X),V);case"base64":return c.encode(X);default:return o.transformTo(D,X)}}(k,function(D,X){var V,se=0,Ie=null,G=0;for(V=0;V<X.length;V++)G+=X[V].length;switch(D){case"string":return X.join("");case"array":return Array.prototype.concat.apply([],X);case"uint8array":for(Ie=new Uint8Array(G),V=0;V<X.length;V++)Ie.set(X[V],se),se+=X[V].length;return Ie;case"nodebuffer":return Buffer.concat(X);default:throw new Error("concat : unsupported type '"+D+"'")}}(C,R),O);I(W)}catch(D){T(D)}R=[]}).resume()})}function w(E,b,I){var T=b;switch(b){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=b,this._mimeType=I,o.checkSupport(T),this._worker=E.pipe(new a(T)),E.lock()}catch(R){this._worker=new u("error"),this._worker.error(R)}}w.prototype={accumulate:function(E){return y(this,E)},on:function(E,b){var I=this;return E==="data"?this._worker.on(E,function(T){b.call(I,T.data,T.meta)}):this._worker.on(E,function(){o.delay(b,arguments,I)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},E)}},r.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),a=n("./support"),u=n("./nodejsUtils"),c=n("./stream/GenericWorker"),d=new Array(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;d[254]=d[254]=1;function v(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}i.utf8encode=function(w){return a.nodebuffer?u.newBufferFrom(w,"utf-8"):function(E){var b,I,T,R,C,k=E.length,O=0;for(R=0;R<k;R++)(64512&(I=E.charCodeAt(R)))==55296&&R+1<k&&(64512&(T=E.charCodeAt(R+1)))==56320&&(I=65536+(I-55296<<10)+(T-56320),R++),O+=I<128?1:I<2048?2:I<65536?3:4;for(b=a.uint8array?new Uint8Array(O):new Array(O),R=C=0;C<O;R++)(64512&(I=E.charCodeAt(R)))==55296&&R+1<k&&(64512&(T=E.charCodeAt(R+1)))==56320&&(I=65536+(I-55296<<10)+(T-56320),R++),I<128?b[C++]=I:(I<2048?b[C++]=192|I>>>6:(I<65536?b[C++]=224|I>>>12:(b[C++]=240|I>>>18,b[C++]=128|I>>>12&63),b[C++]=128|I>>>6&63),b[C++]=128|63&I);return b}(w)},i.utf8decode=function(w){return a.nodebuffer?o.transformTo("nodebuffer",w).toString("utf-8"):function(E){var b,I,T,R,C=E.length,k=new Array(2*C);for(b=I=0;b<C;)if((T=E[b++])<128)k[I++]=T;else if(4<(R=d[T]))k[I++]=65533,b+=R-1;else{for(T&=R===2?31:R===3?15:7;1<R&&b<C;)T=T<<6|63&E[b++],R--;1<R?k[I++]=65533:T<65536?k[I++]=T:(T-=65536,k[I++]=55296|T>>10&1023,k[I++]=56320|1023&T)}return k.length!==I&&(k.subarray?k=k.subarray(0,I):k.length=I),o.applyFromCharCode(k)}(w=o.transformTo(a.uint8array?"uint8array":"array",w))},o.inherits(v,c),v.prototype.processChunk=function(w){var E=o.transformTo(a.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var b=E;(E=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),E.set(b,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var I=function(R,C){var k;for((C=C||R.length)>R.length&&(C=R.length),k=C-1;0<=k&&(192&R[k])==128;)k--;return k<0||k===0?C:k+d[R[k]]>C?k:C}(E),T=E;I!==E.length&&(a.uint8array?(T=E.subarray(0,I),this.leftOver=E.subarray(I,E.length)):(T=E.slice(0,I),this.leftOver=E.slice(I,E.length))),this.push({data:i.utf8decode(T),meta:w.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=v,o.inherits(y,c),y.prototype.processChunk=function(w){this.push({data:i.utf8encode(w.data),meta:w.meta})},i.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),a=n("./base64"),u=n("./nodejsUtils"),c=n("./external");function d(b){return b}function p(b,I){for(var T=0;T<b.length;++T)I[T]=255&b.charCodeAt(T);return I}n("setimmediate"),i.newBlob=function(b,I){i.checkSupport("blob");try{return new Blob([b],{type:I})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(b),T.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(b,I,T){var R=[],C=0,k=b.length;if(k<=T)return String.fromCharCode.apply(null,b);for(;C<k;)I==="array"||I==="nodebuffer"?R.push(String.fromCharCode.apply(null,b.slice(C,Math.min(C+T,k)))):R.push(String.fromCharCode.apply(null,b.subarray(C,Math.min(C+T,k)))),C+=T;return R.join("")},stringifyByChar:function(b){for(var I="",T=0;T<b.length;T++)I+=String.fromCharCode(b[T]);return I},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function y(b){var I=65536,T=i.getTypeOf(b),R=!0;if(T==="uint8array"?R=v.applyCanBeUsed.uint8array:T==="nodebuffer"&&(R=v.applyCanBeUsed.nodebuffer),R)for(;1<I;)try{return v.stringifyByChunk(b,T,I)}catch{I=Math.floor(I/2)}return v.stringifyByChar(b)}function w(b,I){for(var T=0;T<b.length;T++)I[T]=b[T];return I}i.applyFromCharCode=y;var E={};E.string={string:d,array:function(b){return p(b,new Array(b.length))},arraybuffer:function(b){return E.string.uint8array(b).buffer},uint8array:function(b){return p(b,new Uint8Array(b.length))},nodebuffer:function(b){return p(b,u.allocBuffer(b.length))}},E.array={string:y,array:d,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return u.newBufferFrom(b)}},E.arraybuffer={string:function(b){return y(new Uint8Array(b))},array:function(b){return w(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:d,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return u.newBufferFrom(new Uint8Array(b))}},E.uint8array={string:y,array:function(b){return w(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:d,nodebuffer:function(b){return u.newBufferFrom(b)}},E.nodebuffer={string:y,array:function(b){return w(b,new Array(b.length))},arraybuffer:function(b){return E.nodebuffer.uint8array(b).buffer},uint8array:function(b){return w(b,new Uint8Array(b.length))},nodebuffer:d},i.transformTo=function(b,I){if(I=I||"",!b)return I;i.checkSupport(b);var T=i.getTypeOf(I);return E[T][b](I)},i.resolve=function(b){for(var I=b.split("/"),T=[],R=0;R<I.length;R++){var C=I[R];C==="."||C===""&&R!==0&&R!==I.length-1||(C===".."?T.pop():T.push(C))}return T.join("/")},i.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":o.nodebuffer&&u.isBuffer(b)?"nodebuffer":o.uint8array&&b instanceof Uint8Array?"uint8array":o.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(b){if(!o[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(b){var I,T,R="";for(T=0;T<(b||"").length;T++)R+="\\x"+((I=b.charCodeAt(T))<16?"0":"")+I.toString(16).toUpperCase();return R},i.delay=function(b,I,T){setImmediate(function(){b.apply(T||null,I||[])})},i.inherits=function(b,I){function T(){}T.prototype=I.prototype,b.prototype=new T},i.extend=function(){var b,I,T={};for(b=0;b<arguments.length;b++)for(I in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],I)&&T[I]===void 0&&(T[I]=arguments[b][I]);return T},i.prepareContent=function(b,I,T,R,C){return c.Promise.resolve(I).then(function(k){return o.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new c.Promise(function(O,W){var D=new FileReader;D.onload=function(X){O(X.target.result)},D.onerror=function(X){W(X.target.error)},D.readAsArrayBuffer(k)}):k}).then(function(k){var O=i.getTypeOf(k);return O?(O==="arraybuffer"?k=i.transformTo("uint8array",k):O==="string"&&(C?k=a.decode(k):T&&R!==!0&&(k=function(W){return p(W,o.uint8array?new Uint8Array(W.length):new Array(W.length))}(k))),k):c.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),a=n("./utils"),u=n("./signature"),c=n("./zipEntry"),d=n("./support");function p(v){this.files=[],this.loadOptions=v}p.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(y)+", expected "+a.pretty(v)+")")}},isSignature:function(v,y){var w=this.reader.index;this.reader.setIndex(v);var E=this.reader.readString(4)===y;return this.reader.setIndex(w),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=d.uint8array?"uint8array":"array",w=a.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,w,E=this.zip64EndOfCentralSize-44;0<E;)v=this.reader.readInt(2),y=this.reader.readInt(4),w=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(v=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var E=y-w;if(0<E)this.isSignature(y,u.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(v){this.reader=o(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),a=n("./utils"),u=n("./compressedObject"),c=n("./crc32"),d=n("./utf8"),p=n("./compressions"),v=n("./support");function y(w,E){this.options=w,this.loadOptions=E}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var E,b;if(w.skip(22),this.fileNameLength=w.readInt(2),b=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=function(I){for(var T in p)if(Object.prototype.hasOwnProperty.call(p,T)&&p[T].magic===I)return p[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,E,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var E=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(E),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var E,b,I,T=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<T;)E=w.readInt(2),b=w.readInt(2),I=w.readData(b),this.extraFields[E]={id:E,length:b,value:I};w.setIndex(T)},handleUTF8:function(){var w=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var b=a.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var T=a.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var E=o(w.value);return E.readInt(1)!==1||c(this.fileName)!==E.readInt(4)?null:d.utf8decode(E.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var E=o(w.value);return E.readInt(1)!==1||c(this.fileComment)!==E.readInt(4)?null:d.utf8decode(E.readData(w.length-5))}return null}},r.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(E,b,I){this.name=E,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=b,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var a=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),c=n("./utf8"),d=n("./compressedObject"),p=n("./stream/GenericWorker");o.prototype={internalStream:function(E){var b=null,I="string";try{if(!E)throw new Error("No output type specified.");var T=(I=E.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),b=this._decompressWorker();var R=!this._dataBinary;R&&!T&&(b=b.pipe(new c.Utf8EncodeWorker)),!R&&T&&(b=b.pipe(new c.Utf8DecodeWorker))}catch(C){(b=new p("error")).error(C)}return new a(b,I,"")},async:function(E,b){return this.internalStream(E).accumulate(b)},nodeStream:function(E,b){return this.internalStream(E||"nodebuffer").toNodejsStream(b)},_compressWorker:function(E,b){if(this._data instanceof d&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(I,E,b)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof p?this._data:new u(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<v.length;w++)o.prototype[v[w]]=y;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var a,u,c=o.MutationObserver||o.WebKitMutationObserver;if(c){var d=0,p=new c(E),v=o.document.createTextNode("");p.observe(v,{characterData:!0}),a=function(){v.data=d=++d%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var b=o.document.createElement("script");b.onreadystatechange=function(){E(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:function(){setTimeout(E,0)};else{var y=new o.MessageChannel;y.port1.onmessage=E,a=function(){y.port2.postMessage(0)}}var w=[];function E(){var b,I;u=!0;for(var T=w.length;T;){for(I=w,w=[],b=-1;++b<T;)I[b]();T=w.length}u=!1}r.exports=function(b){w.push(b)!==1||u||a()}}).call(this,typeof Aa<"u"?Aa:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function a(){}var u={},c=["REJECTED"],d=["FULFILLED"],p=["PENDING"];function v(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,T!==a&&b(this,T)}function y(T,R,C){this.promise=T,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function w(T,R,C){o(function(){var k;try{k=R(C)}catch(O){return u.reject(T,O)}k===T?u.reject(T,new TypeError("Cannot resolve promise with itself")):u.resolve(T,k)})}function E(T){var R=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof R=="function")return function(){R.apply(T,arguments)}}function b(T,R){var C=!1;function k(D){C||(C=!0,u.reject(T,D))}function O(D){C||(C=!0,u.resolve(T,D))}var W=I(function(){R(O,k)});W.status==="error"&&k(W.value)}function I(T,R){var C={};try{C.value=T(R),C.status="success"}catch(k){C.status="error",C.value=k}return C}(r.exports=v).prototype.finally=function(T){if(typeof T!="function")return this;var R=this.constructor;return this.then(function(C){return R.resolve(T()).then(function(){return C})},function(C){return R.resolve(T()).then(function(){throw C})})},v.prototype.catch=function(T){return this.then(null,T)},v.prototype.then=function(T,R){if(typeof T!="function"&&this.state===d||typeof R!="function"&&this.state===c)return this;var C=new this.constructor(a);return this.state!==p?w(C,this.state===d?T:R,this.outcome):this.queue.push(new y(C,T,R)),C},y.prototype.callFulfilled=function(T){u.resolve(this.promise,T)},y.prototype.otherCallFulfilled=function(T){w(this.promise,this.onFulfilled,T)},y.prototype.callRejected=function(T){u.reject(this.promise,T)},y.prototype.otherCallRejected=function(T){w(this.promise,this.onRejected,T)},u.resolve=function(T,R){var C=I(E,R);if(C.status==="error")return u.reject(T,C.value);var k=C.value;if(k)b(T,k);else{T.state=d,T.outcome=R;for(var O=-1,W=T.queue.length;++O<W;)T.queue[O].callFulfilled(R)}return T},u.reject=function(T,R){T.state=c,T.outcome=R;for(var C=-1,k=T.queue.length;++C<k;)T.queue[C].callRejected(R);return T},v.resolve=function(T){return T instanceof this?T:u.resolve(new this(a),T)},v.reject=function(T){var R=new this(a);return u.reject(R,T)},v.all=function(T){var R=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=T.length,k=!1;if(!C)return this.resolve([]);for(var O=new Array(C),W=0,D=-1,X=new this(a);++D<C;)V(T[D],D);return X;function V(se,Ie){R.resolve(se).then(function(G){O[Ie]=G,++W!==C||k||(k=!0,u.resolve(X,O))},function(G){k||(k=!0,u.reject(X,G))})}},v.race=function(T){var R=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=T.length,k=!1;if(!C)return this.resolve([]);for(var O=-1,W=new this(a);++O<C;)D=T[O],R.resolve(D).then(function(X){k||(k=!0,u.resolve(W,X))},function(X){k||(k=!0,u.reject(W,X))});var D;return W}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),a=n("./utils/common"),u=n("./utils/strings"),c=n("./zlib/messages"),d=n("./zlib/zstream"),p=Object.prototype.toString,v=0,y=-1,w=0,E=8;function b(T){if(!(this instanceof b))return new b(T);this.options=a.assign({level:y,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},T||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var C=o.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(C!==v)throw new Error(c[C]);if(R.header&&o.deflateSetHeader(this.strm,R.header),R.dictionary){var k;if(k=typeof R.dictionary=="string"?u.string2buf(R.dictionary):p.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(C=o.deflateSetDictionary(this.strm,k))!==v)throw new Error(c[C]);this._dict_set=!0}}function I(T,R){var C=new b(R);if(C.push(T,!0),C.err)throw C.msg||c[C.err];return C.result}b.prototype.push=function(T,R){var C,k,O=this.strm,W=this.options.chunkSize;if(this.ended)return!1;k=R===~~R?R:R===!0?4:0,typeof T=="string"?O.input=u.string2buf(T):p.call(T)==="[object ArrayBuffer]"?O.input=new Uint8Array(T):O.input=T,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(W),O.next_out=0,O.avail_out=W),(C=o.deflate(O,k))!==1&&C!==v)return this.onEnd(C),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(a.shrinkBuf(O.output,O.next_out))):this.onData(a.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&C!==1);return k===4?(C=o.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===v):k!==2||(this.onEnd(v),!(O.avail_out=0))},b.prototype.onData=function(T){this.chunks.push(T)},b.prototype.onEnd=function(T){T===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},i.Deflate=b,i.deflate=I,i.deflateRaw=function(T,R){return(R=R||{}).raw=!0,I(T,R)},i.gzip=function(T,R){return(R=R||{}).gzip=!0,I(T,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),a=n("./utils/common"),u=n("./utils/strings"),c=n("./zlib/constants"),d=n("./zlib/messages"),p=n("./zlib/zstream"),v=n("./zlib/gzheader"),y=Object.prototype.toString;function w(b){if(!(this instanceof w))return new w(b);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},b||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||b&&b.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&!(15&I.windowBits)&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var T=o.inflateInit2(this.strm,I.windowBits);if(T!==c.Z_OK)throw new Error(d[T]);this.header=new v,o.inflateGetHeader(this.strm,this.header)}function E(b,I){var T=new w(I);if(T.push(b,!0),T.err)throw T.msg||d[T.err];return T.result}w.prototype.push=function(b,I){var T,R,C,k,O,W,D=this.strm,X=this.options.chunkSize,V=this.options.dictionary,se=!1;if(this.ended)return!1;R=I===~~I?I:I===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof b=="string"?D.input=u.binstring2buf(b):y.call(b)==="[object ArrayBuffer]"?D.input=new Uint8Array(b):D.input=b,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(X),D.next_out=0,D.avail_out=X),(T=o.inflate(D,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&V&&(W=typeof V=="string"?u.string2buf(V):y.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,T=o.inflateSetDictionary(this.strm,W)),T===c.Z_BUF_ERROR&&se===!0&&(T=c.Z_OK,se=!1),T!==c.Z_STREAM_END&&T!==c.Z_OK)return this.onEnd(T),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&T!==c.Z_STREAM_END&&(D.avail_in!==0||R!==c.Z_FINISH&&R!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=u.utf8border(D.output,D.next_out),k=D.next_out-C,O=u.buf2string(D.output,C),D.next_out=k,D.avail_out=X-k,k&&a.arraySet(D.output,D.output,C,k,0),this.onData(O)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(se=!0)}while((0<D.avail_in||D.avail_out===0)&&T!==c.Z_STREAM_END);return T===c.Z_STREAM_END&&(R=c.Z_FINISH),R===c.Z_FINISH?(T=o.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===c.Z_OK):R!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(D.avail_out=0))},w.prototype.onData=function(b){this.chunks.push(b)},w.prototype.onEnd=function(b){b===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Inflate=w,i.inflate=E,i.inflateRaw=function(b,I){return(I=I||{}).raw=!0,E(b,I)},i.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var p=d.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var v in p)p.hasOwnProperty(v)&&(c[v]=p[v])}}return c},i.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var a={arraySet:function(c,d,p,v,y){if(d.subarray&&c.subarray)c.set(d.subarray(p,p+v),y);else for(var w=0;w<v;w++)c[y+w]=d[p+w]},flattenChunks:function(c){var d,p,v,y,w,E;for(d=v=0,p=c.length;d<p;d++)v+=c[d].length;for(E=new Uint8Array(v),d=y=0,p=c.length;d<p;d++)w=c[d],E.set(w,y),y+=w.length;return E}},u={arraySet:function(c,d,p,v,y){for(var w=0;w<v;w++)c[y+w]=d[p+w]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),a=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var c=new o.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function p(v,y){if(y<65537&&(v.subarray&&u||!v.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(v,y));for(var w="",E=0;E<y;E++)w+=String.fromCharCode(v[E]);return w}c[254]=c[254]=1,i.string2buf=function(v){var y,w,E,b,I,T=v.length,R=0;for(b=0;b<T;b++)(64512&(w=v.charCodeAt(b)))==55296&&b+1<T&&(64512&(E=v.charCodeAt(b+1)))==56320&&(w=65536+(w-55296<<10)+(E-56320),b++),R+=w<128?1:w<2048?2:w<65536?3:4;for(y=new o.Buf8(R),b=I=0;I<R;b++)(64512&(w=v.charCodeAt(b)))==55296&&b+1<T&&(64512&(E=v.charCodeAt(b+1)))==56320&&(w=65536+(w-55296<<10)+(E-56320),b++),w<128?y[I++]=w:(w<2048?y[I++]=192|w>>>6:(w<65536?y[I++]=224|w>>>12:(y[I++]=240|w>>>18,y[I++]=128|w>>>12&63),y[I++]=128|w>>>6&63),y[I++]=128|63&w);return y},i.buf2binstring=function(v){return p(v,v.length)},i.binstring2buf=function(v){for(var y=new o.Buf8(v.length),w=0,E=y.length;w<E;w++)y[w]=v.charCodeAt(w);return y},i.buf2string=function(v,y){var w,E,b,I,T=y||v.length,R=new Array(2*T);for(w=E=0;w<T;)if((b=v[w++])<128)R[E++]=b;else if(4<(I=c[b]))R[E++]=65533,w+=I-1;else{for(b&=I===2?31:I===3?15:7;1<I&&w<T;)b=b<<6|63&v[w++],I--;1<I?R[E++]=65533:b<65536?R[E++]=b:(b-=65536,R[E++]=55296|b>>10&1023,R[E++]=56320|1023&b)}return p(R,E)},i.utf8border=function(v,y){var w;for((y=y||v.length)>v.length&&(y=v.length),w=y-1;0<=w&&(192&v[w])==128;)w--;return w<0||w===0?y:w+c[v[w]]>y?w:y}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,a,u,c){for(var d=65535&o|0,p=o>>>16&65535|0,v=0;u!==0;){for(u-=v=2e3<u?2e3:u;p=p+(d=d+a[c++]|0)|0,--v;);d%=65521,p%=65521}return d|p<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=function(){for(var a,u=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;u[c]=a}return u}();r.exports=function(a,u,c,d){var p=o,v=d+c;a^=-1;for(var y=d;y<v;y++)a=a>>>8^p[255&(a^u[y])];return-1^a}},{}],46:[function(n,r,i){var o,a=n("../utils/common"),u=n("./trees"),c=n("./adler32"),d=n("./crc32"),p=n("./messages"),v=0,y=4,w=0,E=-2,b=-1,I=4,T=2,R=8,C=9,k=286,O=30,W=19,D=2*k+1,X=15,V=3,se=258,Ie=se+V+1,G=42,ee=113,j=1,he=2,Ee=3,re=4;function pe(F,Te){return F.msg=p[Te],Te}function me(F){return(F<<1)-(4<F?9:0)}function Se(F){for(var Te=F.length;0<=--Te;)F[Te]=0}function K(F){var Te=F.state,z=Te.pending;z>F.avail_out&&(z=F.avail_out),z!==0&&(a.arraySet(F.output,Te.pending_buf,Te.pending_out,z,F.next_out),F.next_out+=z,Te.pending_out+=z,F.total_out+=z,F.avail_out-=z,Te.pending-=z,Te.pending===0&&(Te.pending_out=0))}function H(F,Te){u._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Te),F.block_start=F.strstart,K(F.strm)}function ae(F,Te){F.pending_buf[F.pending++]=Te}function de(F,Te){F.pending_buf[F.pending++]=Te>>>8&255,F.pending_buf[F.pending++]=255&Te}function _e(F,Te){var z,x,A=F.max_chain_length,U=F.strstart,ne=F.prev_length,ye=F.nice_match,ue=F.strstart>F.w_size-Ie?F.strstart-(F.w_size-Ie):0,De=F.window,Pe=F.w_mask,Me=F.prev,Ge=F.strstart+se,et=De[U+ne-1],ct=De[U+ne];F.prev_length>=F.good_match&&(A>>=2),ye>F.lookahead&&(ye=F.lookahead);do if(De[(z=Te)+ne]===ct&&De[z+ne-1]===et&&De[z]===De[U]&&De[++z]===De[U+1]){U+=2,z++;do;while(De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&U<Ge);if(x=se-(Ge-U),U=Ge-se,ne<x){if(F.match_start=Te,ye<=(ne=x))break;et=De[U+ne-1],ct=De[U+ne]}}while((Te=Me[Te&Pe])>ue&&--A!=0);return ne<=F.lookahead?ne:F.lookahead}function le(F){var Te,z,x,A,U,ne,ye,ue,De,Pe,Me=F.w_size;do{if(A=F.window_size-F.lookahead-F.strstart,F.strstart>=Me+(Me-Ie)){for(a.arraySet(F.window,F.window,Me,Me,0),F.match_start-=Me,F.strstart-=Me,F.block_start-=Me,Te=z=F.hash_size;x=F.head[--Te],F.head[Te]=Me<=x?x-Me:0,--z;);for(Te=z=Me;x=F.prev[--Te],F.prev[Te]=Me<=x?x-Me:0,--z;);A+=Me}if(F.strm.avail_in===0)break;if(ne=F.strm,ye=F.window,ue=F.strstart+F.lookahead,De=A,Pe=void 0,Pe=ne.avail_in,De<Pe&&(Pe=De),z=Pe===0?0:(ne.avail_in-=Pe,a.arraySet(ye,ne.input,ne.next_in,Pe,ue),ne.state.wrap===1?ne.adler=c(ne.adler,ye,Pe,ue):ne.state.wrap===2&&(ne.adler=d(ne.adler,ye,Pe,ue)),ne.next_in+=Pe,ne.total_in+=Pe,Pe),F.lookahead+=z,F.lookahead+F.insert>=V)for(U=F.strstart-F.insert,F.ins_h=F.window[U],F.ins_h=(F.ins_h<<F.hash_shift^F.window[U+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[U+V-1])&F.hash_mask,F.prev[U&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=U,U++,F.insert--,!(F.lookahead+F.insert<V)););}while(F.lookahead<Ie&&F.strm.avail_in!==0)}function B(F,Te){for(var z,x;;){if(F.lookahead<Ie){if(le(F),F.lookahead<Ie&&Te===v)return j;if(F.lookahead===0)break}if(z=0,F.lookahead>=V&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+V-1])&F.hash_mask,z=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),z!==0&&F.strstart-z<=F.w_size-Ie&&(F.match_length=_e(F,z)),F.match_length>=V)if(x=u._tr_tally(F,F.strstart-F.match_start,F.match_length-V),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=V){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+V-1])&F.hash_mask,z=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else x=u._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(x&&(H(F,!1),F.strm.avail_out===0))return j}return F.insert=F.strstart<V-1?F.strstart:V-1,Te===y?(H(F,!0),F.strm.avail_out===0?Ee:re):F.last_lit&&(H(F,!1),F.strm.avail_out===0)?j:he}function M(F,Te){for(var z,x,A;;){if(F.lookahead<Ie){if(le(F),F.lookahead<Ie&&Te===v)return j;if(F.lookahead===0)break}if(z=0,F.lookahead>=V&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+V-1])&F.hash_mask,z=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=V-1,z!==0&&F.prev_length<F.max_lazy_match&&F.strstart-z<=F.w_size-Ie&&(F.match_length=_e(F,z),F.match_length<=5&&(F.strategy===1||F.match_length===V&&4096<F.strstart-F.match_start)&&(F.match_length=V-1)),F.prev_length>=V&&F.match_length<=F.prev_length){for(A=F.strstart+F.lookahead-V,x=u._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-V),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=A&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+V-1])&F.hash_mask,z=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=V-1,F.strstart++,x&&(H(F,!1),F.strm.avail_out===0))return j}else if(F.match_available){if((x=u._tr_tally(F,0,F.window[F.strstart-1]))&&H(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return j}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(x=u._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<V-1?F.strstart:V-1,Te===y?(H(F,!0),F.strm.avail_out===0?Ee:re):F.last_lit&&(H(F,!1),F.strm.avail_out===0)?j:he}function oe(F,Te,z,x,A){this.good_length=F,this.max_lazy=Te,this.nice_length=z,this.max_chain=x,this.func=A}function ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*O+1)),this.bl_tree=new a.Buf16(2*(2*W+1)),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(X+1),this.heap=new a.Buf16(2*k+1),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*k+1),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(F){var Te;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=T,(Te=F.state).pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap?G:ee,F.adler=Te.wrap===2?0:1,Te.last_flush=v,u._tr_init(Te),w):pe(F,E)}function J(F){var Te=Q(F);return Te===w&&function(z){z.window_size=2*z.w_size,Se(z.head),z.max_lazy_match=o[z.level].max_lazy,z.good_match=o[z.level].good_length,z.nice_match=o[z.level].nice_length,z.max_chain_length=o[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=V-1,z.match_available=0,z.ins_h=0}(F.state),Te}function Ce(F,Te,z,x,A,U){if(!F)return E;var ne=1;if(Te===b&&(Te=6),x<0?(ne=0,x=-x):15<x&&(ne=2,x-=16),A<1||C<A||z!==R||x<8||15<x||Te<0||9<Te||U<0||I<U)return pe(F,E);x===8&&(x=9);var ye=new ie;return(F.state=ye).strm=F,ye.wrap=ne,ye.gzhead=null,ye.w_bits=x,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=A+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+V-1)/V),ye.window=new a.Buf8(2*ye.w_size),ye.head=new a.Buf16(ye.hash_size),ye.prev=new a.Buf16(ye.w_size),ye.lit_bufsize=1<<A+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new a.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=Te,ye.strategy=U,ye.method=z,J(F)}o=[new oe(0,0,0,0,function(F,Te){var z=65535;for(z>F.pending_buf_size-5&&(z=F.pending_buf_size-5);;){if(F.lookahead<=1){if(le(F),F.lookahead===0&&Te===v)return j;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var x=F.block_start+z;if((F.strstart===0||F.strstart>=x)&&(F.lookahead=F.strstart-x,F.strstart=x,H(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-Ie&&(H(F,!1),F.strm.avail_out===0))return j}return F.insert=0,Te===y?(H(F,!0),F.strm.avail_out===0?Ee:re):(F.strstart>F.block_start&&(H(F,!1),F.strm.avail_out),j)}),new oe(4,4,8,4,B),new oe(4,5,16,8,B),new oe(4,6,32,32,B),new oe(4,4,16,16,M),new oe(8,16,32,32,M),new oe(8,16,128,128,M),new oe(8,32,128,256,M),new oe(32,128,258,1024,M),new oe(32,258,258,4096,M)],i.deflateInit=function(F,Te){return Ce(F,Te,R,15,8,0)},i.deflateInit2=Ce,i.deflateReset=J,i.deflateResetKeep=Q,i.deflateSetHeader=function(F,Te){return F&&F.state?F.state.wrap!==2?E:(F.state.gzhead=Te,w):E},i.deflate=function(F,Te){var z,x,A,U;if(!F||!F.state||5<Te||Te<0)return F?pe(F,E):E;if(x=F.state,!F.output||!F.input&&F.avail_in!==0||x.status===666&&Te!==y)return pe(F,F.avail_out===0?-5:E);if(x.strm=F,z=x.last_flush,x.last_flush=Te,x.status===G)if(x.wrap===2)F.adler=0,ae(x,31),ae(x,139),ae(x,8),x.gzhead?(ae(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),ae(x,255&x.gzhead.time),ae(x,x.gzhead.time>>8&255),ae(x,x.gzhead.time>>16&255),ae(x,x.gzhead.time>>24&255),ae(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),ae(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(ae(x,255&x.gzhead.extra.length),ae(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(F.adler=d(F.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(ae(x,0),ae(x,0),ae(x,0),ae(x,0),ae(x,0),ae(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),ae(x,3),x.status=ee);else{var ne=R+(x.w_bits-8<<4)<<8;ne|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(ne|=32),ne+=31-ne%31,x.status=ee,de(x,ne),x.strstart!==0&&(de(x,F.adler>>>16),de(x,65535&F.adler)),F.adler=1}if(x.status===69)if(x.gzhead.extra){for(A=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>A&&(F.adler=d(F.adler,x.pending_buf,x.pending-A,A)),K(F),A=x.pending,x.pending!==x.pending_buf_size));)ae(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>A&&(F.adler=d(F.adler,x.pending_buf,x.pending-A,A)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){A=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>A&&(F.adler=d(F.adler,x.pending_buf,x.pending-A,A)),K(F),A=x.pending,x.pending===x.pending_buf_size)){U=1;break}U=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,ae(x,U)}while(U!==0);x.gzhead.hcrc&&x.pending>A&&(F.adler=d(F.adler,x.pending_buf,x.pending-A,A)),U===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){A=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>A&&(F.adler=d(F.adler,x.pending_buf,x.pending-A,A)),K(F),A=x.pending,x.pending===x.pending_buf_size)){U=1;break}U=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,ae(x,U)}while(U!==0);x.gzhead.hcrc&&x.pending>A&&(F.adler=d(F.adler,x.pending_buf,x.pending-A,A)),U===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&K(F),x.pending+2<=x.pending_buf_size&&(ae(x,255&F.adler),ae(x,F.adler>>8&255),F.adler=0,x.status=ee)):x.status=ee),x.pending!==0){if(K(F),F.avail_out===0)return x.last_flush=-1,w}else if(F.avail_in===0&&me(Te)<=me(z)&&Te!==y)return pe(F,-5);if(x.status===666&&F.avail_in!==0)return pe(F,-5);if(F.avail_in!==0||x.lookahead!==0||Te!==v&&x.status!==666){var ye=x.strategy===2?function(ue,De){for(var Pe;;){if(ue.lookahead===0&&(le(ue),ue.lookahead===0)){if(De===v)return j;break}if(ue.match_length=0,Pe=u._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,Pe&&(H(ue,!1),ue.strm.avail_out===0))return j}return ue.insert=0,De===y?(H(ue,!0),ue.strm.avail_out===0?Ee:re):ue.last_lit&&(H(ue,!1),ue.strm.avail_out===0)?j:he}(x,Te):x.strategy===3?function(ue,De){for(var Pe,Me,Ge,et,ct=ue.window;;){if(ue.lookahead<=se){if(le(ue),ue.lookahead<=se&&De===v)return j;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=V&&0<ue.strstart&&(Me=ct[Ge=ue.strstart-1])===ct[++Ge]&&Me===ct[++Ge]&&Me===ct[++Ge]){et=ue.strstart+se;do;while(Me===ct[++Ge]&&Me===ct[++Ge]&&Me===ct[++Ge]&&Me===ct[++Ge]&&Me===ct[++Ge]&&Me===ct[++Ge]&&Me===ct[++Ge]&&Me===ct[++Ge]&&Ge<et);ue.match_length=se-(et-Ge),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=V?(Pe=u._tr_tally(ue,1,ue.match_length-V),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(Pe=u._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),Pe&&(H(ue,!1),ue.strm.avail_out===0))return j}return ue.insert=0,De===y?(H(ue,!0),ue.strm.avail_out===0?Ee:re):ue.last_lit&&(H(ue,!1),ue.strm.avail_out===0)?j:he}(x,Te):o[x.level].func(x,Te);if(ye!==Ee&&ye!==re||(x.status=666),ye===j||ye===Ee)return F.avail_out===0&&(x.last_flush=-1),w;if(ye===he&&(Te===1?u._tr_align(x):Te!==5&&(u._tr_stored_block(x,0,0,!1),Te===3&&(Se(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),K(F),F.avail_out===0))return x.last_flush=-1,w}return Te!==y?w:x.wrap<=0?1:(x.wrap===2?(ae(x,255&F.adler),ae(x,F.adler>>8&255),ae(x,F.adler>>16&255),ae(x,F.adler>>24&255),ae(x,255&F.total_in),ae(x,F.total_in>>8&255),ae(x,F.total_in>>16&255),ae(x,F.total_in>>24&255)):(de(x,F.adler>>>16),de(x,65535&F.adler)),K(F),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?w:1)},i.deflateEnd=function(F){var Te;return F&&F.state?(Te=F.state.status)!==G&&Te!==69&&Te!==73&&Te!==91&&Te!==103&&Te!==ee&&Te!==666?pe(F,E):(F.state=null,Te===ee?pe(F,-3):w):E},i.deflateSetDictionary=function(F,Te){var z,x,A,U,ne,ye,ue,De,Pe=Te.length;if(!F||!F.state||(U=(z=F.state).wrap)===2||U===1&&z.status!==G||z.lookahead)return E;for(U===1&&(F.adler=c(F.adler,Te,Pe,0)),z.wrap=0,Pe>=z.w_size&&(U===0&&(Se(z.head),z.strstart=0,z.block_start=0,z.insert=0),De=new a.Buf8(z.w_size),a.arraySet(De,Te,Pe-z.w_size,z.w_size,0),Te=De,Pe=z.w_size),ne=F.avail_in,ye=F.next_in,ue=F.input,F.avail_in=Pe,F.next_in=0,F.input=Te,le(z);z.lookahead>=V;){for(x=z.strstart,A=z.lookahead-(V-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[x+V-1])&z.hash_mask,z.prev[x&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=x,x++,--A;);z.strstart=x,z.lookahead=V-1,le(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=V-1,z.match_available=0,F.next_in=ye,F.input=ue,F.avail_in=ne,z.wrap=U,w},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,a){var u,c,d,p,v,y,w,E,b,I,T,R,C,k,O,W,D,X,V,se,Ie,G,ee,j,he;u=o.state,c=o.next_in,j=o.input,d=c+(o.avail_in-5),p=o.next_out,he=o.output,v=p-(a-o.avail_out),y=p+(o.avail_out-257),w=u.dmax,E=u.wsize,b=u.whave,I=u.wnext,T=u.window,R=u.hold,C=u.bits,k=u.lencode,O=u.distcode,W=(1<<u.lenbits)-1,D=(1<<u.distbits)-1;e:do{C<15&&(R+=j[c++]<<C,C+=8,R+=j[c++]<<C,C+=8),X=k[R&W];t:for(;;){if(R>>>=V=X>>>24,C-=V,(V=X>>>16&255)===0)he[p++]=65535&X;else{if(!(16&V)){if(!(64&V)){X=k[(65535&X)+(R&(1<<V)-1)];continue t}if(32&V){u.mode=12;break e}o.msg="invalid literal/length code",u.mode=30;break e}se=65535&X,(V&=15)&&(C<V&&(R+=j[c++]<<C,C+=8),se+=R&(1<<V)-1,R>>>=V,C-=V),C<15&&(R+=j[c++]<<C,C+=8,R+=j[c++]<<C,C+=8),X=O[R&D];n:for(;;){if(R>>>=V=X>>>24,C-=V,!(16&(V=X>>>16&255))){if(!(64&V)){X=O[(65535&X)+(R&(1<<V)-1)];continue n}o.msg="invalid distance code",u.mode=30;break e}if(Ie=65535&X,C<(V&=15)&&(R+=j[c++]<<C,(C+=8)<V&&(R+=j[c++]<<C,C+=8)),w<(Ie+=R&(1<<V)-1)){o.msg="invalid distance too far back",u.mode=30;break e}if(R>>>=V,C-=V,(V=p-v)<Ie){if(b<(V=Ie-V)&&u.sane){o.msg="invalid distance too far back",u.mode=30;break e}if(ee=T,(G=0)===I){if(G+=E-V,V<se){for(se-=V;he[p++]=T[G++],--V;);G=p-Ie,ee=he}}else if(I<V){if(G+=E+I-V,(V-=I)<se){for(se-=V;he[p++]=T[G++],--V;);if(G=0,I<se){for(se-=V=I;he[p++]=T[G++],--V;);G=p-Ie,ee=he}}}else if(G+=I-V,V<se){for(se-=V;he[p++]=T[G++],--V;);G=p-Ie,ee=he}for(;2<se;)he[p++]=ee[G++],he[p++]=ee[G++],he[p++]=ee[G++],se-=3;se&&(he[p++]=ee[G++],1<se&&(he[p++]=ee[G++]))}else{for(G=p-Ie;he[p++]=he[G++],he[p++]=he[G++],he[p++]=he[G++],2<(se-=3););se&&(he[p++]=he[G++],1<se&&(he[p++]=he[G++]))}break}}break}}while(c<d&&p<y);c-=se=C>>3,R&=(1<<(C-=se<<3))-1,o.next_in=c,o.next_out=p,o.avail_in=c<d?d-c+5:5-(c-d),o.avail_out=p<y?y-p+257:257-(p-y),u.hold=R,u.bits=C}},{}],49:[function(n,r,i){var o=n("../utils/common"),a=n("./adler32"),u=n("./crc32"),c=n("./inffast"),d=n("./inftrees"),p=1,v=2,y=0,w=-2,E=1,b=852,I=592;function T(G){return(G>>>24&255)+(G>>>8&65280)+((65280&G)<<8)+((255&G)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(G){var ee;return G&&G.state?(ee=G.state,G.total_in=G.total_out=ee.total=0,G.msg="",ee.wrap&&(G.adler=1&ee.wrap),ee.mode=E,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new o.Buf32(b),ee.distcode=ee.distdyn=new o.Buf32(I),ee.sane=1,ee.back=-1,y):w}function k(G){var ee;return G&&G.state?((ee=G.state).wsize=0,ee.whave=0,ee.wnext=0,C(G)):w}function O(G,ee){var j,he;return G&&G.state?(he=G.state,ee<0?(j=0,ee=-ee):(j=1+(ee>>4),ee<48&&(ee&=15)),ee&&(ee<8||15<ee)?w:(he.window!==null&&he.wbits!==ee&&(he.window=null),he.wrap=j,he.wbits=ee,k(G))):w}function W(G,ee){var j,he;return G?(he=new R,(G.state=he).window=null,(j=O(G,ee))!==y&&(G.state=null),j):w}var D,X,V=!0;function se(G){if(V){var ee;for(D=new o.Buf32(512),X=new o.Buf32(32),ee=0;ee<144;)G.lens[ee++]=8;for(;ee<256;)G.lens[ee++]=9;for(;ee<280;)G.lens[ee++]=7;for(;ee<288;)G.lens[ee++]=8;for(d(p,G.lens,0,288,D,0,G.work,{bits:9}),ee=0;ee<32;)G.lens[ee++]=5;d(v,G.lens,0,32,X,0,G.work,{bits:5}),V=!1}G.lencode=D,G.lenbits=9,G.distcode=X,G.distbits=5}function Ie(G,ee,j,he){var Ee,re=G.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new o.Buf8(re.wsize)),he>=re.wsize?(o.arraySet(re.window,ee,j-re.wsize,re.wsize,0),re.wnext=0,re.whave=re.wsize):(he<(Ee=re.wsize-re.wnext)&&(Ee=he),o.arraySet(re.window,ee,j-he,Ee,re.wnext),(he-=Ee)?(o.arraySet(re.window,ee,j-he,he,0),re.wnext=he,re.whave=re.wsize):(re.wnext+=Ee,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=Ee))),0}i.inflateReset=k,i.inflateReset2=O,i.inflateResetKeep=C,i.inflateInit=function(G){return W(G,15)},i.inflateInit2=W,i.inflate=function(G,ee){var j,he,Ee,re,pe,me,Se,K,H,ae,de,_e,le,B,M,oe,ie,Q,J,Ce,F,Te,z,x,A=0,U=new o.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return w;(j=G.state).mode===12&&(j.mode=13),pe=G.next_out,Ee=G.output,Se=G.avail_out,re=G.next_in,he=G.input,me=G.avail_in,K=j.hold,H=j.bits,ae=me,de=Se,Te=y;e:for(;;)switch(j.mode){case E:if(j.wrap===0){j.mode=13;break}for(;H<16;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if(2&j.wrap&&K===35615){U[j.check=0]=255&K,U[1]=K>>>8&255,j.check=u(j.check,U,2,0),H=K=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&K)<<8)+(K>>8))%31){G.msg="incorrect header check",j.mode=30;break}if((15&K)!=8){G.msg="unknown compression method",j.mode=30;break}if(H-=4,F=8+(15&(K>>>=4)),j.wbits===0)j.wbits=F;else if(F>j.wbits){G.msg="invalid window size",j.mode=30;break}j.dmax=1<<F,G.adler=j.check=1,j.mode=512&K?10:12,H=K=0;break;case 2:for(;H<16;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if(j.flags=K,(255&j.flags)!=8){G.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){G.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=K>>8&1),512&j.flags&&(U[0]=255&K,U[1]=K>>>8&255,j.check=u(j.check,U,2,0)),H=K=0,j.mode=3;case 3:for(;H<32;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}j.head&&(j.head.time=K),512&j.flags&&(U[0]=255&K,U[1]=K>>>8&255,U[2]=K>>>16&255,U[3]=K>>>24&255,j.check=u(j.check,U,4,0)),H=K=0,j.mode=4;case 4:for(;H<16;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}j.head&&(j.head.xflags=255&K,j.head.os=K>>8),512&j.flags&&(U[0]=255&K,U[1]=K>>>8&255,j.check=u(j.check,U,2,0)),H=K=0,j.mode=5;case 5:if(1024&j.flags){for(;H<16;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}j.length=K,j.head&&(j.head.extra_len=K),512&j.flags&&(U[0]=255&K,U[1]=K>>>8&255,j.check=u(j.check,U,2,0)),H=K=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(me<(_e=j.length)&&(_e=me),_e&&(j.head&&(F=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),o.arraySet(j.head.extra,he,re,_e,F)),512&j.flags&&(j.check=u(j.check,he,_e,re)),me-=_e,re+=_e,j.length-=_e),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(me===0)break e;for(_e=0;F=he[re+_e++],j.head&&F&&j.length<65536&&(j.head.name+=String.fromCharCode(F)),F&&_e<me;);if(512&j.flags&&(j.check=u(j.check,he,_e,re)),me-=_e,re+=_e,F)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(me===0)break e;for(_e=0;F=he[re+_e++],j.head&&F&&j.length<65536&&(j.head.comment+=String.fromCharCode(F)),F&&_e<me;);if(512&j.flags&&(j.check=u(j.check,he,_e,re)),me-=_e,re+=_e,F)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;H<16;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if(K!==(65535&j.check)){G.msg="header crc mismatch",j.mode=30;break}H=K=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),G.adler=j.check=0,j.mode=12;break;case 10:for(;H<32;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}G.adler=j.check=T(K),H=K=0,j.mode=11;case 11:if(j.havedict===0)return G.next_out=pe,G.avail_out=Se,G.next_in=re,G.avail_in=me,j.hold=K,j.bits=H,2;G.adler=j.check=1,j.mode=12;case 12:if(ee===5||ee===6)break e;case 13:if(j.last){K>>>=7&H,H-=7&H,j.mode=27;break}for(;H<3;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}switch(j.last=1&K,H-=1,3&(K>>>=1)){case 0:j.mode=14;break;case 1:if(se(j),j.mode=20,ee!==6)break;K>>>=2,H-=2;break e;case 2:j.mode=17;break;case 3:G.msg="invalid block type",j.mode=30}K>>>=2,H-=2;break;case 14:for(K>>>=7&H,H-=7&H;H<32;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if((65535&K)!=(K>>>16^65535)){G.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&K,H=K=0,j.mode=15,ee===6)break e;case 15:j.mode=16;case 16:if(_e=j.length){if(me<_e&&(_e=me),Se<_e&&(_e=Se),_e===0)break e;o.arraySet(Ee,he,re,_e,pe),me-=_e,re+=_e,Se-=_e,pe+=_e,j.length-=_e;break}j.mode=12;break;case 17:for(;H<14;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if(j.nlen=257+(31&K),K>>>=5,H-=5,j.ndist=1+(31&K),K>>>=5,H-=5,j.ncode=4+(15&K),K>>>=4,H-=4,286<j.nlen||30<j.ndist){G.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;H<3;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}j.lens[ne[j.have++]]=7&K,K>>>=3,H-=3}for(;j.have<19;)j.lens[ne[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,z={bits:j.lenbits},Te=d(0,j.lens,0,19,j.lencode,0,j.work,z),j.lenbits=z.bits,Te){G.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;oe=(A=j.lencode[K&(1<<j.lenbits)-1])>>>16&255,ie=65535&A,!((M=A>>>24)<=H);){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if(ie<16)K>>>=M,H-=M,j.lens[j.have++]=ie;else{if(ie===16){for(x=M+2;H<x;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if(K>>>=M,H-=M,j.have===0){G.msg="invalid bit length repeat",j.mode=30;break}F=j.lens[j.have-1],_e=3+(3&K),K>>>=2,H-=2}else if(ie===17){for(x=M+3;H<x;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}H-=M,F=0,_e=3+(7&(K>>>=M)),K>>>=3,H-=3}else{for(x=M+7;H<x;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}H-=M,F=0,_e=11+(127&(K>>>=M)),K>>>=7,H-=7}if(j.have+_e>j.nlen+j.ndist){G.msg="invalid bit length repeat",j.mode=30;break}for(;_e--;)j.lens[j.have++]=F}}if(j.mode===30)break;if(j.lens[256]===0){G.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,z={bits:j.lenbits},Te=d(p,j.lens,0,j.nlen,j.lencode,0,j.work,z),j.lenbits=z.bits,Te){G.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,z={bits:j.distbits},Te=d(v,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,z),j.distbits=z.bits,Te){G.msg="invalid distances set",j.mode=30;break}if(j.mode=20,ee===6)break e;case 20:j.mode=21;case 21:if(6<=me&&258<=Se){G.next_out=pe,G.avail_out=Se,G.next_in=re,G.avail_in=me,j.hold=K,j.bits=H,c(G,de),pe=G.next_out,Ee=G.output,Se=G.avail_out,re=G.next_in,he=G.input,me=G.avail_in,K=j.hold,H=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;oe=(A=j.lencode[K&(1<<j.lenbits)-1])>>>16&255,ie=65535&A,!((M=A>>>24)<=H);){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if(oe&&!(240&oe)){for(Q=M,J=oe,Ce=ie;oe=(A=j.lencode[Ce+((K&(1<<Q+J)-1)>>Q)])>>>16&255,ie=65535&A,!(Q+(M=A>>>24)<=H);){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}K>>>=Q,H-=Q,j.back+=Q}if(K>>>=M,H-=M,j.back+=M,j.length=ie,oe===0){j.mode=26;break}if(32&oe){j.back=-1,j.mode=12;break}if(64&oe){G.msg="invalid literal/length code",j.mode=30;break}j.extra=15&oe,j.mode=22;case 22:if(j.extra){for(x=j.extra;H<x;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}j.length+=K&(1<<j.extra)-1,K>>>=j.extra,H-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;oe=(A=j.distcode[K&(1<<j.distbits)-1])>>>16&255,ie=65535&A,!((M=A>>>24)<=H);){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if(!(240&oe)){for(Q=M,J=oe,Ce=ie;oe=(A=j.distcode[Ce+((K&(1<<Q+J)-1)>>Q)])>>>16&255,ie=65535&A,!(Q+(M=A>>>24)<=H);){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}K>>>=Q,H-=Q,j.back+=Q}if(K>>>=M,H-=M,j.back+=M,64&oe){G.msg="invalid distance code",j.mode=30;break}j.offset=ie,j.extra=15&oe,j.mode=24;case 24:if(j.extra){for(x=j.extra;H<x;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}j.offset+=K&(1<<j.extra)-1,K>>>=j.extra,H-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){G.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(Se===0)break e;if(_e=de-Se,j.offset>_e){if((_e=j.offset-_e)>j.whave&&j.sane){G.msg="invalid distance too far back",j.mode=30;break}le=_e>j.wnext?(_e-=j.wnext,j.wsize-_e):j.wnext-_e,_e>j.length&&(_e=j.length),B=j.window}else B=Ee,le=pe-j.offset,_e=j.length;for(Se<_e&&(_e=Se),Se-=_e,j.length-=_e;Ee[pe++]=B[le++],--_e;);j.length===0&&(j.mode=21);break;case 26:if(Se===0)break e;Ee[pe++]=j.length,Se--,j.mode=21;break;case 27:if(j.wrap){for(;H<32;){if(me===0)break e;me--,K|=he[re++]<<H,H+=8}if(de-=Se,G.total_out+=de,j.total+=de,de&&(G.adler=j.check=j.flags?u(j.check,Ee,de,pe-de):a(j.check,Ee,de,pe-de)),de=Se,(j.flags?K:T(K))!==j.check){G.msg="incorrect data check",j.mode=30;break}H=K=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;H<32;){if(me===0)break e;me--,K+=he[re++]<<H,H+=8}if(K!==(4294967295&j.total)){G.msg="incorrect length check",j.mode=30;break}H=K=0}j.mode=29;case 29:Te=1;break e;case 30:Te=-3;break e;case 31:return-4;case 32:default:return w}return G.next_out=pe,G.avail_out=Se,G.next_in=re,G.avail_in=me,j.hold=K,j.bits=H,(j.wsize||de!==G.avail_out&&j.mode<30&&(j.mode<27||ee!==4))&&Ie(G,G.output,G.next_out,de-G.avail_out)?(j.mode=31,-4):(ae-=G.avail_in,de-=G.avail_out,G.total_in+=ae,G.total_out+=de,j.total+=de,j.wrap&&de&&(G.adler=j.check=j.flags?u(j.check,Ee,de,G.next_out-de):a(j.check,Ee,de,G.next_out-de)),G.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(ae==0&&de===0||ee===4)&&Te===y&&(Te=-5),Te)},i.inflateEnd=function(G){if(!G||!G.state)return w;var ee=G.state;return ee.window&&(ee.window=null),G.state=null,y},i.inflateGetHeader=function(G,ee){var j;return G&&G.state&&2&(j=G.state).wrap?((j.head=ee).done=!1,y):w},i.inflateSetDictionary=function(G,ee){var j,he=ee.length;return G&&G.state?(j=G.state).wrap!==0&&j.mode!==11?w:j.mode===11&&a(1,ee,he,0)!==j.check?-3:Ie(G,ee,he,he)?(j.mode=31,-4):(j.havedict=1,y):w},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,v,y,w,E,b,I,T){var R,C,k,O,W,D,X,V,se,Ie=T.bits,G=0,ee=0,j=0,he=0,Ee=0,re=0,pe=0,me=0,Se=0,K=0,H=null,ae=0,de=new o.Buf16(16),_e=new o.Buf16(16),le=null,B=0;for(G=0;G<=15;G++)de[G]=0;for(ee=0;ee<w;ee++)de[v[y+ee]]++;for(Ee=Ie,he=15;1<=he&&de[he]===0;he--);if(he<Ee&&(Ee=he),he===0)return E[b++]=20971520,E[b++]=20971520,T.bits=1,0;for(j=1;j<he&&de[j]===0;j++);for(Ee<j&&(Ee=j),G=me=1;G<=15;G++)if(me<<=1,(me-=de[G])<0)return-1;if(0<me&&(p===0||he!==1))return-1;for(_e[1]=0,G=1;G<15;G++)_e[G+1]=_e[G]+de[G];for(ee=0;ee<w;ee++)v[y+ee]!==0&&(I[_e[v[y+ee]]++]=ee);if(D=p===0?(H=le=I,19):p===1?(H=a,ae-=257,le=u,B-=257,256):(H=c,le=d,-1),G=j,W=b,pe=ee=K=0,k=-1,O=(Se=1<<(re=Ee))-1,p===1&&852<Se||p===2&&592<Se)return 1;for(;;){for(X=G-pe,se=I[ee]<D?(V=0,I[ee]):I[ee]>D?(V=le[B+I[ee]],H[ae+I[ee]]):(V=96,0),R=1<<G-pe,j=C=1<<re;E[W+(K>>pe)+(C-=R)]=X<<24|V<<16|se|0,C!==0;);for(R=1<<G-1;K&R;)R>>=1;if(R!==0?(K&=R-1,K+=R):K=0,ee++,--de[G]==0){if(G===he)break;G=v[y+I[ee]]}if(Ee<G&&(K&O)!==k){for(pe===0&&(pe=Ee),W+=j,me=1<<(re=G-pe);re+pe<he&&!((me-=de[re+pe])<=0);)re++,me<<=1;if(Se+=1<<re,p===1&&852<Se||p===2&&592<Se)return 1;E[k=K&O]=Ee<<24|re<<16|W-b|0}}return K!==0&&(E[W+K]=G-pe<<24|64<<16|0),T.bits=Ee,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),a=0,u=1;function c(A){for(var U=A.length;0<=--U;)A[U]=0}var d=0,p=29,v=256,y=v+1+p,w=30,E=19,b=2*y+1,I=15,T=16,R=7,C=256,k=16,O=17,W=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ie=new Array(2*(y+2));c(Ie);var G=new Array(2*w);c(G);var ee=new Array(512);c(ee);var j=new Array(256);c(j);var he=new Array(p);c(he);var Ee,re,pe,me=new Array(w);function Se(A,U,ne,ye,ue){this.static_tree=A,this.extra_bits=U,this.extra_base=ne,this.elems=ye,this.max_length=ue,this.has_stree=A&&A.length}function K(A,U){this.dyn_tree=A,this.max_code=0,this.stat_desc=U}function H(A){return A<256?ee[A]:ee[256+(A>>>7)]}function ae(A,U){A.pending_buf[A.pending++]=255&U,A.pending_buf[A.pending++]=U>>>8&255}function de(A,U,ne){A.bi_valid>T-ne?(A.bi_buf|=U<<A.bi_valid&65535,ae(A,A.bi_buf),A.bi_buf=U>>T-A.bi_valid,A.bi_valid+=ne-T):(A.bi_buf|=U<<A.bi_valid&65535,A.bi_valid+=ne)}function _e(A,U,ne){de(A,ne[2*U],ne[2*U+1])}function le(A,U){for(var ne=0;ne|=1&A,A>>>=1,ne<<=1,0<--U;);return ne>>>1}function B(A,U,ne){var ye,ue,De=new Array(I+1),Pe=0;for(ye=1;ye<=I;ye++)De[ye]=Pe=Pe+ne[ye-1]<<1;for(ue=0;ue<=U;ue++){var Me=A[2*ue+1];Me!==0&&(A[2*ue]=le(De[Me]++,Me))}}function M(A){var U;for(U=0;U<y;U++)A.dyn_ltree[2*U]=0;for(U=0;U<w;U++)A.dyn_dtree[2*U]=0;for(U=0;U<E;U++)A.bl_tree[2*U]=0;A.dyn_ltree[2*C]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function oe(A){8<A.bi_valid?ae(A,A.bi_buf):0<A.bi_valid&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function ie(A,U,ne,ye){var ue=2*U,De=2*ne;return A[ue]<A[De]||A[ue]===A[De]&&ye[U]<=ye[ne]}function Q(A,U,ne){for(var ye=A.heap[ne],ue=ne<<1;ue<=A.heap_len&&(ue<A.heap_len&&ie(U,A.heap[ue+1],A.heap[ue],A.depth)&&ue++,!ie(U,ye,A.heap[ue],A.depth));)A.heap[ne]=A.heap[ue],ne=ue,ue<<=1;A.heap[ne]=ye}function J(A,U,ne){var ye,ue,De,Pe,Me=0;if(A.last_lit!==0)for(;ye=A.pending_buf[A.d_buf+2*Me]<<8|A.pending_buf[A.d_buf+2*Me+1],ue=A.pending_buf[A.l_buf+Me],Me++,ye===0?_e(A,ue,U):(_e(A,(De=j[ue])+v+1,U),(Pe=D[De])!==0&&de(A,ue-=he[De],Pe),_e(A,De=H(--ye),ne),(Pe=X[De])!==0&&de(A,ye-=me[De],Pe)),Me<A.last_lit;);_e(A,C,U)}function Ce(A,U){var ne,ye,ue,De=U.dyn_tree,Pe=U.stat_desc.static_tree,Me=U.stat_desc.has_stree,Ge=U.stat_desc.elems,et=-1;for(A.heap_len=0,A.heap_max=b,ne=0;ne<Ge;ne++)De[2*ne]!==0?(A.heap[++A.heap_len]=et=ne,A.depth[ne]=0):De[2*ne+1]=0;for(;A.heap_len<2;)De[2*(ue=A.heap[++A.heap_len]=et<2?++et:0)]=1,A.depth[ue]=0,A.opt_len--,Me&&(A.static_len-=Pe[2*ue+1]);for(U.max_code=et,ne=A.heap_len>>1;1<=ne;ne--)Q(A,De,ne);for(ue=Ge;ne=A.heap[1],A.heap[1]=A.heap[A.heap_len--],Q(A,De,1),ye=A.heap[1],A.heap[--A.heap_max]=ne,A.heap[--A.heap_max]=ye,De[2*ue]=De[2*ne]+De[2*ye],A.depth[ue]=(A.depth[ne]>=A.depth[ye]?A.depth[ne]:A.depth[ye])+1,De[2*ne+1]=De[2*ye+1]=ue,A.heap[1]=ue++,Q(A,De,1),2<=A.heap_len;);A.heap[--A.heap_max]=A.heap[1],function(ct,Pt){var Fr,bn,ti,cn,On,Wu,En=Pt.dyn_tree,Ps=Pt.max_code,Hu=Pt.stat_desc.static_tree,Ds=Pt.stat_desc.has_stree,Ls=Pt.stat_desc.extra_bits,To=Pt.stat_desc.extra_base,or=Pt.stat_desc.max_length,Ms=0;for(cn=0;cn<=I;cn++)ct.bl_count[cn]=0;for(En[2*ct.heap[ct.heap_max]+1]=0,Fr=ct.heap_max+1;Fr<b;Fr++)or<(cn=En[2*En[2*(bn=ct.heap[Fr])+1]+1]+1)&&(cn=or,Ms++),En[2*bn+1]=cn,Ps<bn||(ct.bl_count[cn]++,On=0,To<=bn&&(On=Ls[bn-To]),Wu=En[2*bn],ct.opt_len+=Wu*(cn+On),Ds&&(ct.static_len+=Wu*(Hu[2*bn+1]+On)));if(Ms!==0){do{for(cn=or-1;ct.bl_count[cn]===0;)cn--;ct.bl_count[cn]--,ct.bl_count[cn+1]+=2,ct.bl_count[or]--,Ms-=2}while(0<Ms);for(cn=or;cn!==0;cn--)for(bn=ct.bl_count[cn];bn!==0;)Ps<(ti=ct.heap[--Fr])||(En[2*ti+1]!==cn&&(ct.opt_len+=(cn-En[2*ti+1])*En[2*ti],En[2*ti+1]=cn),bn--)}}(A,U),B(De,et,A.bl_count)}function F(A,U,ne){var ye,ue,De=-1,Pe=U[1],Me=0,Ge=7,et=4;for(Pe===0&&(Ge=138,et=3),U[2*(ne+1)+1]=65535,ye=0;ye<=ne;ye++)ue=Pe,Pe=U[2*(ye+1)+1],++Me<Ge&&ue===Pe||(Me<et?A.bl_tree[2*ue]+=Me:ue!==0?(ue!==De&&A.bl_tree[2*ue]++,A.bl_tree[2*k]++):Me<=10?A.bl_tree[2*O]++:A.bl_tree[2*W]++,De=ue,et=(Me=0)===Pe?(Ge=138,3):ue===Pe?(Ge=6,3):(Ge=7,4))}function Te(A,U,ne){var ye,ue,De=-1,Pe=U[1],Me=0,Ge=7,et=4;for(Pe===0&&(Ge=138,et=3),ye=0;ye<=ne;ye++)if(ue=Pe,Pe=U[2*(ye+1)+1],!(++Me<Ge&&ue===Pe)){if(Me<et)for(;_e(A,ue,A.bl_tree),--Me!=0;);else ue!==0?(ue!==De&&(_e(A,ue,A.bl_tree),Me--),_e(A,k,A.bl_tree),de(A,Me-3,2)):Me<=10?(_e(A,O,A.bl_tree),de(A,Me-3,3)):(_e(A,W,A.bl_tree),de(A,Me-11,7));De=ue,et=(Me=0)===Pe?(Ge=138,3):ue===Pe?(Ge=6,3):(Ge=7,4)}}c(me);var z=!1;function x(A,U,ne,ye){de(A,(d<<1)+(ye?1:0),3),function(ue,De,Pe,Me){oe(ue),ae(ue,Pe),ae(ue,~Pe),o.arraySet(ue.pending_buf,ue.window,De,Pe,ue.pending),ue.pending+=Pe}(A,U,ne)}i._tr_init=function(A){z||(function(){var U,ne,ye,ue,De,Pe=new Array(I+1);for(ue=ye=0;ue<p-1;ue++)for(he[ue]=ye,U=0;U<1<<D[ue];U++)j[ye++]=ue;for(j[ye-1]=ue,ue=De=0;ue<16;ue++)for(me[ue]=De,U=0;U<1<<X[ue];U++)ee[De++]=ue;for(De>>=7;ue<w;ue++)for(me[ue]=De<<7,U=0;U<1<<X[ue]-7;U++)ee[256+De++]=ue;for(ne=0;ne<=I;ne++)Pe[ne]=0;for(U=0;U<=143;)Ie[2*U+1]=8,U++,Pe[8]++;for(;U<=255;)Ie[2*U+1]=9,U++,Pe[9]++;for(;U<=279;)Ie[2*U+1]=7,U++,Pe[7]++;for(;U<=287;)Ie[2*U+1]=8,U++,Pe[8]++;for(B(Ie,y+1,Pe),U=0;U<w;U++)G[2*U+1]=5,G[2*U]=le(U,5);Ee=new Se(Ie,D,v+1,y,I),re=new Se(G,X,0,w,I),pe=new Se(new Array(0),V,0,E,R)}(),z=!0),A.l_desc=new K(A.dyn_ltree,Ee),A.d_desc=new K(A.dyn_dtree,re),A.bl_desc=new K(A.bl_tree,pe),A.bi_buf=0,A.bi_valid=0,M(A)},i._tr_stored_block=x,i._tr_flush_block=function(A,U,ne,ye){var ue,De,Pe=0;0<A.level?(A.strm.data_type===2&&(A.strm.data_type=function(Me){var Ge,et=4093624447;for(Ge=0;Ge<=31;Ge++,et>>>=1)if(1&et&&Me.dyn_ltree[2*Ge]!==0)return a;if(Me.dyn_ltree[18]!==0||Me.dyn_ltree[20]!==0||Me.dyn_ltree[26]!==0)return u;for(Ge=32;Ge<v;Ge++)if(Me.dyn_ltree[2*Ge]!==0)return u;return a}(A)),Ce(A,A.l_desc),Ce(A,A.d_desc),Pe=function(Me){var Ge;for(F(Me,Me.dyn_ltree,Me.l_desc.max_code),F(Me,Me.dyn_dtree,Me.d_desc.max_code),Ce(Me,Me.bl_desc),Ge=E-1;3<=Ge&&Me.bl_tree[2*se[Ge]+1]===0;Ge--);return Me.opt_len+=3*(Ge+1)+5+5+4,Ge}(A),ue=A.opt_len+3+7>>>3,(De=A.static_len+3+7>>>3)<=ue&&(ue=De)):ue=De=ne+5,ne+4<=ue&&U!==-1?x(A,U,ne,ye):A.strategy===4||De===ue?(de(A,2+(ye?1:0),3),J(A,Ie,G)):(de(A,4+(ye?1:0),3),function(Me,Ge,et,ct){var Pt;for(de(Me,Ge-257,5),de(Me,et-1,5),de(Me,ct-4,4),Pt=0;Pt<ct;Pt++)de(Me,Me.bl_tree[2*se[Pt]+1],3);Te(Me,Me.dyn_ltree,Ge-1),Te(Me,Me.dyn_dtree,et-1)}(A,A.l_desc.max_code+1,A.d_desc.max_code+1,Pe+1),J(A,A.dyn_ltree,A.dyn_dtree)),M(A),ye&&oe(A)},i._tr_tally=function(A,U,ne){return A.pending_buf[A.d_buf+2*A.last_lit]=U>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&U,A.pending_buf[A.l_buf+A.last_lit]=255&ne,A.last_lit++,U===0?A.dyn_ltree[2*ne]++:(A.matches++,U--,A.dyn_ltree[2*(j[ne]+v+1)]++,A.dyn_dtree[2*H(U)]++),A.last_lit===A.lit_bufsize-1},i._tr_align=function(A){de(A,2,3),_e(A,C,Ie),function(U){U.bi_valid===16?(ae(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(A)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(a,u){if(!a.setImmediate){var c,d,p,v,y=1,w={},E=!1,b=a.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(a);I=I&&I.setTimeout?I:a,c={}.toString.call(a.process)==="[object process]"?function(k){kt.nextTick(function(){R(k)})}:function(){if(a.postMessage&&!a.importScripts){var k=!0,O=a.onmessage;return a.onmessage=function(){k=!1},a.postMessage("","*"),a.onmessage=O,k}}()?(v="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",C,!1):a.attachEvent("onmessage",C),function(k){a.postMessage(v+k,"*")}):a.MessageChannel?((p=new MessageChannel).port1.onmessage=function(k){R(k.data)},function(k){p.port2.postMessage(k)}):b&&"onreadystatechange"in b.createElement("script")?(d=b.documentElement,function(k){var O=b.createElement("script");O.onreadystatechange=function(){R(k),O.onreadystatechange=null,d.removeChild(O),O=null},d.appendChild(O)}):function(k){setTimeout(R,0,k)},I.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var O=new Array(arguments.length-1),W=0;W<O.length;W++)O[W]=arguments[W+1];var D={callback:k,args:O};return w[y]=D,c(y),y++},I.clearImmediate=T}function T(k){delete w[k]}function R(k){if(E)setTimeout(R,0,k);else{var O=w[k];if(O){E=!0;try{(function(W){var D=W.callback,X=W.args;switch(X.length){case 0:D();break;case 1:D(X[0]);break;case 2:D(X[0],X[1]);break;case 3:D(X[0],X[1],X[2]);break;default:D.apply(u,X)}})(O)}finally{T(k),E=!1}}}}function C(k){k.source===a&&typeof k.data=="string"&&k.data.indexOf(v)===0&&R(+k.data.slice(v.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Aa<"u"?Aa:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(zI)),zI.exports}var qle=Hle();const Gle=fR(qle);var Tv={exports:{}},WI,WM;function Kle(){if(WM)return WI;WM=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(n){return n&&n.replace?n.replace(/([&"<>'])/g,function(r,i){return t[i]}):n}return WI=e,WI}var HM;function $le(){if(HM)return Tv.exports;HM=1;var t=Kle(),e=yR().Stream,n="    ";function r(d,p){typeof p!="object"&&(p={indent:p});var v=p.stream?new e:null,y="",w=!1,E=p.indent?p.indent===!0?n:p.indent:"",b=!0;function I(O){b?kt.nextTick(O):O()}function T(O,W){if(W!==void 0&&(y+=W),O&&!w&&(v=v||new e,w=!0),O&&w){var D=y;I(function(){v.emit("data",D)}),y=""}}function R(O,W){u(T,a(O,E,E?1:0),W)}function C(){if(v){var O=y;I(function(){v.emit("data",O),v.emit("end"),v.readable=!1,v.emit("close")})}}function k(O){var W=O.encoding||"UTF-8",D={version:"1.0",encoding:W};O.standalone&&(D.standalone=O.standalone),R({"?xml":{_attr:D}}),y=y.replace("/>","?>")}return I(function(){b=!1}),p.declaration&&k(p.declaration),d&&d.forEach?d.forEach(function(O,W){var D;W+1===d.length&&(D=C),R(O,D)}):R(d,C),v?(v.readable=!0,v):y}function i(){var d=Array.prototype.slice.call(arguments),p={_elem:a(d)};return p.push=function(v){if(!this.append)throw new Error("not assigned to a parent!");var y=this,w=this._elem.indent;u(this.append,a(v,w,this._elem.icount+(w?1:0)),function(){y.append(!0)})},p.close=function(v){v!==void 0&&this.push(v),this.end&&this.end()},p}function o(d,p){return new Array(p||0).join(d||"")}function a(d,p,v){v=v||0;var y=o(p,v),w,E=d,b=!1;if(typeof d=="object"){var I=Object.keys(d);if(w=I[0],E=d[w],E&&E._elem)return E._elem.name=w,E._elem.icount=v,E._elem.indent=p,E._elem.indents=y,E._elem.interrupt=E,E._elem}var T=[],R=[],C;function k(O){var W=Object.keys(O);W.forEach(function(D){T.push(c(D,O[D]))})}switch(typeof E){case"object":if(E===null)break;E._attr&&k(E._attr),E._cdata&&R.push(("<![CDATA["+E._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),E.forEach&&(C=!1,R.push(""),E.forEach(function(O){if(typeof O=="object"){var W=Object.keys(O)[0];W=="_attr"?k(O._attr):R.push(a(O,p,v+1))}else R.pop(),C=!0,R.push(t(O))}),C||R.push(""));break;default:R.push(t(E))}return{name:w,interrupt:b,attributes:T,content:R,icount:v,indents:y,indent:p}}function u(d,p,v){if(typeof p!="object")return d(!1,p);var y=p.interrupt?1:p.content.length;function w(){for(;p.content.length;){var b=p.content.shift();if(b!==void 0){if(E(b))return;u(d,b)}}d(!1,(y>1?p.indents:"")+(p.name?"</"+p.name+">":"")+(p.indent&&!v?`
`:"")),v&&v()}function E(b){return b.interrupt?(b.interrupt.append=d,b.interrupt.end=w,b.interrupt=!1,d(!0),!0):!1}if(d(!1,p.indents+(p.name?"<"+p.name:"")+(p.attributes.length?" "+p.attributes.join(" "):"")+(y?p.name?">":"":p.name?"/>":"")+(p.indent&&y>1?`
`:"")),!y)return d(!1,p.indent?`
`:"");E(p)||w()}function c(d,p){return d+'="'+t(p)+'"'}return Tv.exports=r,Tv.exports.element=Tv.exports.Element=i,Tv.exports}var Yle=$le();const Wn=fR(Yle),Iv=0,HI=32,Xle=32,Qle=(t,e)=>{const n=e.replace(/-/g,"");if(n.length!==Xle)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=n.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const a=t.slice(Iv,HI).map((c,d)=>c^i[d%i.length]),u=new Uint8Array(Iv+a.length+Math.max(0,t.length-HI));return u.set(t.slice(0,Iv)),u.set(a,Iv),u.set(t.slice(HI),Iv+a.length),u};class Jle{format(e,n={stack:[]}){const r=e.prepForXml(n);if(r)return r;throw Error("XMLComponent did not format correctly")}}class Zle{replace(e,n,r){let i=e;return n.forEach((o,a)=>{i=i.replace(new RegExp(`{${o.fileName}}`,"g"),(r+a).toString())}),i}getMediaData(e,n){return n.Array.filter(r=>e.search(`{${r.fileName}}`)>0)}}class ece{replace(e,n){let r=e;for(const i of n)r=r.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return r}}class tce{constructor(){Ne(this,"formatter"),Ne(this,"imageReplacer"),Ne(this,"numberingReplacer"),this.formatter=new Jle,this.imageReplacer=new Zle,this.numberingReplacer=new ece}compile(e,n){const r=new Gle,i=this.xmlifyFile(e,n),o=new Map(Object.entries(i));for(const[,a]of o)if(Array.isArray(a))for(const u of a)r.file(u.path,u.data);else r.file(a.path,a.data);for(const a of e.Media.Array)a.type!=="svg"?r.file(`word/media/${a.fileName}`,a.data):(r.file(`word/media/${a.fileName}`,a.data),r.file(`word/media/${a.fallback.fileName}`,a.fallback.data));for(const{data:a,name:u,fontKey:c}of e.FontTable.fontOptionsWithKey){const[d]=u.split(".");r.file(`word/fonts/${d}.odttf`,Qle(a,c))}return r}xmlifyFile(e,n){const r=e.Document.Relationships.RelationshipCount+1,i=Wn(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media);return{Relationships:{data:(o.forEach((a,u)=>{e.Document.Relationships.createRelationship(r+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${a.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Wn(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const a=this.imageReplacer.replace(i,o,r);return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const a=Wn(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Wn(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Wn(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Wn(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((a,u)=>{const c=Wn(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((p,v)=>{a.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:Wn(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${u+1}.xml.rels`}}),FooterRelationships:e.Footers.map((a,u)=>{const c=Wn(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((p,v)=>{a.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:Wn(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${u+1}.xml.rels`}}),Headers:e.Headers.map((a,u)=>{const c=Wn(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(c,e.Media),p=this.imageReplacer.replace(c,d,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/header${u+1}.xml`}}),Footers:e.Footers.map((a,u)=>{const c=Wn(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(c,e.Media),p=this.imageReplacer.replace(c,d,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/footer${u+1}.xml`}}),ContentTypes:{data:Wn(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Wn(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Wn(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Wn(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Wn(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Wn(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Wn(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Wn(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Wn(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const nce={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},Cv=t=>t===!0?nce.WITH_2_BLANKS:t===!1?void 0:t;class zj{static toString(e,n){return K0(this,null,function*(){return yield this.compiler.compile(e,Cv(n)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,n){return K0(this,null,function*(){return yield this.compiler.compile(e,Cv(n)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,n){return K0(this,null,function*(){return yield this.compiler.compile(e,Cv(n)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,n){return K0(this,null,function*(){return yield this.compiler.compile(e,Cv(n)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,n){const r=new Wle.Stream;return this.compiler.compile(e,Cv(n)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{r.emit("data",o),r.emit("end")}),r}}Ne(zj,"compiler",new tce);var b_={exports:{}},rce=b_.exports,qM;function ice(){return qM||(qM=1,function(t,e){(function(n,r){r()})(rce,function(){function n(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,p,v){var y=new XMLHttpRequest;y.open("GET",d),y.responseType="blob",y.onload=function(){c(y.response,p,v)},y.onerror=function(){console.error("could not download file")},y.send()}function i(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof T0=="object"&&T0.global===T0?T0:void 0,u=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(d,p,v){var y=a.URL||a.webkitURL,w=document.createElement("a");p=p||d.name||"download",w.download=p,w.rel="noopener",typeof d=="string"?(w.href=d,w.origin===location.origin?o(w):i(w.href)?r(d,p,v):o(w,w.target="_blank")):(w.href=y.createObjectURL(d),setTimeout(function(){y.revokeObjectURL(w.href)},4e4),setTimeout(function(){o(w)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,v){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,v),p);else if(i(d))r(d,p,v);else{var y=document.createElement("a");y.href=d,y.target="_blank",setTimeout(function(){o(y)})}}:function(d,p,v,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof d=="string")return r(d,p,v);var w=d.type==="application/octet-stream",E=/constructor/i.test(a.HTMLElement)||a.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||w&&E||u)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var C=I.result;C=b?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=C:location=C,y=null},I.readAsDataURL(d)}else{var T=a.URL||a.webkitURL,R=T.createObjectURL(d);y?y.location=R:location.href=R,y=null,setTimeout(function(){T.revokeObjectURL(R)},4e4)}});a.saveAs=c.saveAs=c,t.exports=c})}(b_)),b_.exports}var oce=ice();function yh(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Mi(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Wa(t){Mi(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Pu(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function sce(t,e){Mi(2,arguments);var n=Wa(t).getTime(),r=yh(e);return new Date(n+r)}var ace={};function nE(){return ace}function uce(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function lce(t){return Mi(1,arguments),t instanceof Date||Pu(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cce(t){if(Mi(1,arguments),!lce(t)&&typeof t!="number")return!1;var e=Wa(t);return!isNaN(Number(e))}function fce(t,e){Mi(2,arguments);var n=yh(e);return sce(t,-n)}var hce=864e5;function dce(t){Mi(1,arguments);var e=Wa(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/hce)+1}function Cb(t){Mi(1,arguments);var e=1,n=Wa(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Wj(t){Mi(1,arguments);var e=Wa(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Cb(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=Cb(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function pce(t){Mi(1,arguments);var e=Wj(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Cb(n);return r}var mce=6048e5;function gce(t){Mi(1,arguments);var e=Wa(t),n=Cb(e).getTime()-pce(e).getTime();return Math.round(n/mce)+1}function xb(t,e){var n,r,i,o,a,u,c,d;Mi(1,arguments);var p=nE(),v=yh((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:p.weekStartsOn)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=Wa(t),w=y.getUTCDay(),E=(w<v?7:0)+w-v;return y.setUTCDate(y.getUTCDate()-E),y.setUTCHours(0,0,0,0),y}function Hj(t,e){var n,r,i,o,a,u,c,d;Mi(1,arguments);var p=Wa(t),v=p.getUTCFullYear(),y=nE(),w=yh((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:y.firstWeekContainsDate)!==null&&r!==void 0?r:(c=y.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(v+1,0,w),E.setUTCHours(0,0,0,0);var b=xb(E,e),I=new Date(0);I.setUTCFullYear(v,0,w),I.setUTCHours(0,0,0,0);var T=xb(I,e);return p.getTime()>=b.getTime()?v+1:p.getTime()>=T.getTime()?v:v-1}function vce(t,e){var n,r,i,o,a,u,c,d;Mi(1,arguments);var p=nE(),v=yh((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),y=Hj(t,e),w=new Date(0);w.setUTCFullYear(y,0,v),w.setUTCHours(0,0,0,0);var E=xb(w,e);return E}var yce=6048e5;function wce(t,e){Mi(1,arguments);var n=Wa(t),r=xb(n,e).getTime()-vce(n,e).getTime();return Math.round(r/yce)+1}function tn(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Ql={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return tn(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):tn(r+1,2)},d:function(e,n){return tn(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return tn(e.getUTCHours()%12||12,n.length)},H:function(e,n){return tn(e.getUTCHours(),n.length)},m:function(e,n){return tn(e.getUTCMinutes(),n.length)},s:function(e,n){return tn(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return tn(o,n.length)}},rp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_ce={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Ql.y(e,n)},Y:function(e,n,r,i){var o=Hj(e,i),a=o>0?o:1-o;if(n==="YY"){var u=a%100;return tn(u,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):tn(a,n.length)},R:function(e,n){var r=Wj(e);return tn(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return tn(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return tn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return tn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Ql.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return tn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=wce(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):tn(o,n.length)},I:function(e,n,r){var i=gce(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):tn(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ql.d(e,n)},D:function(e,n,r){var i=dce(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):tn(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return tn(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return tn(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return tn(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=rp.noon:i===0?o=rp.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=rp.evening:i>=12?o=rp.afternoon:i>=4?o=rp.morning:o=rp.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ql.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ql.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):tn(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):tn(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ql.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ql.s(e,n)},S:function(e,n){return Ql.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return KM(a);case"XXXX":case"XX":return zf(a);case"XXXXX":case"XXX":default:return zf(a,":")}},x:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"x":return KM(a);case"xxxx":case"xx":return zf(a);case"xxxxx":case"xxx":default:return zf(a,":")}},O:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+GM(a,":");case"OOOO":default:return"GMT"+zf(a,":")}},z:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+GM(a,":");case"zzzz":default:return"GMT"+zf(a,":")}},t:function(e,n,r,i){var o=i._originalDate||e,a=Math.floor(o.getTime()/1e3);return tn(a,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,a=o.getTime();return tn(a,n.length)}};function GM(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var a=e;return n+String(i)+a+tn(o,2)}function KM(t,e){if(t%60===0){var n=t>0?"-":"+";return n+tn(Math.abs(t)/60,2)}return zf(t,e)}function zf(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=tn(Math.floor(i/60),2),a=tn(i%60,2);return r+o+n+a}var $M=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},qj=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},bce=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return $M(e,n);var a;switch(i){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",$M(i,n)).replace("{{time}}",qj(o,n))},Ece={p:qj,P:bce},Sce=["D","DD"],Tce=["YY","YYYY"];function Ice(t){return Sce.indexOf(t)!==-1}function Cce(t){return Tce.indexOf(t)!==-1}function YM(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var xce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kce=function(e,n,r){var i,o=xce[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function qI(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Ace={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Oce={date:qI({formats:Ace,defaultWidth:"full"}),time:qI({formats:Rce,defaultWidth:"full"}),dateTime:qI({formats:Nce,defaultWidth:"full"})},Pce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Dce=function(e,n,r,i){return Pce[e]};function xv(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{var u=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[u]}var d=t.argumentCallback?t.argumentCallback(e):e;return i[d]}}var Lce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Uce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vce=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},zce={ordinalNumber:Vce,era:xv({values:Lce,defaultWidth:"wide"}),quarter:xv({values:Mce,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:xv({values:Fce,defaultWidth:"wide"}),day:xv({values:Uce,defaultWidth:"wide"}),dayPeriod:xv({values:jce,defaultWidth:"wide",formattingValues:Bce,defaultFormattingWidth:"wide"})};function kv(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Hce(u,function(v){return v.test(a)}):Wce(u,function(v){return v.test(a)}),d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var p=e.slice(a.length);return{value:d,rest:p}}}function Wce(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Hce(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function qce(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var u=e.slice(i.length);return{value:a,rest:u}}}var Gce=/^(\d+)(th|st|nd|rd)?/i,Kce=/\d+/i,$ce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yce={any:[/^b/i,/^(a|c)/i]},Xce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qce={any:[/1/i,/2/i,/3/i,/4/i]},Jce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},efe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ife={ordinalNumber:qce({matchPattern:Gce,parsePattern:Kce,valueCallback:function(e){return parseInt(e,10)}}),era:kv({matchPatterns:$ce,defaultMatchWidth:"wide",parsePatterns:Yce,defaultParseWidth:"any"}),quarter:kv({matchPatterns:Xce,defaultMatchWidth:"wide",parsePatterns:Qce,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:kv({matchPatterns:Jce,defaultMatchWidth:"wide",parsePatterns:Zce,defaultParseWidth:"any"}),day:kv({matchPatterns:efe,defaultMatchWidth:"wide",parsePatterns:tfe,defaultParseWidth:"any"}),dayPeriod:kv({matchPatterns:nfe,defaultMatchWidth:"any",parsePatterns:rfe,defaultParseWidth:"any"})},ofe={code:"en-US",formatDistance:kce,formatLong:Oce,formatRelative:Dce,localize:zce,match:ife,options:{weekStartsOn:0,firstWeekContainsDate:1}},sfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,afe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ufe=/^'([^]*?)'?$/,lfe=/''/g,cfe=/[a-zA-Z]/;function Av(t,e,n){var r,i,o,a,u,c,d,p,v,y,w,E,b,I;Mi(2,arguments);var T=String(e),R=nE(),C=(r=(i=void 0)!==null&&i!==void 0?i:R.locale)!==null&&r!==void 0?r:ofe,k=yh((o=(a=(u=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&u!==void 0?u:R.firstWeekContainsDate)!==null&&a!==void 0?a:(d=R.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=yh((v=(y=(w=(E=void 0)!==null&&E!==void 0?E:void 0)!==null&&w!==void 0?w:R.weekStartsOn)!==null&&y!==void 0?y:(b=R.locale)===null||b===void 0||(I=b.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&v!==void 0?v:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var W=Wa(t);if(!cce(W))throw new RangeError("Invalid time value");var D=uce(W),X=fce(W,D),V={firstWeekContainsDate:k,weekStartsOn:O,locale:C,_originalDate:W},se=T.match(afe).map(function(Ie){var G=Ie[0];if(G==="p"||G==="P"){var ee=Ece[G];return ee(Ie,C.formatLong)}return Ie}).join("").match(sfe).map(function(Ie){if(Ie==="''")return"'";var G=Ie[0];if(G==="'")return ffe(Ie);var ee=_ce[G];if(ee)return Cce(Ie)&&YM(Ie,e,String(t)),Ice(Ie)&&YM(Ie,e,String(t)),ee(X,Ie,C.localize,V);if(G.match(cfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return Ie}).join("");return se}function ffe(t){var e=t.match(ufe);return e?e[1].replace(lfe,"'"):t}function hfe({project:t}){const{updateDocument:e,response:n}=K1("projects"),[r,i]=te.useState(""),[o,a]=te.useState(null),[u,c]=te.useState(!1),[d,p]=te.useState(!1),{user:v}=Zo();te.useState({latitude:null,longitude:null}),te.useState(null);const y=te.useRef(null),[w,E]=te.useState(Av(new Date,"yyyy-MM-dd")),[b,I]=te.useState(Av(new Date,"yyyy-MM-dd")),T=({startDate:D,endDate:X,onStartDateChange:V,onEndDateChange:se})=>Z.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date:"}),Z.jsx("input",{type:"date",value:D,onChange:Ie=>V(Ie.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date:"}),Z.jsx("input",{type:"date",value:X,onChange:Ie=>se(Ie.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),R=D=>{window.open(D,"_blank")},C=async D=>{if(D.preventDefault(),!r.trim()&&!o){console.log("Comment or image is required.");return}if(t.completed){console.log("Cannot add a new report to a completed project.");return}c(!0);try{let X=null;o&&(X=await k(o));const V=Date.now().toString(),se={displayName:v.displayName,photoURL:v.photoURL,content:r,createdAt:V,id:V+"-"+v.uid.slice(0,4),imageUrl:X};await e(t.id,{comments:[...t.comments,se]}),n.error||(i(""),a(null))}catch(X){console.error("Error adding report:",X.message)}c(!1)},k=async D=>{try{const X=uU.ref(),V=`${Date.now()}_${D.name}`,se=X.child(`images/${V}`);return await se.put(D),await se.getDownloadURL()}catch(X){return console.error("Error uploading image:",X),null}},O=async D=>{const X=new zle({creator:"Project Report System",title:`Project Report - ${t.name}`,description:"Generated report of project comments",sections:[]}),V=[];for(const se of D){const Ie=Av(new Date(parseInt(se.createdAt)),"MMMM dd, yyyy HH:mm");if(V.push(new Ta({heading:Rae.HEADING_2,children:[new Zl({text:`Comment from ${se.displayName}`,bold:!0,size:28})]}),new Ta({children:[new Zl({text:Ie,size:14,color:"666666"})]})),se.content&&V.push(new Ta({children:[new Zl({text:se.content,size:24})]})),se.location&&V.push(new Ta({children:[new Zl({text:`Location: ${se.location.latitude}, ${se.location.longitude}`,size:14,color:"666666"})]})),se.imageUrl)try{const G=`https://api.allorigins.win/raw?url=${encodeURIComponent(se.imageUrl)}`,ee=await fetch(G);if(!ee.ok)throw new Error(`Failed to fetch image: ${ee.statusText}`);const j=await ee.arrayBuffer();V.push(new Ta({children:[new Eae({data:j,transformation:{width:400,height:300}})]}))}catch(G){console.error("Error downloading image:",G),V.push(new Ta({children:[new Zl({text:`[Image could not be loaded: ${se.imageUrl}]`,color:"FF0000"})]}))}V.push(new Ta({children:[new Zl({text:"".repeat(50),color:"666666"})],spacing:{before:240,after:240}}))}return X.addSection({children:V}),X},W=async()=>{const D=new Date(w),X=new Date(b);X.setHours(23,59,59,999);const V=t.comments.filter(se=>{const Ie=new Date(parseInt(se.createdAt));return Ie>=D&&Ie<=X});if(V.length===0){alert("No comments found in the selected date range");return}try{p(!0);const se=await O(V),Ie=await zj.toBlob(se);oce.saveAs(Ie,`${t.name}_Report_${Av(new Date,"yyyy-MM-dd")}.docx`)}catch(se){console.error("Error generating document:",se),alert("Error generating document. Please try again.")}finally{p(!1)}};return Z.jsxs("div",{className:"project-comments",children:[Z.jsxs("div",{children:[!t.completed&&Z.jsxs("form",{className:"add-comment",onSubmit:C,children:[Z.jsxs("label",{children:[Z.jsx("span",{children:"Add new report"}),Z.jsx("textarea",{onChange:D=>i(D.target.value),value:r,className:"w-full p-2 border rounded"})]}),Z.jsx("button",{className:"btn mt-1 bg-blue-500 text-white px-4 py-2 rounded",type:"submit",disabled:u,children:u?"Loading...":"Add Report"})]}),Z.jsxs("div",{className:"my-6 p-4 border rounded-2xl bg-white",children:[Z.jsx("h3",{className:"text-xl font-medium mt-1",children:"Download Comments"}),Z.jsx(T,{startDate:w,endDate:b,onStartDateChange:E,onEndDateChange:I}),Z.jsx("button",{disabled:d,onClick:W,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 btn",children:d?"Generating Document...":" Download Selected Range"})]})]}),Z.jsx("ul",{className:"comments space-y-4",ref:y,children:t.comments.length>0&&t.comments.map(D=>Z.jsxs("li",{className:"border rounded p-4",children:[Z.jsx("div",{className:"comment-author",children:D.imageUrl&&Z.jsx("img",{src:D.imageUrl,alt:"Comment",className:"comment-image cursor-pointer hover:opacity-90 transition-opacity ",onClick:()=>R(D.imageUrl)})}),Z.jsxs("div",{className:"comment-content mt-2",children:[Z.jsx("p",{children:D.content}),Z.jsx("div",{className:"comment-date text-sm text-gray-600 mt-2",children:Z.jsx("p",{children:Av(new Date(parseInt(D.createdAt)),"HH:mm 'on' dd/MM/yyyy")})}),Z.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[Z.jsx(bp,{src:D.photoURL}),Z.jsx("span",{children:D.displayName})]}),D.location&&Z.jsx("div",{className:"comment-location text-sm text-gray-600 mt-2",children:Z.jsxs("p",{children:["Location: ",D.location.latitude,", ",D.location.longitude]})})]})]},D.id))})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vx=function(t,e){return vx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},vx(t,e)};function dfe(t,e){vx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var pfe=100,mfe=100,XM=50,yx=50,wx=50;function QM(t){var e=t.className,n=t.counterClockwise,r=t.dashRatio,i=t.pathRadius,o=t.strokeWidth,a=t.style;return te.createElement("path",{className:e,style:Object.assign({},a,vfe({pathRadius:i,dashRatio:r,counterClockwise:n})),d:gfe({pathRadius:i,counterClockwise:n}),strokeWidth:o,fillOpacity:0})}function gfe(t){var e=t.pathRadius,n=t.counterClockwise,r=e,i=n?1:0;return`
      M `+yx+","+wx+`
      m 0,-`+r+`
      a `+r+","+r+" "+i+" 1 1 0,"+2*r+`
      a `+r+","+r+" "+i+" 1 1 0,-"+2*r+`
    `}function vfe(t){var e=t.counterClockwise,n=t.dashRatio,r=t.pathRadius,i=Math.PI*2*r,o=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(e?-o:o)+"px"}}var yfe=function(t){dfe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return XM-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var n=this.props,r=n.value,i=n.minValue,o=n.maxValue,a=Math.min(Math.max(r,i),o);return(a-i)/(o-i)},e.prototype.render=function(){var n=this.props,r=n.circleRatio,i=n.className,o=n.classes,a=n.counterClockwise,u=n.styles,c=n.strokeWidth,d=n.text,p=this.getPathRadius(),v=this.getPathRatio();return te.createElement("svg",{className:o.root+" "+i,style:u.root,viewBox:"0 0 "+pfe+" "+mfe,"data-test-id":"CircularProgressbar"},this.props.background?te.createElement("circle",{className:o.background,style:u.background,cx:yx,cy:wx,r:XM}):null,te.createElement(QM,{className:o.trail,counterClockwise:a,dashRatio:r,pathRadius:p,strokeWidth:c,style:u.trail}),te.createElement(QM,{className:o.path,counterClockwise:a,dashRatio:v*r,pathRadius:p,strokeWidth:c,style:u.path}),d?te.createElement("text",{className:o.text,style:u.text,x:yx,y:wx},d):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(te.Component);function wfe(t){var e=t.rotation,n=t.strokeLinecap,r=t.textColor,i=t.textSize,o=t.pathColor,a=t.pathTransition,u=t.pathTransitionDuration,c=t.trailColor,d=t.backgroundColor,p=e==null?void 0:"rotate("+e+"turn)",v=e==null?void 0:"center center";return{root:{},path:s_({stroke:o,strokeLinecap:n,transform:p,transformOrigin:v,transition:a,transitionDuration:u==null?void 0:u+"s"}),trail:s_({stroke:c,strokeLinecap:n,transform:p,transformOrigin:v}),text:s_({fill:r,fontSize:i}),background:s_({fill:d})}}function s_(t){return Object.keys(t).forEach(function(e){t[e]==null&&delete t[e]}),t}const Gj=({show:t,onClose:e,children:n,className:r=""})=>t?Z.jsx("div",{className:`modal-overlay ${r}`,onClick:e,children:Z.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[Z.jsx("button",{className:"modal-close-button",onClick:e,children:""}),n]})}):null;function _fe({project:t}){const{updateDocument:e,response:n}=K1("projects"),[r,i]=te.useState(""),[o,a]=te.useState([]),[u,c]=te.useState(""),[d,p]=te.useState([]),{user:v}=Zo(),[y,w]=te.useState([]),[E,b]=te.useState(null),[I,T]=te.useState(!1),R=()=>{T(!I)};te.useEffect(()=>{if(t){const X=t.assignedUsersList.map(V=>({value:V,label:V.displayName}));w(X)}},[t]);const C=async X=>{if(X.preventDefault(),o.length===0){b("You must choose at least one user for the task.");return}const V={content:r,assignedUsers:o.map(se=>({displayName:se.value.displayName,photoURL:se.value.photoURL,id:se.value.id})),done:!1,subtasks:d.map(se=>({content:se,done:!1})),id:Math.random()};await e(t.id,{tasks:[...t.tasks,V]}),n.error||(i(""),p([]),a([]))},k=()=>{a(y)},O=()=>{u.trim()!==""&&(p([...d,u]),c(""))},W=async(X,V,se)=>{const Ie=[...V.subtasks];Ie[se].done=X.target.checked;const G={...V,subtasks:Ie};await e(t.id,{tasks:t.tasks.map(ee=>ee.id===V.id?G:ee)})},D=X=>X.length===0?0:X.filter(se=>se.done).length/X.length*100;return Z.jsxs("div",{className:"taskk",children:[v.uid===t.createdBy.id&&Z.jsx(Z.Fragment,{children:Z.jsxs("div",{className:"add-task-form",children:[Z.jsxs("form",{onSubmit:C,children:[Z.jsxs("label",{children:[Z.jsx("span",{children:"Type in a task:"}),Z.jsx("input",{type:"text",required:!0,onChange:X=>i(X.target.value),value:r})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Type in an activity:"}),Z.jsx("input",{type:"text",onChange:X=>c(X.target.value),value:u}),Z.jsx("button",{type:"button",className:"btn",onClick:O,children:"Add Subtask"})]}),Z.jsxs("div",{className:"added-subtasks",children:[Z.jsx("h4",{children:"Subtasks:"}),Z.jsx("ul",{children:d.map((X,V)=>Z.jsx("li",{children:X},V))})]}),Z.jsxs("div",{className:"select-users",children:[Z.jsx(Tb,{options:y,isMulti:!0,placeholder:"Select user(s)",value:o,className:"task-select",onChange:X=>a(X)}),Z.jsx("button",{type:"button",className:"btn select-all",onClick:k,children:"Select All"})]}),Z.jsx("button",{type:"submit",className:"btn",children:"Add Task"})]}),E&&Z.jsx("p",{className:"error",children:E})]})}),Z.jsxs("div",{className:"tasks",children:[Z.jsx("h2",{children:t.tasks.length>0?"":"No tasks yet"}),t.tasks&&t.tasks.map(X=>Z.jsxs("div",{className:"task",children:[Z.jsx("p",{className:"task-content",children:X.content.substr(0,40)}),Z.jsxs("div",{className:"task-man",children:[Z.jsx("p",{children:"Assigned to:"}),Z.jsxs("div",{className:"assigned-users",onClick:R,children:[X.assignedUsers.slice(0,3).map(V=>Z.jsx(bp,{src:V.photoURL,className:"task-img"},V.id)),X.assignedUsers.length>3&&Z.jsxs("span",{className:"more-users",children:["+",X.assignedUsers.length-3]})]}),I&&Z.jsx(Gj,{show:I,onClose:R,className:"task-assigned-modal-overlay",children:Z.jsxs("div",{className:"task-assigned-modal-content",children:[Z.jsx("h2",{className:"task-assigned-modal-title",children:"Assigned Users"}),Z.jsx("div",{className:"task-assigned-modal-list",children:X.assignedUsers.map(V=>Z.jsxs("div",{className:"task-assigned-modal-user task-assigned-user",children:[Z.jsx(bp,{src:V.photoURL,className:"task-assigned-avatar"}),Z.jsx("p",{className:"task-assigned-username",children:V.displayName})]},V.id))})]})})]}),Z.jsxs("div",{className:"subtasks",children:[Z.jsx("div",{className:"activity",children:"ACTIVITIES"}),(X.subtasks||[]).map((V,se)=>Z.jsxs("div",{className:"subtask",children:[Z.jsx("input",{type:"checkbox",checked:V.done,onChange:Ie=>W(Ie,X,se)}),Z.jsx("div",{className:"stcontent",children:Z.jsx("div",{children:V.content})})]},se))]}),Z.jsx("div",{className:"progress-bar",children:Z.jsx(yfe,{value:D(X.subtasks||[]),text:`${Math.round(D(X.subtasks||[]))}%`,styles:wfe({pathColor:"#33B06F",textColor:"#000",trailColor:"#e0e0de",textSize:"12px"})})})]},X.id))]})]})}function bfe(){const{id:t}=d8(),{document:e,error:n}=Nie("projects",t);return n?Z.jsx("div",{className:"error project-margin",children:n}):e?Z.jsxs("div",{className:"project-details w-[80%] pl-5 pages-margin",children:[Z.jsxs("nav",{className:"navbar",children:[Z.jsx(cp,{to:"",end:!0,className:({isActive:r})=>r?"nav-icon active":"nav-icon",children:"Summary"}),Z.jsx(cp,{to:"tasks",className:({isActive:r})=>r?"nav-icon active":"nav-icon",children:"Tasks"}),Z.jsx(cp,{to:"comments",className:({isActive:r})=>r?"nav-icon active":"nav-icon",children:"Comments"})]}),Z.jsx("div",{children:Z.jsxs(fF,{children:[Z.jsx(Ia,{path:"",element:Z.jsx(Oie,{project:e})}),Z.jsx(Ia,{path:"tasks",element:Z.jsx(_fe,{project:e})}),Z.jsx(Ia,{path:"comments",element:Z.jsx(hfe,{project:e})})]})})]}):Z.jsx("div",{className:"loading project-margin",children:"loading...."})}const Efe="/assets/temple-D0wVl4SD.png";function Sfe(){const{logout:t,isPending:e}=cR(),{user:n}=Zo();return console.log({user:n}),console.log(e),Z.jsx("nav",{className:"navbar ",children:Z.jsxs("ul",{children:[Z.jsx("li",{className:"logo",children:Z.jsx(Sx,{to:"/",children:Z.jsxs("div",{className:"logo-flex",children:[Z.jsx("img",{src:Efe,alt:"logo"}),Z.jsx("span",{children:"EKRUWASSA"})]})})}),!n&&Z.jsx("div",{className:"auth-div"})]})})}const Tfe="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.7897%2026.6009L18.784%2018.4871L13.3675%2018.464L13.348%2026.6218H7.44707L7.13818%2015.44L7.14707%2012.8978L16.0097%203.97247L24.8804%2012.8431L24.8786%2019.2703L24.6715%2026.6391L18.7897%2026.6009Z'%20fill='%23D0CFCE'/%3e%3cpath%20d='M18.6622%2026.6444H23.992C24.2364%2026.6444%2024.4364%2026.4444%2024.4364%2026.2V15.1173M7.5813%2015.1169V26.2C7.5813%2026.4444%207.7813%2026.6444%208.02574%2026.6444H13.4191'%20stroke='%23CACACA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.77417%2015.82L16.0071%203.54535L28.2648%2015.7098M18.5844%2026.6369V18.5009H13.4333V26.6369'%20stroke='%23CACACA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",JM="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Sign%20Out%20Icon'%3e%3cg%20id='Group%20923'%3e%3cpath%20id='Union'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M21.7747%2022.2011L26.3371%2016.8777C26.555%2016.6292%2026.6665%2016.3154%2026.6666%2016C26.6667%2015.7842%2026.6147%2015.5676%2026.5091%2015.3706C26.4621%2015.2828%2026.4047%2015.1994%2026.3371%2015.1223L21.7747%209.79894C21.2955%209.23982%2020.4538%209.17502%2019.8947%209.65422C19.3356%2010.1334%2019.2708%2010.9751%2019.75%2011.5343L22.4345%2014.6666L12.1083%2014.6666C11.3719%2014.6666%2010.775%2015.2636%2010.775%2015.9999C10.775%2016.7363%2011.3719%2017.3333%2012.1083%2017.3333L22.4347%2017.3333L19.75%2020.4658C19.2708%2021.0249%2019.3356%2021.8666%2019.8947%2022.3458C20.4538%2022.825%2021.2955%2022.7602%2021.7747%2022.2011ZM13.3333%207.99992C14.0697%207.99992%2014.6666%208.59687%2014.6666%209.33325L14.6666%2011.3333C14.6666%2012.0696%2015.2636%2012.6666%2016%2012.6666C16.7363%2012.6666%2017.3333%2012.0696%2017.3333%2011.3333L17.3333%209.33325C17.3333%207.12411%2015.5424%205.33325%2013.3333%205.33325L9.33329%205.33325C7.12415%205.33325%205.33329%207.12411%205.33329%209.33325L5.33329%2022.6666C5.33329%2024.8757%207.12415%2026.6666%209.33329%2026.6666L13.3333%2026.6666C15.5424%2026.6666%2017.3333%2024.8757%2017.3333%2022.6666L17.3333%2020.6666C17.3333%2019.9302%2016.7363%2019.3333%2016%2019.3333C15.2636%2019.3333%2014.6666%2019.9302%2014.6666%2020.6666L14.6666%2022.6666C14.6666%2023.403%2014.0697%2023.9999%2013.3333%2023.9999L9.33329%2023.9999C8.59691%2023.9999%207.99996%2023.403%207.99996%2022.6666L7.99996%209.33325C7.99996%208.59687%208.59691%207.99992%209.33329%207.99992L13.3333%207.99992Z'%20fill='%23737791'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Ife="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='oui:ml-create-single-metric-job'%20clip-path='url(%23clip0_30_35)'%3e%3cpath%20id='Vector'%20d='M16%2032C7.163%2032%200%2024.837%200%2016C0%207.163%207.163%200%2016%200C24.837%200%2032%207.163%2032%2016C32%2020.2435%2030.3143%2024.3131%2027.3137%2027.3137C24.3131%2030.3143%2020.2435%2032%2016%2032ZM16%202C8.268%202%202%208.268%202%2016C2%2023.732%208.268%2030%2016%2030C23.732%2030%2030%2023.732%2030%2016C30%2012.287%2028.525%208.72601%2025.8995%206.1005C23.274%203.475%2019.713%202%2016%202Z'%20fill='%23737791'/%3e%3cpath%20id='Vector_2'%20d='M23%2015H17V9H15V15H9V17H15V23H17V17H23V15Z'%20fill='%23737791'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_30_35'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Cfe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Menu'%20clip-path='url(%23clip0_2362_12892)'%3e%3cpath%20id='Vector'%20d='M3%2018H21V16H3V18ZM3%2013H21V11H3V13ZM3%206V8H21V6H3Z'%20fill='%230E110F'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2362_12892'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",xfe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC0klEQVR4nO1WW4hNYRQ+5PIiESWiJCkpMrm8EJPcb6MmU7yoKZcnGpIJaUJ4nCdRCG+TS6J58HI8npn+9X1r7zlRh0bygMQ0I5c0OlrnDHPm7P/Y+0xDiVXr5d97f9/3f+tf69+p1P/4GyObzU4AsEsh15TykHQ7/hg5gO0kXimRH0zJqUpTV1fnrN9Kruq2KNE/lHwwCelTdStGjDAUWUjKUVVpyOVy4wl5WYm8JJ/m8/nRqrJVgQsA1lZPHIaTSdz7uTPKPhXZkIC8mOqWK3BswJVuBU4aZiLyfD4/SimPSgEDYGMAHEwqgOQec21oeRCai7ECAGzyANYVXKhCAOl2lq8HQH2sAAVORwHluKouTiogCFyNAs0enLNJBJyKgALNYdg5h5Bv8bvHZxGZ4duIAmdiBZBcFz1U0kBydxUl2EzKXt96EgcOe6w7ISLzEzkA+RKG4TQFrkZx3KEkDtR5gF8456Yq0Bhbf6A+CIKZhLz3tOf6WAEWCrnsceE6yUlKfKooANJjraaQu1FncCWVNEjWeqzty2QyE0lprVx7OWdOWRkizoisSSzAgpR2D0HrwEiO2Gtr2Wx2HImLnu/aU9WGAjc9LeaKz6THZ39ROJzH/ttVkZNcQMjrqM3SZqPaet3X/wNjvM3jzgcRWRJLHASuhsQNJb6WgTxW4IBzbqwCRyoeQpUmK4O9S+JJ2fN+c8JuyXQ6PaZ8x7MV8sBj3X07PMVdc1kBIH4S3gKw1L6xb724xDO7XQvkIjKXkDdllnWTXG1KixNQOuOIPeIz9ts2gFGrkOcRR8haO2x3yuqszrnpAFYVlFZJ7Dk3uSBwK+1+sCu57OCmU0q8LVn8aOUIRLb96tdrGNlvtbcLrXSQEfLO+r1FgUuWducXRi7RO4LkP7K3o6NjiorsL+Fr8fV/7LwfdgKNsa2oqvNspCpwfiTTMAEsqmog/Y9/Ir4DQu4oleuWqHUAAAAASUVORK5CYII=";function kfe(){const{error:t,documents:e}=V1("users"),{user:n}=Zo(),[r,i]=te.useState(null),[o,a]=te.useState(""),[u,c]=te.useState(""),[d,p]=te.useState(!1),[v,y]=te.useState(!1),[w,E]=te.useState(null),b=te.useRef(null),I=async W=>{try{const D=await T(W.id);i(D)}catch(D){console.error("Error fetching user details:",D.message)}},T=async W=>(await xu.collection("users").doc(W).get()).data(),R=async()=>{if(!o.trim()){c("Please enter at least one valid email.");return}const W=o.split(/[\n,]+/).map(D=>D.trim().toLowerCase()).filter(D=>D);if(W.length===0){c("Please enter at least one valid email.");return}y(!0);try{const D=xu.batch(),X=new Date;W.forEach(V=>{const se=xu.collection("approvedEmails").doc(V);D.set(se,{email:V,addedBy:n.uid,createdAt:X})}),await D.commit(),a(""),c(""),p(!0),setTimeout(()=>p(!1),3e3)}catch(D){console.error("Error adding batch emails:",D.message),c("Failed to add some or all emails. Try again.")}finally{y(!1)}},C=W=>{console.log("Clicked image:",W),E(W)},k=()=>{E(null)};function O({src:W,onClick:D}){return Z.jsx("img",{src:W,alt:"Avatar",className:"avatar",onClick:D})}return Z.jsxs("div",{className:"user-list-container pages-margin",children:[Z.jsx("div",{className:"header",children:Z.jsxs("div",{className:"add-user-form",children:[Z.jsx("textarea",{value:o,onChange:W=>a(W.target.value),placeholder:"Enter emails separated by commas or new lines",rows:"4",className:"email-textarea"}),Z.jsxs("button",{className:"add-email-button",onClick:R,disabled:v,children:[v?"Adding...":"Add Email(s)"," "]}),u&&Z.jsx("p",{className:"error",children:u})]})}),Z.jsxs("div",{className:"user-list",ref:b,children:[Z.jsx("h2",{children:"Registered Users"}),t&&Z.jsx("div",{className:"error",children:t}),e&&e.filter(W=>W.id!==n.uid).map(W=>Z.jsxs("div",{className:"user-list-item",onClick:()=>I(W),children:[Z.jsx(O,{src:W.photoURL,onClick:()=>C(W.photoURL)}),Z.jsxs("div",{className:"user-info",children:[Z.jsx("span",{children:W.displayName}),Z.jsx("span",{className:"user-email",children:W.email})," "]})]},W.id))]}),d&&Z.jsx("div",{className:"success-modal",children:Z.jsxs("div",{className:"success-modal-content",children:[Z.jsx("p",{children:"Email successfully added!"}),Z.jsx("button",{onClick:()=>p(!1),children:"Close"})]})}),w&&Z.jsx("div",{className:"image-modal",onClick:k,children:Z.jsx("div",{className:"image-modal-content",onClick:W=>W.stopPropagation(),children:Z.jsx("img",{src:w,alt:"Enlarged profile",className:"enlarged-image"})})})]})}function Afe(){const{user:t}=Zo(),[e,n]=te.useState(window.innerWidth),r=720,[i,o]=te.useState(!1),[a,u]=te.useState(!1),{logout:c,isPending:d}=cR();te.useEffect(()=>{const v=()=>n(window.innerWidth);return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const p=()=>{u(!a)};return Z.jsxs(Z.Fragment,{children:[e<=r&&Z.jsx("div",{className:"menu-icon",onClick:p,children:Z.jsx("img",{src:Cfe,alt:"Menu Icon",className:"menuu"})}),Z.jsxs("div",{className:`sidebar ${e<=r&&!a?"closed":"open"}`,children:[Z.jsxs("div",{className:"sidebar-content",children:[Z.jsxs("div",{className:"user",children:[Z.jsx(bp,{src:t.photoURL}),Z.jsxs("p",{children:["Welcome, ",t.displayName]})]}),Z.jsx("nav",{className:"links",children:Z.jsxs("ul",{children:[Z.jsx("li",{children:Z.jsx(cp,{to:"/",children:Z.jsxs("div",{className:"link",children:[Z.jsx("img",{src:Tfe,alt:"dashboard icon"}),Z.jsx("span",{children:"Home"})]})})}),Z.jsx("li",{children:Z.jsx(cp,{to:"/create",children:Z.jsxs("div",{className:"link",children:[Z.jsx("img",{src:Ife,alt:"add icon"}),Z.jsx("span",{children:"Create Project"})]})})}),Z.jsx("li",{children:Z.jsx(cp,{to:"/users",children:Z.jsxs("div",{className:"link",children:[Z.jsx("img",{src:xfe,alt:"user icon"}),Z.jsx("span",{children:"Users"})]})})}),t&&Z.jsxs("li",{children:[!d&&Z.jsxs("div",{className:"signout",onClick:c,children:[Z.jsx("img",{src:JM,alt:"signout icon"}),Z.jsx("span",{children:"Sign Out"})]}),d&&Z.jsxs("div",{className:"signout",disabled:!0,children:[Z.jsx("img",{src:JM,alt:"signout icon"}),Z.jsx("div",{children:"Sign out"})]}),d&&Z.jsx("div",{className:"loading-modal",children:Z.jsx("img",{src:lR,alt:"Loading",className:"loading-gif"})})]})]})})]}),i&&Z.jsx(Gj,{isOpen:i,onClose:()=>o(!1)})]}),a&&e<=r&&Z.jsx("div",{className:"overlay",onClick:p})]})}function Rfe(){const{user:t,authIsReady:e}=Zo(),[n,r]=te.useState(window.innerWidth);return te.useEffect(()=>{const i=()=>r(window.innerWidth);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),Z.jsx("div",{className:"App",children:e&&Z.jsxs(M8,{children:[t&&Z.jsx(Afe,{}),Z.jsxs("div",{className:"containe w-full ",children:[Z.jsx(Sfe,{}),Z.jsxs(fF,{children:[Z.jsx(Ia,{path:"/",element:t?Z.jsx(Oee,{}):Z.jsx(Xd,{to:"/login"})}),Z.jsx(Ia,{path:"/create",element:t?Z.jsx(Iie,{}):Z.jsx(Xd,{to:"/login"})}),Z.jsx(Ia,{path:"/users",element:t?Z.jsx(kfe,{}):Z.jsx(Xd,{to:"/login"})}),Z.jsx(Ia,{path:"/signup",element:t?Z.jsx(Xd,{to:"/signup"}):Z.jsx(Rie,{})}),Z.jsx(Ia,{path:"/login",element:t?Z.jsx(Xd,{to:"/"}):Z.jsx(kie,{})}),Z.jsx(Ia,{path:"/projects/:id/*",element:t?Z.jsx(bfe,{}):Z.jsx(Xd,{to:"/login"})})]})]})]})})}UB.createRoot(document.getElementById("root")).render(Z.jsx(eF.StrictMode,{children:Z.jsx(gee,{children:Z.jsx(Rfe,{})})}));
