function UB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AS={exports:{}},fv={},RS={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function jB(){if(mN)return Dt;mN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function I(G,W,ae){this.props=G,this.context=W,this.refs=E,this.updater=ae||w}I.prototype.isReactComponent={},I.prototype.setState=function(G,W){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,W,"setState")},I.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function S(){}S.prototype=I.prototype;function k(G,W,ae){this.props=G,this.context=W,this.refs=E,this.updater=ae||w}var C=k.prototype=new S;C.constructor=k,b(C,I.prototype),C.isPureReactComponent=!0;var A=Array.isArray,O=Object.prototype.hasOwnProperty,H={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function X(G,W,ae){var de,_e={},le=null,B=null;if(W!=null)for(de in W.ref!==void 0&&(B=W.ref),W.key!==void 0&&(le=""+W.key),W)O.call(W,de)&&!D.hasOwnProperty(de)&&(_e[de]=W[de]);var M=arguments.length-2;if(M===1)_e.children=ae;else if(1<M){for(var se=Array(M),ie=0;ie<M;ie++)se[ie]=arguments[ie+2];_e.children=se}if(G&&G.defaultProps)for(de in M=G.defaultProps,M)_e[de]===void 0&&(_e[de]=M[de]);return{$$typeof:t,type:G,key:le,ref:B,props:_e,_owner:H.current}}function V(G,W){return{$$typeof:t,type:G.type,key:W,ref:G.ref,props:G.props,_owner:G._owner}}function oe(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function Ie(G){var W={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ae){return W[ae]})}var $=/\/+/g;function te(G,W){return typeof G=="object"&&G!==null&&G.key!=null?Ie(""+G.key):W.toString(36)}function j(G,W,ae,de,_e){var le=typeof G;(le==="undefined"||le==="boolean")&&(G=null);var B=!1;if(G===null)B=!0;else switch(le){case"string":case"number":B=!0;break;case"object":switch(G.$$typeof){case t:case e:B=!0}}if(B)return B=G,_e=_e(B),G=de===""?"."+te(B,0):de,A(_e)?(ae="",G!=null&&(ae=G.replace($,"$&/")+"/"),j(_e,W,ae,"",function(ie){return ie})):_e!=null&&(oe(_e)&&(_e=V(_e,ae+(!_e.key||B&&B.key===_e.key?"":(""+_e.key).replace($,"$&/")+"/")+G)),W.push(_e)),1;if(B=0,de=de===""?".":de+":",A(G))for(var M=0;M<G.length;M++){le=G[M];var se=de+te(le,M);B+=j(le,W,ae,se,_e)}else if(se=y(G),typeof se=="function")for(G=se.call(G),M=0;!(le=G.next()).done;)le=le.value,se=de+te(le,M++),B+=j(le,W,ae,se,_e);else if(le==="object")throw W=String(G),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return B}function he(G,W,ae){if(G==null)return G;var de=[],_e=0;return j(G,de,"","",function(le){return W.call(ae,le,_e++)}),de}function Ee(G){if(G._status===-1){var W=G._result;W=W(),W.then(function(ae){(G._status===0||G._status===-1)&&(G._status=1,G._result=ae)},function(ae){(G._status===0||G._status===-1)&&(G._status=2,G._result=ae)}),G._status===-1&&(G._status=0,G._result=W)}if(G._status===1)return G._result.default;throw G._result}var re={current:null},pe={transition:null},me={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:pe,ReactCurrentOwner:H};function Se(){throw Error("act(...) is not supported in production builds of React.")}return Dt.Children={map:he,forEach:function(G,W,ae){he(G,function(){W.apply(this,arguments)},ae)},count:function(G){var W=0;return he(G,function(){W++}),W},toArray:function(G){return he(G,function(W){return W})||[]},only:function(G){if(!oe(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Dt.Component=I,Dt.Fragment=n,Dt.Profiler=i,Dt.PureComponent=k,Dt.StrictMode=r,Dt.Suspense=c,Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Dt.act=Se,Dt.cloneElement=function(G,W,ae){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var de=b({},G.props),_e=G.key,le=G.ref,B=G._owner;if(W!=null){if(W.ref!==void 0&&(le=W.ref,B=H.current),W.key!==void 0&&(_e=""+W.key),G.type&&G.type.defaultProps)var M=G.type.defaultProps;for(se in W)O.call(W,se)&&!D.hasOwnProperty(se)&&(de[se]=W[se]===void 0&&M!==void 0?M[se]:W[se])}var se=arguments.length-2;if(se===1)de.children=ae;else if(1<se){M=Array(se);for(var ie=0;ie<se;ie++)M[ie]=arguments[ie+2];de.children=M}return{$$typeof:t,type:G.type,key:_e,ref:le,props:de,_owner:B}},Dt.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},Dt.createElement=X,Dt.createFactory=function(G){var W=X.bind(null,G);return W.type=G,W},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(G){return{$$typeof:u,render:G}},Dt.isValidElement=oe,Dt.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:Ee}},Dt.memo=function(G,W){return{$$typeof:d,type:G,compare:W===void 0?null:W}},Dt.startTransition=function(G){var W=pe.transition;pe.transition={};try{G()}finally{pe.transition=W}},Dt.unstable_act=Se,Dt.useCallback=function(G,W){return re.current.useCallback(G,W)},Dt.useContext=function(G){return re.current.useContext(G)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(G){return re.current.useDeferredValue(G)},Dt.useEffect=function(G,W){return re.current.useEffect(G,W)},Dt.useId=function(){return re.current.useId()},Dt.useImperativeHandle=function(G,W,ae){return re.current.useImperativeHandle(G,W,ae)},Dt.useInsertionEffect=function(G,W){return re.current.useInsertionEffect(G,W)},Dt.useLayoutEffect=function(G,W){return re.current.useLayoutEffect(G,W)},Dt.useMemo=function(G,W){return re.current.useMemo(G,W)},Dt.useReducer=function(G,W,ae){return re.current.useReducer(G,W,ae)},Dt.useRef=function(G){return re.current.useRef(G)},Dt.useState=function(G){return re.current.useState(G)},Dt.useSyncExternalStore=function(G,W,ae){return re.current.useSyncExternalStore(G,W,ae)},Dt.useTransition=function(){return re.current.useTransition()},Dt.version="18.3.1",Dt}var gN;function Sx(){return gN||(gN=1,RS.exports=jB()),RS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function BB(){if(vN)return fv;vN=1;var t=Sx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,d){var p,v={},y=null,w=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(w=c.ref);for(p in c)r.call(c,p)&&!o.hasOwnProperty(p)&&(v[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)v[p]===void 0&&(v[p]=c[p]);return{$$typeof:e,type:u,key:y,ref:w,props:v,_owner:i.current}}return fv.Fragment=n,fv.jsx=a,fv.jsxs=a,fv}var yN;function VB(){return yN||(yN=1,AS.exports=BB()),AS.exports}var ee=VB(),J=Sx();const sF=oF(J),wN=UB({__proto__:null,default:sF},[J]);var A0={},NS={exports:{}},Xi={},OS={exports:{}},PS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function zB(){return _N||(_N=1,function(t){function e(pe,me){var Se=pe.length;pe.push(me);e:for(;0<Se;){var G=Se-1>>>1,W=pe[G];if(0<i(W,me))pe[G]=me,pe[Se]=W,Se=G;else break e}}function n(pe){return pe.length===0?null:pe[0]}function r(pe){if(pe.length===0)return null;var me=pe[0],Se=pe.pop();if(Se!==me){pe[0]=Se;e:for(var G=0,W=pe.length,ae=W>>>1;G<ae;){var de=2*(G+1)-1,_e=pe[de],le=de+1,B=pe[le];if(0>i(_e,Se))le<W&&0>i(B,_e)?(pe[G]=B,pe[le]=Se,G=le):(pe[G]=_e,pe[de]=Se,G=de);else if(le<W&&0>i(B,Se))pe[G]=B,pe[le]=Se,G=le;else break e}}return me}function i(pe,me){var Se=pe.sortIndex-me.sortIndex;return Se!==0?Se:pe.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],p=1,v=null,y=3,w=!1,b=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(pe){for(var me=n(d);me!==null;){if(me.callback===null)r(d);else if(me.startTime<=pe)r(d),me.sortIndex=me.expirationTime,e(c,me);else break;me=n(d)}}function A(pe){if(E=!1,C(pe),!b)if(n(c)!==null)b=!0,Ee(O);else{var me=n(d);me!==null&&re(A,me.startTime-pe)}}function O(pe,me){b=!1,E&&(E=!1,S(X),X=-1),w=!0;var Se=y;try{for(C(me),v=n(c);v!==null&&(!(v.expirationTime>me)||pe&&!Ie());){var G=v.callback;if(typeof G=="function"){v.callback=null,y=v.priorityLevel;var W=G(v.expirationTime<=me);me=t.unstable_now(),typeof W=="function"?v.callback=W:v===n(c)&&r(c),C(me)}else r(c);v=n(c)}if(v!==null)var ae=!0;else{var de=n(d);de!==null&&re(A,de.startTime-me),ae=!1}return ae}finally{v=null,y=Se,w=!1}}var H=!1,D=null,X=-1,V=5,oe=-1;function Ie(){return!(t.unstable_now()-oe<V)}function $(){if(D!==null){var pe=t.unstable_now();oe=pe;var me=!0;try{me=D(!0,pe)}finally{me?te():(H=!1,D=null)}}else H=!1}var te;if(typeof k=="function")te=function(){k($)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,he=j.port2;j.port1.onmessage=$,te=function(){he.postMessage(null)}}else te=function(){I($,0)};function Ee(pe){D=pe,H||(H=!0,te())}function re(pe,me){X=I(function(){pe(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(pe){pe.callback=null},t.unstable_continueExecution=function(){b||w||(b=!0,Ee(O))},t.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<pe?Math.floor(1e3/pe):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(pe){switch(y){case 1:case 2:case 3:var me=3;break;default:me=y}var Se=y;y=me;try{return pe()}finally{y=Se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(pe,me){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Se=y;y=pe;try{return me()}finally{y=Se}},t.unstable_scheduleCallback=function(pe,me,Se){var G=t.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?G+Se:G):Se=G,pe){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Se+W,pe={id:p++,callback:me,priorityLevel:pe,startTime:Se,expirationTime:W,sortIndex:-1},Se>G?(pe.sortIndex=Se,e(d,pe),n(c)===null&&pe===n(d)&&(E?(S(X),X=-1):E=!0,re(A,Se-G))):(pe.sortIndex=W,e(c,pe),b||w||(b=!0,Ee(O))),pe},t.unstable_shouldYield=Ie,t.unstable_wrapCallback=function(pe){var me=y;return function(){var Se=y;y=me;try{return pe.apply(this,arguments)}finally{y=Se}}}}(PS)),PS}var bN;function HB(){return bN||(bN=1,OS.exports=zB()),OS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function WB(){if(EN)return Xi;EN=1;var t=Sx(),e=HB();function n(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(l,h){a(l,h),a(l+"Capture",h)}function a(l,h){for(i[l]=h,l=0;l<h.length;l++)r.add(h[l])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function y(l){return c.call(v,l)?!0:c.call(p,l)?!1:d.test(l)?v[l]=!0:(p[l]=!0,!1)}function w(l,h,m,_){if(m!==null&&m.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return _?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,h,m,_){if(h===null||typeof h>"u"||w(l,h,m,_))return!0;if(_)return!1;if(m!==null)switch(m.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function E(l,h,m,_,N,L,K){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=_,this.attributeNamespace=N,this.mustUseProperty=m,this.propertyName=l,this.type=h,this.sanitizeURL=L,this.removeEmptyString=K}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){I[l]=new E(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var h=l[0];I[h]=new E(h,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){I[l]=new E(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){I[l]=new E(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){I[l]=new E(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){I[l]=new E(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){I[l]=new E(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){I[l]=new E(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){I[l]=new E(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function k(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var h=l.replace(S,k);I[h]=new E(h,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var h=l.replace(S,k);I[h]=new E(h,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var h=l.replace(S,k);I[h]=new E(h,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){I[l]=new E(l,1,!1,l.toLowerCase(),null,!1,!1)}),I.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){I[l]=new E(l,1,!1,l.toLowerCase(),null,!0,!0)});function C(l,h,m,_){var N=I.hasOwnProperty(h)?I[h]:null;(N!==null?N.type!==0:_||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(b(h,m,N,_)&&(m=null),_||N===null?y(h)&&(m===null?l.removeAttribute(h):l.setAttribute(h,""+m)):N.mustUseProperty?l[N.propertyName]=m===null?N.type===3?!1:"":m:(h=N.attributeName,_=N.attributeNamespace,m===null?l.removeAttribute(h):(N=N.type,m=N===3||N===4&&m===!0?"":""+m,_?l.setAttributeNS(_,h,m):l.setAttribute(h,m))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),H=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),pe=Symbol.iterator;function me(l){return l===null||typeof l!="object"?null:(l=pe&&l[pe]||l["@@iterator"],typeof l=="function"?l:null)}var Se=Object.assign,G;function W(l){if(G===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);G=h&&h[1]||""}return`
`+G+l}var ae=!1;function de(l,h){if(!l||ae)return"";ae=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ae){var _=Ae}Reflect.construct(l,[],h)}else{try{h.call()}catch(Ae){_=Ae}l.call(h.prototype)}else{try{throw Error()}catch(Ae){_=Ae}l()}}catch(Ae){if(Ae&&_&&typeof Ae.stack=="string"){for(var N=Ae.stack.split(`
`),L=_.stack.split(`
`),K=N.length-1,ce=L.length-1;1<=K&&0<=ce&&N[K]!==L[ce];)ce--;for(;1<=K&&0<=ce;K--,ce--)if(N[K]!==L[ce]){if(K!==1||ce!==1)do if(K--,ce--,0>ce||N[K]!==L[ce]){var we=`
`+N[K].replace(" at new "," at ");return l.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",l.displayName)),we}while(1<=K&&0<=ce);break}}}finally{ae=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?W(l):""}function _e(l){switch(l.tag){case 5:return W(l.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return l=de(l.type,!1),l;case 11:return l=de(l.type.render,!1),l;case 1:return l=de(l.type,!0),l;default:return""}}function le(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case D:return"Fragment";case H:return"Portal";case V:return"Profiler";case X:return"StrictMode";case te:return"Suspense";case j:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case Ie:return(l.displayName||"Context")+".Consumer";case oe:return(l._context.displayName||"Context")+".Provider";case $:var h=l.render;return l=l.displayName,l||(l=h.displayName||h.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case he:return h=l.displayName||null,h!==null?h:le(l.type)||"Memo";case Ee:h=l._payload,l=l._init;try{return le(l(h))}catch{}}return null}function B(l){var h=l.type;switch(l.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=h.render,l=l.displayName||l.name||"",h.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(h);case 8:return h===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function M(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function se(l){var h=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ie(l){var h=se(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,h),_=""+l[h];if(!l.hasOwnProperty(h)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,L=m.set;return Object.defineProperty(l,h,{configurable:!0,get:function(){return N.call(this)},set:function(K){_=""+K,L.call(this,K)}}),Object.defineProperty(l,h,{enumerable:m.enumerable}),{getValue:function(){return _},setValue:function(K){_=""+K},stopTracking:function(){l._valueTracker=null,delete l[h]}}}}function Q(l){l._valueTracker||(l._valueTracker=ie(l))}function Z(l){if(!l)return!1;var h=l._valueTracker;if(!h)return!0;var m=h.getValue(),_="";return l&&(_=se(l)?l.checked?"true":"false":l.value),l=_,l!==m?(h.setValue(l),!0):!1}function Ce(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function F(l,h){var m=h.checked;return Se({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Te(l,h){var m=h.defaultValue==null?"":h.defaultValue,_=h.checked!=null?h.checked:h.defaultChecked;m=M(h.value!=null?h.value:m),l._wrapperState={initialChecked:_,initialValue:m,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function z(l,h){h=h.checked,h!=null&&C(l,"checked",h,!1)}function x(l,h){z(l,h);var m=M(h.value),_=h.type;if(m!=null)_==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(_==="submit"||_==="reset"){l.removeAttribute("value");return}h.hasOwnProperty("value")?U(l,h.type,m):h.hasOwnProperty("defaultValue")&&U(l,h.type,M(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(l.defaultChecked=!!h.defaultChecked)}function R(l,h,m){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var _=h.type;if(!(_!=="submit"&&_!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+l._wrapperState.initialValue,m||h===l.value||(l.value=h),l.defaultValue=h}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function U(l,h,m){(h!=="number"||Ce(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var ne=Array.isArray;function ye(l,h,m,_){if(l=l.options,h){h={};for(var N=0;N<m.length;N++)h["$"+m[N]]=!0;for(m=0;m<l.length;m++)N=h.hasOwnProperty("$"+l[m].value),l[m].selected!==N&&(l[m].selected=N),N&&_&&(l[m].defaultSelected=!0)}else{for(m=""+M(m),h=null,N=0;N<l.length;N++){if(l[N].value===m){l[N].selected=!0,_&&(l[N].defaultSelected=!0);return}h!==null||l[N].disabled||(h=l[N])}h!==null&&(h.selected=!0)}}function ue(l,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return Se({},h,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function De(l,h){var m=h.value;if(m==null){if(m=h.children,h=h.defaultValue,m!=null){if(h!=null)throw Error(n(92));if(ne(m)){if(1<m.length)throw Error(n(93));m=m[0]}h=m}h==null&&(h=""),m=h}l._wrapperState={initialValue:M(m)}}function Pe(l,h){var m=M(h.value),_=M(h.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),h.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),_!=null&&(l.defaultValue=""+_)}function Me(l){var h=l.textContent;h===l._wrapperState.initialValue&&h!==""&&h!==null&&(l.value=h)}function $e(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(l,h){return l==null||l==="http://www.w3.org/1999/xhtml"?$e(h):l==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ct,Pt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,m,_,N){MSApp.execUnsafeLocalFunction(function(){return l(h,m,_,N)})}:l}(function(l,h){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=h;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=ct.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;h.firstChild;)l.appendChild(h.firstChild)}});function Fr(l,h){if(h){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=h;return}}l.textContent=h}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(l){ti.forEach(function(h){h=h+l.charAt(0).toUpperCase()+l.substring(1),bn[h]=bn[l]})});function cn(l,h,m){return h==null||typeof h=="boolean"||h===""?"":m||typeof h!="number"||h===0||bn.hasOwnProperty(l)&&bn[l]?(""+h).trim():h+"px"}function On(l,h){l=l.style;for(var m in h)if(h.hasOwnProperty(m)){var _=m.indexOf("--")===0,N=cn(m,h[m],_);m==="float"&&(m="cssFloat"),_?l.setProperty(m,N):l[m]=N}}var qu=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function En(l,h){if(h){if(qu[l]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Ms(l,h){if(l.indexOf("-")===-1)return typeof h.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=null;function Fs(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Us=null,To=null,or=null;function js(l){if(l=hl(l)){if(typeof Us!="function")throw Error(n(280));var h=l.stateNode;h&&(h=rf(h),Us(l.stateNode,l.type,h))}}function Mh(l){To?or?or.push(l):or=[l]:To=l}function hw(){if(To){var l=To,h=or;if(or=To=null,js(l),h)for(l=0;l<h.length;l++)js(h[l])}}function dw(l,h){return l(h)}function Im(){}var Cm=!1;function Ur(l,h,m){if(Cm)return l(h,m);Cm=!0;try{return dw(l,h,m)}finally{Cm=!1,(To!==null||or!==null)&&(Im(),hw())}}function Bs(l,h){var m=l.stateNode;if(m===null)return null;var _=rf(m);if(_===null)return null;m=_[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(l=l.type,_=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!_;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,h,typeof m));return m}var xm=!1;if(u)try{var Ac={};Object.defineProperty(Ac,"passive",{get:function(){xm=!0}}),window.addEventListener("test",Ac,Ac),window.removeEventListener("test",Ac,Ac)}catch{xm=!1}function pw(l,h,m,_,N,L,K,ce,we){var Ae=Array.prototype.slice.call(arguments,3);try{h.apply(m,Ae)}catch(je){this.onError(je)}}var Gu=!1,Rc=null,Vs=!1,Fh=null,Ku={onError:function(l){Gu=!0,Rc=l}};function u1(l,h,m,_,N,L,K,ce,we){Gu=!1,Rc=null,pw.apply(Ku,arguments)}function mw(l,h,m,_,N,L,K,ce,we){if(u1.apply(this,arguments),Gu){if(Gu){var Ae=Rc;Gu=!1,Rc=null}else throw Error(n(198));Vs||(Vs=!0,Fh=Ae)}}function Ga(l){var h=l,m=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do h=l,h.flags&4098&&(m=h.return),l=h.return;while(l)}return h.tag===3?m:null}function km(l){if(l.tag===13){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function Am(l){if(Ga(l)!==l)throw Error(n(188))}function Rm(l){var h=l.alternate;if(!h){if(h=Ga(l),h===null)throw Error(n(188));return h!==l?null:l}for(var m=l,_=h;;){var N=m.return;if(N===null)break;var L=N.alternate;if(L===null){if(_=N.return,_!==null){m=_;continue}break}if(N.child===L.child){for(L=N.child;L;){if(L===m)return Am(N),l;if(L===_)return Am(N),h;L=L.sibling}throw Error(n(188))}if(m.return!==_.return)m=N,_=L;else{for(var K=!1,ce=N.child;ce;){if(ce===m){K=!0,m=N,_=L;break}if(ce===_){K=!0,_=N,m=L;break}ce=ce.sibling}if(!K){for(ce=L.child;ce;){if(ce===m){K=!0,m=L,_=N;break}if(ce===_){K=!0,_=L,m=N;break}ce=ce.sibling}if(!K)throw Error(n(189))}}if(m.alternate!==_)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:h}function Uh(l){return l=Rm(l),l!==null?gw(l):null}function gw(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var h=gw(l);if(h!==null)return h;l=l.sibling}return null}var vw=e.unstable_scheduleCallback,Fi=e.unstable_cancelCallback,yw=e.unstable_shouldYield,l1=e.unstable_requestPaint,Sn=e.unstable_now,c1=e.unstable_getCurrentPriorityLevel,jh=e.unstable_ImmediatePriority,Nc=e.unstable_UserBlockingPriority,Yu=e.unstable_NormalPriority,Nm=e.unstable_LowPriority,Bh=e.unstable_IdlePriority,Vh=null,io=null;function Om(l){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(Vh,l,void 0,(l.current.flags&128)===128)}catch{}}var Ui=Math.clz32?Math.clz32:Oc,zs=Math.log,f1=Math.LN2;function Oc(l){return l>>>=0,l===0?32:31-(zs(l)/f1|0)|0}var Pc=64,Dc=4194304;function Lc(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function zh(l,h){var m=l.pendingLanes;if(m===0)return 0;var _=0,N=l.suspendedLanes,L=l.pingedLanes,K=m&268435455;if(K!==0){var ce=K&~N;ce!==0?_=Lc(ce):(L&=K,L!==0&&(_=Lc(L)))}else K=m&~N,K!==0?_=Lc(K):L!==0&&(_=Lc(L));if(_===0)return 0;if(h!==0&&h!==_&&!(h&N)&&(N=_&-_,L=h&-h,N>=L||N===16&&(L&4194240)!==0))return h;if(_&4&&(_|=m&16),h=l.entangledLanes,h!==0)for(l=l.entanglements,h&=_;0<h;)m=31-Ui(h),N=1<<m,_|=l[m],h&=~N;return _}function Hh(l,h){switch(l){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ww(l,h){for(var m=l.suspendedLanes,_=l.pingedLanes,N=l.expirationTimes,L=l.pendingLanes;0<L;){var K=31-Ui(L),ce=1<<K,we=N[K];we===-1?(!(ce&m)||ce&_)&&(N[K]=Hh(ce,h)):we<=h&&(l.expiredLanes|=ce),L&=~ce}}function Mc(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function _w(){var l=Pc;return Pc<<=1,!(Pc&4194240)&&(Pc=64),l}function Xu(l){for(var h=[],m=0;31>m;m++)h.push(l);return h}function Hs(l,h,m){l.pendingLanes|=h,h!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,h=31-Ui(h),l[h]=m}function h1(l,h){var m=l.pendingLanes&~h;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=h,l.mutableReadLanes&=h,l.entangledLanes&=h,h=l.entanglements;var _=l.eventTimes;for(l=l.expirationTimes;0<m;){var N=31-Ui(m),L=1<<N;h[N]=0,_[N]=-1,l[N]=-1,m&=~L}}function Fc(l,h){var m=l.entangledLanes|=h;for(l=l.entanglements;m;){var _=31-Ui(m),N=1<<_;N&h|l[_]&h&&(l[_]|=h),m&=~N}}var zt=0;function Pm(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var It,es,Qu,Io,Dm,Wh=!1,Ju=[],st=null,Vt=null,ts=null,Uc=new Map,Zu=new Map,ns=[],Lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mm(l,h){switch(l){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Uc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(h.pointerId)}}function oo(l,h,m,_,N,L){return l===null||l.nativeEvent!==L?(l={blockedOn:h,domEventName:m,eventSystemFlags:_,nativeEvent:L,targetContainers:[N]},h!==null&&(h=hl(h),h!==null&&es(h)),l):(l.eventSystemFlags|=_,h=l.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),l)}function bw(l,h,m,_,N){switch(h){case"focusin":return st=oo(st,l,h,m,_,N),!0;case"dragenter":return Vt=oo(Vt,l,h,m,_,N),!0;case"mouseover":return ts=oo(ts,l,h,m,_,N),!0;case"pointerover":var L=N.pointerId;return Uc.set(L,oo(Uc.get(L)||null,l,h,m,_,N)),!0;case"gotpointercapture":return L=N.pointerId,Zu.set(L,oo(Zu.get(L)||null,l,h,m,_,N)),!0}return!1}function Ew(l){var h=ea(l.target);if(h!==null){var m=Ga(h);if(m!==null){if(h=m.tag,h===13){if(h=km(m),h!==null){l.blockedOn=h,Dm(l.priority,function(){Qu(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function jc(l){if(l.blockedOn!==null)return!1;for(var h=l.targetContainers;0<h.length;){var m=Kh(l.domEventName,l.eventSystemFlags,h[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var _=new m.constructor(m.type,m);$u=_,m.target.dispatchEvent(_),$u=null}else return h=hl(m),h!==null&&es(h),l.blockedOn=m,!1;h.shift()}return!0}function Fm(l,h,m){jc(l)&&m.delete(h)}function Sw(){Wh=!1,st!==null&&jc(st)&&(st=null),Vt!==null&&jc(Vt)&&(Vt=null),ts!==null&&jc(ts)&&(ts=null),Uc.forEach(Fm),Zu.forEach(Fm)}function el(l,h){l.blockedOn===h&&(l.blockedOn=null,Wh||(Wh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sw)))}function Bc(l){function h(N){return el(N,l)}if(0<Ju.length){el(Ju[0],l);for(var m=1;m<Ju.length;m++){var _=Ju[m];_.blockedOn===l&&(_.blockedOn=null)}}for(st!==null&&el(st,l),Vt!==null&&el(Vt,l),ts!==null&&el(ts,l),Uc.forEach(h),Zu.forEach(h),m=0;m<ns.length;m++)_=ns[m],_.blockedOn===l&&(_.blockedOn=null);for(;0<ns.length&&(m=ns[0],m.blockedOn===null);)Ew(m),m.blockedOn===null&&ns.shift()}var Ka=A.ReactCurrentBatchConfig,rs=!0;function qh(l,h,m,_){var N=zt,L=Ka.transition;Ka.transition=null;try{zt=1,$h(l,h,m,_)}finally{zt=N,Ka.transition=L}}function d1(l,h,m,_){var N=zt,L=Ka.transition;Ka.transition=null;try{zt=4,$h(l,h,m,_)}finally{zt=N,Ka.transition=L}}function $h(l,h,m,_){if(rs){var N=Kh(l,h,m,_);if(N===null)id(l,h,_,Gh,m),Mm(l,_);else if(bw(N,l,h,m,_))_.stopPropagation();else if(Mm(l,_),h&4&&-1<Lm.indexOf(l)){for(;N!==null;){var L=hl(N);if(L!==null&&It(L),L=Kh(l,h,m,_),L===null&&id(l,h,_,Gh,m),L===N)break;N=L}N!==null&&_.stopPropagation()}else id(l,h,_,null,m)}}var Gh=null;function Kh(l,h,m,_){if(Gh=null,l=Fs(_),l=ea(l),l!==null)if(h=Ga(l),h===null)l=null;else if(m=h.tag,m===13){if(l=km(h),l!==null)return l;l=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;l=null}else h!==l&&(l=null);return Gh=l,null}function Tw(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c1()){case jh:return 1;case Nc:return 4;case Yu:case Nm:return 16;case Bh:return 536870912;default:return 16}default:return 16}}var Ws=null,mr=null,Co=null;function Iw(){if(Co)return Co;var l,h=mr,m=h.length,_,N="value"in Ws?Ws.value:Ws.textContent,L=N.length;for(l=0;l<m&&h[l]===N[l];l++);var K=m-l;for(_=1;_<=K&&h[m-_]===N[L-_];_++);return Co=N.slice(l,1<_?1-_:void 0)}function qs(l){var h=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),32<=l||l===13?l:0}function Yh(){return!0}function Cw(){return!1}function gr(l){function h(m,_,N,L,K){this._reactName=m,this._targetInst=N,this.type=_,this.nativeEvent=L,this.target=K,this.currentTarget=null;for(var ce in l)l.hasOwnProperty(ce)&&(m=l[ce],this[ce]=m?m(L):L[ce]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?Yh:Cw,this.isPropagationStopped=Cw,this}return Se(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Yh)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Yh)},persist:function(){},isPersistent:Yh}),h}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=gr(is),Ya=Se({},is,{view:0,detail:0}),Um=gr(Ya),zc,ni,tl,Xh=Se({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==tl&&(tl&&l.type==="mousemove"?(zc=l.screenX-tl.screenX,ni=l.screenY-tl.screenY):ni=zc=0,tl=l),zc)},movementY:function(l){return"movementY"in l?l.movementY:ni}}),Qh=gr(Xh),bi=Se({},Xh,{dataTransfer:0}),xw=gr(bi),kw=Se({},Ya,{relatedTarget:0}),Jh=gr(kw),Aw=Se({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),p1=gr(Aw),Zh=Se({},is,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),jm=gr(Zh),Bm=Se({},is,{data:0}),vr=gr(Bm),Rw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(l){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(l):(l=ed[l])?!!h[l]:!1}function $s(){return zm}var Nw=Se({},Ya,{key:function(l){if(l.key){var h=Rw[l.key]||l.key;if(h!=="Unidentified")return h}return l.type==="keypress"?(l=qs(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Vm[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(l){return l.type==="keypress"?qs(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?qs(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Ow=gr(Nw),m1=Se({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xa=gr(m1),Hm=Se({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),Qa=gr(Hm),Pw=Se({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),g1=gr(Pw),Gs=Se({},Xh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Hc=gr(Gs),Wc=[9,13,27,32],qc=u&&"CompositionEvent"in window,fn=null;u&&"documentMode"in document&&(fn=document.documentMode);var ji=u&&"TextEvent"in window&&!fn,jr=u&&(!qc||fn&&8<fn&&11>=fn),$c=" ",nl=!1;function rl(l,h){switch(l){case"keyup":return Wc.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dw(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ja=!1;function v1(l,h){switch(l){case"compositionend":return Dw(h);case"keypress":return h.which!==32?null:(nl=!0,$c);case"textInput":return l=h.data,l===$c&&nl?null:l;default:return null}}function y1(l,h){if(Ja)return l==="compositionend"||!qc&&rl(l,h)?(l=Iw(),Co=mr=Ws=null,Ja=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return jr&&h.locale!=="ko"?null:h.data;default:return null}}var w1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lw(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h==="input"?!!w1[l.type]:h==="textarea"}function Ks(l,h,m,_){Mh(_),h=od(h,"onChange"),0<h.length&&(m=new Vc("onChange","change",null,m,_),l.push({event:m,listeners:h}))}var Bi=null,il=null;function xo(l){eg(l,0)}function ol(l){var h=dl(l);if(Z(h))return l}function Mw(l,h){if(l==="change")return h}var Wm=!1;if(u){var Ys;if(u){var qm="oninput"in document;if(!qm){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),qm=typeof $m.oninput=="function"}Ys=qm}else Ys=!1;Wm=Ys&&(!document.documentMode||9<document.documentMode)}function Fw(){Bi&&(Bi.detachEvent("onpropertychange",td),il=Bi=null)}function td(l){if(l.propertyName==="value"&&ol(il)){var h=[];Ks(h,il,l,Fs(l)),Ur(xo,h)}}function Uw(l,h,m){l==="focusin"?(Fw(),Bi=h,il=m,Bi.attachEvent("onpropertychange",td)):l==="focusout"&&Fw()}function _1(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ol(il)}function jw(l,h){if(l==="click")return ol(h)}function Gm(l,h){if(l==="input"||l==="change")return ol(h)}function Gc(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var Vi=typeof Object.is=="function"?Object.is:Gc;function sl(l,h){if(Vi(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var m=Object.keys(l),_=Object.keys(h);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var N=m[_];if(!c.call(h,N)||!Vi(l[N],h[N]))return!1}return!0}function Bw(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Km(l,h){var m=Bw(l);l=0;for(var _;m;){if(m.nodeType===3){if(_=l+m.textContent.length,l<=h&&_>=h)return{node:m,offset:h-l};l=_}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Bw(m)}}function Xs(l,h){return l&&h?l===h?!0:l&&l.nodeType===3?!1:h&&h.nodeType===3?Xs(l,h.parentNode):"contains"in l?l.contains(h):l.compareDocumentPosition?!!(l.compareDocumentPosition(h)&16):!1:!1}function Ym(){for(var l=window,h=Ce();h instanceof l.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)l=h.contentWindow;else break;h=Ce(l.document)}return h}function Xm(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h&&(h==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||h==="textarea"||l.contentEditable==="true")}function b1(l){var h=Ym(),m=l.focusedElem,_=l.selectionRange;if(h!==m&&m&&m.ownerDocument&&Xs(m.ownerDocument.documentElement,m)){if(_!==null&&Xm(m)){if(h=_.start,l=_.end,l===void 0&&(l=h),"selectionStart"in m)m.selectionStart=h,m.selectionEnd=Math.min(l,m.value.length);else if(l=(h=m.ownerDocument||document)&&h.defaultView||window,l.getSelection){l=l.getSelection();var N=m.textContent.length,L=Math.min(_.start,N);_=_.end===void 0?L:Math.min(_.end,N),!l.extend&&L>_&&(N=_,_=L,L=N),N=Km(m,L);var K=Km(m,_);N&&K&&(l.rangeCount!==1||l.anchorNode!==N.node||l.anchorOffset!==N.offset||l.focusNode!==K.node||l.focusOffset!==K.offset)&&(h=h.createRange(),h.setStart(N.node,N.offset),l.removeAllRanges(),L>_?(l.addRange(h),l.extend(K.node,K.offset)):(h.setEnd(K.node,K.offset),l.addRange(h)))}}for(h=[],l=m;l=l.parentNode;)l.nodeType===1&&h.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<h.length;m++)l=h[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var E1=u&&"documentMode"in document&&11>=document.documentMode,os=null,Qm=null,Za=null,Kc=!1;function zi(l,h,m){var _=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Kc||os==null||os!==Ce(_)||(_=os,"selectionStart"in _&&Xm(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Za&&sl(Za,_)||(Za=_,_=od(Qm,"onSelect"),0<_.length&&(h=new Vc("onSelect","select",null,h,m),l.push({event:h,listeners:_}),h.target=os)))}function Ei(l,h){var m={};return m[l.toLowerCase()]=h.toLowerCase(),m["Webkit"+l]="webkit"+h,m["Moz"+l]="moz"+h,m}var eu={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},Jm={},nd={};u&&(nd=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function Yc(l){if(Jm[l])return Jm[l];if(!eu[l])return l;var h=eu[l],m;for(m in h)if(h.hasOwnProperty(m)&&m in nd)return Jm[l]=h[m];return l}var tu=Yc("animationend"),Zm=Yc("animationiteration"),nu=Yc("animationstart"),Gn=Yc("transitionend"),hn=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(l,h){hn.set(l,h),o(h,[l])}for(var al=0;al<rd.length;al++){var Qs=rd[al],Xc=Qs.toLowerCase(),Qc=Qs[0].toUpperCase()+Qs.slice(1);ri(Xc,"on"+Qc)}ri(tu,"onAnimationEnd"),ri(Zm,"onAnimationIteration"),ri(nu,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Gn,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ll=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Js(l,h,m){var _=l.type||"unknown-event";l.currentTarget=m,mw(_,h,void 0,l),l.currentTarget=null}function eg(l,h){h=(h&4)!==0;for(var m=0;m<l.length;m++){var _=l[m],N=_.event;_=_.listeners;e:{var L=void 0;if(h)for(var K=_.length-1;0<=K;K--){var ce=_[K],we=ce.instance,Ae=ce.currentTarget;if(ce=ce.listener,we!==L&&N.isPropagationStopped())break e;Js(N,ce,Ae),L=we}else for(K=0;K<_.length;K++){if(ce=_[K],we=ce.instance,Ae=ce.currentTarget,ce=ce.listener,we!==L&&N.isPropagationStopped())break e;Js(N,ce,Ae),L=we}}}if(Vs)throw l=Fh,Vs=!1,Fh=null,l}function on(l,h){var m=h[lg];m===void 0&&(m=h[lg]=new Set);var _=l+"__bubble";m.has(_)||(fl(h,l,2,!1),m.add(_))}function ko(l,h,m){var _=0;h&&(_|=4),fl(m,l,_,h)}var cl="_reactListening"+Math.random().toString(36).slice(2);function Jc(l){if(!l[cl]){l[cl]=!0,r.forEach(function(m){m!=="selectionchange"&&(ll.has(m)||ko(m,!1,l),ko(m,!0,l))});var h=l.nodeType===9?l:l.ownerDocument;h===null||h[cl]||(h[cl]=!0,ko("selectionchange",!1,h))}}function fl(l,h,m,_){switch(Tw(h)){case 1:var N=qh;break;case 4:N=d1;break;default:N=$h}m=N.bind(null,h,m,l),N=void 0,!xm||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),_?N!==void 0?l.addEventListener(h,m,{capture:!0,passive:N}):l.addEventListener(h,m,!0):N!==void 0?l.addEventListener(h,m,{passive:N}):l.addEventListener(h,m,!1)}function id(l,h,m,_,N){var L=_;if(!(h&1)&&!(h&2)&&_!==null)e:for(;;){if(_===null)return;var K=_.tag;if(K===3||K===4){var ce=_.stateNode.containerInfo;if(ce===N||ce.nodeType===8&&ce.parentNode===N)break;if(K===4)for(K=_.return;K!==null;){var we=K.tag;if((we===3||we===4)&&(we=K.stateNode.containerInfo,we===N||we.nodeType===8&&we.parentNode===N))return;K=K.return}for(;ce!==null;){if(K=ea(ce),K===null)return;if(we=K.tag,we===5||we===6){_=L=K;continue e}ce=ce.parentNode}}_=_.return}Ur(function(){var Ae=L,je=Fs(m),ze=[];e:{var Fe=hn.get(l);if(Fe!==void 0){var Xe=Vc,Je=l;switch(l){case"keypress":if(qs(m)===0)break e;case"keydown":case"keyup":Xe=Ow;break;case"focusin":Je="focus",Xe=Jh;break;case"focusout":Je="blur",Xe=Jh;break;case"beforeblur":case"afterblur":Xe=Jh;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=Qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Qa;break;case tu:case Zm:case nu:Xe=p1;break;case Gn:Xe=g1;break;case"scroll":Xe=Um;break;case"wheel":Xe=Hc;break;case"copy":case"cut":case"paste":Xe=jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Xa}var rt=(h&4)!==0,wn=!rt&&l==="scroll",xe=rt?Fe!==null?Fe+"Capture":null:Fe;rt=[];for(var be=Ae,ke;be!==null;){ke=be;var We=ke.stateNode;if(ke.tag===5&&We!==null&&(ke=We,xe!==null&&(We=Bs(be,xe),We!=null&&rt.push(Zc(be,We,ke)))),wn)break;be=be.return}0<rt.length&&(Fe=new Xe(Fe,Je,null,m,je),ze.push({event:Fe,listeners:rt}))}}if(!(h&7)){e:{if(Fe=l==="mouseover"||l==="pointerover",Xe=l==="mouseout"||l==="pointerout",Fe&&m!==$u&&(Je=m.relatedTarget||m.fromElement)&&(ea(Je)||Je[as]))break e;if((Xe||Fe)&&(Fe=je.window===je?je:(Fe=je.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Xe?(Je=m.relatedTarget||m.toElement,Xe=Ae,Je=Je?ea(Je):null,Je!==null&&(wn=Ga(Je),Je!==wn||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(Xe=null,Je=Ae),Xe!==Je)){if(rt=Qh,We="onMouseLeave",xe="onMouseEnter",be="mouse",(l==="pointerout"||l==="pointerover")&&(rt=Xa,We="onPointerLeave",xe="onPointerEnter",be="pointer"),wn=Xe==null?Fe:dl(Xe),ke=Je==null?Fe:dl(Je),Fe=new rt(We,be+"leave",Xe,m,je),Fe.target=wn,Fe.relatedTarget=ke,We=null,ea(je)===Ae&&(rt=new rt(xe,be+"enter",Je,m,je),rt.target=ke,rt.relatedTarget=wn,We=rt),wn=We,Xe&&Je)t:{for(rt=Xe,xe=Je,be=0,ke=rt;ke;ke=ru(ke))be++;for(ke=0,We=xe;We;We=ru(We))ke++;for(;0<be-ke;)rt=ru(rt),be--;for(;0<ke-be;)xe=ru(xe),ke--;for(;be--;){if(rt===xe||xe!==null&&rt===xe.alternate)break t;rt=ru(rt),xe=ru(xe)}rt=null}else rt=null;Xe!==null&&sd(ze,Fe,Xe,rt,!1),Je!==null&&wn!==null&&sd(ze,wn,Je,rt,!0)}}e:{if(Fe=Ae?dl(Ae):window,Xe=Fe.nodeName&&Fe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Fe.type==="file")var it=Mw;else if(Lw(Fe))if(Wm)it=Gm;else{it=_1;var ft=Uw}else(Xe=Fe.nodeName)&&Xe.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(it=jw);if(it&&(it=it(l,Ae))){Ks(ze,it,m,je);break e}ft&&ft(l,Fe,Ae),l==="focusout"&&(ft=Fe._wrapperState)&&ft.controlled&&Fe.type==="number"&&U(Fe,"number",Fe.value)}switch(ft=Ae?dl(Ae):window,l){case"focusin":(Lw(ft)||ft.contentEditable==="true")&&(os=ft,Qm=Ae,Za=null);break;case"focusout":Za=Qm=os=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,zi(ze,m,je);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":zi(ze,m,je)}var ht;if(qc)e:{switch(l){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Ja?rl(l,m)&&(mt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(mt="onCompositionStart");mt&&(jr&&m.locale!=="ko"&&(Ja||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ja&&(ht=Iw()):(Ws=je,mr="value"in Ws?Ws.value:Ws.textContent,Ja=!0)),ft=od(Ae,mt),0<ft.length&&(mt=new vr(mt,l,null,m,je),ze.push({event:mt,listeners:ft}),ht?mt.data=ht:(ht=Dw(m),ht!==null&&(mt.data=ht)))),(ht=ji?v1(l,m):y1(l,m))&&(Ae=od(Ae,"onBeforeInput"),0<Ae.length&&(je=new vr("onBeforeInput","beforeinput",null,m,je),ze.push({event:je,listeners:Ae}),je.data=ht))}eg(ze,h)})}function Zc(l,h,m){return{instance:l,listener:h,currentTarget:m}}function od(l,h){for(var m=h+"Capture",_=[];l!==null;){var N=l,L=N.stateNode;N.tag===5&&L!==null&&(N=L,L=Bs(l,m),L!=null&&_.unshift(Zc(l,L,N)),L=Bs(l,h),L!=null&&_.push(Zc(l,L,N))),l=l.return}return _}function ru(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function sd(l,h,m,_,N){for(var L=h._reactName,K=[];m!==null&&m!==_;){var ce=m,we=ce.alternate,Ae=ce.stateNode;if(we!==null&&we===_)break;ce.tag===5&&Ae!==null&&(ce=Ae,N?(we=Bs(m,L),we!=null&&K.unshift(Zc(m,we,ce))):N||(we=Bs(m,L),we!=null&&K.push(Zc(m,we,ce)))),m=m.return}K.length!==0&&l.push({event:h,listeners:K})}var tg=/\r\n?/g,ng=/\u0000|\uFFFD/g;function tt(l){return(typeof l=="string"?l:""+l).replace(tg,`
`).replace(ng,"")}function Kn(l,h,m){if(h=tt(h),tt(l)!==h&&m)throw Error(n(425))}function Si(){}var rg=null,ig=null;function ef(l,h){return l==="textarea"||l==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,og=typeof clearTimeout=="function"?clearTimeout:void 0,sg=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof sg<"u"?function(l){return sg.resolve(null).then(l).catch(ug)}:tf;function ug(l){setTimeout(function(){throw l})}function nf(l,h){var m=h,_=0;do{var N=m.nextSibling;if(l.removeChild(m),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(_===0){l.removeChild(N),Bc(h);return}_--}else m!=="$"&&m!=="$?"&&m!=="$!"||_++;m=N}while(m);Bc(h)}function Hi(l){for(;l!=null;l=l.nextSibling){var h=l.nodeType;if(h===1||h===3)break;if(h===8){if(h=l.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return l}function Vw(l){l=l.previousSibling;for(var h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(h===0)return l;h--}else m==="/$"&&h++}l=l.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Zs,ss="__reactProps$"+Zs,as="__reactContainer$"+Zs,lg="__reactEvents$"+Zs,S1="__reactListeners$"+Zs,T1="__reactHandles$"+Zs;function ea(l){var h=l[Ti];if(h)return h;for(var m=l.parentNode;m;){if(h=m[as]||m[Ti]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(l=Vw(l);l!==null;){if(m=l[Ti])return m;l=Vw(l)}return h}l=m,m=l.parentNode}return null}function hl(l){return l=l[Ti]||l[as],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function dl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function rf(l){return l[ss]||null}var cg=[],pl=-1;function Ao(l){return{current:l}}function sn(l){0>pl||(l.current=cg[pl],cg[pl]=null,pl--)}function Qt(l,h){pl++,cg[pl]=l.current,l.current=h}var ta={},yr=Ao(ta),Br=Ao(!1),iu=ta;function ml(l,h){var m=l.type.contextTypes;if(!m)return ta;var _=l.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===h)return _.__reactInternalMemoizedMaskedChildContext;var N={},L;for(L in m)N[L]=h[L];return _&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=N),N}function Vr(l){return l=l.childContextTypes,l!=null}function ou(){sn(Br),sn(yr)}function fg(l,h,m){if(yr.current!==ta)throw Error(n(168));Qt(yr,h),Qt(Br,m)}function hg(l,h,m){var _=l.stateNode;if(h=h.childContextTypes,typeof _.getChildContext!="function")return m;_=_.getChildContext();for(var N in _)if(!(N in h))throw Error(n(108,B(l)||"Unknown",N));return Se({},m,_)}function gl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ta,iu=yr.current,Qt(yr,l),Qt(Br,Br.current),!0}function dg(l,h,m){var _=l.stateNode;if(!_)throw Error(n(169));m?(l=hg(l,h,iu),_.__reactInternalMemoizedMergedChildContext=l,sn(Br),sn(yr),Qt(yr,l)):sn(Br),Qt(Br,m)}var us=null,of=!1,ad=!1;function pg(l){us===null?us=[l]:us.push(l)}function zw(l){of=!0,pg(l)}function so(){if(!ad&&us!==null){ad=!0;var l=0,h=zt;try{var m=us;for(zt=1;l<m.length;l++){var _=m[l];do _=_(!0);while(_!==null)}us=null,of=!1}catch(N){throw us!==null&&(us=us.slice(l+1)),vw(jh,so),N}finally{zt=h,ad=!1}}return null}var vl=[],Ro=0,ud=null,ld=0,Wi=[],zr=0,No=null,Oo=1,Po="";function Do(l,h){vl[Ro++]=ld,vl[Ro++]=ud,ud=l,ld=h}function cd(l,h,m){Wi[zr++]=Oo,Wi[zr++]=Po,Wi[zr++]=No,No=l;var _=Oo;l=Po;var N=32-Ui(_)-1;_&=~(1<<N),m+=1;var L=32-Ui(h)+N;if(30<L){var K=N-N%5;L=(_&(1<<K)-1).toString(32),_>>=K,N-=K,Oo=1<<32-Ui(h)+N|m<<N|_,Po=L+l}else Oo=1<<L|m<<N|_,Po=l}function sf(l){l.return!==null&&(Do(l,1),cd(l,1,0))}function fd(l){for(;l===ud;)ud=vl[--Ro],vl[Ro]=null,ld=vl[--Ro],vl[Ro]=null;for(;l===No;)No=Wi[--zr],Wi[zr]=null,Po=Wi[--zr],Wi[zr]=null,Oo=Wi[--zr],Wi[zr]=null}var Hr=null,ii=null,an=!1,Pn=null;function mg(l,h){var m=ur(5,null,null,0);m.elementType="DELETED",m.stateNode=h,m.return=l,h=l.deletions,h===null?(l.deletions=[m],l.flags|=16):h.push(m)}function gg(l,h){switch(l.tag){case 5:var m=l.type;return h=h.nodeType!==1||m.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(l.stateNode=h,Hr=l,ii=Hi(h.firstChild),!0):!1;case 6:return h=l.pendingProps===""||h.nodeType!==3?null:h,h!==null?(l.stateNode=h,Hr=l,ii=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(m=No!==null?{id:Oo,overflow:Po}:null,l.memoizedState={dehydrated:h,treeContext:m,retryLane:1073741824},m=ur(18,null,null,0),m.stateNode=h,m.return=l,l.child=m,Hr=l,ii=null,!0):!1;default:return!1}}function hd(l){return(l.mode&1)!==0&&(l.flags&128)===0}function dd(l){if(an){var h=ii;if(h){var m=h;if(!gg(l,h)){if(hd(l))throw Error(n(418));h=Hi(m.nextSibling);var _=Hr;h&&gg(l,h)?mg(_,m):(l.flags=l.flags&-4097|2,an=!1,Hr=l)}}else{if(hd(l))throw Error(n(418));l.flags=l.flags&-4097|2,an=!1,Hr=l}}}function vg(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Hr=l}function su(l){if(l!==Hr)return!1;if(!an)return vg(l),an=!0,!1;var h;if((h=l.tag!==3)&&!(h=l.tag!==5)&&(h=l.type,h=h!=="head"&&h!=="body"&&!ef(l.type,l.memoizedProps)),h&&(h=ii)){if(hd(l))throw yl(),Error(n(418));for(;h;)mg(l,h),h=Hi(h.nextSibling)}if(vg(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(h===0){ii=Hi(l.nextSibling);break e}h--}else m!=="$"&&m!=="$!"&&m!=="$?"||h++}l=l.nextSibling}ii=null}}else ii=Hr?Hi(l.stateNode.nextSibling):null;return!0}function yl(){for(var l=ii;l;)l=Hi(l.nextSibling)}function ls(){ii=Hr=null,an=!1}function na(l){Pn===null?Pn=[l]:Pn.push(l)}var wl=A.ReactCurrentBatchConfig;function ao(l,h,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var _=m.stateNode}if(!_)throw Error(n(147,l));var N=_,L=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function(K){var ce=N.refs;K===null?delete ce[L]:ce[L]=K},h._stringRef=L,h)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function _l(l,h){throw l=Object.prototype.toString.call(h),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l))}function Hw(l){var h=l._init;return h(l._payload)}function Lo(l){function h(xe,be){if(l){var ke=xe.deletions;ke===null?(xe.deletions=[be],xe.flags|=16):ke.push(be)}}function m(xe,be){if(!l)return null;for(;be!==null;)h(xe,be),be=be.sibling;return null}function _(xe,be){for(xe=new Map;be!==null;)be.key!==null?xe.set(be.key,be):xe.set(be.index,be),be=be.sibling;return xe}function N(xe,be){return xe=ya(xe,be),xe.index=0,xe.sibling=null,xe}function L(xe,be,ke){return xe.index=ke,l?(ke=xe.alternate,ke!==null?(ke=ke.index,ke<be?(xe.flags|=2,be):ke):(xe.flags|=2,be)):(xe.flags|=1048576,be)}function K(xe){return l&&xe.alternate===null&&(xe.flags|=2),xe}function ce(xe,be,ke,We){return be===null||be.tag!==6?(be=nv(ke,xe.mode,We),be.return=xe,be):(be=N(be,ke),be.return=xe,be)}function we(xe,be,ke,We){var it=ke.type;return it===D?je(xe,be,ke.props.children,We,ke.key):be!==null&&(be.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ee&&Hw(it)===be.type)?(We=N(be,ke.props),We.ref=ao(xe,be,ke),We.return=xe,We):(We=Hl(ke.type,ke.key,ke.props,null,xe.mode,We),We.ref=ao(xe,be,ke),We.return=xe,We)}function Ae(xe,be,ke,We){return be===null||be.tag!==4||be.stateNode.containerInfo!==ke.containerInfo||be.stateNode.implementation!==ke.implementation?(be=Wl(ke,xe.mode,We),be.return=xe,be):(be=N(be,ke.children||[]),be.return=xe,be)}function je(xe,be,ke,We,it){return be===null||be.tag!==7?(be=gu(ke,xe.mode,We,it),be.return=xe,be):(be=N(be,ke),be.return=xe,be)}function ze(xe,be,ke){if(typeof be=="string"&&be!==""||typeof be=="number")return be=nv(""+be,xe.mode,ke),be.return=xe,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case O:return ke=Hl(be.type,be.key,be.props,null,xe.mode,ke),ke.ref=ao(xe,null,be),ke.return=xe,ke;case H:return be=Wl(be,xe.mode,ke),be.return=xe,be;case Ee:var We=be._init;return ze(xe,We(be._payload),ke)}if(ne(be)||me(be))return be=gu(be,xe.mode,ke,null),be.return=xe,be;_l(xe,be)}return null}function Fe(xe,be,ke,We){var it=be!==null?be.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return it!==null?null:ce(xe,be,""+ke,We);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case O:return ke.key===it?we(xe,be,ke,We):null;case H:return ke.key===it?Ae(xe,be,ke,We):null;case Ee:return it=ke._init,Fe(xe,be,it(ke._payload),We)}if(ne(ke)||me(ke))return it!==null?null:je(xe,be,ke,We,null);_l(xe,ke)}return null}function Xe(xe,be,ke,We,it){if(typeof We=="string"&&We!==""||typeof We=="number")return xe=xe.get(ke)||null,ce(be,xe,""+We,it);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case O:return xe=xe.get(We.key===null?ke:We.key)||null,we(be,xe,We,it);case H:return xe=xe.get(We.key===null?ke:We.key)||null,Ae(be,xe,We,it);case Ee:var ft=We._init;return Xe(xe,be,ke,ft(We._payload),it)}if(ne(We)||me(We))return xe=xe.get(ke)||null,je(be,xe,We,it,null);_l(be,We)}return null}function Je(xe,be,ke,We){for(var it=null,ft=null,ht=be,mt=be=0,mn=null;ht!==null&&mt<ke.length;mt++){ht.index>mt?(mn=ht,ht=null):mn=ht.sibling;var jt=Fe(xe,ht,ke[mt],We);if(jt===null){ht===null&&(ht=mn);break}l&&ht&&jt.alternate===null&&h(xe,ht),be=L(jt,be,mt),ft===null?it=jt:ft.sibling=jt,ft=jt,ht=mn}if(mt===ke.length)return m(xe,ht),an&&Do(xe,mt),it;if(ht===null){for(;mt<ke.length;mt++)ht=ze(xe,ke[mt],We),ht!==null&&(be=L(ht,be,mt),ft===null?it=ht:ft.sibling=ht,ft=ht);return an&&Do(xe,mt),it}for(ht=_(xe,ht);mt<ke.length;mt++)mn=Xe(ht,xe,mt,ke[mt],We),mn!==null&&(l&&mn.alternate!==null&&ht.delete(mn.key===null?mt:mn.key),be=L(mn,be,mt),ft===null?it=mn:ft.sibling=mn,ft=mn);return l&&ht.forEach(function(ws){return h(xe,ws)}),an&&Do(xe,mt),it}function rt(xe,be,ke,We){var it=me(ke);if(typeof it!="function")throw Error(n(150));if(ke=it.call(ke),ke==null)throw Error(n(151));for(var ft=it=null,ht=be,mt=be=0,mn=null,jt=ke.next();ht!==null&&!jt.done;mt++,jt=ke.next()){ht.index>mt?(mn=ht,ht=null):mn=ht.sibling;var ws=Fe(xe,ht,jt.value,We);if(ws===null){ht===null&&(ht=mn);break}l&&ht&&ws.alternate===null&&h(xe,ht),be=L(ws,be,mt),ft===null?it=ws:ft.sibling=ws,ft=ws,ht=mn}if(jt.done)return m(xe,ht),an&&Do(xe,mt),it;if(ht===null){for(;!jt.done;mt++,jt=ke.next())jt=ze(xe,jt.value,We),jt!==null&&(be=L(jt,be,mt),ft===null?it=jt:ft.sibling=jt,ft=jt);return an&&Do(xe,mt),it}for(ht=_(xe,ht);!jt.done;mt++,jt=ke.next())jt=Xe(ht,xe,mt,jt.value,We),jt!==null&&(l&&jt.alternate!==null&&ht.delete(jt.key===null?mt:jt.key),be=L(jt,be,mt),ft===null?it=jt:ft.sibling=jt,ft=jt);return l&&ht.forEach(function(H1){return h(xe,H1)}),an&&Do(xe,mt),it}function wn(xe,be,ke,We){if(typeof ke=="object"&&ke!==null&&ke.type===D&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case O:e:{for(var it=ke.key,ft=be;ft!==null;){if(ft.key===it){if(it=ke.type,it===D){if(ft.tag===7){m(xe,ft.sibling),be=N(ft,ke.props.children),be.return=xe,xe=be;break e}}else if(ft.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ee&&Hw(it)===ft.type){m(xe,ft.sibling),be=N(ft,ke.props),be.ref=ao(xe,ft,ke),be.return=xe,xe=be;break e}m(xe,ft);break}else h(xe,ft);ft=ft.sibling}ke.type===D?(be=gu(ke.props.children,xe.mode,We,ke.key),be.return=xe,xe=be):(We=Hl(ke.type,ke.key,ke.props,null,xe.mode,We),We.ref=ao(xe,be,ke),We.return=xe,xe=We)}return K(xe);case H:e:{for(ft=ke.key;be!==null;){if(be.key===ft)if(be.tag===4&&be.stateNode.containerInfo===ke.containerInfo&&be.stateNode.implementation===ke.implementation){m(xe,be.sibling),be=N(be,ke.children||[]),be.return=xe,xe=be;break e}else{m(xe,be);break}else h(xe,be);be=be.sibling}be=Wl(ke,xe.mode,We),be.return=xe,xe=be}return K(xe);case Ee:return ft=ke._init,wn(xe,be,ft(ke._payload),We)}if(ne(ke))return Je(xe,be,ke,We);if(me(ke))return rt(xe,be,ke,We);_l(xe,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,be!==null&&be.tag===6?(m(xe,be.sibling),be=N(be,ke),be.return=xe,xe=be):(m(xe,be),be=nv(ke,xe.mode,We),be.return=xe,xe=be),K(xe)):m(xe,be)}return wn}var ra=Lo(!0),Ww=Lo(!1),Mo=Ao(null),af=null,Yn=null,cs=null;function pd(){cs=Yn=af=null}function fs(l){var h=Mo.current;sn(Mo),l._currentValue=h}function md(l,h,m){for(;l!==null;){var _=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,_!==null&&(_.childLanes|=h)):_!==null&&(_.childLanes&h)!==h&&(_.childLanes|=h),l===m)break;l=l.return}}function qi(l,h){af=l,cs=Yn=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&h&&(si=!0),l.firstContext=null)}function Ii(l){var h=l._currentValue;if(cs!==l)if(l={context:l,memoizedValue:h,next:null},Yn===null){if(af===null)throw Error(n(308));Yn=l,af.dependencies={lanes:0,firstContext:l}}else Yn=Yn.next=l;return h}var $i=null;function gd(l){$i===null?$i=[l]:$i.push(l)}function hs(l,h,m,_){var N=h.interleaved;return N===null?(m.next=m,gd(h)):(m.next=N.next,N.next=m),h.interleaved=m,ds(l,_)}function ds(l,h){l.lanes|=h;var m=l.alternate;for(m!==null&&(m.lanes|=h),m=l,l=l.return;l!==null;)l.childLanes|=h,m=l.alternate,m!==null&&(m.childLanes|=h),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Bn=!1;function vd(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function wr(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function ia(l,h,m){var _=l.updateQueue;if(_===null)return null;if(_=_.shared,Ut&2){var N=_.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),_.pending=h,ds(l,m)}return N=_.interleaved,N===null?(h.next=h,gd(_)):(h.next=N.next,N.next=h),_.interleaved=h,ds(l,m)}function oa(l,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194240)!==0)){var _=h.lanes;_&=l.pendingLanes,m|=_,h.lanes=m,Fc(l,m)}}function Fo(l,h){var m=l.updateQueue,_=l.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var N=null,L=null;if(m=m.firstBaseUpdate,m!==null){do{var K={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};L===null?N=L=K:L=L.next=K,m=m.next}while(m!==null);L===null?N=L=h:L=L.next=h}else N=L=h;m={baseState:_.baseState,firstBaseUpdate:N,lastBaseUpdate:L,shared:_.shared,effects:_.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=h}function uf(l,h,m,_){var N=l.updateQueue;Bn=!1;var L=N.firstBaseUpdate,K=N.lastBaseUpdate,ce=N.shared.pending;if(ce!==null){N.shared.pending=null;var we=ce,Ae=we.next;we.next=null,K===null?L=Ae:K.next=Ae,K=we;var je=l.alternate;je!==null&&(je=je.updateQueue,ce=je.lastBaseUpdate,ce!==K&&(ce===null?je.firstBaseUpdate=Ae:ce.next=Ae,je.lastBaseUpdate=we))}if(L!==null){var ze=N.baseState;K=0,je=Ae=we=null,ce=L;do{var Fe=ce.lane,Xe=ce.eventTime;if((_&Fe)===Fe){je!==null&&(je=je.next={eventTime:Xe,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var Je=l,rt=ce;switch(Fe=h,Xe=m,rt.tag){case 1:if(Je=rt.payload,typeof Je=="function"){ze=Je.call(Xe,ze,Fe);break e}ze=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=rt.payload,Fe=typeof Je=="function"?Je.call(Xe,ze,Fe):Je,Fe==null)break e;ze=Se({},ze,Fe);break e;case 2:Bn=!0}}ce.callback!==null&&ce.lane!==0&&(l.flags|=64,Fe=N.effects,Fe===null?N.effects=[ce]:Fe.push(ce))}else Xe={eventTime:Xe,lane:Fe,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},je===null?(Ae=je=Xe,we=ze):je=je.next=Xe,K|=Fe;if(ce=ce.next,ce===null){if(ce=N.shared.pending,ce===null)break;Fe=ce,ce=Fe.next,Fe.next=null,N.lastBaseUpdate=Fe,N.shared.pending=null}}while(!0);if(je===null&&(we=ze),N.baseState=we,N.firstBaseUpdate=Ae,N.lastBaseUpdate=je,h=N.shared.interleaved,h!==null){N=h;do K|=N.lane,N=N.next;while(N!==h)}else L===null&&(N.shared.lanes=0);pa|=K,l.lanes=K,l.memoizedState=ze}}function wd(l,h,m){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var _=l[h],N=_.callback;if(N!==null){if(_.callback=null,_=m,typeof N!="function")throw Error(n(191,N));N.call(_)}}}var au={},Dn=Ao(au),bl=Ao(au),lf=Ao(au);function ps(l){if(l===au)throw Error(n(174));return l}function yg(l,h){switch(Qt(lf,h),Qt(bl,l),Qt(Dn,au),l=h.nodeType,l){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:et(null,"");break;default:l=l===8?h.parentNode:h,h=l.namespaceURI||null,l=l.tagName,h=et(h,l)}sn(Dn),Qt(Dn,h)}function sa(){sn(Dn),sn(bl),sn(lf)}function El(l){ps(lf.current);var h=ps(Dn.current),m=et(h,l.type);h!==m&&(Qt(bl,l),Qt(Dn,m))}function Sl(l){bl.current===l&&(sn(Dn),sn(bl))}var Jt=Ao(0);function cf(l){for(var h=l;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ff=[];function Tl(){for(var l=0;l<ff.length;l++)ff[l]._workInProgressVersionPrimary=null;ff.length=0}var hf=A.ReactCurrentDispatcher,Il=A.ReactCurrentBatchConfig,aa=0,dn=null,xn=null,Ln=null,ua=!1,Cl=!1,uu=0,I1=0;function _r(){throw Error(n(321))}function _d(l,h){if(h===null)return!1;for(var m=0;m<h.length&&m<l.length;m++)if(!Vi(l[m],h[m]))return!1;return!0}function df(l,h,m,_,N,L){if(aa=L,dn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,hf.current=l===null||l.memoizedState===null?Tg:x1,l=m(_,N),Cl){L=0;do{if(Cl=!1,uu=0,25<=L)throw Error(n(301));L+=1,Ln=xn=null,h.updateQueue=null,hf.current=k1,l=m(_,N)}while(Cl)}if(hf.current=lu,h=xn!==null&&xn.next!==null,aa=0,Ln=xn=dn=null,ua=!1,h)throw Error(n(300));return l}function xl(){var l=uu!==0;return uu=0,l}function Gi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?dn.memoizedState=Ln=l:Ln=Ln.next=l,Ln}function vn(){if(xn===null){var l=dn.alternate;l=l!==null?l.memoizedState:null}else l=xn.next;var h=Ln===null?dn.memoizedState:Ln.next;if(h!==null)Ln=h,xn=l;else{if(l===null)throw Error(n(310));xn=l,l={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Ln===null?dn.memoizedState=Ln=l:Ln=Ln.next=l}return Ln}function la(l,h){return typeof h=="function"?h(l):h}function kl(l){var h=vn(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var _=xn,N=_.baseQueue,L=m.pending;if(L!==null){if(N!==null){var K=N.next;N.next=L.next,L.next=K}_.baseQueue=N=L,m.pending=null}if(N!==null){L=N.next,_=_.baseState;var ce=K=null,we=null,Ae=L;do{var je=Ae.lane;if((aa&je)===je)we!==null&&(we=we.next={lane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),_=Ae.hasEagerState?Ae.eagerState:l(_,Ae.action);else{var ze={lane:je,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null};we===null?(ce=we=ze,K=_):we=we.next=ze,dn.lanes|=je,pa|=je}Ae=Ae.next}while(Ae!==null&&Ae!==L);we===null?K=_:we.next=ce,Vi(_,h.memoizedState)||(si=!0),h.memoizedState=_,h.baseState=K,h.baseQueue=we,m.lastRenderedState=_}if(l=m.interleaved,l!==null){N=l;do L=N.lane,dn.lanes|=L,pa|=L,N=N.next;while(N!==l)}else N===null&&(m.lanes=0);return[h.memoizedState,m.dispatch]}function pf(l){var h=vn(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var _=m.dispatch,N=m.pending,L=h.memoizedState;if(N!==null){m.pending=null;var K=N=N.next;do L=l(L,K.action),K=K.next;while(K!==N);Vi(L,h.memoizedState)||(si=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),m.lastRenderedState=L}return[L,_]}function wg(){}function Al(l,h){var m=dn,_=vn(),N=h(),L=!Vi(_.memoizedState,N);if(L&&(_.memoizedState=N,si=!0),_=_.queue,Ol(_g.bind(null,m,_,l),[l]),_.getSnapshot!==h||L||Ln!==null&&Ln.memoizedState.tag&1){if(m.flags|=2048,mf(9,Nl.bind(null,m,_,N,h),void 0,null),Xn===null)throw Error(n(349));aa&30||Rl(m,h,N)}return N}function Rl(l,h,m){l.flags|=16384,l={getSnapshot:h,value:m},h=dn.updateQueue,h===null?(h={lastEffect:null,stores:null},dn.updateQueue=h,h.stores=[l]):(m=h.stores,m===null?h.stores=[l]:m.push(l))}function Nl(l,h,m,_){h.value=m,h.getSnapshot=_,qw(h)&&$w(l)}function _g(l,h,m){return m(function(){qw(h)&&$w(l)})}function qw(l){var h=l.getSnapshot;l=l.value;try{var m=h();return!Vi(l,m)}catch{return!0}}function $w(l){var h=ds(l,1);h!==null&&li(h,l,1,-1)}function Gw(l){var h=Gi();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:l},h.queue=l,l=l.dispatch=Qw.bind(null,dn,l),[h.memoizedState,l]}function mf(l,h,m,_){return l={tag:l,create:h,destroy:m,deps:_,next:null},h=dn.updateQueue,h===null?(h={lastEffect:null,stores:null},dn.updateQueue=h,h.lastEffect=l.next=l):(m=h.lastEffect,m===null?h.lastEffect=l.next=l:(_=m.next,m.next=l,l.next=_,h.lastEffect=l)),l}function Kw(){return vn().memoizedState}function gf(l,h,m,_){var N=Gi();dn.flags|=l,N.memoizedState=mf(1|h,m,void 0,_===void 0?null:_)}function vf(l,h,m,_){var N=vn();_=_===void 0?null:_;var L=void 0;if(xn!==null){var K=xn.memoizedState;if(L=K.destroy,_!==null&&_d(_,K.deps)){N.memoizedState=mf(h,m,L,_);return}}dn.flags|=l,N.memoizedState=mf(1|h,m,L,_)}function bg(l,h){return gf(8390656,8,l,h)}function Ol(l,h){return vf(2048,8,l,h)}function Eg(l,h){return vf(4,2,l,h)}function Pl(l,h){return vf(4,4,l,h)}function yf(l,h){if(typeof h=="function")return l=l(),h(l),function(){h(null)};if(h!=null)return l=l(),h.current=l,function(){h.current=null}}function Yw(l,h,m){return m=m!=null?m.concat([l]):null,vf(4,4,yf.bind(null,h,l),m)}function uo(){}function ca(l,h){var m=vn();h=h===void 0?null:h;var _=m.memoizedState;return _!==null&&h!==null&&_d(h,_[1])?_[0]:(m.memoizedState=[l,h],l)}function Dl(l,h){var m=vn();h=h===void 0?null:h;var _=m.memoizedState;return _!==null&&h!==null&&_d(h,_[1])?_[0]:(l=l(),m.memoizedState=[l,h],l)}function wf(l,h,m){return aa&21?(Vi(m,h)||(m=_w(),dn.lanes|=m,pa|=m,l.baseState=!0),h):(l.baseState&&(l.baseState=!1,si=!0),l.memoizedState=m)}function C1(l,h){var m=zt;zt=m!==0&&4>m?m:4,l(!0);var _=Il.transition;Il.transition={};try{l(!1),h()}finally{zt=m,Il.transition=_}}function bd(){return vn().memoizedState}function Xw(l,h,m){var _=Bo(l);if(m={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null},_f(l))Ll(h,m);else if(m=hs(l,h,m,_),m!==null){var N=Cr();li(m,l,_,N),Sg(m,h,_)}}function Qw(l,h,m){var _=Bo(l),N={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null};if(_f(l))Ll(h,N);else{var L=l.alternate;if(l.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var K=h.lastRenderedState,ce=L(K,m);if(N.hasEagerState=!0,N.eagerState=ce,Vi(ce,K)){var we=h.interleaved;we===null?(N.next=N,gd(h)):(N.next=we.next,we.next=N),h.interleaved=N;return}}catch{}finally{}m=hs(l,h,N,_),m!==null&&(N=Cr(),li(m,l,_,N),Sg(m,h,_))}}function _f(l){var h=l.alternate;return l===dn||h!==null&&h===dn}function Ll(l,h){Cl=ua=!0;var m=l.pending;m===null?h.next=h:(h.next=m.next,m.next=h),l.pending=h}function Sg(l,h,m){if(m&4194240){var _=h.lanes;_&=l.pendingLanes,m|=_,h.lanes=m,Fc(l,m)}}var lu={readContext:Ii,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},Tg={readContext:Ii,useCallback:function(l,h){return Gi().memoizedState=[l,h===void 0?null:h],l},useContext:Ii,useEffect:bg,useImperativeHandle:function(l,h,m){return m=m!=null?m.concat([l]):null,gf(4194308,4,yf.bind(null,h,l),m)},useLayoutEffect:function(l,h){return gf(4194308,4,l,h)},useInsertionEffect:function(l,h){return gf(4,2,l,h)},useMemo:function(l,h){var m=Gi();return h=h===void 0?null:h,l=l(),m.memoizedState=[l,h],l},useReducer:function(l,h,m){var _=Gi();return h=m!==void 0?m(h):h,_.memoizedState=_.baseState=h,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:h},_.queue=l,l=l.dispatch=Xw.bind(null,dn,l),[_.memoizedState,l]},useRef:function(l){var h=Gi();return l={current:l},h.memoizedState=l},useState:Gw,useDebugValue:uo,useDeferredValue:function(l){return Gi().memoizedState=l},useTransition:function(){var l=Gw(!1),h=l[0];return l=C1.bind(null,l[1]),Gi().memoizedState=l,[h,l]},useMutableSource:function(){},useSyncExternalStore:function(l,h,m){var _=dn,N=Gi();if(an){if(m===void 0)throw Error(n(407));m=m()}else{if(m=h(),Xn===null)throw Error(n(349));aa&30||Rl(_,h,m)}N.memoizedState=m;var L={value:m,getSnapshot:h};return N.queue=L,bg(_g.bind(null,_,L,l),[l]),_.flags|=2048,mf(9,Nl.bind(null,_,L,m,h),void 0,null),m},useId:function(){var l=Gi(),h=Xn.identifierPrefix;if(an){var m=Po,_=Oo;m=(_&~(1<<32-Ui(_)-1)).toString(32)+m,h=":"+h+"R"+m,m=uu++,0<m&&(h+="H"+m.toString(32)),h+=":"}else m=I1++,h=":"+h+"r"+m.toString(32)+":";return l.memoizedState=h},unstable_isNewReconciler:!1},x1={readContext:Ii,useCallback:ca,useContext:Ii,useEffect:Ol,useImperativeHandle:Yw,useInsertionEffect:Eg,useLayoutEffect:Pl,useMemo:Dl,useReducer:kl,useRef:Kw,useState:function(){return kl(la)},useDebugValue:uo,useDeferredValue:function(l){var h=vn();return wf(h,xn.memoizedState,l)},useTransition:function(){var l=kl(la)[0],h=vn().memoizedState;return[l,h]},useMutableSource:wg,useSyncExternalStore:Al,useId:bd,unstable_isNewReconciler:!1},k1={readContext:Ii,useCallback:ca,useContext:Ii,useEffect:Ol,useImperativeHandle:Yw,useInsertionEffect:Eg,useLayoutEffect:Pl,useMemo:Dl,useReducer:pf,useRef:Kw,useState:function(){return pf(la)},useDebugValue:uo,useDeferredValue:function(l){var h=vn();return xn===null?h.memoizedState=l:wf(h,xn.memoizedState,l)},useTransition:function(){var l=pf(la)[0],h=vn().memoizedState;return[l,h]},useMutableSource:wg,useSyncExternalStore:Al,useId:bd,unstable_isNewReconciler:!1};function oi(l,h){if(l&&l.defaultProps){h=Se({},h),l=l.defaultProps;for(var m in l)h[m]===void 0&&(h[m]=l[m]);return h}return h}function Ig(l,h,m,_){h=l.memoizedState,m=m(_,h),m=m==null?h:Se({},h,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Ed={isMounted:function(l){return(l=l._reactInternals)?Ga(l)===l:!1},enqueueSetState:function(l,h,m){l=l._reactInternals;var _=Cr(),N=Bo(l),L=wr(_,N);L.payload=h,m!=null&&(L.callback=m),h=ia(l,L,N),h!==null&&(li(h,l,N,_),oa(h,l,N))},enqueueReplaceState:function(l,h,m){l=l._reactInternals;var _=Cr(),N=Bo(l),L=wr(_,N);L.tag=1,L.payload=h,m!=null&&(L.callback=m),h=ia(l,L,N),h!==null&&(li(h,l,N,_),oa(h,l,N))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var m=Cr(),_=Bo(l),N=wr(m,_);N.tag=2,h!=null&&(N.callback=h),h=ia(l,N,_),h!==null&&(li(h,l,_,m),oa(h,l,_))}};function Sd(l,h,m,_,N,L,K){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,L,K):h.prototype&&h.prototype.isPureReactComponent?!sl(m,_)||!sl(N,L):!0}function bf(l,h,m){var _=!1,N=ta,L=h.contextType;return typeof L=="object"&&L!==null?L=Ii(L):(N=Vr(h)?iu:yr.current,_=h.contextTypes,L=(_=_!=null)?ml(l,N):ta),h=new h(m,L),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ed,l.stateNode=h,h._reactInternals=l,_&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=N,l.__reactInternalMemoizedMaskedChildContext=L),h}function Ki(l,h,m,_){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,_),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,_),h.state!==l&&Ed.enqueueReplaceState(h,h.state,null)}function Ef(l,h,m,_){var N=l.stateNode;N.props=m,N.state=l.memoizedState,N.refs={},vd(l);var L=h.contextType;typeof L=="object"&&L!==null?N.context=Ii(L):(L=Vr(h)?iu:yr.current,N.context=ml(l,L)),N.state=l.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(Ig(l,h,L,m),N.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(h=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),h!==N.state&&Ed.enqueueReplaceState(N,N.state,null),uf(l,m,N,_),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308)}function br(l,h){try{var m="",_=h;do m+=_e(_),_=_.return;while(_);var N=m}catch(L){N=`
Error generating stack: `+L.message+`
`+L.stack}return{value:l,source:h,stack:N,digest:null}}function Cg(l,h,m){return{value:l,source:null,stack:m??null,digest:h??null}}function xg(l,h){try{console.error(h.value)}catch(m){setTimeout(function(){throw m})}}var A1=typeof WeakMap=="function"?WeakMap:Map;function Jw(l,h,m){m=wr(-1,m),m.tag=3,m.payload={element:null};var _=h.value;return m.callback=function(){xf||(xf=!0,Xg=_),xg(l,h)},m}function kg(l,h,m){m=wr(-1,m),m.tag=3;var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var N=h.value;m.payload=function(){return _(N)},m.callback=function(){xg(l,h)}}var L=l.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(m.callback=function(){xg(l,h),typeof _!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})}),m}function Sf(l,h,m){var _=l.pingCache;if(_===null){_=l.pingCache=new A1;var N=new Set;_.set(h,N)}else N=_.get(h),N===void 0&&(N=new Set,_.set(h,N));N.has(m)||(N.add(m),l=U1.bind(null,l,h,m),h.then(l,l))}function Td(l){do{var h;if((h=l.tag===13)&&(h=l.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return l;l=l.return}while(l!==null);return null}function Ag(l,h,m,_,N){return l.mode&1?(l.flags|=65536,l.lanes=N,l):(l===h?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(h=wr(-1,1),h.tag=2,ia(m,h,1))),m.lanes|=1),l)}var Zw=A.ReactCurrentOwner,si=!1;function Er(l,h,m,_){h.child=l===null?Ww(h,null,m,_):ra(h,l.child,m,_)}function e0(l,h,m,_,N){m=m.render;var L=h.ref;return qi(h,N),_=df(l,h,m,_,L,N),m=xl(),l!==null&&!si?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~N,lo(l,h,N)):(an&&m&&sf(h),h.flags|=1,Er(l,h,_,N),h.child)}function t0(l,h,m,_,N){if(l===null){var L=m.type;return typeof L=="function"&&!ev(L)&&L.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(h.tag=15,h.type=L,Rg(l,h,L,_,N)):(l=Hl(m.type,null,_,h,h.mode,N),l.ref=h.ref,l.return=h,h.child=l)}if(L=l.child,!(l.lanes&N)){var K=L.memoizedProps;if(m=m.compare,m=m!==null?m:sl,m(K,_)&&l.ref===h.ref)return lo(l,h,N)}return h.flags|=1,l=ya(L,_),l.ref=h.ref,l.return=h,h.child=l}function Rg(l,h,m,_,N){if(l!==null){var L=l.memoizedProps;if(sl(L,_)&&l.ref===h.ref)if(si=!1,h.pendingProps=_=L,(l.lanes&N)!==0)l.flags&131072&&(si=!0);else return h.lanes=l.lanes,lo(l,h,N)}return Og(l,h,m,_,N)}function fa(l,h,m){var _=h.pendingProps,N=_.children,L=l!==null?l.memoizedState:null;if(_.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(da,ai),ai|=m;else{if(!(m&1073741824))return l=L!==null?L.baseLanes|m:m,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l,cachePool:null,transitions:null},h.updateQueue=null,Qt(da,ai),ai|=l,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=L!==null?L.baseLanes:m,Qt(da,ai),ai|=_}else L!==null?(_=L.baseLanes|m,h.memoizedState=null):_=m,Qt(da,ai),ai|=_;return Er(l,h,N,m),h.child}function Ng(l,h){var m=h.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(h.flags|=512,h.flags|=2097152)}function Og(l,h,m,_,N){var L=Vr(m)?iu:yr.current;return L=ml(h,L),qi(h,N),m=df(l,h,m,_,L,N),_=xl(),l!==null&&!si?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~N,lo(l,h,N)):(an&&_&&sf(h),h.flags|=1,Er(l,h,m,N),h.child)}function n0(l,h,m,_,N){if(Vr(m)){var L=!0;gl(h)}else L=!1;if(qi(h,N),h.stateNode===null)Ml(l,h),bf(h,m,_),Ef(h,m,_,N),_=!0;else if(l===null){var K=h.stateNode,ce=h.memoizedProps;K.props=ce;var we=K.context,Ae=m.contextType;typeof Ae=="object"&&Ae!==null?Ae=Ii(Ae):(Ae=Vr(m)?iu:yr.current,Ae=ml(h,Ae));var je=m.getDerivedStateFromProps,ze=typeof je=="function"||typeof K.getSnapshotBeforeUpdate=="function";ze||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ce!==_||we!==Ae)&&Ki(h,K,_,Ae),Bn=!1;var Fe=h.memoizedState;K.state=Fe,uf(h,_,K,N),we=h.memoizedState,ce!==_||Fe!==we||Br.current||Bn?(typeof je=="function"&&(Ig(h,m,je,_),we=h.memoizedState),(ce=Bn||Sd(h,m,ce,_,Fe,we,Ae))?(ze||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(h.flags|=4194308)):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=_,h.memoizedState=we),K.props=_,K.state=we,K.context=Ae,_=ce):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),_=!1)}else{K=h.stateNode,yd(l,h),ce=h.memoizedProps,Ae=h.type===h.elementType?ce:oi(h.type,ce),K.props=Ae,ze=h.pendingProps,Fe=K.context,we=m.contextType,typeof we=="object"&&we!==null?we=Ii(we):(we=Vr(m)?iu:yr.current,we=ml(h,we));var Xe=m.getDerivedStateFromProps;(je=typeof Xe=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ce!==ze||Fe!==we)&&Ki(h,K,_,we),Bn=!1,Fe=h.memoizedState,K.state=Fe,uf(h,_,K,N);var Je=h.memoizedState;ce!==ze||Fe!==Je||Br.current||Bn?(typeof Xe=="function"&&(Ig(h,m,Xe,_),Je=h.memoizedState),(Ae=Bn||Sd(h,m,Ae,_,Fe,Je,we)||!1)?(je||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(_,Je,we),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(_,Je,we)),typeof K.componentDidUpdate=="function"&&(h.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof K.componentDidUpdate!="function"||ce===l.memoizedProps&&Fe===l.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ce===l.memoizedProps&&Fe===l.memoizedState||(h.flags|=1024),h.memoizedProps=_,h.memoizedState=Je),K.props=_,K.state=Je,K.context=we,_=Ae):(typeof K.componentDidUpdate!="function"||ce===l.memoizedProps&&Fe===l.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ce===l.memoizedProps&&Fe===l.memoizedState||(h.flags|=1024),_=!1)}return Sr(l,h,m,_,L,N)}function Sr(l,h,m,_,N,L){Ng(l,h);var K=(h.flags&128)!==0;if(!_&&!K)return N&&dg(h,m,!1),lo(l,h,L);_=h.stateNode,Zw.current=h;var ce=K&&typeof m.getDerivedStateFromError!="function"?null:_.render();return h.flags|=1,l!==null&&K?(h.child=ra(h,l.child,null,L),h.child=ra(h,null,ce,L)):Er(l,h,ce,L),h.memoizedState=_.state,N&&dg(h,m,!0),h.child}function Id(l){var h=l.stateNode;h.pendingContext?fg(l,h.pendingContext,h.pendingContext!==h.context):h.context&&fg(l,h.context,!1),yg(l,h.containerInfo)}function r0(l,h,m,_,N){return ls(),na(N),h.flags|=256,Er(l,h,m,_),h.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Dg(l){return{baseLanes:l,cachePool:null,transitions:null}}function Lg(l,h,m){var _=h.pendingProps,N=Jt.current,L=!1,K=(h.flags&128)!==0,ce;if((ce=K)||(ce=l!==null&&l.memoizedState===null?!1:(N&2)!==0),ce?(L=!0,h.flags&=-129):(l===null||l.memoizedState!==null)&&(N|=1),Qt(Jt,N&1),l===null)return dd(h),l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(h.mode&1?l.data==="$!"?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(K=_.children,l=_.fallback,L?(_=h.mode,L=h.child,K={mode:"hidden",children:K},!(_&1)&&L!==null?(L.childLanes=0,L.pendingProps=K):L=jd(K,_,0,null),l=gu(l,_,m,null),L.return=h,l.return=h,L.sibling=l,h.child=L,h.child.memoizedState=Dg(m),h.memoizedState=Pg,l):Mg(h,K));if(N=l.memoizedState,N!==null&&(ce=N.dehydrated,ce!==null))return Fg(l,h,K,_,ce,N,m);if(L){L=_.fallback,K=h.mode,N=l.child,ce=N.sibling;var we={mode:"hidden",children:_.children};return!(K&1)&&h.child!==N?(_=h.child,_.childLanes=0,_.pendingProps=we,h.deletions=null):(_=ya(N,we),_.subtreeFlags=N.subtreeFlags&14680064),ce!==null?L=ya(ce,L):(L=gu(L,K,m,null),L.flags|=2),L.return=h,_.return=h,_.sibling=L,h.child=_,_=L,L=h.child,K=l.child.memoizedState,K=K===null?Dg(m):{baseLanes:K.baseLanes|m,cachePool:null,transitions:K.transitions},L.memoizedState=K,L.childLanes=l.childLanes&~m,h.memoizedState=Pg,_}return L=l.child,l=L.sibling,_=ya(L,{mode:"visible",children:_.children}),!(h.mode&1)&&(_.lanes=m),_.return=h,_.sibling=null,l!==null&&(m=h.deletions,m===null?(h.deletions=[l],h.flags|=16):m.push(l)),h.child=_,h.memoizedState=null,_}function Mg(l,h){return h=jd({mode:"visible",children:h},l.mode,0,null),h.return=l,l.child=h}function Cd(l,h,m,_){return _!==null&&na(_),ra(h,l.child,null,m),l=Mg(h,h.pendingProps.children),l.flags|=2,h.memoizedState=null,l}function Fg(l,h,m,_,N,L,K){if(m)return h.flags&256?(h.flags&=-257,_=Cg(Error(n(422))),Cd(l,h,K,_)):h.memoizedState!==null?(h.child=l.child,h.flags|=128,null):(L=_.fallback,N=h.mode,_=jd({mode:"visible",children:_.children},N,0,null),L=gu(L,N,K,null),L.flags|=2,_.return=h,L.return=h,_.sibling=L,h.child=_,h.mode&1&&ra(h,l.child,null,K),h.child.memoizedState=Dg(K),h.memoizedState=Pg,L);if(!(h.mode&1))return Cd(l,h,K,null);if(N.data==="$!"){if(_=N.nextSibling&&N.nextSibling.dataset,_)var ce=_.dgst;return _=ce,L=Error(n(419)),_=Cg(L,_,void 0),Cd(l,h,K,_)}if(ce=(K&l.childLanes)!==0,si||ce){if(_=Xn,_!==null){switch(K&-K){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=N&(_.suspendedLanes|K)?0:N,N!==0&&N!==L.retryLane&&(L.retryLane=N,ds(l,N),li(_,l,N,-1))}return Rf(),_=Cg(Error(n(421))),Cd(l,h,K,_)}return N.data==="$?"?(h.flags|=128,h.child=l.child,h=Zg.bind(null,l),N._reactRetry=h,null):(l=L.treeContext,ii=Hi(N.nextSibling),Hr=h,an=!0,Pn=null,l!==null&&(Wi[zr++]=Oo,Wi[zr++]=Po,Wi[zr++]=No,Oo=l.id,Po=l.overflow,No=h),h=Mg(h,_.children),h.flags|=4096,h)}function xd(l,h,m){l.lanes|=h;var _=l.alternate;_!==null&&(_.lanes|=h),md(l.return,h,m)}function kd(l,h,m,_,N){var L=l.memoizedState;L===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:N}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=_,L.tail=m,L.tailMode=N)}function Ad(l,h,m){var _=h.pendingProps,N=_.revealOrder,L=_.tail;if(Er(l,h,_.children,m),_=Jt.current,_&2)_=_&1|2,h.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&xd(l,m,h);else if(l.tag===19)xd(l,m,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}_&=1}if(Qt(Jt,_),!(h.mode&1))h.memoizedState=null;else switch(N){case"forwards":for(m=h.child,N=null;m!==null;)l=m.alternate,l!==null&&cf(l)===null&&(N=m),m=m.sibling;m=N,m===null?(N=h.child,h.child=null):(N=m.sibling,m.sibling=null),kd(h,!1,N,m,L);break;case"backwards":for(m=null,N=h.child,h.child=null;N!==null;){if(l=N.alternate,l!==null&&cf(l)===null){h.child=N;break}l=N.sibling,N.sibling=m,m=N,N=l}kd(h,!0,m,null,L);break;case"together":kd(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ml(l,h){!(h.mode&1)&&l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2)}function lo(l,h,m){if(l!==null&&(h.dependencies=l.dependencies),pa|=h.lanes,!(m&h.childLanes))return null;if(l!==null&&h.child!==l.child)throw Error(n(153));if(h.child!==null){for(l=h.child,m=ya(l,l.pendingProps),h.child=m,m.return=h;l.sibling!==null;)l=l.sibling,m=m.sibling=ya(l,l.pendingProps),m.return=h;m.sibling=null}return h.child}function Ug(l,h,m){switch(h.tag){case 3:Id(h),ls();break;case 5:El(h);break;case 1:Vr(h.type)&&gl(h);break;case 4:yg(h,h.stateNode.containerInfo);break;case 10:var _=h.type._context,N=h.memoizedProps.value;Qt(Mo,_._currentValue),_._currentValue=N;break;case 13:if(_=h.memoizedState,_!==null)return _.dehydrated!==null?(Qt(Jt,Jt.current&1),h.flags|=128,null):m&h.child.childLanes?Lg(l,h,m):(Qt(Jt,Jt.current&1),l=lo(l,h,m),l!==null?l.sibling:null);Qt(Jt,Jt.current&1);break;case 19:if(_=(m&h.childLanes)!==0,l.flags&128){if(_)return Ad(l,h,m);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Qt(Jt,Jt.current),_)break;return null;case 22:case 23:return h.lanes=0,fa(l,h,m)}return lo(l,h,m)}var i0,jg,o0,s0;i0=function(l,h){for(var m=h.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},jg=function(){},o0=function(l,h,m,_){var N=l.memoizedProps;if(N!==_){l=h.stateNode,ps(Dn.current);var L=null;switch(m){case"input":N=F(l,N),_=F(l,_),L=[];break;case"select":N=Se({},N,{value:void 0}),_=Se({},_,{value:void 0}),L=[];break;case"textarea":N=ue(l,N),_=ue(l,_),L=[];break;default:typeof N.onClick!="function"&&typeof _.onClick=="function"&&(l.onclick=Si)}En(m,_);var K;m=null;for(Ae in N)if(!_.hasOwnProperty(Ae)&&N.hasOwnProperty(Ae)&&N[Ae]!=null)if(Ae==="style"){var ce=N[Ae];for(K in ce)ce.hasOwnProperty(K)&&(m||(m={}),m[K]="")}else Ae!=="dangerouslySetInnerHTML"&&Ae!=="children"&&Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(i.hasOwnProperty(Ae)?L||(L=[]):(L=L||[]).push(Ae,null));for(Ae in _){var we=_[Ae];if(ce=N!=null?N[Ae]:void 0,_.hasOwnProperty(Ae)&&we!==ce&&(we!=null||ce!=null))if(Ae==="style")if(ce){for(K in ce)!ce.hasOwnProperty(K)||we&&we.hasOwnProperty(K)||(m||(m={}),m[K]="");for(K in we)we.hasOwnProperty(K)&&ce[K]!==we[K]&&(m||(m={}),m[K]=we[K])}else m||(L||(L=[]),L.push(Ae,m)),m=we;else Ae==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,ce=ce?ce.__html:void 0,we!=null&&ce!==we&&(L=L||[]).push(Ae,we)):Ae==="children"?typeof we!="string"&&typeof we!="number"||(L=L||[]).push(Ae,""+we):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ae)?(we!=null&&Ae==="onScroll"&&on("scroll",l),L||ce===we||(L=[])):(L=L||[]).push(Ae,we))}m&&(L=L||[]).push("style",m);var Ae=L;(h.updateQueue=Ae)&&(h.flags|=4)}},s0=function(l,h,m,_){m!==_&&(h.flags|=4)};function Tf(l,h){if(!an)switch(l.tailMode){case"hidden":h=l.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function Tr(l){var h=l.alternate!==null&&l.alternate.child===l.child,m=0,_=0;if(h)for(var N=l.child;N!==null;)m|=N.lanes|N.childLanes,_|=N.subtreeFlags&14680064,_|=N.flags&14680064,N.return=l,N=N.sibling;else for(N=l.child;N!==null;)m|=N.lanes|N.childLanes,_|=N.subtreeFlags,_|=N.flags,N.return=l,N=N.sibling;return l.subtreeFlags|=_,l.childLanes=m,h}function R1(l,h,m){var _=h.pendingProps;switch(fd(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(h),null;case 1:return Vr(h.type)&&ou(),Tr(h),null;case 3:return _=h.stateNode,sa(),sn(Br),sn(yr),Tl(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(l===null||l.child===null)&&(su(h)?h.flags|=4:l===null||l.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Pn!==null&&(ma(Pn),Pn=null))),jg(l,h),Tr(h),null;case 5:Sl(h);var N=ps(lf.current);if(m=h.type,l!==null&&h.stateNode!=null)o0(l,h,m,_,N),l.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!_){if(h.stateNode===null)throw Error(n(166));return Tr(h),null}if(l=ps(Dn.current),su(h)){_=h.stateNode,m=h.type;var L=h.memoizedProps;switch(_[Ti]=h,_[ss]=L,l=(h.mode&1)!==0,m){case"dialog":on("cancel",_),on("close",_);break;case"iframe":case"object":case"embed":on("load",_);break;case"video":case"audio":for(N=0;N<ul.length;N++)on(ul[N],_);break;case"source":on("error",_);break;case"img":case"image":case"link":on("error",_),on("load",_);break;case"details":on("toggle",_);break;case"input":Te(_,L),on("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!L.multiple},on("invalid",_);break;case"textarea":De(_,L),on("invalid",_)}En(m,L),N=null;for(var K in L)if(L.hasOwnProperty(K)){var ce=L[K];K==="children"?typeof ce=="string"?_.textContent!==ce&&(L.suppressHydrationWarning!==!0&&Kn(_.textContent,ce,l),N=["children",ce]):typeof ce=="number"&&_.textContent!==""+ce&&(L.suppressHydrationWarning!==!0&&Kn(_.textContent,ce,l),N=["children",""+ce]):i.hasOwnProperty(K)&&ce!=null&&K==="onScroll"&&on("scroll",_)}switch(m){case"input":Q(_),R(_,L,!0);break;case"textarea":Q(_),Me(_);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(_.onclick=Si)}_=N,h.updateQueue=_,_!==null&&(h.flags|=4)}else{K=N.nodeType===9?N:N.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=$e(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=K.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof _.is=="string"?l=K.createElement(m,{is:_.is}):(l=K.createElement(m),m==="select"&&(K=l,_.multiple?K.multiple=!0:_.size&&(K.size=_.size))):l=K.createElementNS(l,m),l[Ti]=h,l[ss]=_,i0(l,h,!1,!1),h.stateNode=l;e:{switch(K=Ms(m,_),m){case"dialog":on("cancel",l),on("close",l),N=_;break;case"iframe":case"object":case"embed":on("load",l),N=_;break;case"video":case"audio":for(N=0;N<ul.length;N++)on(ul[N],l);N=_;break;case"source":on("error",l),N=_;break;case"img":case"image":case"link":on("error",l),on("load",l),N=_;break;case"details":on("toggle",l),N=_;break;case"input":Te(l,_),N=F(l,_),on("invalid",l);break;case"option":N=_;break;case"select":l._wrapperState={wasMultiple:!!_.multiple},N=Se({},_,{value:void 0}),on("invalid",l);break;case"textarea":De(l,_),N=ue(l,_),on("invalid",l);break;default:N=_}En(m,N),ce=N;for(L in ce)if(ce.hasOwnProperty(L)){var we=ce[L];L==="style"?On(l,we):L==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,we!=null&&Pt(l,we)):L==="children"?typeof we=="string"?(m!=="textarea"||we!=="")&&Fr(l,we):typeof we=="number"&&Fr(l,""+we):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?we!=null&&L==="onScroll"&&on("scroll",l):we!=null&&C(l,L,we,K))}switch(m){case"input":Q(l),R(l,_,!1);break;case"textarea":Q(l),Me(l);break;case"option":_.value!=null&&l.setAttribute("value",""+M(_.value));break;case"select":l.multiple=!!_.multiple,L=_.value,L!=null?ye(l,!!_.multiple,L,!1):_.defaultValue!=null&&ye(l,!!_.multiple,_.defaultValue,!0);break;default:typeof N.onClick=="function"&&(l.onclick=Si)}switch(m){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Tr(h),null;case 6:if(l&&h.stateNode!=null)s0(l,h,l.memoizedProps,_);else{if(typeof _!="string"&&h.stateNode===null)throw Error(n(166));if(m=ps(lf.current),ps(Dn.current),su(h)){if(_=h.stateNode,m=h.memoizedProps,_[Ti]=h,(L=_.nodeValue!==m)&&(l=Hr,l!==null))switch(l.tag){case 3:Kn(_.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Kn(_.nodeValue,m,(l.mode&1)!==0)}L&&(h.flags|=4)}else _=(m.nodeType===9?m:m.ownerDocument).createTextNode(_),_[Ti]=h,h.stateNode=_}return Tr(h),null;case 13:if(sn(Jt),_=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(an&&ii!==null&&h.mode&1&&!(h.flags&128))yl(),ls(),h.flags|=98560,L=!1;else if(L=su(h),_!==null&&_.dehydrated!==null){if(l===null){if(!L)throw Error(n(318));if(L=h.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(n(317));L[Ti]=h}else ls(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;Tr(h),L=!1}else Pn!==null&&(ma(Pn),Pn=null),L=!0;if(!L)return h.flags&65536?h:null}return h.flags&128?(h.lanes=m,h):(_=_!==null,_!==(l!==null&&l.memoizedState!==null)&&_&&(h.child.flags|=8192,h.mode&1&&(l===null||Jt.current&1?kn===0&&(kn=3):Rf())),h.updateQueue!==null&&(h.flags|=4),Tr(h),null);case 4:return sa(),jg(l,h),l===null&&Jc(h.stateNode.containerInfo),Tr(h),null;case 10:return fs(h.type._context),Tr(h),null;case 17:return Vr(h.type)&&ou(),Tr(h),null;case 19:if(sn(Jt),L=h.memoizedState,L===null)return Tr(h),null;if(_=(h.flags&128)!==0,K=L.rendering,K===null)if(_)Tf(L,!1);else{if(kn!==0||l!==null&&l.flags&128)for(l=h.child;l!==null;){if(K=cf(l),K!==null){for(h.flags|=128,Tf(L,!1),_=K.updateQueue,_!==null&&(h.updateQueue=_,h.flags|=4),h.subtreeFlags=0,_=m,m=h.child;m!==null;)L=m,l=_,L.flags&=14680066,K=L.alternate,K===null?(L.childLanes=0,L.lanes=l,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=K.childLanes,L.lanes=K.lanes,L.child=K.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=K.memoizedProps,L.memoizedState=K.memoizedState,L.updateQueue=K.updateQueue,L.type=K.type,l=K.dependencies,L.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return Qt(Jt,Jt.current&1|2),h.child}l=l.sibling}L.tail!==null&&Sn()>cu&&(h.flags|=128,_=!0,Tf(L,!1),h.lanes=4194304)}else{if(!_)if(l=cf(K),l!==null){if(h.flags|=128,_=!0,m=l.updateQueue,m!==null&&(h.updateQueue=m,h.flags|=4),Tf(L,!0),L.tail===null&&L.tailMode==="hidden"&&!K.alternate&&!an)return Tr(h),null}else 2*Sn()-L.renderingStartTime>cu&&m!==1073741824&&(h.flags|=128,_=!0,Tf(L,!1),h.lanes=4194304);L.isBackwards?(K.sibling=h.child,h.child=K):(m=L.last,m!==null?m.sibling=K:h.child=K,L.last=K)}return L.tail!==null?(h=L.tail,L.rendering=h,L.tail=h.sibling,L.renderingStartTime=Sn(),h.sibling=null,m=Jt.current,Qt(Jt,_?m&1|2:m&1),h):(Tr(h),null);case 22:case 23:return du(),_=h.memoizedState!==null,l!==null&&l.memoizedState!==null!==_&&(h.flags|=8192),_&&h.mode&1?ai&1073741824&&(Tr(h),h.subtreeFlags&6&&(h.flags|=8192)):Tr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function N1(l,h){switch(fd(h),h.tag){case 1:return Vr(h.type)&&ou(),l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 3:return sa(),sn(Br),sn(yr),Tl(),l=h.flags,l&65536&&!(l&128)?(h.flags=l&-65537|128,h):null;case 5:return Sl(h),null;case 13:if(sn(Jt),l=h.memoizedState,l!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(n(340));ls()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 19:return sn(Jt),null;case 4:return sa(),null;case 10:return fs(h.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var Rd=!1,Ir=!1,O1=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Fl(l,h){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(_){Zt(l,h,_)}else m.current=null}function Bg(l,h,m){try{m()}catch(_){Zt(l,h,_)}}var a0=!1;function P1(l,h){if(rg=rs,l=Ym(),Xm(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var _=m.getSelection&&m.getSelection();if(_&&_.rangeCount!==0){m=_.anchorNode;var N=_.anchorOffset,L=_.focusNode;_=_.focusOffset;try{m.nodeType,L.nodeType}catch{m=null;break e}var K=0,ce=-1,we=-1,Ae=0,je=0,ze=l,Fe=null;t:for(;;){for(var Xe;ze!==m||N!==0&&ze.nodeType!==3||(ce=K+N),ze!==L||_!==0&&ze.nodeType!==3||(we=K+_),ze.nodeType===3&&(K+=ze.nodeValue.length),(Xe=ze.firstChild)!==null;)Fe=ze,ze=Xe;for(;;){if(ze===l)break t;if(Fe===m&&++Ae===N&&(ce=K),Fe===L&&++je===_&&(we=K),(Xe=ze.nextSibling)!==null)break;ze=Fe,Fe=ze.parentNode}ze=Xe}m=ce===-1||we===-1?null:{start:ce,end:we}}else m=null}m=m||{start:0,end:0}}else m=null;for(ig={focusedElem:l,selectionRange:m},rs=!1,Qe=h;Qe!==null;)if(h=Qe,l=h.child,(h.subtreeFlags&1028)!==0&&l!==null)l.return=h,Qe=l;else for(;Qe!==null;){h=Qe;try{var Je=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var rt=Je.memoizedProps,wn=Je.memoizedState,xe=h.stateNode,be=xe.getSnapshotBeforeUpdate(h.elementType===h.type?rt:oi(h.type,rt),wn);xe.__reactInternalSnapshotBeforeUpdate=be}break;case 3:var ke=h.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(We){Zt(h,h.return,We)}if(l=h.sibling,l!==null){l.return=h.return,Qe=l;break}Qe=h.return}return Je=a0,a0=!1,Je}function If(l,h,m){var _=h.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var N=_=_.next;do{if((N.tag&l)===l){var L=N.destroy;N.destroy=void 0,L!==void 0&&Bg(h,m,L)}N=N.next}while(N!==_)}}function Nd(l,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&l)===l){var _=m.create;m.destroy=_()}m=m.next}while(m!==h)}}function Vg(l){var h=l.ref;if(h!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof h=="function"?h(l):h.current=l}}function zg(l){var h=l.alternate;h!==null&&(l.alternate=null,zg(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode,h!==null&&(delete h[Ti],delete h[ss],delete h[lg],delete h[S1],delete h[T1])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Hg(l){return l.tag===5||l.tag===3||l.tag===4}function u0(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Hg(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Wg(l,h,m){var _=l.tag;if(_===5||_===6)l=l.stateNode,h?m.nodeType===8?m.parentNode.insertBefore(l,h):m.insertBefore(l,h):(m.nodeType===8?(h=m.parentNode,h.insertBefore(l,m)):(h=m,h.appendChild(l)),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=Si));else if(_!==4&&(l=l.child,l!==null))for(Wg(l,h,m),l=l.sibling;l!==null;)Wg(l,h,m),l=l.sibling}function qg(l,h,m){var _=l.tag;if(_===5||_===6)l=l.stateNode,h?m.insertBefore(l,h):m.appendChild(l);else if(_!==4&&(l=l.child,l!==null))for(qg(l,h,m),l=l.sibling;l!==null;)qg(l,h,m),l=l.sibling}var sr=null,co=!1;function ha(l,h,m){for(m=m.child;m!==null;)l0(l,h,m),m=m.sibling}function l0(l,h,m){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(Vh,m)}catch{}switch(m.tag){case 5:Ir||Fl(m,h);case 6:var _=sr,N=co;sr=null,ha(l,h,m),sr=_,co=N,sr!==null&&(co?(l=sr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):sr.removeChild(m.stateNode));break;case 18:sr!==null&&(co?(l=sr,m=m.stateNode,l.nodeType===8?nf(l.parentNode,m):l.nodeType===1&&nf(l,m),Bc(l)):nf(sr,m.stateNode));break;case 4:_=sr,N=co,sr=m.stateNode.containerInfo,co=!0,ha(l,h,m),sr=_,co=N;break;case 0:case 11:case 14:case 15:if(!Ir&&(_=m.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){N=_=_.next;do{var L=N,K=L.destroy;L=L.tag,K!==void 0&&(L&2||L&4)&&Bg(m,h,K),N=N.next}while(N!==_)}ha(l,h,m);break;case 1:if(!Ir&&(Fl(m,h),_=m.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=m.memoizedProps,_.state=m.memoizedState,_.componentWillUnmount()}catch(ce){Zt(m,h,ce)}ha(l,h,m);break;case 21:ha(l,h,m);break;case 22:m.mode&1?(Ir=(_=Ir)||m.memoizedState!==null,ha(l,h,m),Ir=_):ha(l,h,m);break;default:ha(l,h,m)}}function $g(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new O1),h.forEach(function(_){var N=Nf.bind(null,l,_);m.has(_)||(m.add(_),_.then(N,N))})}}function fo(l,h){var m=h.deletions;if(m!==null)for(var _=0;_<m.length;_++){var N=m[_];try{var L=l,K=h,ce=K;e:for(;ce!==null;){switch(ce.tag){case 5:sr=ce.stateNode,co=!1;break e;case 3:sr=ce.stateNode.containerInfo,co=!0;break e;case 4:sr=ce.stateNode.containerInfo,co=!0;break e}ce=ce.return}if(sr===null)throw Error(n(160));l0(L,K,N),sr=null,co=!1;var we=N.alternate;we!==null&&(we.return=null),N.return=null}catch(Ae){Zt(N,h,Ae)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)c0(h,l),h=h.sibling}function c0(l,h){var m=l.alternate,_=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(fo(h,l),Uo(l),_&4){try{If(3,l,l.return),Nd(3,l)}catch(rt){Zt(l,l.return,rt)}try{If(5,l,l.return)}catch(rt){Zt(l,l.return,rt)}}break;case 1:fo(h,l),Uo(l),_&512&&m!==null&&Fl(m,m.return);break;case 5:if(fo(h,l),Uo(l),_&512&&m!==null&&Fl(m,m.return),l.flags&32){var N=l.stateNode;try{Fr(N,"")}catch(rt){Zt(l,l.return,rt)}}if(_&4&&(N=l.stateNode,N!=null)){var L=l.memoizedProps,K=m!==null?m.memoizedProps:L,ce=l.type,we=l.updateQueue;if(l.updateQueue=null,we!==null)try{ce==="input"&&L.type==="radio"&&L.name!=null&&z(N,L),Ms(ce,K);var Ae=Ms(ce,L);for(K=0;K<we.length;K+=2){var je=we[K],ze=we[K+1];je==="style"?On(N,ze):je==="dangerouslySetInnerHTML"?Pt(N,ze):je==="children"?Fr(N,ze):C(N,je,ze,Ae)}switch(ce){case"input":x(N,L);break;case"textarea":Pe(N,L);break;case"select":var Fe=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!L.multiple;var Xe=L.value;Xe!=null?ye(N,!!L.multiple,Xe,!1):Fe!==!!L.multiple&&(L.defaultValue!=null?ye(N,!!L.multiple,L.defaultValue,!0):ye(N,!!L.multiple,L.multiple?[]:"",!1))}N[ss]=L}catch(rt){Zt(l,l.return,rt)}}break;case 6:if(fo(h,l),Uo(l),_&4){if(l.stateNode===null)throw Error(n(162));N=l.stateNode,L=l.memoizedProps;try{N.nodeValue=L}catch(rt){Zt(l,l.return,rt)}}break;case 3:if(fo(h,l),Uo(l),_&4&&m!==null&&m.memoizedState.isDehydrated)try{Bc(h.containerInfo)}catch(rt){Zt(l,l.return,rt)}break;case 4:fo(h,l),Uo(l);break;case 13:fo(h,l),Uo(l),N=l.child,N.flags&8192&&(L=N.memoizedState!==null,N.stateNode.isHidden=L,!L||N.alternate!==null&&N.alternate.memoizedState!==null||(Yg=Sn())),_&4&&$g(l);break;case 22:if(je=m!==null&&m.memoizedState!==null,l.mode&1?(Ir=(Ae=Ir)||je,fo(h,l),Ir=Ae):fo(h,l),Uo(l),_&8192){if(Ae=l.memoizedState!==null,(l.stateNode.isHidden=Ae)&&!je&&l.mode&1)for(Qe=l,je=l.child;je!==null;){for(ze=Qe=je;Qe!==null;){switch(Fe=Qe,Xe=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:If(4,Fe,Fe.return);break;case 1:Fl(Fe,Fe.return);var Je=Fe.stateNode;if(typeof Je.componentWillUnmount=="function"){_=Fe,m=Fe.return;try{h=_,Je.props=h.memoizedProps,Je.state=h.memoizedState,Je.componentWillUnmount()}catch(rt){Zt(_,m,rt)}}break;case 5:Fl(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){Od(ze);continue}}Xe!==null?(Xe.return=Fe,Qe=Xe):Od(ze)}je=je.sibling}e:for(je=null,ze=l;;){if(ze.tag===5){if(je===null){je=ze;try{N=ze.stateNode,Ae?(L=N.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(ce=ze.stateNode,we=ze.memoizedProps.style,K=we!=null&&we.hasOwnProperty("display")?we.display:null,ce.style.display=cn("display",K))}catch(rt){Zt(l,l.return,rt)}}}else if(ze.tag===6){if(je===null)try{ze.stateNode.nodeValue=Ae?"":ze.memoizedProps}catch(rt){Zt(l,l.return,rt)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===l)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===l)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===l)break e;je===ze&&(je=null),ze=ze.return}je===ze&&(je=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:fo(h,l),Uo(l),_&4&&$g(l);break;case 21:break;default:fo(h,l),Uo(l)}}function Uo(l){var h=l.flags;if(h&2){try{e:{for(var m=l.return;m!==null;){if(Hg(m)){var _=m;break e}m=m.return}throw Error(n(160))}switch(_.tag){case 5:var N=_.stateNode;_.flags&32&&(Fr(N,""),_.flags&=-33);var L=u0(l);qg(l,L,N);break;case 3:case 4:var K=_.stateNode.containerInfo,ce=u0(l);Wg(l,ce,K);break;default:throw Error(n(161))}}catch(we){Zt(l,l.return,we)}l.flags&=-3}h&4096&&(l.flags&=-4097)}function D1(l,h,m){Qe=l,xt(l)}function xt(l,h,m){for(var _=(l.mode&1)!==0;Qe!==null;){var N=Qe,L=N.child;if(N.tag===22&&_){var K=N.memoizedState!==null||Rd;if(!K){var ce=N.alternate,we=ce!==null&&ce.memoizedState!==null||Ir;ce=Rd;var Ae=Ir;if(Rd=K,(Ir=we)&&!Ae)for(Qe=N;Qe!==null;)K=Qe,we=K.child,K.tag===22&&K.memoizedState!==null?f0(N):we!==null?(we.return=K,Qe=we):f0(N);for(;L!==null;)Qe=L,xt(L),L=L.sibling;Qe=N,Rd=ce,Ir=Ae}Gg(l)}else N.subtreeFlags&8772&&L!==null?(L.return=N,Qe=L):Gg(l)}}function Gg(l){for(;Qe!==null;){var h=Qe;if(h.flags&8772){var m=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Ir||Nd(5,h);break;case 1:var _=h.stateNode;if(h.flags&4&&!Ir)if(m===null)_.componentDidMount();else{var N=h.elementType===h.type?m.memoizedProps:oi(h.type,m.memoizedProps);_.componentDidUpdate(N,m.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&wd(h,L,_);break;case 3:var K=h.updateQueue;if(K!==null){if(m=null,h.child!==null)switch(h.child.tag){case 5:m=h.child.stateNode;break;case 1:m=h.child.stateNode}wd(h,K,m)}break;case 5:var ce=h.stateNode;if(m===null&&h.flags&4){m=ce;var we=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":we.autoFocus&&m.focus();break;case"img":we.src&&(m.src=we.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Ae=h.alternate;if(Ae!==null){var je=Ae.memoizedState;if(je!==null){var ze=je.dehydrated;ze!==null&&Bc(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ir||h.flags&512&&Vg(h)}catch(Fe){Zt(h,h.return,Fe)}}if(h===l){Qe=null;break}if(m=h.sibling,m!==null){m.return=h.return,Qe=m;break}Qe=h.return}}function Od(l){for(;Qe!==null;){var h=Qe;if(h===l){Qe=null;break}var m=h.sibling;if(m!==null){m.return=h.return,Qe=m;break}Qe=h.return}}function f0(l){for(;Qe!==null;){var h=Qe;try{switch(h.tag){case 0:case 11:case 15:var m=h.return;try{Nd(4,h)}catch(we){Zt(h,m,we)}break;case 1:var _=h.stateNode;if(typeof _.componentDidMount=="function"){var N=h.return;try{_.componentDidMount()}catch(we){Zt(h,N,we)}}var L=h.return;try{Vg(h)}catch(we){Zt(h,L,we)}break;case 5:var K=h.return;try{Vg(h)}catch(we){Zt(h,K,we)}}}catch(we){Zt(h,h.return,we)}if(h===l){Qe=null;break}var ce=h.sibling;if(ce!==null){ce.return=h.return,Qe=ce;break}Qe=h.return}}var L1=Math.ceil,Pd=A.ReactCurrentDispatcher,Kg=A.ReactCurrentOwner,Yi=A.ReactCurrentBatchConfig,Ut=0,Xn=null,yn=null,ar=0,ai=0,da=Ao(0),kn=0,Ul=null,pa=0,Cf=0,Dd=0,ms=null,ui=null,Yg=0,cu=1/0,jo=null,xf=!1,Xg=null,gs=null,kf=!1,vs=null,Af=0,fu=0,Ld=null,jl=-1,Md=0;function Cr(){return Ut&6?Sn():jl!==-1?jl:jl=Sn()}function Bo(l){return l.mode&1?Ut&2&&ar!==0?ar&-ar:wl.transition!==null?(Md===0&&(Md=_w()),Md):(l=zt,l!==0||(l=window.event,l=l===void 0?16:Tw(l.type)),l):1}function li(l,h,m,_){if(50<fu)throw fu=0,Ld=null,Error(n(185));Hs(l,m,_),(!(Ut&2)||l!==Xn)&&(l===Xn&&(!(Ut&2)&&(Cf|=m),kn===4&&ys(l,ar)),xr(l,_),m===1&&Ut===0&&!(h.mode&1)&&(cu=Sn()+500,of&&so()))}function xr(l,h){var m=l.callbackNode;ww(l,h);var _=zh(l,l===Xn?ar:0);if(_===0)m!==null&&Fi(m),l.callbackNode=null,l.callbackPriority=0;else if(h=_&-_,l.callbackPriority!==h){if(m!=null&&Fi(m),h===1)l.tag===0?zw(d0.bind(null,l)):pg(d0.bind(null,l)),ag(function(){!(Ut&6)&&so()}),m=null;else{switch(Pm(_)){case 1:m=jh;break;case 4:m=Nc;break;case 16:m=Yu;break;case 536870912:m=Bh;break;default:m=Yu}m=mu(m,Bl.bind(null,l))}l.callbackPriority=h,l.callbackNode=m}}function Bl(l,h){if(jl=-1,Md=0,Ut&6)throw Error(n(327));var m=l.callbackNode;if(zl()&&l.callbackNode!==m)return null;var _=zh(l,l===Xn?ar:0);if(_===0)return null;if(_&30||_&l.expiredLanes||h)h=Vl(l,_);else{h=_;var N=Ut;Ut|=2;var L=p0();(Xn!==l||ar!==h)&&(jo=null,cu=Sn()+500,Vo(l,h));do try{M1();break}catch(ce){Qg(l,ce)}while(!0);pd(),Pd.current=L,Ut=N,yn!==null?h=0:(Xn=null,ar=0,h=kn)}if(h!==0){if(h===2&&(N=Mc(l),N!==0&&(_=N,h=hu(l,N))),h===1)throw m=Ul,Vo(l,0),ys(l,_),xr(l,Sn()),m;if(h===6)ys(l,_);else{if(N=l.current.alternate,!(_&30)&&!h0(N)&&(h=Vl(l,_),h===2&&(L=Mc(l),L!==0&&(_=L,h=hu(l,L))),h===1))throw m=Ul,Vo(l,0),ys(l,_),xr(l,Sn()),m;switch(l.finishedWork=N,l.finishedLanes=_,h){case 0:case 1:throw Error(n(345));case 2:pu(l,ui,jo);break;case 3:if(ys(l,_),(_&130023424)===_&&(h=Yg+500-Sn(),10<h)){if(zh(l,0)!==0)break;if(N=l.suspendedLanes,(N&_)!==_){Cr(),l.pingedLanes|=l.suspendedLanes&N;break}l.timeoutHandle=tf(pu.bind(null,l,ui,jo),h);break}pu(l,ui,jo);break;case 4:if(ys(l,_),(_&4194240)===_)break;for(h=l.eventTimes,N=-1;0<_;){var K=31-Ui(_);L=1<<K,K=h[K],K>N&&(N=K),_&=~L}if(_=N,_=Sn()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*L1(_/1960))-_,10<_){l.timeoutHandle=tf(pu.bind(null,l,ui,jo),_);break}pu(l,ui,jo);break;case 5:pu(l,ui,jo);break;default:throw Error(n(329))}}}return xr(l,Sn()),l.callbackNode===m?Bl.bind(null,l):null}function hu(l,h){var m=ms;return l.current.memoizedState.isDehydrated&&(Vo(l,h).flags|=256),l=Vl(l,h),l!==2&&(h=ui,ui=m,h!==null&&ma(h)),l}function ma(l){ui===null?ui=l:ui.push.apply(ui,l)}function h0(l){for(var h=l;;){if(h.flags&16384){var m=h.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var _=0;_<m.length;_++){var N=m[_],L=N.getSnapshot;N=N.value;try{if(!Vi(L(),N))return!1}catch{return!1}}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ys(l,h){for(h&=~Dd,h&=~Cf,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var m=31-Ui(h),_=1<<m;l[m]=-1,h&=~_}}function d0(l){if(Ut&6)throw Error(n(327));zl();var h=zh(l,0);if(!(h&1))return xr(l,Sn()),null;var m=Vl(l,h);if(l.tag!==0&&m===2){var _=Mc(l);_!==0&&(h=_,m=hu(l,_))}if(m===1)throw m=Ul,Vo(l,0),ys(l,h),xr(l,Sn()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=h,pu(l,ui,jo),xr(l,Sn()),null}function Fd(l,h){var m=Ut;Ut|=1;try{return l(h)}finally{Ut=m,Ut===0&&(cu=Sn()+500,of&&so())}}function ga(l){vs!==null&&vs.tag===0&&!(Ut&6)&&zl();var h=Ut;Ut|=1;var m=Yi.transition,_=zt;try{if(Yi.transition=null,zt=1,l)return l()}finally{zt=_,Yi.transition=m,Ut=h,!(Ut&6)&&so()}}function du(){ai=da.current,sn(da)}function Vo(l,h){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,og(m)),yn!==null)for(m=yn.return;m!==null;){var _=m;switch(fd(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&ou();break;case 3:sa(),sn(Br),sn(yr),Tl();break;case 5:Sl(_);break;case 4:sa();break;case 13:sn(Jt);break;case 19:sn(Jt);break;case 10:fs(_.type._context);break;case 22:case 23:du()}m=m.return}if(Xn=l,yn=l=ya(l.current,null),ar=ai=h,kn=0,Ul=null,Dd=Cf=pa=0,ui=ms=null,$i!==null){for(h=0;h<$i.length;h++)if(m=$i[h],_=m.interleaved,_!==null){m.interleaved=null;var N=_.next,L=m.pending;if(L!==null){var K=L.next;L.next=N,_.next=K}m.pending=_}$i=null}return l}function Qg(l,h){do{var m=yn;try{if(pd(),hf.current=lu,ua){for(var _=dn.memoizedState;_!==null;){var N=_.queue;N!==null&&(N.pending=null),_=_.next}ua=!1}if(aa=0,Ln=xn=dn=null,Cl=!1,uu=0,Kg.current=null,m===null||m.return===null){kn=1,Ul=h,yn=null;break}e:{var L=l,K=m.return,ce=m,we=h;if(h=ar,ce.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var Ae=we,je=ce,ze=je.tag;if(!(je.mode&1)&&(ze===0||ze===11||ze===15)){var Fe=je.alternate;Fe?(je.updateQueue=Fe.updateQueue,je.memoizedState=Fe.memoizedState,je.lanes=Fe.lanes):(je.updateQueue=null,je.memoizedState=null)}var Xe=Td(K);if(Xe!==null){Xe.flags&=-257,Ag(Xe,K,ce,L,h),Xe.mode&1&&Sf(L,Ae,h),h=Xe,we=Ae;var Je=h.updateQueue;if(Je===null){var rt=new Set;rt.add(we),h.updateQueue=rt}else Je.add(we);break e}else{if(!(h&1)){Sf(L,Ae,h),Rf();break e}we=Error(n(426))}}else if(an&&ce.mode&1){var wn=Td(K);if(wn!==null){!(wn.flags&65536)&&(wn.flags|=256),Ag(wn,K,ce,L,h),na(br(we,ce));break e}}L=we=br(we,ce),kn!==4&&(kn=2),ms===null?ms=[L]:ms.push(L),L=K;do{switch(L.tag){case 3:L.flags|=65536,h&=-h,L.lanes|=h;var xe=Jw(L,we,h);Fo(L,xe);break e;case 1:ce=we;var be=L.type,ke=L.stateNode;if(!(L.flags&128)&&(typeof be.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(gs===null||!gs.has(ke)))){L.flags|=65536,h&=-h,L.lanes|=h;var We=kg(L,ce,h);Fo(L,We);break e}}L=L.return}while(L!==null)}Ud(m)}catch(it){h=it,yn===m&&m!==null&&(yn=m=m.return);continue}break}while(!0)}function p0(){var l=Pd.current;return Pd.current=lu,l===null?lu:l}function Rf(){(kn===0||kn===3||kn===2)&&(kn=4),Xn===null||!(pa&268435455)&&!(Cf&268435455)||ys(Xn,ar)}function Vl(l,h){var m=Ut;Ut|=2;var _=p0();(Xn!==l||ar!==h)&&(jo=null,Vo(l,h));do try{m0();break}catch(N){Qg(l,N)}while(!0);if(pd(),Ut=m,Pd.current=_,yn!==null)throw Error(n(261));return Xn=null,ar=0,kn}function m0(){for(;yn!==null;)g0(yn)}function M1(){for(;yn!==null&&!yw();)g0(yn)}function g0(l){var h=va(l.alternate,l,ai);l.memoizedProps=l.pendingProps,h===null?Ud(l):yn=h,Kg.current=null}function Ud(l){var h=l;do{var m=h.alternate;if(l=h.return,h.flags&32768){if(m=N1(m,h),m!==null){m.flags&=32767,yn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{kn=6,yn=null;return}}else if(m=R1(m,h,ai),m!==null){yn=m;return}if(h=h.sibling,h!==null){yn=h;return}yn=h=l}while(h!==null);kn===0&&(kn=5)}function pu(l,h,m){var _=zt,N=Yi.transition;try{Yi.transition=null,zt=1,F1(l,h,m,_)}finally{Yi.transition=N,zt=_}return null}function F1(l,h,m,_){do zl();while(vs!==null);if(Ut&6)throw Error(n(327));m=l.finishedWork;var N=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var L=m.lanes|m.childLanes;if(h1(l,L),l===Xn&&(yn=Xn=null,ar=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||kf||(kf=!0,mu(Yu,function(){return zl(),null})),L=(m.flags&15990)!==0,m.subtreeFlags&15990||L){L=Yi.transition,Yi.transition=null;var K=zt;zt=1;var ce=Ut;Ut|=4,Kg.current=null,P1(l,m),c0(m,l),b1(ig),rs=!!rg,ig=rg=null,l.current=m,D1(m),l1(),Ut=ce,zt=K,Yi.transition=L}else l.current=m;if(kf&&(kf=!1,vs=l,Af=N),L=l.pendingLanes,L===0&&(gs=null),Om(m.stateNode),xr(l,Sn()),h!==null)for(_=l.onRecoverableError,m=0;m<h.length;m++)N=h[m],_(N.value,{componentStack:N.stack,digest:N.digest});if(xf)throw xf=!1,l=Xg,Xg=null,l;return Af&1&&l.tag!==0&&zl(),L=l.pendingLanes,L&1?l===Ld?fu++:(fu=0,Ld=l):fu=0,so(),null}function zl(){if(vs!==null){var l=Pm(Af),h=Yi.transition,m=zt;try{if(Yi.transition=null,zt=16>l?16:l,vs===null)var _=!1;else{if(l=vs,vs=null,Af=0,Ut&6)throw Error(n(331));var N=Ut;for(Ut|=4,Qe=l.current;Qe!==null;){var L=Qe,K=L.child;if(Qe.flags&16){var ce=L.deletions;if(ce!==null){for(var we=0;we<ce.length;we++){var Ae=ce[we];for(Qe=Ae;Qe!==null;){var je=Qe;switch(je.tag){case 0:case 11:case 15:If(8,je,L)}var ze=je.child;if(ze!==null)ze.return=je,Qe=ze;else for(;Qe!==null;){je=Qe;var Fe=je.sibling,Xe=je.return;if(zg(je),je===Ae){Qe=null;break}if(Fe!==null){Fe.return=Xe,Qe=Fe;break}Qe=Xe}}}var Je=L.alternate;if(Je!==null){var rt=Je.child;if(rt!==null){Je.child=null;do{var wn=rt.sibling;rt.sibling=null,rt=wn}while(rt!==null)}}Qe=L}}if(L.subtreeFlags&2064&&K!==null)K.return=L,Qe=K;else e:for(;Qe!==null;){if(L=Qe,L.flags&2048)switch(L.tag){case 0:case 11:case 15:If(9,L,L.return)}var xe=L.sibling;if(xe!==null){xe.return=L.return,Qe=xe;break e}Qe=L.return}}var be=l.current;for(Qe=be;Qe!==null;){K=Qe;var ke=K.child;if(K.subtreeFlags&2064&&ke!==null)ke.return=K,Qe=ke;else e:for(K=be;Qe!==null;){if(ce=Qe,ce.flags&2048)try{switch(ce.tag){case 0:case 11:case 15:Nd(9,ce)}}catch(it){Zt(ce,ce.return,it)}if(ce===K){Qe=null;break e}var We=ce.sibling;if(We!==null){We.return=ce.return,Qe=We;break e}Qe=ce.return}}if(Ut=N,so(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(Vh,l)}catch{}_=!0}return _}finally{zt=m,Yi.transition=h}}return!1}function v0(l,h,m){h=br(m,h),h=Jw(l,h,1),l=ia(l,h,1),h=Cr(),l!==null&&(Hs(l,1,h),xr(l,h))}function Zt(l,h,m){if(l.tag===3)v0(l,l,m);else for(;h!==null;){if(h.tag===3){v0(h,l,m);break}else if(h.tag===1){var _=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(gs===null||!gs.has(_))){l=br(m,l),l=kg(h,l,1),h=ia(h,l,1),l=Cr(),h!==null&&(Hs(h,1,l),xr(h,l));break}}h=h.return}}function U1(l,h,m){var _=l.pingCache;_!==null&&_.delete(h),h=Cr(),l.pingedLanes|=l.suspendedLanes&m,Xn===l&&(ar&m)===m&&(kn===4||kn===3&&(ar&130023424)===ar&&500>Sn()-Yg?Vo(l,0):Dd|=m),xr(l,h)}function Jg(l,h){h===0&&(l.mode&1?(h=Dc,Dc<<=1,!(Dc&130023424)&&(Dc=4194304)):h=1);var m=Cr();l=ds(l,h),l!==null&&(Hs(l,h,m),xr(l,m))}function Zg(l){var h=l.memoizedState,m=0;h!==null&&(m=h.retryLane),Jg(l,m)}function Nf(l,h){var m=0;switch(l.tag){case 13:var _=l.stateNode,N=l.memoizedState;N!==null&&(m=N.retryLane);break;case 19:_=l.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(h),Jg(l,m)}var va;va=function(l,h,m){if(l!==null)if(l.memoizedProps!==h.pendingProps||Br.current)si=!0;else{if(!(l.lanes&m)&&!(h.flags&128))return si=!1,Ug(l,h,m);si=!!(l.flags&131072)}else si=!1,an&&h.flags&1048576&&cd(h,ld,h.index);switch(h.lanes=0,h.tag){case 2:var _=h.type;Ml(l,h),l=h.pendingProps;var N=ml(h,yr.current);qi(h,m),N=df(null,h,_,l,N,m);var L=xl();return h.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Vr(_)?(L=!0,gl(h)):L=!1,h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,vd(h),N.updater=Ed,h.stateNode=N,N._reactInternals=h,Ef(h,_,l,m),h=Sr(null,h,_,!0,L,m)):(h.tag=0,an&&L&&sf(h),Er(null,h,N,m),h=h.child),h;case 16:_=h.elementType;e:{switch(Ml(l,h),l=h.pendingProps,N=_._init,_=N(_._payload),h.type=_,N=h.tag=tv(_),l=oi(_,l),N){case 0:h=Og(null,h,_,l,m);break e;case 1:h=n0(null,h,_,l,m);break e;case 11:h=e0(null,h,_,l,m);break e;case 14:h=t0(null,h,_,oi(_.type,l),m);break e}throw Error(n(306,_,""))}return h;case 0:return _=h.type,N=h.pendingProps,N=h.elementType===_?N:oi(_,N),Og(l,h,_,N,m);case 1:return _=h.type,N=h.pendingProps,N=h.elementType===_?N:oi(_,N),n0(l,h,_,N,m);case 3:e:{if(Id(h),l===null)throw Error(n(387));_=h.pendingProps,L=h.memoizedState,N=L.element,yd(l,h),uf(h,_,null,m);var K=h.memoizedState;if(_=K.element,L.isDehydrated)if(L={element:_,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){N=br(Error(n(423)),h),h=r0(l,h,_,m,N);break e}else if(_!==N){N=br(Error(n(424)),h),h=r0(l,h,_,m,N);break e}else for(ii=Hi(h.stateNode.containerInfo.firstChild),Hr=h,an=!0,Pn=null,m=Ww(h,null,_,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ls(),_===N){h=lo(l,h,m);break e}Er(l,h,_,m)}h=h.child}return h;case 5:return El(h),l===null&&dd(h),_=h.type,N=h.pendingProps,L=l!==null?l.memoizedProps:null,K=N.children,ef(_,N)?K=null:L!==null&&ef(_,L)&&(h.flags|=32),Ng(l,h),Er(l,h,K,m),h.child;case 6:return l===null&&dd(h),null;case 13:return Lg(l,h,m);case 4:return yg(h,h.stateNode.containerInfo),_=h.pendingProps,l===null?h.child=ra(h,null,_,m):Er(l,h,_,m),h.child;case 11:return _=h.type,N=h.pendingProps,N=h.elementType===_?N:oi(_,N),e0(l,h,_,N,m);case 7:return Er(l,h,h.pendingProps,m),h.child;case 8:return Er(l,h,h.pendingProps.children,m),h.child;case 12:return Er(l,h,h.pendingProps.children,m),h.child;case 10:e:{if(_=h.type._context,N=h.pendingProps,L=h.memoizedProps,K=N.value,Qt(Mo,_._currentValue),_._currentValue=K,L!==null)if(Vi(L.value,K)){if(L.children===N.children&&!Br.current){h=lo(l,h,m);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var ce=L.dependencies;if(ce!==null){K=L.child;for(var we=ce.firstContext;we!==null;){if(we.context===_){if(L.tag===1){we=wr(-1,m&-m),we.tag=2;var Ae=L.updateQueue;if(Ae!==null){Ae=Ae.shared;var je=Ae.pending;je===null?we.next=we:(we.next=je.next,je.next=we),Ae.pending=we}}L.lanes|=m,we=L.alternate,we!==null&&(we.lanes|=m),md(L.return,m,h),ce.lanes|=m;break}we=we.next}}else if(L.tag===10)K=L.type===h.type?null:L.child;else if(L.tag===18){if(K=L.return,K===null)throw Error(n(341));K.lanes|=m,ce=K.alternate,ce!==null&&(ce.lanes|=m),md(K,m,h),K=L.sibling}else K=L.child;if(K!==null)K.return=L;else for(K=L;K!==null;){if(K===h){K=null;break}if(L=K.sibling,L!==null){L.return=K.return,K=L;break}K=K.return}L=K}Er(l,h,N.children,m),h=h.child}return h;case 9:return N=h.type,_=h.pendingProps.children,qi(h,m),N=Ii(N),_=_(N),h.flags|=1,Er(l,h,_,m),h.child;case 14:return _=h.type,N=oi(_,h.pendingProps),N=oi(_.type,N),t0(l,h,_,N,m);case 15:return Rg(l,h,h.type,h.pendingProps,m);case 17:return _=h.type,N=h.pendingProps,N=h.elementType===_?N:oi(_,N),Ml(l,h),h.tag=1,Vr(_)?(l=!0,gl(h)):l=!1,qi(h,m),bf(h,_,N),Ef(h,_,N,m),Sr(null,h,_,!0,l,m);case 19:return Ad(l,h,m);case 22:return fa(l,h,m)}throw Error(n(156,h.tag))};function mu(l,h){return vw(l,h)}function j1(l,h,m,_){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(l,h,m,_){return new j1(l,h,m,_)}function ev(l){return l=l.prototype,!(!l||!l.isReactComponent)}function tv(l){if(typeof l=="function")return ev(l)?1:0;if(l!=null){if(l=l.$$typeof,l===$)return 11;if(l===he)return 14}return 2}function ya(l,h){var m=l.alternate;return m===null?(m=ur(l.tag,h,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=h,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,h=l.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Hl(l,h,m,_,N,L){var K=2;if(_=l,typeof l=="function")ev(l)&&(K=1);else if(typeof l=="string")K=5;else e:switch(l){case D:return gu(m.children,N,L,h);case X:K=8,N|=8;break;case V:return l=ur(12,m,h,N|2),l.elementType=V,l.lanes=L,l;case te:return l=ur(13,m,h,N),l.elementType=te,l.lanes=L,l;case j:return l=ur(19,m,h,N),l.elementType=j,l.lanes=L,l;case re:return jd(m,N,L,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case oe:K=10;break e;case Ie:K=9;break e;case $:K=11;break e;case he:K=14;break e;case Ee:K=16,_=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return h=ur(K,m,h,N),h.elementType=l,h.type=_,h.lanes=L,h}function gu(l,h,m,_){return l=ur(7,l,_,h),l.lanes=m,l}function jd(l,h,m,_){return l=ur(22,l,_,h),l.elementType=re,l.lanes=m,l.stateNode={isHidden:!1},l}function nv(l,h,m){return l=ur(6,l,null,h),l.lanes=m,l}function Wl(l,h,m){return h=ur(4,l.children!==null?l.children:[],l.key,h),h.lanes=m,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function Bd(l,h,m,_,N){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xu(0),this.expirationTimes=Xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xu(0),this.identifierPrefix=_,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Vd(l,h,m,_,N,L,K,ce,we){return l=new Bd(l,h,m,ce,we),h===1?(h=1,L===!0&&(h|=8)):h=0,L=ur(3,null,null,h),l.current=L,L.stateNode=l,L.memoizedState={element:_,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},vd(L),l}function B1(l,h,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:_==null?null:""+_,children:l,containerInfo:h,implementation:m}}function rv(l){if(!l)return ta;l=l._reactInternals;e:{if(Ga(l)!==l||l.tag!==1)throw Error(n(170));var h=l;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Vr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(Vr(m))return hg(l,m,h)}return h}function zd(l,h,m,_,N,L,K,ce,we){return l=Vd(m,_,!0,l,N,L,K,ce,we),l.context=rv(null),m=l.current,_=Cr(),N=Bo(m),L=wr(_,N),L.callback=h??null,ia(m,L,N),l.current.lanes=N,Hs(l,N,_),xr(l,_),l}function Of(l,h,m,_){var N=h.current,L=Cr(),K=Bo(N);return m=rv(m),h.context===null?h.context=m:h.pendingContext=m,h=wr(L,K),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=ia(N,h,K),l!==null&&(li(l,N,K,L),oa(l,N,K)),K}function ql(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Hd(l,h){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<h?m:h}}function Wd(l,h){Hd(l,h),(l=l.alternate)&&Hd(l,h)}var iv=typeof reportError=="function"?reportError:function(l){console.error(l)};function ov(l){this._internalRoot=l}Pf.prototype.render=ov.prototype.render=function(l){var h=this._internalRoot;if(h===null)throw Error(n(409));Of(l,h,null,null)},Pf.prototype.unmount=ov.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var h=l.containerInfo;ga(function(){Of(null,l,null,null)}),h[as]=null}};function Pf(l){this._internalRoot=l}Pf.prototype.unstable_scheduleHydration=function(l){if(l){var h=Io();l={blockedOn:null,target:l,priority:h};for(var m=0;m<ns.length&&h!==0&&h<ns[m].priority;m++);ns.splice(m,0,l),m===0&&Ew(l)}};function $l(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function qd(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function y0(){}function V1(l,h,m,_,N){if(N){if(typeof _=="function"){var L=_;_=function(){var Ae=ql(K);L.call(Ae)}}var K=zd(h,_,l,0,null,!1,!1,"",y0);return l._reactRootContainer=K,l[as]=K.current,Jc(l.nodeType===8?l.parentNode:l),ga(),K}for(;N=l.lastChild;)l.removeChild(N);if(typeof _=="function"){var ce=_;_=function(){var Ae=ql(we);ce.call(Ae)}}var we=Vd(l,0,!1,null,null,!1,!1,"",y0);return l._reactRootContainer=we,l[as]=we.current,Jc(l.nodeType===8?l.parentNode:l),ga(function(){Of(h,we,m,_)}),we}function Df(l,h,m,_,N){var L=m._reactRootContainer;if(L){var K=L;if(typeof N=="function"){var ce=N;N=function(){var we=ql(K);ce.call(we)}}Of(h,K,l,N)}else K=V1(m,h,l,N,_);return ql(K)}It=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.current.memoizedState.isDehydrated){var m=Lc(h.pendingLanes);m!==0&&(Fc(h,m|1),xr(h,Sn()),!(Ut&6)&&(cu=Sn()+500,so()))}break;case 13:ga(function(){var _=ds(l,1);if(_!==null){var N=Cr();li(_,l,1,N)}}),Wd(l,1)}},es=function(l){if(l.tag===13){var h=ds(l,134217728);if(h!==null){var m=Cr();li(h,l,134217728,m)}Wd(l,134217728)}},Qu=function(l){if(l.tag===13){var h=Bo(l),m=ds(l,h);if(m!==null){var _=Cr();li(m,l,h,_)}Wd(l,h)}},Io=function(){return zt},Dm=function(l,h){var m=zt;try{return zt=l,h()}finally{zt=m}},Us=function(l,h,m){switch(h){case"input":if(x(l,m),h=m.name,m.type==="radio"&&h!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<m.length;h++){var _=m[h];if(_!==l&&_.form===l.form){var N=rf(_);if(!N)throw Error(n(90));Z(_),x(_,N)}}}break;case"textarea":Pe(l,m);break;case"select":h=m.value,h!=null&&ye(l,!!m.multiple,h,!1)}},dw=Fd,Im=ga;var w0={usingClientEntryPoint:!1,Events:[hl,dl,rf,Mh,hw,Fd]},vu={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z1={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Uh(l),l===null?null:l.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{Vh=$d.inject(z1),io=$d}catch{}}return Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w0,Xi.createPortal=function(l,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$l(h))throw Error(n(200));return B1(l,h,null,m)},Xi.createRoot=function(l,h){if(!$l(l))throw Error(n(299));var m=!1,_="",N=iv;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),h=Vd(l,1,!1,null,null,m,!1,_,N),l[as]=h.current,Jc(l.nodeType===8?l.parentNode:l),new ov(h)},Xi.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Uh(h),l=l===null?null:l.stateNode,l},Xi.flushSync=function(l){return ga(l)},Xi.hydrate=function(l,h,m){if(!qd(h))throw Error(n(200));return Df(null,l,h,!0,m)},Xi.hydrateRoot=function(l,h,m){if(!$l(l))throw Error(n(405));var _=m!=null&&m.hydratedSources||null,N=!1,L="",K=iv;if(m!=null&&(m.unstable_strictMode===!0&&(N=!0),m.identifierPrefix!==void 0&&(L=m.identifierPrefix),m.onRecoverableError!==void 0&&(K=m.onRecoverableError)),h=zd(h,null,l,1,m??null,N,!1,L,K),l[as]=h.current,Jc(l),_)for(l=0;l<_.length;l++)m=_[l],N=m._getVersion,N=N(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,N]:h.mutableSourceEagerHydrationData.push(m,N);return new Pf(h)},Xi.render=function(l,h,m){if(!qd(h))throw Error(n(200));return Df(null,l,h,!1,m)},Xi.unmountComponentAtNode=function(l){if(!qd(l))throw Error(n(40));return l._reactRootContainer?(ga(function(){Df(null,null,l,!1,function(){l._reactRootContainer=null,l[as]=null})}),!0):!1},Xi.unstable_batchedUpdates=Fd,Xi.unstable_renderSubtreeIntoContainer=function(l,h,m,_){if(!qd(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Df(l,h,m,!1,_)},Xi.version="18.3.1-next-f1338f8080-20240426",Xi}var SN;function aF(){if(SN)return NS.exports;SN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),NS.exports=WB(),NS.exports}var TN;function qB(){if(TN)return A0;TN=1;var t=aF();return A0.createRoot=t.createRoot,A0.hydrateRoot=t.hydrateRoot,A0}var $B=qB();const GB=oF($B);var hv={},IN;function KB(){if(IN)return hv;IN=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.parse=a,hv.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,w){const b=new o,E=y.length;if(E<2)return b;const I=(w==null?void 0:w.decode)||p;let S=0;do{const k=y.indexOf("=",S);if(k===-1)break;const C=y.indexOf(";",S),A=C===-1?E:C;if(k>A){S=y.lastIndexOf(";",k-1)+1;continue}const O=u(y,S,k),H=c(y,k,O),D=y.slice(O,H);if(b[D]===void 0){let X=u(y,k+1,A),V=c(y,A,X);const oe=I(y.slice(X,V));b[D]=oe}S=A+1}while(S<E);return b}function u(y,w,b){do{const E=y.charCodeAt(w);if(E!==32&&E!==9)return w}while(++w<b);return b}function c(y,w,b){for(;w>b;){const E=y.charCodeAt(--w);if(E!==32&&E!==9)return w+1}return b}function d(y,w,b){const E=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const I=E(w);if(!e.test(I))throw new TypeError(`argument val is invalid: ${w}`);let S=y+"="+I;if(!b)return S;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);S+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);S+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);S+="; Path="+b.path}if(b.expires){if(!v(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);S+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(S+="; HttpOnly"),b.secure&&(S+="; Secure"),b.partitioned&&(S+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return S}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return i.call(y)==="[object Date]"}return hv}KB();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CN="popstate";function YB(t={}){function e(r,i){let{pathname:o,search:a,hash:u}=r.location;return JI("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qv(i)}return QB(e,n,null,t)}function Cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ns(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XB(){return Math.random().toString(36).substring(2,10)}function xN(t,e){return{usr:t.state,key:t.key,idx:e}}function JI(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?em(e):e,state:n,key:e&&e.key||r||XB()}}function Qv({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function em(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function QB(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,u="POP",c=null,d=p();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function p(){return(a.state||{idx:null}).idx}function v(){u="POP";let I=p(),S=I==null?null:I-d;d=I,c&&c({action:u,location:E.location,delta:S})}function y(I,S){u="PUSH";let k=JI(E.location,I,S);d=p()+1;let C=xN(k,d),A=E.createHref(k);try{a.pushState(C,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(A)}o&&c&&c({action:u,location:E.location,delta:1})}function w(I,S){u="REPLACE";let k=JI(E.location,I,S);d=p();let C=xN(k,d),A=E.createHref(k);a.replaceState(C,"",A),o&&c&&c({action:u,location:E.location,delta:0})}function b(I){let S=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof I=="string"?I:Qv(I);return k=k.replace(/ $/,"%20"),Cn(S,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,S)}let E={get action(){return u},get location(){return t(i,a)},listen(I){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(CN,v),c=I,()=>{i.removeEventListener(CN,v),c=null}},createHref(I){return e(i,I)},createURL:b,encodeLocation(I){let S=b(I);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:w,go(I){return a.go(I)}};return E}function uF(t,e,n="/"){return JB(t,e,n,!1)}function JB(t,e,n,r){let i=typeof e=="string"?em(e):e,o=hc(i.pathname||"/",n);if(o==null)return null;let a=lF(t);ZB(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let d=c8(o);u=u8(a[c],d,r)}return u}function lF(t,e=[],n=[],r=""){let i=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Cn(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=xu([r,c.relativePath]),p=n.concat(c);o.children&&o.children.length>0&&(Cn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),lF(o.children,e,p,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:s8(d,o.index),routesMeta:p})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of cF(o.path))i(o,a,c)}),e}function cF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=cF(r.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function ZB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var e8=/^:[\w-]+$/,t8=3,n8=2,r8=1,i8=10,o8=-2,kN=t=>t==="*";function s8(t,e){let n=t.split("/"),r=n.length;return n.some(kN)&&(r+=o8),e&&(r+=n8),n.filter(i=>!kN(i)).reduce((i,o)=>i+(e8.test(o)?t8:o===""?r8:i8),r)}function a8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function u8(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",v=A_({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),y=c.route;if(!v&&d&&n&&!r[r.length-1].route.index&&(v=A_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),a.push({params:i,pathname:xu([o,v.pathname]),pathnameBase:p8(xu([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=xu([o,v.pathnameBase]))}return a}function A_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=l8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:v},y)=>{if(p==="*"){let b=u[y]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const w=u[y];return v&&!w?d[p]=void 0:d[p]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function l8(t,e=!1,n=!0){Ns(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function c8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ns(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function f8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?em(t):t;return{pathname:n?n.startsWith("/")?n:h8(n,e):e,search:m8(r),hash:g8(i)}}function h8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function DS(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tx(t){let e=d8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ix(t,e,n,r=!1){let i;typeof t=="string"?i=em(t):(i={...t},Cn(!i.pathname||!i.pathname.includes("?"),DS("?","pathname","search",i)),Cn(!i.pathname||!i.pathname.includes("#"),DS("#","pathname","hash",i)),Cn(!i.search||!i.search.includes("#"),DS("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,u;if(a==null)u=n;else{let v=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}u=v>=0?e[v]:"/"}let c=f8(i,u),d=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}var xu=t=>t.join("/").replace(/\/\/+/g,"/"),p8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var fF=["POST","PUT","PATCH","DELETE"];new Set(fF);var y8=["GET",...fF];new Set(y8);var tm=J.createContext(null);tm.displayName="DataRouter";var Pb=J.createContext(null);Pb.displayName="DataRouterState";var hF=J.createContext({isTransitioning:!1});hF.displayName="ViewTransition";var w8=J.createContext(new Map);w8.displayName="Fetchers";var _8=J.createContext(null);_8.displayName="Await";var Ps=J.createContext(null);Ps.displayName="Navigation";var Ay=J.createContext(null);Ay.displayName="Location";var Ds=J.createContext({outlet:null,matches:[],isDataRoute:!1});Ds.displayName="Route";var Cx=J.createContext(null);Cx.displayName="RouteError";function b8(t,{relative:e}={}){Cn(nm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=J.useContext(Ps),{hash:i,pathname:o,search:a}=Ry(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:xu([n,o])),r.createHref({pathname:u,search:a,hash:i})}function nm(){return J.useContext(Ay)!=null}function _c(){return Cn(nm(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(Ay).location}var dF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pF(t){J.useContext(Ps).static||J.useLayoutEffect(t)}function Db(){let{isDataRoute:t}=J.useContext(Ds);return t?L8():E8()}function E8(){Cn(nm(),"useNavigate() may be used only in the context of a <Router> component.");let t=J.useContext(tm),{basename:e,navigator:n}=J.useContext(Ps),{matches:r}=J.useContext(Ds),{pathname:i}=_c(),o=JSON.stringify(Tx(r)),a=J.useRef(!1);return pF(()=>{a.current=!0}),J.useCallback((c,d={})=>{if(Ns(a.current,dF),!a.current)return;if(typeof c=="number"){n.go(c);return}let p=Ix(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:xu([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,o,i,t])}J.createContext(null);function S8(){let{matches:t}=J.useContext(Ds),e=t[t.length-1];return e?e.params:{}}function Ry(t,{relative:e}={}){let{matches:n}=J.useContext(Ds),{pathname:r}=_c(),i=JSON.stringify(Tx(n));return J.useMemo(()=>Ix(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function T8(t,e){return mF(t,e)}function mF(t,e,n,r){var S;Cn(nm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=J.useContext(Ps),{matches:o}=J.useContext(Ds),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",p=a&&a.route;{let k=p&&p.path||"";gF(c,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=_c(),y;if(e){let k=typeof e=="string"?em(e):e;Cn(d==="/"||((S=k.pathname)==null?void 0:S.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),y=k}else y=v;let w=y.pathname||"/",b=w;if(d!=="/"){let k=d.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let E=uF(t,{pathname:b});Ns(p||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ns(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=A8(E&&E.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:xu([d,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:xu([d,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&I?J.createElement(Ay.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},I):I}function I8(){let t=D8(),e=v8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=J.createElement(J.Fragment,null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:o},"ErrorBoundary")," or"," ",J.createElement("code",{style:o},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:i},n):null,a)}var C8=J.createElement(I8,null),x8=class extends J.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?J.createElement(Ds.Provider,{value:this.props.routeContext},J.createElement(Cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function k8({routeContext:t,match:e,children:n}){let r=J.useContext(tm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(Ds.Provider,{value:t},n)}function A8(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Cn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:v}=n,y=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,d,p)=>{let v,y=!1,w=null,b=null;n&&(v=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||C8,a&&(u<0&&p===0?(gF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):u===p&&(y=!0,b=d.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,p+1)),I=()=>{let S;return v?S=w:y?S=b:d.route.Component?S=J.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=c,J.createElement(k8,{match:d,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?J.createElement(x8,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:I(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):I()},null)}function xx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R8(t){let e=J.useContext(tm);return Cn(e,xx(t)),e}function N8(t){let e=J.useContext(Pb);return Cn(e,xx(t)),e}function O8(t){let e=J.useContext(Ds);return Cn(e,xx(t)),e}function kx(t){let e=O8(t),n=e.matches[e.matches.length-1];return Cn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function P8(){return kx("useRouteId")}function D8(){var r;let t=J.useContext(Cx),e=N8("useRouteError"),n=kx("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function L8(){let{router:t}=R8("useNavigate"),e=kx("useNavigate"),n=J.useRef(!1);return pF(()=>{n.current=!0}),J.useCallback(async(i,o={})=>{Ns(n.current,dF),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var AN={};function gF(t,e,n){!e&&!AN[t]&&(AN[t]=!0,Ns(!1,n))}J.memo(M8);function M8({routes:t,future:e,state:n}){return mF(t,void 0,n,e)}function Zd({to:t,replace:e,state:n,relative:r}){Cn(nm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=J.useContext(Ps);Ns(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=J.useContext(Ds),{pathname:a}=_c(),u=Db(),c=Ix(t,Tx(o),a,r==="path"),d=JSON.stringify(c);return J.useEffect(()=>{u(JSON.parse(d),{replace:e,state:n,relative:r})},[u,d,r,e,n]),null}function ka(t){Cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Cn(!nm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=J.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=em(n));let{pathname:c="/",search:d="",hash:p="",state:v=null,key:y="default"}=n,w=J.useMemo(()=>{let b=hc(c,a);return b==null?null:{location:{pathname:b,search:d,hash:p,state:v,key:y},navigationType:r}},[a,c,d,p,v,y,r]);return Ns(w!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:J.createElement(Ps.Provider,{value:u},J.createElement(Ay.Provider,{children:e,value:w}))}function vF({children:t,location:e}){return T8(ZI(t),e)}function ZI(t,e=[]){let n=[];return J.Children.forEach(t,(r,i)=>{if(!J.isValidElement(r))return;let o=[...e,i];if(r.type===J.Fragment){n.push.apply(n,ZI(r.props.children,o));return}Cn(r.type===ka,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ZI(r.props.children,o)),n.push(a)}),n}var h_="get",d_="application/x-www-form-urlencoded";function Lb(t){return t!=null&&typeof t.tagName=="string"}function U8(t){return Lb(t)&&t.tagName.toLowerCase()==="button"}function j8(t){return Lb(t)&&t.tagName.toLowerCase()==="form"}function B8(t){return Lb(t)&&t.tagName.toLowerCase()==="input"}function V8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z8(t,e){return t.button===0&&(!e||e==="_self")&&!V8(t)}var R0=null;function H8(){if(R0===null)try{new FormData(document.createElement("form"),0),R0=!1}catch{R0=!0}return R0}var W8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function LS(t){return t!=null&&!W8.has(t)?(Ns(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${d_}"`),null):t}function q8(t,e){let n,r,i,o,a;if(j8(t)){let u=t.getAttribute("action");r=u?hc(u,e):null,n=t.getAttribute("method")||h_,i=LS(t.getAttribute("enctype"))||d_,o=new FormData(t)}else if(U8(t)||B8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?hc(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||h_,i=LS(t.getAttribute("formenctype"))||LS(u.getAttribute("enctype"))||d_,o=new FormData(u,t),!H8()){let{name:d,type:p,value:v}=t;if(p==="image"){let y=d?`${d}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else d&&o.append(d,v)}}else{if(Lb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=h_,r=null,i=d_,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function Ax(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function $8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function K8(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await $8(o,n);return a.links?a.links():[]}return[]}));return J8(r.flat(1).filter(G8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function RN(t,e,n,r,i,o){let a=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>{var p;return n[d].pathname!==c.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,d)=>a(c,d)||u(c,d)):o==="data"?e.filter((c,d)=>{var v;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(a(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Y8(t,e){return X8(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function X8(t){return[...new Set(t)]}function Q8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function J8(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Q8(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function Z8(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function eV(){let t=J.useContext(tm);return Ax(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tV(){let t=J.useContext(Pb);return Ax(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rx=J.createContext(void 0);Rx.displayName="FrameworkContext";function yF(){let t=J.useContext(Rx);return Ax(t,"You must render this element inside a <HydratedRouter> element"),t}function nV(t,e){let n=J.useContext(Rx),[r,i]=J.useState(!1),[o,a]=J.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:p,onTouchStart:v}=e,y=J.useRef(null);J.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let E=S=>{S.forEach(k=>{a(k.isIntersecting)})},I=new IntersectionObserver(E,{threshold:.5});return y.current&&I.observe(y.current),()=>{I.disconnect()}}},[t]),J.useEffect(()=>{if(r){let E=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{i(!0)},b=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:dv(u,w),onBlur:dv(c,b),onMouseEnter:dv(d,w),onMouseLeave:dv(p,b),onTouchStart:dv(v,w)}]:[!1,y,{}]}function dv(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rV({page:t,...e}){let{router:n}=eV(),r=J.useMemo(()=>uF(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?J.createElement(oV,{page:t,matches:r,...e}):null}function iV(t){let{manifest:e,routeModules:n}=yF(),[r,i]=J.useState([]);return J.useEffect(()=>{let o=!1;return K8(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function oV({page:t,matches:e,...n}){let r=_c(),{manifest:i,routeModules:o}=yF(),{loaderData:a,matches:u}=tV(),c=J.useMemo(()=>RN(t,e,u,i,r,"data"),[t,e,u,i,r]),d=J.useMemo(()=>RN(t,e,u,i,r,"assets"),[t,e,u,i,r]),p=J.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,b=!1;if(e.forEach(I=>{var k;let S=i.routes[I.route.id];!S||!S.hasLoader||(!c.some(C=>C.route.id===I.route.id)&&I.route.id in a&&((k=o[I.route.id])!=null&&k.shouldRevalidate)||S.hasClientLoader?b=!0:w.add(I.route.id))}),w.size===0)return[];let E=Z8(t);return b&&w.size>0&&E.searchParams.set("_routes",e.filter(I=>w.has(I.route.id)).map(I=>I.route.id).join(",")),[E.pathname+E.search]},[a,r,i,c,e,t,o]),v=J.useMemo(()=>Y8(d,i),[d,i]),y=iV(d);return J.createElement(J.Fragment,null,p.map(w=>J.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>J.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:b})=>J.createElement("link",{key:w,...b})))}function sV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wF&&(window.__reactRouterVersion="7.1.3")}catch{}function aV({basename:t,children:e,window:n}){let r=J.useRef();r.current==null&&(r.current=YB({window:n,v5Compat:!0}));let i=r.current,[o,a]=J.useState({action:i.action,location:i.location}),u=J.useCallback(c=>{J.startTransition(()=>a(c))},[a]);return J.useLayoutEffect(()=>i.listen(u),[i,u]),J.createElement(F8,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var _F=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mb=J.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:u,target:c,to:d,preventScrollReset:p,viewTransition:v,...y},w){let{basename:b}=J.useContext(Ps),E=typeof d=="string"&&_F.test(d),I,S=!1;if(typeof d=="string"&&E&&(I=d,wF))try{let V=new URL(window.location.href),oe=d.startsWith("//")?new URL(V.protocol+d):new URL(d),Ie=hc(oe.pathname,b);oe.origin===V.origin&&Ie!=null?d=Ie+oe.search+oe.hash:S=!0}catch{Ns(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=b8(d,{relative:i}),[C,A,O]=nV(r,y),H=cV(d,{replace:a,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:v});function D(V){e&&e(V),V.defaultPrevented||H(V)}let X=J.createElement("a",{...y,...O,href:I||k,onClick:S||o?e:D,ref:sV(w,A),target:c,"data-discover":!E&&n==="render"?"true":void 0});return C&&!E?J.createElement(J.Fragment,null,X,J.createElement(rV,{page:k})):X});Mb.displayName="Link";var th=J.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:u,children:c,...d},p){let v=Ry(a,{relative:d.relative}),y=_c(),w=J.useContext(Pb),{navigator:b,basename:E}=J.useContext(Ps),I=w!=null&&mV(v)&&u===!0,S=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,k=y.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(k=k.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&E&&(C=hc(C,E)||C);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=k===S||!i&&k.startsWith(S)&&k.charAt(A)==="/",H=C!=null&&(C===S||!i&&C.startsWith(S)&&C.charAt(S.length)==="/"),D={isActive:O,isPending:H,isTransitioning:I},X=O?e:void 0,V;typeof r=="function"?V=r(D):V=[r,O?"active":null,H?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let oe=typeof o=="function"?o(D):o;return J.createElement(Mb,{...d,"aria-current":X,className:V,ref:p,style:oe,to:a,viewTransition:u},typeof c=="function"?c(D):c)});th.displayName="NavLink";var uV=J.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=h_,action:u,onSubmit:c,relative:d,preventScrollReset:p,viewTransition:v,...y},w)=>{let b=dV(),E=pV(u,{relative:d}),I=a.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&_F.test(u),k=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,O=(A==null?void 0:A.getAttribute("formmethod"))||a;b(A||C.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:d,preventScrollReset:p,viewTransition:v})};return J.createElement("form",{ref:w,method:I,action:E,onSubmit:r?c:k,...y,"data-discover":!S&&t==="render"?"true":void 0})});uV.displayName="Form";function lV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bF(t){let e=J.useContext(tm);return Cn(e,lV(t)),e}function cV(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let u=Db(),c=_c(),d=Ry(t,{relative:o});return J.useCallback(p=>{if(z8(p,e)){p.preventDefault();let v=n!==void 0?n:Qv(c)===Qv(d);u(t,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,d,n,r,e,t,i,o,a])}var fV=0,hV=()=>`__${String(++fV)}__`;function dV(){let{router:t}=bF("useSubmit"),{basename:e}=J.useContext(Ps),n=P8();return J.useCallback(async(r,i={})=>{let{action:o,method:a,encType:u,formData:c,body:d}=q8(r,e);if(i.navigate===!1){let p=i.fetcherKey||hV();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function pV(t,{relative:e}={}){let{basename:n}=J.useContext(Ps),r=J.useContext(Ds);Cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ry(t||".",{relative:e})},a=_c();if(t==null){o.search=a.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:xu([n,o.pathname])),Qv(o)}function mV(t,e={}){let n=J.useContext(hF);Cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bF("useViewTransitionState"),i=Ry(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=hc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=hc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return A_(i.pathname,a)!=null||A_(i.pathname,o)!=null}new TextEncoder;var gV=aF();function Ep({src:t}){return ee.jsx("div",{className:"avatar",children:ee.jsx("img",{src:t,alt:"avatar of the user"})})}function vV({projects:t}){const[e,n]=J.useState(""),r=t.filter(i=>i.name.toLowerCase().includes(e.toLowerCase()));return ee.jsxs("div",{className:"project-list-container",children:[ee.jsx("div",{className:"search-bar",children:ee.jsx("input",{type:"text",placeholder:"Search",value:e,onChange:i=>n(i.target.value)})}),ee.jsxs("div",{className:"project-list",children:[r.length===0&&ee.jsx("p",{children:"There are no projects yet"}),r.map(i=>ee.jsxs(Mb,{to:`/projects/${i.id}`,children:[ee.jsx("h4",{children:i.name}),ee.jsx("p",{children:i.dueDate.toDate().toDateString()}),ee.jsx("div",{className:"assigned-to",children:ee.jsx("ul",{children:i.assignedUsersList.map(o=>ee.jsx("li",{children:ee.jsx(Ep,{src:o.photoURL})},o.photoURL))})})]},i.id))]})]})}const NN=["Active","Completed"];function yV({currentFilter:t,changeFilter:e}){const[n,r]=J.useState(window.innerWidth),[i,o]=J.useState(!1);J.useEffect(()=>(window.addEventListener("resize",()=>r(window.innerWidth)),()=>window.removeEventListener("resize",()=>r(window.innerWidth))),[]);const a=700,u=c=>{e(c)};return ee.jsx(ee.Fragment,{children:n>=a?ee.jsxs("div",{className:"project-filter",children:[ee.jsx("nav",{children:ee.jsx("p",{children:"PROJECT LIST"})}),ee.jsx("div",{className:"flex gap-4",children:NN.map(c=>ee.jsx("button",{onClick:()=>{u(c)},className:t===c?"active":"",children:c},c))})]}):ee.jsxs("div",{className:"menu-container",children:[ee.jsx("div",{className:"drop-down-container",children:ee.jsx("p",{children:"PROJECT LIST"})}),i&&ee.jsx("nav",{children:NN.map(c=>ee.jsxs("button",{onClick:()=>{u(c),o(!1)},className:t===c?"active":"",children:[c,"omom"]},c))})]})})}var eC=function(t,e){return eC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},eC(t,e)};function Ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vt=function(){return vt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},vt.apply(this,arguments)};function ve(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(p){try{d(r.next(p))}catch(v){a(v)}}function c(p){try{d(r.throw(p))}catch(v){a(v)}}function d(p){p.done?o(p.value):i(p.value).then(u,c)}d((r=r.apply(t,e||[])).next())})}function ge(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(d){return function(p){return c([d,p])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(p){d=[6,p],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Lr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Ct(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EF={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe=function(t,e){if(!t)throw rm(e)},rm=function(t){return new Error("Firebase Database ("+EF.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SF=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wV=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,p=o>>2,v=(o&3)<<4|u>>4,y=(u&15)<<2|d>>6,w=d&63;c||(w=64,a||(y=64)),r.push(n[p],n[v],n[y],n[w])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SF(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,u=a?n[t.charAt(i)]:0;++i;var c=i<t.length,d=c?n[t.charAt(i)]:64;++i;var p=i<t.length,v=p?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||v==null)throw Error();var y=o<<2|u>>4;if(r.push(y),d!==64){var w=u<<4&240|d>>2;if(r.push(w),v!==64){var b=d<<6&192|v;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},TF=function(t){var e=SF(t);return Fb.encodeByteArray(e,!0)},ON=function(t){return TF(t).replace(/\./g,"")},PN=function(t){try{return Fb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){return Jv(void 0,t)}function Jv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!_V(r)||(t[r]=Jv(t[r],e[r]));return t}function _V(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=vt({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[ON(JSON.stringify(n)),ON(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ox(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(uh())}function CF(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bV(){return typeof self=="object"&&self.self===self}function Px(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EV(){return uh().indexOf("Electron/")>=0}function SV(){var t=uh();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TV(){return uh().indexOf("MSAppHost/")>=0}function IV(){return EF.NODE_ADMIN===!0}function CV(){return!CF()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ny(){return"indexedDB"in self&&indexedDB!=null}function Dx(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function kF(){return!(!navigator||!navigator.cookieEnabled)}function xV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kV="FirebaseError",im=function(t){Ye(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=kV,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ju.prototype.create),o}return e}(Error),ju=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],u=a?AV(a,i):"Error",c=this.serviceName+": "+u+" ("+o+").",d=new im(o,c,i);return d},t}();function AV(t,e){return t.replace(RV,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var RV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){return JSON.parse(t)}function fr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lx=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Zv(PN(o[0])||""),n=Zv(PN(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},NV=function(t){var e=Lx(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},OV=function(t){var e=Lx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PV=function(t){var e=Lx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lh(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function tC(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function R_(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){for(var e=[],n=function(c,d){Array.isArray(d)?d.forEach(function(p){e.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):e.push(encodeURIComponent(c)+"="+encodeURIComponent(d))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],u=o[1];n(a,u)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LV=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],d=this.chain_[3],p=this.chain_[4],v,y,i=0;i<80;i++){i<40?i<20?(v=d^u&(c^d),y=1518500249):(v=u^c^d,y=1859775393):i<60?(v=u&c|d&(u|c),y=2400959708):(v=u^c^d,y=3395469782);var o=(a<<5|a>>>27)+v+p+y+r[i]&4294967295;p=d,d=c,c=(u<<30|u>>>2)&4294967295,u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();function MV(t,e){var n=new FV(t,e);return n.subscribe.bind(n)}var FV=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UV(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=MS),o.error===void 0&&(o.error=MS),o.complete===void 0&&(o.complete=MS);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function UV(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function MS(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Ji(t,e){return t+" failed: "+e+" argument "}function Rr(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Ji(t,e)+"must be a valid function.")}function DN(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(Ji(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jV=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,qe(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ub=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BV=1e3,VV=2,zV=4*60*60*1e3,HV=.5;function nC(t,e,n){e===void 0&&(e=BV),n===void 0&&(n=VV);var r=e*Math.pow(n,t),i=Math.round(HV*r*(Math.random()-.5)*2);return Math.min(zV,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}var yi=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AF=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new Pr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(qV(e))try{this.getOrInitializeService({instanceIdentifier:Vf})}catch{}try{for(var i=Lr(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Kr(o.value,2),u=a[0],c=a[1],d=this.normalizeInstanceIdentifier(u);try{var p=this.getOrInitializeService({instanceIdentifier:d});c.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Vf),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ct(Ct([],Kr(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Kr(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=Vf),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=Vf),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.options,o=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=Lr(this.instancesDeferred.entries()),d=c.next();!d.done;d=c.next()){var p=Kr(d.value,2),v=p[0],y=p[1],w=this.normalizeInstanceIdentifier(v);a===w&&y.resolve(u)}}catch(b){n={error:b}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return u},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var a=this.instances.get(i);return a&&e(a,i),function(){o.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var a=Lr(o),u=a.next();!u.done;u=a.next()){var c=u.value;try{c(e,n)}catch{}}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:WV(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=Vf),this.component?this.component.multipleInstances?e:Vf:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function WV(t){return t===Vf?void 0:t}function qV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RF=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new AF(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Is(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ff,Mx=[],Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));var NF={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},$V=Lt.INFO,GV=(Ff={},Ff[Lt.DEBUG]="log",Ff[Lt.VERBOSE]="log",Ff[Lt.INFO]="info",Ff[Lt.WARN]="warn",Ff[Lt.ERROR]="error",Ff),KV=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=GV[e];if(o)console[o].apply(console,Is(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Eh=function(){function t(e){this.name=e,this._logLevel=$V,this._logHandler=KV,this._userLogHandler=null,Mx.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Lt))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?NF[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.DEBUG],e)),this._logHandler.apply(this,Is([this,Lt.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.VERBOSE],e)),this._logHandler.apply(this,Is([this,Lt.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.INFO],e)),this._logHandler.apply(this,Is([this,Lt.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.WARN],e)),this._logHandler.apply(this,Is([this,Lt.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Is([this,Lt.ERROR],e)),this._logHandler.apply(this,Is([this,Lt.ERROR],e))},t}();function YV(t){Mx.forEach(function(e){e.setLogLevel(t)})}function XV(t,e){for(var n=function(a){var u=null;e&&e.level&&(u=NF[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(c,d){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var y=p.map(function(w){if(w==null)return null;if(typeof w=="string")return w;if(typeof w=="number"||typeof w=="boolean")return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch{return null}}).filter(function(w){return w}).join(" ");d>=(u??c.logLevel)&&t({level:Lt[d].toLowerCase(),message:y,args:p,type:c.name})}},r=0,i=Mx;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yl,QV=(Yl={},Yl["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Yl["bad-app-name"]="Illegal App name: '{$appName}",Yl["duplicate-app"]="Firebase App named '{$appName}' already exists",Yl["app-deleted"]="Firebase App named '{$appName}' already deleted",Yl["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Yl["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Yl),ap=new ju("app","Firebase",QV),OF="@firebase/app",JV="0.6.30",ZV="@firebase/analytics",e9="@firebase/app-check",t9="@firebase/auth",n9="@firebase/database",r9="@firebase/functions",i9="@firebase/installations",o9="@firebase/messaging",s9="@firebase/performance",a9="@firebase/remote-config",u9="@firebase/storage",l9="@firebase/firestore",c9="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci,N_="[DEFAULT]",f9=(ci={},ci[OF]="fire-core",ci[ZV]="fire-analytics",ci[e9]="fire-app-check",ci[t9]="fire-auth",ci[n9]="fire-rtdb",ci[r9]="fire-fn",ci[i9]="fire-iid",ci[o9]="fire-fcm",ci[s9]="fire-perf",ci[a9]="fire-rc",ci[u9]="fire-gcs",ci[l9]="fire-fst",ci["fire-js"]="fire-js",ci[c9]="fire-js-all",ci);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sp=new Eh("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p_=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=IF(e),this.container=new RF(n.name),this._addComponent(new yi("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=N_),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=N_),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Sp.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ap.create("app-deleted",{appName:this.name_})},t}();p_.prototype.name&&p_.prototype.options||p_.prototype.delete||console.log("dc");var h9="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:d,setLogLevel:YV,onLog:p,apps:null,SDK_VERSION:h9,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(y){delete e[y]}function o(y){if(y=y||N_,!bo(e,y))throw ap.create("no-app",{appName:y});return e[y]}o.App=t;function a(y,w){if(w===void 0&&(w={}),typeof w!="object"||w===null){var b=w;w={name:b}}var E=w;E.name===void 0&&(E.name=N_);var I=E.name;if(typeof I!="string"||!I)throw ap.create("bad-app-name",{appName:String(I)});if(bo(e,I))throw ap.create("duplicate-app",{appName:I});var S=new t(y,E,r);return e[I]=S,S}function u(){return Object.keys(e).map(function(y){return e[y]})}function c(y){var w=y.name;if(n.has(w))return Sp.debug("There were multiple attempts to register component "+w+"."),y.type==="PUBLIC"?r[w]:null;if(n.set(w,y),y.type==="PUBLIC"){var b=function(k){if(k===void 0&&(k=o()),typeof k[w]!="function")throw ap.create("invalid-app-argument",{appName:w});return k[w]()};y.serviceProps!==void 0&&Jv(b,y.serviceProps),r[w]=b,t.prototype[w]=function(){for(var k=[],C=0;C<arguments.length;C++)k[C]=arguments[C];var A=this._getService.bind(this,w);return A.apply(this,y.multipleInstances?k:[])}}for(var E=0,I=Object.keys(e);E<I.length;E++){var S=I[E];e[S]._addComponent(y)}return y.type==="PUBLIC"?r[w]:null}function d(y,w,b){var E,I=(E=f9[y])!==null&&E!==void 0?E:y;b&&(I+="-"+b);var S=I.match(/\s|\//),k=w.match(/\s|\//);if(S||k){var C=['Unable to register library "'+I+'" with version "'+w+'":'];S&&C.push('library name "'+I+'" contains illegal characters (whitespace or "/")'),S&&k&&C.push("and"),k&&C.push('version name "'+w+'" contains illegal characters (whitespace or "/")'),Sp.warn(C.join(" "));return}c(new yi(I+"-version",function(){return{library:I,version:w}},"VERSION"))}function p(y,w){if(y!==null&&typeof y!="function")throw ap.create("invalid-log-argument");XV(y,w)}function v(y,w){if(w==="serverAuth")return null;var b=w;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(){var t=d9(p_);t.INTERNAL=vt(vt({},t.INTERNAL),{createFirebaseNamespace:PF,extendNamespace:e,createSubscribe:MV,ErrorFactory:ju,deepExtend:Jv});function e(n){Jv(t,n)}return t}var Fx=PF();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p9=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(m9(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function m9(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e){t.INTERNAL.registerComponent(new yi("platform-logger",function(n){return new p9(n)},"PRIVATE")),t.registerVersion(OF,JV,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(bV()&&self.firebase!==void 0){Sp.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var LN=self.firebase.SDK_VERSION;LN&&LN.indexOf("LITE")>=0&&Sp.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var v9=Fx.initializeApp;Fx.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return CF()&&Sp.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),v9.apply(void 0,t)};var at=Fx;g9(at);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,f,g){s!=Array.prototype&&s!=Object.prototype&&(s[f]=g.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var f=0;f<s.length;++f){var g=s[f];if(g&&g.Math==Math)return g}return globalThis}var r=n(this);function i(s,f){if(f){var g=r;s=s.split(".");for(var T=0;T<s.length-1;T++){var P=s[T];P in g||(g[P]={}),g=g[P]}s=s[s.length-1],T=g[s],f=f(T),f!=T&&f!=null&&e(g,s,{configurable:!0,writable:!0,value:f})}}function o(s){var f=0;return function(){return f<s.length?{done:!1,value:s[f++]}:{done:!0}}}function a(s){var f=typeof Symbol<"u"&&Symbol.iterator&&s[Symbol.iterator];return f?f.call(s):{next:o(s)}}i("Promise",function(s){function f(Y){this.b=0,this.c=void 0,this.a=[];var fe=this.f();try{Y(fe.resolve,fe.reject)}catch(Le){fe.reject(Le)}}function g(){this.a=null}function T(Y){return Y instanceof f?Y:new f(function(fe){fe(Y)})}if(s)return s;g.prototype.b=function(Y){if(this.a==null){this.a=[];var fe=this;this.c(function(){fe.g()})}this.a.push(Y)};var P=r.setTimeout;g.prototype.c=function(Y){P(Y,0)},g.prototype.g=function(){for(;this.a&&this.a.length;){var Y=this.a;this.a=[];for(var fe=0;fe<Y.length;++fe){var Le=Y[fe];Y[fe]=null;try{Le()}catch(Ue){this.f(Ue)}}}this.a=null},g.prototype.f=function(Y){this.c(function(){throw Y})},f.prototype.f=function(){function Y(Ue){return function(_t){Le||(Le=!0,Ue.call(fe,_t))}}var fe=this,Le=!1;return{resolve:Y(this.m),reject:Y(this.g)}},f.prototype.m=function(Y){if(Y===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Y instanceof f)this.s(Y);else{e:switch(typeof Y){case"object":var fe=Y!=null;break e;case"function":fe=!0;break e;default:fe=!1}fe?this.v(Y):this.h(Y)}},f.prototype.v=function(Y){var fe=void 0;try{fe=Y.then}catch(Le){this.g(Le);return}typeof fe=="function"?this.u(fe,Y):this.h(Y)},f.prototype.g=function(Y){this.i(2,Y)},f.prototype.h=function(Y){this.i(1,Y)},f.prototype.i=function(Y,fe){if(this.b!=0)throw Error("Cannot settle("+Y+", "+fe+"): Promise already settled in state"+this.b);this.b=Y,this.c=fe,this.l()},f.prototype.l=function(){if(this.a!=null){for(var Y=0;Y<this.a.length;++Y)q.b(this.a[Y]);this.a=null}};var q=new g;return f.prototype.s=function(Y){var fe=this.f();Y.Ra(fe.resolve,fe.reject)},f.prototype.u=function(Y,fe){var Le=this.f();try{Y.call(fe,Le.resolve,Le.reject)}catch(Ue){Le.reject(Ue)}},f.prototype.then=function(Y,fe){function Le(Ht,kr){return typeof Ht=="function"?function(yu){try{Ue(Ht(yu))}catch(kS){_t(kS)}}:kr}var Ue,_t,en=new f(function(Ht,kr){Ue=Ht,_t=kr});return this.Ra(Le(Y,Ue),Le(fe,_t)),en},f.prototype.catch=function(Y){return this.then(void 0,Y)},f.prototype.Ra=function(Y,fe){function Le(){switch(Ue.b){case 1:Y(Ue.c);break;case 2:fe(Ue.c);break;default:throw Error("Unexpected state: "+Ue.b)}}var Ue=this;this.a==null?q.b(Le):this.a.push(Le)},f.resolve=T,f.reject=function(Y){return new f(function(fe,Le){Le(Y)})},f.race=function(Y){return new f(function(fe,Le){for(var Ue=a(Y),_t=Ue.next();!_t.done;_t=Ue.next())T(_t.value).Ra(fe,Le)})},f.all=function(Y){var fe=a(Y),Le=fe.next();return Le.done?T([]):new f(function(Ue,_t){function en(yu){return function(kS){Ht[yu]=kS,kr--,kr==0&&Ue(Ht)}}var Ht=[],kr=0;do Ht.push(void 0),kr++,T(Le.value).Ra(en(Ht.length-1),_t),Le=fe.next();while(!Le.done)})},f});var u=u||{},c=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&d.test(s)?s:""}function y(){}function w(s){var f=typeof s;return f!="object"?f:s?Array.isArray(s)?"array":f:"null"}function b(s){var f=w(s);return f=="array"||f=="object"&&typeof s.length=="number"}function E(s){return w(s)=="function"}function I(s){var f=typeof s;return f=="object"&&s!=null||f=="function"}function S(s,f,g){return s.call.apply(s.bind,arguments)}function k(s,f,g){if(!s)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),s.apply(f,P)}}return function(){return s.apply(f,arguments)}}function C(s,f,g){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C=S:C=k,C.apply(null,arguments)}function A(s,f){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),s.apply(this,T)}}function O(s,f){function g(){}g.prototype=f.prototype,s.bb=f.prototype,s.prototype=new g,s.prototype.constructor=s}function H(s){return s}function D(s,f,g){this.code=V+s,this.message=f||oe[s]||"",this.a=g||null}O(D,Error),D.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},D.prototype.toJSON=function(){return this.w()};function X(s){var f=s&&s.code;return f?new D(f.substring(V.length),s.message,s.serverResponse):null}var V="auth/",oe={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ie={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function $(s){for(var f in Ie)if(Ie[f].id===s)return s=Ie[f],{firebaseEndpoint:s.Ua,secureTokenEndpoint:s.$a,identityPlatformEndpoint:s.Xa};return null}var te;te=$("__EID__")?"__EID__":void 0;function j(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function he(s){if(Error.captureStackTrace)Error.captureStackTrace(this,he);else{var f=Error().stack;f&&(this.stack=f)}s&&(this.message=String(s))}O(he,Error),he.prototype.name="CustomError";function Ee(s,f){s=s.split("%s");for(var g="",T=s.length-1,P=0;P<T;P++)g+=s[P]+(P<f.length?f[P]:"%s");he.call(this,g+s[T])}O(Ee,he),Ee.prototype.name="AssertionError";function re(s,f){throw new Ee("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function pe(s,f){this.c=s,this.f=f,this.b=0,this.a=null}pe.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function me(s,f){s.f(f),100>s.b&&(s.b++,f.next=s.a,s.a=f)}function Se(){this.b=this.a=null}var G=new pe(function(){return new ae},function(s){s.reset()});Se.prototype.add=function(s,f){var g=G.get();g.set(s,f),this.b?this.b.next=g:this.a=g,this.b=g};function W(){var s=zt,f=null;return s.a&&(f=s.a,s.a=s.a.next,s.a||(s.b=null),f.next=null),f}function ae(){this.next=this.b=this.a=null}ae.prototype.set=function(s,f){this.a=s,this.b=f,this.next=null},ae.prototype.reset=function(){this.next=this.b=this.a=null};var de=Array.prototype.indexOf?function(s,f){return Array.prototype.indexOf.call(s,f,void 0)}:function(s,f){if(typeof s=="string")return typeof f!="string"||f.length!=1?-1:s.indexOf(f,0);for(var g=0;g<s.length;g++)if(g in s&&s[g]===f)return g;return-1},_e=Array.prototype.forEach?function(s,f,g){Array.prototype.forEach.call(s,f,g)}:function(s,f,g){for(var T=s.length,P=typeof s=="string"?s.split(""):s,q=0;q<T;q++)q in P&&f.call(g,P[q],q,s)};function le(s,f){for(var g=typeof s=="string"?s.split(""):s,T=s.length-1;0<=T;--T)T in g&&f.call(void 0,g[T],T,s)}var B=Array.prototype.filter?function(s,f){return Array.prototype.filter.call(s,f,void 0)}:function(s,f){for(var g=s.length,T=[],P=0,q=typeof s=="string"?s.split(""):s,Y=0;Y<g;Y++)if(Y in q){var fe=q[Y];f.call(void 0,fe,Y,s)&&(T[P++]=fe)}return T},M=Array.prototype.map?function(s,f){return Array.prototype.map.call(s,f,void 0)}:function(s,f){for(var g=s.length,T=Array(g),P=typeof s=="string"?s.split(""):s,q=0;q<g;q++)q in P&&(T[q]=f.call(void 0,P[q],q,s));return T},se=Array.prototype.some?function(s,f){return Array.prototype.some.call(s,f,void 0)}:function(s,f){for(var g=s.length,T=typeof s=="string"?s.split(""):s,P=0;P<g;P++)if(P in T&&f.call(void 0,T[P],P,s))return!0;return!1};function ie(s){e:{for(var f=Kw,g=s.length,T=typeof s=="string"?s.split(""):s,P=0;P<g;P++)if(P in T&&f.call(void 0,T[P],P,s)){f=P;break e}f=-1}return 0>f?null:typeof s=="string"?s.charAt(f):s[f]}function Q(s,f){return 0<=de(s,f)}function Z(s,f){f=de(s,f);var g;return(g=0<=f)&&Array.prototype.splice.call(s,f,1),g}function Ce(s,f){var g=0;le(s,function(T,P){f.call(void 0,T,P,s)&&Array.prototype.splice.call(s,P,1).length==1&&g++})}function F(s){return Array.prototype.concat.apply([],arguments)}function Te(s){var f=s.length;if(0<f){for(var g=Array(f),T=0;T<f;T++)g[T]=s[T];return g}return[]}var z=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},x=/&/g,R=/</g,U=/>/g,ne=/"/g,ye=/'/g,ue=/\x00/g,De=/[\x00&<>"']/;function Pe(s,f){return s.indexOf(f)!=-1}function Me(s,f){return s<f?-1:s>f?1:0}var $e;e:{var et=c.navigator;if(et){var ct=et.userAgent;if(ct){$e=ct;break e}}$e=""}function Pt(s){return Pe($e,s)}function Fr(s,f){for(var g in s)f.call(void 0,s[g],g,s)}function bn(s){for(var f in s)return!1;return!0}function ti(s){var f={},g;for(g in s)f[g]=s[g];return f}var cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(s,f){for(var g,T,P=1;P<arguments.length;P++){T=arguments[P];for(g in T)s[g]=T[g];for(var q=0;q<cn.length;q++)g=cn[q],Object.prototype.hasOwnProperty.call(T,g)&&(s[g]=T[g])}}function qu(s,f){e:{try{var g=s&&s.ownerDocument,T=g&&(g.defaultView||g.parentWindow);if(T=T||c,T.Element&&T.Location){var P=T;break e}}catch{}P=null}if(P&&typeof P[f]<"u"&&(!s||!(s instanceof P[f])&&(s instanceof P.Location||s instanceof P.Element))){if(I(s))try{var q=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch{q="<object could not be stringified>"}else q=s===void 0?"undefined":s===null?"null":typeof s;re("Argument is not a %s (or a non-Element, non-Location mock); got: %s",f,q)}}function En(s,f){this.a=s===Fs&&f||"",this.b=$u}En.prototype.ta=!0,En.prototype.sa=function(){return this.a},En.prototype.toString=function(){return"Const{"+this.a+"}"};function Ms(s){return s instanceof En&&s.constructor===En&&s.b===$u?s.a:(re("expected object of type Const, got '"+s+"'"),"type_error:Const")}var $u={},Fs={},Us;function To(){if(Us===void 0){var s=null,f=c.trustedTypes;if(f&&f.createPolicy){try{s=f.createPolicy("goog#html",{createHTML:H,createScript:H,createScriptURL:H})}catch(g){c.console&&c.console.error(g.message)}Us=s}else Us=s}return Us}function or(s,f){this.a=f===Im?s:""}or.prototype.ta=!0,or.prototype.sa=function(){return this.a.toString()},or.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function js(s){return s instanceof or&&s.constructor===or?s.a:(re("expected object of type TrustedResourceUrl, got '"+s+"' of type "+w(s)),"type_error:TrustedResourceUrl")}function Mh(s,f){var g=Ms(s);if(!dw.test(g))throw Error("Invalid TrustedResourceUrl format: "+g);return s=g.replace(hw,function(T,P){if(!Object.prototype.hasOwnProperty.call(f,P))throw Error('Found marker, "'+P+'", in format string, "'+g+'", but no valid label mapping found in args: '+JSON.stringify(f));return T=f[P],T instanceof En?Ms(T):encodeURIComponent(String(T))}),Cm(s)}var hw=/%{(\w+)}/g,dw=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Im={};function Cm(s){var f=To();return s=f?f.createScriptURL(s):s,new or(s,Im)}function Ur(s,f){this.a=f===Vs?s:""}Ur.prototype.ta=!0,Ur.prototype.sa=function(){return this.a.toString()},Ur.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Bs(s){return s instanceof Ur&&s.constructor===Ur?s.a:(re("expected object of type SafeUrl, got '"+s+"' of type "+w(s)),"type_error:SafeUrl")}var xm=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ac=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,pw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Gu(s){if(s instanceof Ur)return s;if(s=typeof s=="object"&&s.ta?s.sa():String(s),pw.test(s))s=new Ur(s,Vs);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var f=s.match(Ac);s=f&&xm.test(f[1])?new Ur(s,Vs):null}return s}function Rc(s){return s instanceof Ur?s:(s=typeof s=="object"&&s.ta?s.sa():String(s),pw.test(s)||(s="about:invalid#zClosurez"),new Ur(s,Vs))}var Vs={},Fh=new Ur("about:invalid#zClosurez",Vs);function Ku(s,f,g){this.a=g===mw?s:""}Ku.prototype.ta=!0,Ku.prototype.sa=function(){return this.a.toString()},Ku.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function u1(s){return s instanceof Ku&&s.constructor===Ku?s.a:(re("expected object of type SafeHtml, got '"+s+"' of type "+w(s)),"type_error:SafeHtml")}var mw={};function Ga(s,f){qu(s,"HTMLScriptElement"),s.src=js(f),(f=s.ownerDocument&&s.ownerDocument.defaultView)&&f!=c?f=v(f.document):(p===null&&(p=v(c.document)),f=p),f&&s.setAttribute("nonce",f)}function km(s,f,g,T){return s=s instanceof Ur?s:Rc(s),f=f||c,g=g instanceof En?Ms(g):g||"",f.open(Bs(s),g,T,void 0)}function Am(s,f){for(var g=s.split("%s"),T="",P=Array.prototype.slice.call(arguments,1);P.length&&1<g.length;)T+=g.shift()+P.shift();return T+g.join("%s")}function Rm(s){return De.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(x,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(R,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(U,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(ne,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(ye,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(ue,"&#0;"))),s}function Uh(s){return Uh[" "](s),s}Uh[" "]=y;function gw(s,f){var g=Vh;return Object.prototype.hasOwnProperty.call(g,s)?g[s]:g[s]=f(s)}var vw=Pt("Opera"),Fi=Pt("Trident")||Pt("MSIE"),yw=Pt("Edge"),l1=yw||Fi,Sn=Pt("Gecko")&&!(Pe($e.toLowerCase(),"webkit")&&!Pt("Edge"))&&!(Pt("Trident")||Pt("MSIE"))&&!Pt("Edge"),c1=Pe($e.toLowerCase(),"webkit")&&!Pt("Edge");function jh(){var s=c.document;return s?s.documentMode:void 0}var Nc;e:{var Yu="",Nm=function(){var s=$e;if(Sn)return/rv:([^\);]+)(\)|;)/.exec(s);if(yw)return/Edge\/([\d\.]+)/.exec(s);if(Fi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(c1)return/WebKit\/(\S+)/.exec(s);if(vw)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(Nm&&(Yu=Nm?Nm[1]:""),Fi){var Bh=jh();if(Bh!=null&&Bh>parseFloat(Yu)){Nc=String(Bh);break e}}Nc=Yu}var Vh={};function io(s){return gw(s,function(){for(var f=0,g=z(String(Nc)).split("."),T=z(String(s)).split("."),P=Math.max(g.length,T.length),q=0;f==0&&q<P;q++){var Y=g[q]||"",fe=T[q]||"";do{if(Y=/(\d*)(\D*)(.*)/.exec(Y)||["","","",""],fe=/(\d*)(\D*)(.*)/.exec(fe)||["","","",""],Y[0].length==0&&fe[0].length==0)break;f=Me(Y[1].length==0?0:parseInt(Y[1],10),fe[1].length==0?0:parseInt(fe[1],10))||Me(Y[2].length==0,fe[2].length==0)||Me(Y[2],fe[2]),Y=Y[3],fe=fe[3]}while(f==0)}return 0<=f})}var Om;if(c.document&&Fi){var Ui=jh();Om=Ui||parseInt(Nc,10)||void 0}else Om=void 0;var zs=Om;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var f1=!Fi||9<=Number(zs);function Oc(s){var f=document;return typeof s=="string"?f.getElementById(s):s}function Pc(s,f){Fr(f,function(g,T){g&&typeof g=="object"&&g.ta&&(g=g.sa()),T=="style"?s.style.cssText=g:T=="class"?s.className=g:T=="for"?s.htmlFor=g:Dc.hasOwnProperty(T)?s.setAttribute(Dc[T],g):T.lastIndexOf("aria-",0)==0||T.lastIndexOf("data-",0)==0?s.setAttribute(T,g):s[T]=g})}var Dc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Lc(s,f,g){var T=arguments,P=document,q=String(T[0]),Y=T[1];if(!f1&&Y&&(Y.name||Y.type)){if(q=["<",q],Y.name&&q.push(' name="',Rm(Y.name),'"'),Y.type){q.push(' type="',Rm(Y.type),'"');var fe={};On(fe,Y),delete fe.type,Y=fe}q.push(">"),q=q.join("")}return q=Hh(P,q),Y&&(typeof Y=="string"?q.className=Y:Array.isArray(Y)?q.className=Y.join(" "):Pc(q,Y)),2<T.length&&zh(P,q,T),q}function zh(s,f,g){function T(fe){fe&&f.appendChild(typeof fe=="string"?s.createTextNode(fe):fe)}for(var P=2;P<g.length;P++){var q=g[P];if(!b(q)||I(q)&&0<q.nodeType)T(q);else{e:{if(q&&typeof q.length=="number"){if(I(q)){var Y=typeof q.item=="function"||typeof q.item=="string";break e}if(E(q)){Y=typeof q.item=="function";break e}}Y=!1}_e(Y?Te(q):q,T)}}}function Hh(s,f){return f=String(f),s.contentType==="application/xhtml+xml"&&(f=f.toLowerCase()),s.createElement(f)}function ww(s){c.setTimeout(function(){throw s},0)}var Mc;function _w(){var s=c.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Pt("Presto")&&(s=function(){var P=Hh(document,"IFRAME");P.style.display="none",document.documentElement.appendChild(P);var q=P.contentWindow;P=q.document,P.open(),P.close();var Y="callImmediate"+Math.random(),fe=q.location.protocol=="file:"?"*":q.location.protocol+"//"+q.location.host;P=C(function(Le){(fe=="*"||Le.origin==fe)&&Le.data==Y&&this.port1.onmessage()},this),q.addEventListener("message",P,!1),this.port1={},this.port2={postMessage:function(){q.postMessage(Y,fe)}}}),typeof s<"u"&&!Pt("Trident")&&!Pt("MSIE")){var f=new s,g={},T=g;return f.port1.onmessage=function(){if(g.next!==void 0){g=g.next;var P=g.Hb;g.Hb=null,P()}},function(P){T.next={Hb:P},T=T.next,f.port2.postMessage(0)}}return function(P){c.setTimeout(P,0)}}function Xu(s,f){Hs||h1(),Fc||(Hs(),Fc=!0),zt.add(s,f)}var Hs;function h1(){if(c.Promise&&c.Promise.resolve){var s=c.Promise.resolve(void 0);Hs=function(){s.then(Pm)}}else Hs=function(){var f=Pm;!E(c.setImmediate)||c.Window&&c.Window.prototype&&!Pt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Mc||(Mc=_w()),Mc(f)):c.setImmediate(f)}}var Fc=!1,zt=new Se;function Pm(){for(var s;s=W();){try{s.a.call(s.b)}catch(f){ww(f)}me(G,s)}Fc=!1}function It(s,f){if(this.a=es,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=y)try{var g=this;s.call(f,function(T){oo(g,Qu,T)},function(T){if(!(T instanceof rs))try{throw T instanceof Error?T:Error("Promise rejected.")}catch{}oo(g,Io,T)})}catch(T){oo(this,Io,T)}}var es=0,Qu=2,Io=3;function Dm(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Dm.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Wh=new pe(function(){return new Dm},function(s){s.reset()});function Ju(s,f,g){var T=Wh.get();return T.g=s,T.b=f,T.f=g,T}function st(s){if(s instanceof It)return s;var f=new It(y);return oo(f,Qu,s),f}function Vt(s){return new It(function(f,g){g(s)})}function ts(s,f,g){bw(s,f,g,null)||Xu(A(f,s))}function Uc(s){return new It(function(f,g){var T=s.length,P=[];if(T)for(var q=function(Ue,_t){T--,P[Ue]=_t,T==0&&f(P)},Y=function(Ue){g(Ue)},fe=0,Le;fe<s.length;fe++)Le=s[fe],ts(Le,A(q,fe),Y);else f(P)})}function Zu(s){return new It(function(f){var g=s.length,T=[];if(g)for(var P=function(fe,Le,Ue){g--,T[fe]=Le?{Qb:!0,value:Ue}:{Qb:!1,reason:Ue},g==0&&f(T)},q=0,Y;q<s.length;q++)Y=s[q],ts(Y,A(P,q,!0),A(P,q,!1));else f(T)})}It.prototype.then=function(s,f,g){return Mm(this,E(s)?s:null,E(f)?f:null,g)},It.prototype.$goog_Thenable=!0,t=It.prototype,t.oa=function(s,f){return s=Ju(s,s,f),s.c=!0,Lm(this,s),this},t.o=function(s,f){return Mm(this,null,s,f)},t.cancel=function(s){if(this.a==es){var f=new rs(s);Xu(function(){ns(this,f)},this)}};function ns(s,f){if(s.a==es)if(s.c){var g=s.c;if(g.b){for(var T=0,P=null,q=null,Y=g.b;Y&&(Y.c||(T++,Y.a==s&&(P=Y),!(P&&1<T)));Y=Y.next)P||(q=Y);P&&(g.a==es&&T==1?ns(g,f):(q?(T=q,T.next==g.f&&(g.f=T),T.next=T.next.next):Fm(g),Sw(g,P,Io,f)))}s.c=null}else oo(s,Io,f)}function Lm(s,f){s.b||s.a!=Qu&&s.a!=Io||jc(s),s.f?s.f.next=f:s.b=f,s.f=f}function Mm(s,f,g,T){var P=Ju(null,null,null);return P.a=new It(function(q,Y){P.g=f?function(fe){try{var Le=f.call(T,fe);q(Le)}catch(Ue){Y(Ue)}}:q,P.b=g?function(fe){try{var Le=g.call(T,fe);Le===void 0&&fe instanceof rs?Y(fe):q(Le)}catch(Ue){Y(Ue)}}:Y}),P.a.c=s,Lm(s,P),P.a}t.$c=function(s){this.a=es,oo(this,Qu,s)},t.ad=function(s){this.a=es,oo(this,Io,s)};function oo(s,f,g){s.a==es&&(s===g&&(f=Io,g=new TypeError("Promise cannot resolve to itself")),s.a=1,bw(g,s.$c,s.ad,s)||(s.i=g,s.a=f,s.c=null,jc(s),f!=Io||g instanceof rs||Bc(s,g)))}function bw(s,f,g,T){if(s instanceof It)return Lm(s,Ju(f||y,g||null,T)),!0;if(j(s))return s.then(f,g,T),!0;if(I(s))try{var P=s.then;if(E(P))return Ew(s,P,f,g,T),!0}catch(q){return g.call(T,q),!0}return!1}function Ew(s,f,g,T,P){function q(Le){fe||(fe=!0,T.call(P,Le))}function Y(Le){fe||(fe=!0,g.call(P,Le))}var fe=!1;try{f.call(s,Y,q)}catch(Le){q(Le)}}function jc(s){s.h||(s.h=!0,Xu(s.gc,s))}function Fm(s){var f=null;return s.b&&(f=s.b,s.b=f.next,f.next=null),s.b||(s.f=null),f}t.gc=function(){for(var s;s=Fm(this);)Sw(this,s,this.a,this.i);this.h=!1};function Sw(s,f,g,T){if(g==Io&&f.b&&!f.c)for(;s&&s.g;s=s.c)s.g=!1;if(f.a)f.a.c=null,el(f,g,T);else try{f.c?f.g.call(f.f):el(f,g,T)}catch(P){Ka.call(null,P)}me(Wh,f)}function el(s,f,g){f==Qu?s.g.call(s.f,g):s.b&&s.b.call(s.f,g)}function Bc(s,f){s.g=!0,Xu(function(){s.g&&Ka.call(null,f)})}var Ka=ww;function rs(s){he.call(this,s)}O(rs,he),rs.prototype.name="cancel";function qh(){this.ya=this.ya,this.pa=this.pa}var d1=0;qh.prototype.ya=!1;function $h(s){!s.ya&&(s.ya=!0,s.Da(),d1!=0)}qh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Gh=Object.freeze||function(s){return s},Kh=!Fi||9<=Number(zs),Tw=Fi&&!io("9"),Ws=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,f=Object.defineProperty({},"passive",{get:function(){s=!0}});try{c.addEventListener("test",y,f),c.removeEventListener("test",y,f)}catch{}return s}();function mr(s,f){this.type=s,this.b=this.target=f,this.defaultPrevented=!1}mr.prototype.preventDefault=function(){this.defaultPrevented=!0};function Co(s,f){if(mr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var g=this.type=s.type,T=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=f,f=s.relatedTarget){if(Sn){e:{try{Uh(f.nodeName);var P=!0;break e}catch{}P=!1}P||(f=null)}}else g=="mouseover"?f=s.fromElement:g=="mouseout"&&(f=s.toElement);this.relatedTarget=f,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:Iw[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}O(Co,mr);var Iw=Gh({2:"touch",3:"pen",4:"mouse"});Co.prototype.preventDefault=function(){Co.bb.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,Tw)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}},Co.prototype.g=function(){return this.a};var qs="closure_listenable_"+(1e6*Math.random()|0),Yh=0;function Cw(s,f,g,T,P){this.listener=s,this.proxy=null,this.src=f,this.type=g,this.capture=!!T,this.Wa=P,this.key=++Yh,this.wa=this.Qa=!1}function gr(s){s.wa=!0,s.listener=null,s.proxy=null,s.src=null,s.Wa=null}function is(s){this.src=s,this.a={},this.b=0}is.prototype.add=function(s,f,g,T,P){var q=s.toString();s=this.a[q],s||(s=this.a[q]=[],this.b++);var Y=Ya(s,f,T,P);return-1<Y?(f=s[Y],g||(f.Qa=!1)):(f=new Cw(f,this.src,q,!!T,P),f.Qa=g,s.push(f)),f};function Vc(s,f){var g=f.type;g in s.a&&Z(s.a[g],f)&&(gr(f),s.a[g].length==0&&(delete s.a[g],s.b--))}function Ya(s,f,g,T){for(var P=0;P<s.length;++P){var q=s[P];if(!q.wa&&q.listener==f&&q.capture==!!g&&q.Wa==T)return P}return-1}var Um="closure_lm_"+(1e6*Math.random()|0),zc={};function ni(s,f,g,T,P){if(T&&T.once)Qh(s,f,g,T,P);else if(Array.isArray(f))for(var q=0;q<f.length;q++)ni(s,f[q],g,T,P);else g=Bm(g),s&&s[qs]?Rw(s,f,g,I(T)?!!T.capture:!!T,P):tl(s,f,g,!1,T,P)}function tl(s,f,g,T,P,q){if(!f)throw Error("Invalid event type");var Y=I(P)?!!P.capture:!!P,fe=Zh(s);if(fe||(s[Um]=fe=new is(s)),g=fe.add(f,g,T,Y,q),!g.proxy)if(T=Xh(),g.proxy=T,T.src=s,T.listener=g,s.addEventListener)Ws||(P=Y),P===void 0&&(P=!1),s.addEventListener(f.toString(),T,P);else if(s.attachEvent)s.attachEvent(kw(f.toString()),T);else if(s.addListener&&s.removeListener)s.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.")}function Xh(){var s=p1,f=Kh?function(g){return s.call(f.src,f.listener,g)}:function(g){if(g=s.call(f.src,f.listener,g),!g)return g};return f}function Qh(s,f,g,T,P){if(Array.isArray(f))for(var q=0;q<f.length;q++)Qh(s,f[q],g,T,P);else g=Bm(g),s&&s[qs]?Vm(s,f,g,I(T)?!!T.capture:!!T,P):tl(s,f,g,!0,T,P)}function bi(s,f,g,T,P){if(Array.isArray(f))for(var q=0;q<f.length;q++)bi(s,f[q],g,T,P);else T=I(T)?!!T.capture:!!T,g=Bm(g),s&&s[qs]?(s=s.v,f=String(f).toString(),f in s.a&&(q=s.a[f],g=Ya(q,g,T,P),-1<g&&(gr(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete s.a[f],s.b--)))):s&&(s=Zh(s))&&(f=s.a[f.toString()],s=-1,f&&(s=Ya(f,g,T,P)),(g=-1<s?f[s]:null)&&xw(g))}function xw(s){if(typeof s!="number"&&s&&!s.wa){var f=s.src;if(f&&f[qs])Vc(f.v,s);else{var g=s.type,T=s.proxy;f.removeEventListener?f.removeEventListener(g,T,s.capture):f.detachEvent?f.detachEvent(kw(g),T):f.addListener&&f.removeListener&&f.removeListener(T),(g=Zh(f))?(Vc(g,s),g.b==0&&(g.src=null,f[Um]=null)):gr(s)}}}function kw(s){return s in zc?zc[s]:zc[s]="on"+s}function Jh(s,f,g,T){var P=!0;if((s=Zh(s))&&(f=s.a[f.toString()]))for(f=f.concat(),s=0;s<f.length;s++){var q=f[s];q&&q.capture==g&&!q.wa&&(q=Aw(q,T),P=P&&q!==!1)}return P}function Aw(s,f){var g=s.listener,T=s.Wa||s.src;return s.Qa&&xw(s),g.call(T,f)}function p1(s,f){if(s.wa)return!0;if(!Kh){if(!f)e:{f=["window","event"];for(var g=c,T=0;T<f.length;T++)if(g=g[f[T]],g==null){f=null;break e}f=g}if(T=f,f=new Co(T,this),g=!0,!(0>T.keyCode||T.returnValue!=null)){e:{var P=!1;if(T.keyCode==0)try{T.keyCode=-1;break e}catch{P=!0}(P||T.returnValue==null)&&(T.returnValue=!0)}for(T=[],P=f.b;P;P=P.parentNode)T.push(P);for(s=s.type,P=T.length-1;0<=P;P--){f.b=T[P];var q=Jh(T[P],s,!0,f);g=g&&q}for(P=0;P<T.length;P++)f.b=T[P],q=Jh(T[P],s,!1,f),g=g&&q}return g}return Aw(s,new Co(f,this))}function Zh(s){return s=s[Um],s instanceof is?s:null}var jm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bm(s){return E(s)?s:(s[jm]||(s[jm]=function(f){return s.handleEvent(f)}),s[jm])}function vr(){qh.call(this),this.v=new is(this),this.bc=this,this.hb=null}O(vr,qh),vr.prototype[qs]=!0,vr.prototype.addEventListener=function(s,f,g,T){ni(this,s,f,g,T)},vr.prototype.removeEventListener=function(s,f,g,T){bi(this,s,f,g,T)},vr.prototype.dispatchEvent=function(s){var f,g=this.hb;if(g)for(f=[];g;g=g.hb)f.push(g);g=this.bc;var T=s.type||s;if(typeof s=="string")s=new mr(s,g);else if(s instanceof mr)s.target=s.target||g;else{var P=s;s=new mr(T,g),On(s,P)}if(P=!0,f)for(var q=f.length-1;0<=q;q--){var Y=s.b=f[q];P=ed(Y,T,!0,s)&&P}if(Y=s.b=g,P=ed(Y,T,!0,s)&&P,P=ed(Y,T,!1,s)&&P,f)for(q=0;q<f.length;q++)Y=s.b=f[q],P=ed(Y,T,!1,s)&&P;return P},vr.prototype.Da=function(){if(vr.bb.Da.call(this),this.v){var s=this.v,f;for(f in s.a){for(var g=s.a[f],T=0;T<g.length;T++)gr(g[T]);delete s.a[f],s.b--}}this.hb=null};function Rw(s,f,g,T,P){s.v.add(String(f),g,!1,T,P)}function Vm(s,f,g,T,P){s.v.add(String(f),g,!0,T,P)}function ed(s,f,g,T){if(f=s.v.a[String(f)],!f)return!0;f=f.concat();for(var P=!0,q=0;q<f.length;++q){var Y=f[q];if(Y&&!Y.wa&&Y.capture==g){var fe=Y.listener,Le=Y.Wa||Y.src;Y.Qa&&Vc(s.v,Y),P=fe.call(Le,T)!==!1&&P}}return P&&!T.defaultPrevented}function zm(s,f,g){if(E(s))g&&(s=C(s,g));else if(s&&typeof s.handleEvent=="function")s=C(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(s,f||0)}function $s(s){var f=null;return new It(function(g,T){f=zm(function(){g(void 0)},s),f==-1&&T(Error("Failed to schedule timer."))}).o(function(g){throw c.clearTimeout(f),g})}function Nw(s){if(s.X&&typeof s.X=="function")return s.X();if(typeof s=="string")return s.split("");if(b(s)){for(var f=[],g=s.length,T=0;T<g;T++)f.push(s[T]);return f}f=[],g=0;for(T in s)f[g++]=s[T];return f}function Ow(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.X||typeof s.X!="function"){if(b(s)||typeof s=="string"){var f=[];s=s.length;for(var g=0;g<s;g++)f.push(g);return f}f=[],g=0;for(var T in s)f[g++]=T;return f}}function m1(s,f){if(s.forEach&&typeof s.forEach=="function")s.forEach(f,void 0);else if(b(s)||typeof s=="string")_e(s,f,void 0);else for(var g=Ow(s),T=Nw(s),P=T.length,q=0;q<P;q++)f.call(void 0,T[q],g&&g[q],s)}function Xa(s,f){this.b={},this.a=[],this.c=0;var g=arguments.length;if(1<g){if(g%2)throw Error("Uneven number of arguments");for(var T=0;T<g;T+=2)this.set(arguments[T],arguments[T+1])}else if(s)if(s instanceof Xa)for(g=s.Y(),T=0;T<g.length;T++)this.set(g[T],s.get(g[T]));else for(T in s)this.set(T,s[T])}t=Xa.prototype,t.X=function(){Hm(this);for(var s=[],f=0;f<this.a.length;f++)s.push(this.b[this.a[f]]);return s},t.Y=function(){return Hm(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Hm(s){if(s.c!=s.a.length){for(var f=0,g=0;f<s.a.length;){var T=s.a[f];Qa(s.b,T)&&(s.a[g++]=T),f++}s.a.length=g}if(s.c!=s.a.length){var P={};for(g=f=0;f<s.a.length;)T=s.a[f],Qa(P,T)||(s.a[g++]=T,P[T]=1),f++;s.a.length=g}}t.get=function(s,f){return Qa(this.b,s)?this.b[s]:f},t.set=function(s,f){Qa(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=f},t.forEach=function(s,f){for(var g=this.Y(),T=0;T<g.length;T++){var P=g[T],q=this.get(P);s.call(f,q,P,this)}};function Qa(s,f){return Object.prototype.hasOwnProperty.call(s,f)}var Pw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function g1(s,f){if(s){s=s.split("&");for(var g=0;g<s.length;g++){var T=s[g].indexOf("="),P=null;if(0<=T){var q=s[g].substring(0,T);P=s[g].substring(T+1)}else q=s[g];f(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Gs(s,f){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var g;s instanceof Gs?(this.i=f!==void 0?f:s.i,Hc(this,s.c),this.l=s.l,this.a=s.a,Wc(this,s.g),this.f=s.f,qc(this,Wm(s.b)),this.h=s.h):s&&(g=String(s).match(Pw))?(this.i=!!f,Hc(this,g[1]||"",!0),this.l=nl(g[2]||""),this.a=nl(g[3]||"",!0),Wc(this,g[4]),this.f=nl(g[5]||"",!0),qc(this,g[6]||"",!0),this.h=nl(g[7]||"")):(this.i=!!f,this.b=new Ks(null,this.i))}Gs.prototype.toString=function(){var s=[],f=this.c;f&&s.push(rl(f,Ja,!0),":");var g=this.a;return(g||f=="file")&&(s.push("//"),(f=this.l)&&s.push(rl(f,Ja,!0),"@"),s.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.g,g!=null&&s.push(":",String(g))),(g=this.f)&&(this.a&&g.charAt(0)!="/"&&s.push("/"),s.push(rl(g,g.charAt(0)=="/"?y1:v1,!0))),(g=this.b.toString())&&s.push("?",g),(g=this.h)&&s.push("#",rl(g,Lw)),s.join("")},Gs.prototype.resolve=function(s){var f=new Gs(this),g=!!s.c;g?Hc(f,s.c):g=!!s.l,g?f.l=s.l:g=!!s.a,g?f.a=s.a:g=s.g!=null;var T=s.f;if(g)Wc(f,s.g);else if(g=!!s.f){if(T.charAt(0)!="/")if(this.a&&!this.f)T="/"+T;else{var P=f.f.lastIndexOf("/");P!=-1&&(T=f.f.substr(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(Pe(P,"./")||Pe(P,"/.")){T=P.lastIndexOf("/",0)==0,P=P.split("/");for(var q=[],Y=0;Y<P.length;){var fe=P[Y++];fe=="."?T&&Y==P.length&&q.push(""):fe==".."?((1<q.length||q.length==1&&q[0]!="")&&q.pop(),T&&Y==P.length&&q.push("")):(q.push(fe),T=!0)}T=q.join("/")}else T=P}return g?f.f=T:g=s.b.toString()!=="",g?qc(f,Wm(s.b)):g=!!s.h,g&&(f.h=s.h),f};function Hc(s,f,g){s.c=g?nl(f,!0):f,s.c&&(s.c=s.c.replace(/:$/,""))}function Wc(s,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);s.g=f}else s.g=null}function qc(s,f,g){f instanceof Ks?(s.b=f,qm(s.b,s.i)):(g||(f=rl(f,w1)),s.b=new Ks(f,s.i))}function fn(s,f,g){s.b.set(f,g)}function ji(s,f){return s.b.get(f)}function jr(s){return s instanceof Gs?new Gs(s):new Gs(s,void 0)}function $c(s,f,g,T){var P=new Gs(null,void 0);return s&&Hc(P,s),f&&(P.a=f),g&&Wc(P,g),T&&(P.f=T),P}function nl(s,f){return s?f?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function rl(s,f,g){return typeof s=="string"?(s=encodeURI(s).replace(f,Dw),g&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Dw(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Ja=/[#\/\?@]/g,v1=/[#\?:]/g,y1=/[#\?]/g,w1=/[#\?@]/g,Lw=/#/g;function Ks(s,f){this.b=this.a=null,this.c=s||null,this.f=!!f}function Bi(s){s.a||(s.a=new Xa,s.b=0,s.c&&g1(s.c,function(f,g){s.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}function il(s){var f=Ow(s);if(typeof f>"u")throw Error("Keys are undefined");var g=new Ks(null,void 0);s=Nw(s);for(var T=0;T<f.length;T++){var P=f[T],q=s[T];Array.isArray(q)?Mw(g,P,q):g.add(P,q)}return g}t=Ks.prototype,t.add=function(s,f){Bi(this),this.c=null,s=Ys(this,s);var g=this.a.get(s);return g||this.a.set(s,g=[]),g.push(f),this.b+=1,this};function xo(s,f){Bi(s),f=Ys(s,f),Qa(s.a.b,f)&&(s.c=null,s.b-=s.a.get(f).length,s=s.a,Qa(s.b,f)&&(delete s.b[f],s.c--,s.a.length>2*s.c&&Hm(s)))}t.clear=function(){this.a=this.c=null,this.b=0};function ol(s,f){return Bi(s),f=Ys(s,f),Qa(s.a.b,f)}t.forEach=function(s,f){Bi(this),this.a.forEach(function(g,T){_e(g,function(P){s.call(f,P,T,this)},this)},this)},t.Y=function(){Bi(this);for(var s=this.a.X(),f=this.a.Y(),g=[],T=0;T<f.length;T++)for(var P=s[T],q=0;q<P.length;q++)g.push(f[T]);return g},t.X=function(s){Bi(this);var f=[];if(typeof s=="string")ol(this,s)&&(f=F(f,this.a.get(Ys(this,s))));else{s=this.a.X();for(var g=0;g<s.length;g++)f=F(f,s[g])}return f},t.set=function(s,f){return Bi(this),this.c=null,s=Ys(this,s),ol(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[f]),this.b+=1,this},t.get=function(s,f){return s?(s=this.X(s),0<s.length?String(s[0]):f):f};function Mw(s,f,g){xo(s,f),0<g.length&&(s.c=null,s.a.set(Ys(s,f),Te(g)),s.b+=g.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],f=this.a.Y(),g=0;g<f.length;g++){var T=f[g],P=encodeURIComponent(String(T));T=this.X(T);for(var q=0;q<T.length;q++){var Y=P;T[q]!==""&&(Y+="="+encodeURIComponent(String(T[q]))),s.push(Y)}}return this.c=s.join("&")};function Wm(s){var f=new Ks;return f.c=s.c,s.a&&(f.a=new Xa(s.a),f.b=s.b),f}function Ys(s,f){return f=String(f),s.f&&(f=f.toLowerCase()),f}function qm(s,f){f&&!s.f&&(Bi(s),s.c=null,s.a.forEach(function(g,T){var P=T.toLowerCase();T!=P&&(xo(this,T),Mw(this,P,g))},s)),s.f=f}function $m(s){var f=[];return td(new Fw,s,f),f.join("")}function Fw(){}function td(s,f,g){if(f==null)g.push("null");else{if(typeof f=="object"){if(Array.isArray(f)){var T=f;f=T.length,g.push("[");for(var P="",q=0;q<f;q++)g.push(P),td(s,T[q],g),P=",";g.push("]");return}if(f instanceof String||f instanceof Number||f instanceof Boolean)f=f.valueOf();else{g.push("{"),P="";for(T in f)Object.prototype.hasOwnProperty.call(f,T)&&(q=f[T],typeof q!="function"&&(g.push(P),jw(T,g),g.push(":"),td(s,q,g),P=","));g.push("}");return}}switch(typeof f){case"string":jw(f,g);break;case"number":g.push(isFinite(f)&&!isNaN(f)?String(f):"null");break;case"boolean":g.push(String(f));break;case"function":g.push("null");break;default:throw Error("Unknown type: "+typeof f)}}}var Uw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},_1=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function jw(s,f){f.push('"',s.replace(_1,function(g){var T=Uw[g];return T||(T="\\u"+(g.charCodeAt(0)|65536).toString(16).substr(1),Uw[g]=T),T}),'"')}function Gm(){var s=Gn();return Fi&&!!zs&&zs==11||/Edge\/\d+/.test(s)}function Gc(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function Vi(s,f){f=f||c.window;var g="about:blank";s&&(g=Bs(Gu(s)||Fh)),f.location.href=g}function sl(s,f){var g=[],T;for(T in s)T in f?typeof s[T]!=typeof f[T]?g.push(T):typeof s[T]=="object"&&s[T]!=null&&f[T]!=null?0<sl(s[T],f[T]).length&&g.push(T):s[T]!==f[T]&&g.push(T):g.push(T);for(T in f)T in s||g.push(T);return g}function Bw(){var s=Gn();return s=tu(s)!=Yc?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!Fi||!zs||9<zs}function Km(s){return s=(s||Gn()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function Xs(s){s=s||c.window;try{s.close()}catch{}}function Ym(s,f,g){var T=Math.floor(1e9*Math.random()).toString();f=f||500,g=g||600;var P=(window.screen.availHeight-g)/2,q=(window.screen.availWidth-f)/2;f={width:f,height:g,top:0<P?P:0,left:0<q?q:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},g=Gn().toLowerCase(),T&&(f.target=T,Pe(g,"crios/")&&(f.target="_blank")),tu(Gn())==nd&&(s=s||"http://localhost",f.scrollbars=!0),g=s||"",(s=f)||(s={}),T=window,f=g instanceof Ur?g:Gu(typeof g.href<"u"?g.href:String(g))||Fh,g=s.target||g.target,P=[];for(Y in s)switch(Y){case"width":case"height":case"top":case"left":P.push(Y+"="+s[Y]);break;case"target":case"noopener":case"noreferrer":break;default:P.push(Y+"="+(s[Y]?1:0))}var Y=P.join(",");if((Pt("iPhone")&&!Pt("iPod")&&!Pt("iPad")||Pt("iPad")||Pt("iPod"))&&T.navigator&&T.navigator.standalone&&g&&g!="_self"?(Y=Hh(document,"A"),qu(Y,"HTMLAnchorElement"),f=f instanceof Ur?f:Rc(f),Y.href=Bs(f),Y.setAttribute("target",g),s.noreferrer&&Y.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,T,1),Y.dispatchEvent(s),Y={}):s.noreferrer?(Y=km("",T,g,Y),s=Bs(f),Y&&(l1&&Pe(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),Y.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Rm(s)+'">',s=(T=To())?T.createHTML(s):s,s=new Ku(s,null,mw),T=Y.document)&&(T.write(u1(s)),T.close())):(Y=km(f,T,g,Y))&&s.noopener&&(Y.opener=null),Y)try{Y.focus()}catch{}return Y}function Xm(s){return new It(function(f){function g(){$s(2e3).then(function(){if(!s||s.closed)f();else return g()})}return g()})}var b1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E1=/^[^@]+@[^@]+$/;function os(){var s=null;return new It(function(f){c.document.readyState=="complete"?f():(s=function(){f()},Qh(window,"load",s))}).o(function(f){throw bi(window,"load",s),f})}function Qm(){return Za(void 0)?os().then(function(){return new It(function(s,f){var g=c.document,T=setTimeout(function(){f(Error("Cordova framework is not ready."))},1e3);g.addEventListener("deviceready",function(){clearTimeout(T),s()},!1)})}):Vt(Error("Cordova must run in an Android or iOS file scheme."))}function Za(s){return s=s||Gn(),!(Qs()!=="file:"&&Qs()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kc(){var s=c.window;try{return!(!s||s==s.top)}catch{return!1}}function zi(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Ei(){return at.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":at.INTERNAL.hasOwnProperty("node")?"Node":zi()?"Worker":"Browser"}function eu(){var s=Ei();return s==="ReactNative"||s==="Node"}function Jm(){for(var s=50,f=[];0<s;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return f.join("")}var nd="Firefox",Yc="Chrome";function tu(s){var f=s.toLowerCase();if(Pe(f,"opera/")||Pe(f,"opr/")||Pe(f,"opios/"))return"Opera";if(Pe(f,"iemobile"))return"IEMobile";if(Pe(f,"msie")||Pe(f,"trident/"))return"IE";if(Pe(f,"edge/"))return"Edge";if(Pe(f,"firefox/"))return nd;if(Pe(f,"silk/"))return"Silk";if(Pe(f,"blackberry"))return"Blackberry";if(Pe(f,"webos"))return"Webos";if(!Pe(f,"safari/")||Pe(f,"chrome/")||Pe(f,"crios/")||Pe(f,"android"))if(!Pe(f,"chrome/")&&!Pe(f,"crios/")||Pe(f,"edge/")){if(Pe(f,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return Yc;else return"Safari";return"Other"}var Zm={md:"FirebaseCore-web",od:"FirebaseUI-web"};function nu(s,f){f=f||[];var g=[],T={},P;for(P in Zm)T[Zm[P]]=!0;for(P=0;P<f.length;P++)typeof T[f[P]]<"u"&&(delete T[f[P]],g.push(f[P]));return g.sort(),f=g,f.length||(f=["FirebaseCore-web"]),g=Ei(),g==="Browser"?(T=Gn(),g=tu(T)):g==="Worker"&&(T=Gn(),g=tu(T)+"-"+g),g+"/JsCore/"+s+"/"+f.join(",")}function Gn(){return c.navigator&&c.navigator.userAgent||""}function hn(s,f){s=s.split("."),f=f||c;for(var g=0;g<s.length&&typeof f=="object"&&f!=null;g++)f=f[s[g]];return g!=s.length&&(f=void 0),f}function rd(){try{var s=c.localStorage,f=Js();if(s)return s.setItem(f,"1"),s.removeItem(f),Gm()?!!c.indexedDB:!0}catch{return zi()&&!!c.indexedDB}return!1}function ri(){return(al()||Qs()==="chrome-extension:"||Za())&&!eu()&&rd()&&!zi()}function al(){return Qs()==="http:"||Qs()==="https:"}function Qs(){return c.location&&c.location.protocol||null}function Xc(s){return s=s||Gn(),!(Km(s)||tu(s)==nd)}function Qc(s){return typeof s>"u"?null:$m(s)}function ul(s){var f={},g;for(g in s)s.hasOwnProperty(g)&&s[g]!==null&&s[g]!==void 0&&(f[g]=s[g]);return f}function ll(s){if(s!==null)return JSON.parse(s)}function Js(s){return s||Math.floor(1e9*Math.random()).toString()}function eg(s){return s=s||Gn(),!(tu(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function on(){var s=c.___jsl;if(s&&s.H){for(var f in s.H)if(s.H[f].r=s.H[f].r||[],s.H[f].L=s.H[f].L||[],s.H[f].r=s.H[f].L.concat(),s.CP)for(var g=0;g<s.CP.length;g++)s.CP[g]=null}}function ko(s,f){if(s>f)throw Error("Short delay should be less than long delay!");this.a=s,this.c=f,s=Gn(),f=Ei(),this.b=Km(s)||f==="ReactNative"}ko.prototype.get=function(){var s=c.navigator;return!(s&&typeof s.onLine=="boolean"&&(al()||Qs()==="chrome-extension:"||typeof s.connection<"u"))||s.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function cl(){var s=c.document;return s&&typeof s.visibilityState<"u"?s.visibilityState=="visible":!0}function Jc(){var s=c.document,f=null;return cl()||!s?st():new It(function(g){f=function(){cl()&&(s.removeEventListener("visibilitychange",f,!1),g())},s.addEventListener("visibilitychange",f,!1)}).o(function(g){throw s.removeEventListener("visibilitychange",f,!1),g})}function fl(s){try{var f=new Date(parseInt(s,10));if(!isNaN(f.getTime())&&!/[^0-9]/.test(s))return f.toUTCString()}catch{}return null}function id(){return!(!hn("fireauth.oauthhelper",c)&&!hn("fireauth.iframe",c))}function Zc(){var s=c.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function od(){var s=c.navigator;return s&&s.serviceWorker?st().then(function(){return s.serviceWorker.ready}).then(function(f){return f.active||null}).o(function(){return null}):st(null)}var ru={};function sd(s){ru[s]||(ru[s]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(s))}var tg;try{var ng={};Object.defineProperty(ng,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ng,"abcd",{configurable:!0,enumerable:!0,value:2}),tg=ng.abcd==2}catch{tg=!1}function tt(s,f,g){tg?Object.defineProperty(s,f,{configurable:!0,enumerable:!0,value:g}):s[f]=g}function Kn(s,f){if(f)for(var g in f)f.hasOwnProperty(g)&&tt(s,g,f[g])}function Si(s){var f={};return Kn(f,s),f}function rg(s){var f={},g;for(g in s)s.hasOwnProperty(g)&&(f[g]=s[g]);return f}function ig(s,f){if(!f||!f.length)return!0;if(!s)return!1;for(var g=0;g<f.length;g++){var T=s[f[g]];if(T==null||T==="")return!1}return!0}function ef(s){var f=s;if(typeof s=="object"&&s!=null){f="length"in s?[]:{};for(var g in s)tt(f,g,ef(s[g]))}return f}function tf(s){var f=s&&(s[nf]?"phone":null);if(f&&s&&s[ug]){tt(this,"uid",s[ug]),tt(this,"displayName",s[sg]||null);var g=null;s[ag]&&(g=new Date(s[ag]).toUTCString()),tt(this,"enrollmentTime",g),tt(this,"factorId",f)}else throw new D("internal-error","Internal assert: invalid MultiFactorInfo object")}tf.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function og(s){try{var f=new Hi(s)}catch{f=null}return f}var sg="displayName",ag="enrolledAt",ug="mfaEnrollmentId",nf="phoneInfo";function Hi(s){tf.call(this,s),tt(this,"phoneNumber",s[nf])}O(Hi,tf),Hi.prototype.w=function(){var s=Hi.bb.w.call(this);return s.phoneNumber=this.phoneNumber,s};function Vw(s){var f={},g=s[as],T=s[S1],P=s[T1];if(s=og(s[lg]),!P||P!=Ti&&P!=ss&&!g||P==ss&&!T||P==Zs&&!s)throw Error("Invalid checkActionCode response!");P==ss?(f[hl]=g||null,f[rf]=g||null,f[ea]=T):(f[hl]=T||null,f[rf]=T||null,f[ea]=g||null),f[dl]=s||null,tt(this,pl,P),tt(this,cg,ef(f))}var Zs="REVERT_SECOND_FACTOR_ADDITION",Ti="EMAIL_SIGNIN",ss="VERIFY_AND_CHANGE_EMAIL",as="email",lg="mfaInfo",S1="newEmail",T1="requestType",ea="email",hl="fromEmail",dl="multiFactorInfo",rf="previousEmail",cg="data",pl="operation";function Ao(s){s=jr(s);var f=ji(s,sn)||null,g=ji(s,Qt)||null,T=ji(s,Br)||null;if(T=T&&ml[T]||null,!f||!g||!T)throw new D("argument-error",sn+", "+Qt+"and "+Br+" are required in a valid action code URL.");Kn(this,{apiKey:f,operation:T,code:g,continueUrl:ji(s,ta)||null,languageCode:ji(s,yr)||null,tenantId:ji(s,iu)||null})}var sn="apiKey",Qt="oobCode",ta="continueUrl",yr="languageCode",Br="mode",iu="tenantId",ml={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Zs,signIn:Ti,verifyAndChangeEmail:ss,verifyEmail:"VERIFY_EMAIL"};function Vr(s){try{return new Ao(s)}catch{return null}}function ou(s){var f=s[us];if(typeof f>"u")throw new D("missing-continue-uri");if(typeof f!="string"||typeof f=="string"&&!f.length)throw new D("invalid-continue-uri");this.h=f,this.b=this.a=null,this.g=!1;var g=s[fg];if(g&&typeof g=="object"){f=g[pg];var T=g[of];if(g=g[ad],typeof f=="string"&&f.length){if(this.a=f,typeof T<"u"&&typeof T!="boolean")throw new D("argument-error",of+" property must be a boolean when specified.");if(this.g=!!T,typeof g<"u"&&(typeof g!="string"||typeof g=="string"&&!g.length))throw new D("argument-error",ad+" property must be a non empty string when specified.");this.b=g||null}else{if(typeof f<"u")throw new D("argument-error",pg+" property must be a non empty string when specified.");if(typeof T<"u"||typeof g<"u")throw new D("missing-android-pkg-name")}}else if(typeof g<"u")throw new D("argument-error",fg+" property must be a non null object when specified.");if(this.f=null,(f=s[dg])&&typeof f=="object"){if(f=f[zw],typeof f=="string"&&f.length)this.f=f;else if(typeof f<"u")throw new D("argument-error",zw+" property must be a non empty string when specified.")}else if(typeof f<"u")throw new D("argument-error",dg+" property must be a non null object when specified.");if(f=s[gl],typeof f<"u"&&typeof f!="boolean")throw new D("argument-error",gl+" property must be a boolean when specified.");if(this.c=!!f,s=s[hg],typeof s<"u"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new D("argument-error",hg+" property must be a non empty string when specified.");this.i=s||null}var fg="android",hg="dynamicLinkDomain",gl="handleCodeInApp",dg="iOS",us="url",of="installApp",ad="minimumVersion",pg="packageName",zw="bundleId";function so(s){var f={};f.continueUrl=s.h,f.canHandleCodeInApp=s.c,(f.androidPackageName=s.a)&&(f.androidMinimumVersion=s.b,f.androidInstallApp=s.g),f.iOSBundleId=s.f,f.dynamicLinkDomain=s.i;for(var g in f)f[g]===null&&delete f[g];return f}function vl(s){return M(s,function(f){return f=f.toString(16),1<f.length?f:"0"+f}).join("")}var Ro=null;function ud(s){var f=[];return ld(s,function(g){f.push(g)}),f}function ld(s,f){function g(Le){for(;T<s.length;){var Ue=s.charAt(T++),_t=Ro[Ue];if(_t!=null)return _t;if(!/^[\s\xa0]*$/.test(Ue))throw Error("Unknown base64 encoding at char: "+Ue)}return Le}Wi();for(var T=0;;){var P=g(-1),q=g(0),Y=g(64),fe=g(64);if(fe===64&&P===-1)break;f(P<<2|q>>4),Y!=64&&(f(q<<4&240|Y>>2),fe!=64&&f(Y<<6&192|fe))}}function Wi(){if(!Ro){Ro={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=["+/=","+/","-_=","-_.","-_"],g=0;5>g;g++)for(var T=s.concat(f[g].split("")),P=0;P<T.length;P++){var q=T[P];Ro[q]===void 0&&(Ro[q]=P)}}}function zr(s){var f=Oo(s);if(!(f&&f.sub&&f.iss&&f.aud&&f.exp))throw Error("Invalid JWT");this.h=s,this.a=f.exp,this.i=f.sub,s=Date.now()/1e3,this.g=f.iat||(s>this.a?this.a:s),this.b=f.provider_id||f.firebase&&f.firebase.sign_in_provider||null,this.f=f.firebase&&f.firebase.tenant||null,this.c=!!f.is_anonymous||this.b=="anonymous"}zr.prototype.T=function(){return this.f},zr.prototype.l=function(){return this.c},zr.prototype.toString=function(){return this.h};function No(s){try{return new zr(s)}catch{return null}}function Oo(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var f=(4-s.length%4)%4,g=0;g<f;g++)s+=".";try{var T=ud(s);for(s=[],g=f=0;f<T.length;){var P=T[f++];if(128>P)s[g++]=String.fromCharCode(P);else if(191<P&&224>P){var q=T[f++];s[g++]=String.fromCharCode((P&31)<<6|q&63)}else if(239<P&&365>P){q=T[f++];var Y=T[f++],fe=T[f++],Le=((P&7)<<18|(q&63)<<12|(Y&63)<<6|fe&63)-65536;s[g++]=String.fromCharCode(55296+(Le>>10)),s[g++]=String.fromCharCode(56320+(Le&1023))}else q=T[f++],Y=T[f++],s[g++]=String.fromCharCode((P&15)<<12|(q&63)<<6|Y&63)}return JSON.parse(s.join(""))}catch{}return null}var Po="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Do=["client_id","response_type","scope","redirect_uri","state"],cd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Do},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Do},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Do},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Po},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function sf(s){for(var f in cd)if(cd[f].fa==s)return cd[f];return null}function fd(s){var f={};f["facebook.com"]=mg,f["google.com"]=hd,f["github.com"]=gg,f["twitter.com"]=dd;var g=s&&s[ii];try{if(g)return f[g]?new f[g](s):new Pn(s);if(typeof s[Hr]<"u")return new an(s)}catch{}return null}var Hr="idToken",ii="providerId";function an(s){var f=s[ii];if(!f&&s[Hr]){var g=No(s[Hr]);g&&g.b&&(f=g.b)}if(!f)throw Error("Invalid additional user info!");(f=="anonymous"||f=="custom")&&(f=null),g=!1,typeof s.isNewUser<"u"?g=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(g=!0),tt(this,"providerId",f),tt(this,"isNewUser",g)}function Pn(s){an.call(this,s),s=ll(s.rawUserInfo||"{}"),tt(this,"profile",ef(s||{}))}O(Pn,an);function mg(s){if(Pn.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}O(mg,Pn);function gg(s){if(Pn.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");tt(this,"username",this.profile&&this.profile.login||null)}O(gg,Pn);function hd(s){if(Pn.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}O(hd,Pn);function dd(s){if(Pn.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");tt(this,"username",s.screenName||null)}O(dd,Pn);function vg(s){var f=jr(s),g=ji(f,"link"),T=ji(jr(g),"link");return f=ji(f,"deep_link_id"),ji(jr(f),"link")||f||T||g||s}function su(s,f){if(!s&&!f)throw new D("internal-error","Internal assert: no raw session string available");if(s&&f)throw new D("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=f||null,this.type=this.a?yl:ls}var yl="enroll",ls="signin";su.prototype.Ha=function(){return this.a?st(this.a):st(this.b)},su.prototype.w=function(){return this.type==yl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function na(){}na.prototype.ka=function(){},na.prototype.b=function(){},na.prototype.c=function(){},na.prototype.w=function(){};function wl(s,f){return s.then(function(g){if(g[br]){var T=No(g[br]);if(!T||f!=T.i)throw new D("user-mismatch");return g}throw new D("user-mismatch")}).o(function(g){throw g&&g.code&&g.code==V+"user-not-found"?new D("user-mismatch"):g})}function ao(s,f){if(f)this.a=f;else throw new D("internal-error","failed to construct a credential");tt(this,"providerId",s),tt(this,"signInMethod",s)}ao.prototype.ka=function(s){return Ad(s,_l(this))},ao.prototype.b=function(s,f){var g=_l(this);return g.idToken=f,Ml(s,g)},ao.prototype.c=function(s,f){return wl(lo(s,_l(this)),f)};function _l(s){return{pendingToken:s.a,requestUri:"http://localhost"}}ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Hw(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new ao(s.providerId,s.pendingToken)}catch{}return null}function Lo(s,f,g){if(this.a=null,f.idToken||f.accessToken)f.idToken&&tt(this,"idToken",f.idToken),f.accessToken&&tt(this,"accessToken",f.accessToken),f.nonce&&!f.pendingToken&&tt(this,"nonce",f.nonce),f.pendingToken&&(this.a=f.pendingToken);else if(f.oauthToken&&f.oauthTokenSecret)tt(this,"accessToken",f.oauthToken),tt(this,"secret",f.oauthTokenSecret);else throw new D("internal-error","failed to construct a credential");tt(this,"providerId",s),tt(this,"signInMethod",g)}Lo.prototype.ka=function(s){return Ad(s,ra(this))},Lo.prototype.b=function(s,f){var g=ra(this);return g.idToken=f,Ml(s,g)},Lo.prototype.c=function(s,f){var g=ra(this);return wl(lo(s,g),f)};function ra(s){var f={};return s.idToken&&(f.id_token=s.idToken),s.accessToken&&(f.access_token=s.accessToken),s.secret&&(f.oauth_token_secret=s.secret),f.providerId=s.providerId,s.nonce&&!s.a&&(f.nonce=s.nonce),f={postBody:il(f).toString(),requestUri:"http://localhost"},s.a&&(delete f.postBody,f.pendingToken=s.a),f}Lo.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function Ww(s){if(s&&s.providerId&&s.signInMethod){var f={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new Lo(s.providerId,f,s.signInMethod)}catch{}}return null}function Mo(s,f){this.Qc=f||[],Kn(this,{providerId:s,isOAuthProvider:!0}),this.Jb={},this.qb=(sf(s)||{}).Ja||null,this.pb=null}Mo.prototype.Ka=function(s){return this.Jb=ti(s),this};function af(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new D("argument-error",'SAML provider IDs must be prefixed with "saml."');Mo.call(this,s,[])}O(af,Mo);function Yn(s){Mo.call(this,s,Do),this.a=[]}O(Yn,Mo),Yn.prototype.Ca=function(s){return Q(this.a,s)||this.a.push(s),this},Yn.prototype.Rb=function(){return Te(this.a)},Yn.prototype.credential=function(s,f){var g;if(I(s)?g={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:g={idToken:s||null,accessToken:f||null},!g.idToken&&!g.accessToken)throw new D("argument-error","credential failed: must provide the ID token and/or the access token.");return new Lo(this.providerId,g,this.providerId)};function cs(){Yn.call(this,"facebook.com")}O(cs,Yn),tt(cs,"PROVIDER_ID","facebook.com"),tt(cs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function pd(s){if(!s)throw new D("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=s;return I(s)&&(f=s.accessToken),new cs().credential({accessToken:f})}function fs(){Yn.call(this,"github.com")}O(fs,Yn),tt(fs,"PROVIDER_ID","github.com"),tt(fs,"GITHUB_SIGN_IN_METHOD","github.com");function md(s){if(!s)throw new D("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=s;return I(s)&&(f=s.accessToken),new fs().credential({accessToken:f})}function qi(){Yn.call(this,"google.com"),this.Ca("profile")}O(qi,Yn),tt(qi,"PROVIDER_ID","google.com"),tt(qi,"GOOGLE_SIGN_IN_METHOD","google.com");function Ii(s,f){var g=s;return I(s)&&(g=s.idToken,f=s.accessToken),new qi().credential({idToken:g,accessToken:f})}function $i(){Mo.call(this,"twitter.com",Po)}O($i,Mo),tt($i,"PROVIDER_ID","twitter.com"),tt($i,"TWITTER_SIGN_IN_METHOD","twitter.com");function gd(s,f){var g=s;if(I(g)||(g={oauthToken:s,oauthTokenSecret:f}),!g.oauthToken||!g.oauthTokenSecret)throw new D("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Lo("twitter.com",g,"twitter.com")}function hs(s,f,g){this.a=s,this.f=f,tt(this,"providerId","password"),tt(this,"signInMethod",g===Bn.EMAIL_LINK_SIGN_IN_METHOD?Bn.EMAIL_LINK_SIGN_IN_METHOD:Bn.EMAIL_PASSWORD_SIGN_IN_METHOD)}hs.prototype.ka=function(s){return this.signInMethod==Bn.EMAIL_LINK_SIGN_IN_METHOD?xt(s,R1,{email:this.a,oobCode:this.f}):xt(s,$g,{email:this.a,password:this.f})},hs.prototype.b=function(s,f){return this.signInMethod==Bn.EMAIL_LINK_SIGN_IN_METHOD?xt(s,N1,{idToken:f,email:this.a,oobCode:this.f}):xt(s,Hg,{idToken:f,email:this.a,password:this.f})},hs.prototype.c=function(s,f){return wl(this.ka(s),f)},hs.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function ds(s){return s&&s.email&&s.password?new hs(s.email,s.password,s.signInMethod):null}function Bn(){Kn(this,{providerId:"password",isOAuthProvider:!1})}function vd(s,f){if(f=yd(f),!f)throw new D("argument-error","Invalid email link!");return new hs(s,f.code,Bn.EMAIL_LINK_SIGN_IN_METHOD)}function yd(s){return s=vg(s),(s=Vr(s))&&s.operation===Ti?s:null}Kn(Bn,{PROVIDER_ID:"password"}),Kn(Bn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kn(Bn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function wr(s){if(!(s.fb&&s.eb||s.La&&s.ea))throw new D("internal-error");this.a=s,tt(this,"providerId","phone"),this.fa="phone",tt(this,"signInMethod","phone")}wr.prototype.ka=function(s){return s.gb(oa(this))},wr.prototype.b=function(s,f){var g=oa(this);return g.idToken=f,xt(s,c0,g)},wr.prototype.c=function(s,f){var g=oa(this);return g.operation="REAUTH",s=xt(s,Uo,g),wl(s,f)},wr.prototype.w=function(){var s={providerId:"phone"};return this.a.fb&&(s.verificationId=this.a.fb),this.a.eb&&(s.verificationCode=this.a.eb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function ia(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var f={};return _e(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(g){s[g]&&(f[g]=s[g])}),new wr(f)}return null}function oa(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.fb,code:s.a.eb}}function Fo(s){try{this.a=s||at.auth()}catch{throw new D("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kn(this,{providerId:"phone",isOAuthProvider:!1})}Fo.prototype.gb=function(s,f){var g=this.a.a;return st(f.verify()).then(function(T){if(typeof T!="string")throw new D("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(f.type){case"recaptcha":var P=I(s)?s.session:null,q=I(s)?s.phoneNumber:s,Y;return P&&P.type==yl?Y=P.Ha().then(function(fe){return Dg(g,{idToken:fe,phoneEnrollmentInfo:{phoneNumber:q,recaptchaToken:T}})}):P&&P.type==ls?Y=P.Ha().then(function(fe){return Mg(g,{mfaPendingCredential:fe,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:T}})}):Y=Pg(g,{phoneNumber:q,recaptchaToken:T}),Y.then(function(fe){return typeof f.reset=="function"&&f.reset(),fe},function(fe){throw typeof f.reset=="function"&&f.reset(),fe});default:throw new D("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function uf(s,f){if(!s)throw new D("missing-verification-id");if(!f)throw new D("missing-verification-code");return new wr({fb:s,eb:f})}Kn(Fo,{PROVIDER_ID:"phone"}),Kn(Fo,{PHONE_SIGN_IN_METHOD:"phone"});function wd(s){if(s.temporaryProof&&s.phoneNumber)return new wr({La:s.temporaryProof,ea:s.phoneNumber});var f=s&&s.providerId;if(!f||f==="password")return null;var g=s&&s.oauthAccessToken,T=s&&s.oauthTokenSecret,P=s&&s.nonce,q=s&&s.oauthIdToken,Y=s&&s.pendingToken;try{switch(f){case"google.com":return Ii(q,g);case"facebook.com":return pd(g);case"github.com":return md(g);case"twitter.com":return gd(g,T);default:return g||T||q||Y?Y?f.indexOf("saml.")==0?new ao(f,Y):new Lo(f,{pendingToken:Y,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},f):new Yn(f).credential({idToken:q,accessToken:g,rawNonce:P}):null}}catch{return null}}function au(s){if(!s.isOAuthProvider)throw new D("invalid-oauth-provider")}function Dn(s,f,g,T,P,q,Y){if(this.c=s,this.b=f||null,this.g=g||null,this.f=T||null,this.i=q||null,this.h=Y||null,this.a=P||null,this.g||this.a){if(this.g&&this.a)throw new D("invalid-auth-event");if(this.g&&!this.f)throw new D("invalid-auth-event")}else throw new D("invalid-auth-event")}Dn.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},Dn.prototype.T=function(){return this.h},Dn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function bl(s){return s=s||{},s.type?new Dn(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&X(s.error),s.postBody,s.tenantId):null}function lf(){this.b=null,this.a=[]}var ps=null;function yg(s){var f=ps;f.a.push(s),f.b||(f.b=function(g){for(var T=0;T<f.a.length;T++)f.a[T](g)},s=hn("universalLinks.subscribe",c),typeof s=="function"&&s(null,f.b))}function sa(s){var f="unauthorized-domain",g=void 0,T=jr(s);s=T.a,T=T.c,T=="chrome-extension"?g=Am("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):T=="http"||T=="https"?g=Am("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):f="operation-not-supported-in-this-environment",D.call(this,f,g)}O(sa,D);function El(s,f,g){D.call(this,s,g),s=f||{},s.Kb&&tt(this,"email",s.Kb),s.ea&&tt(this,"phoneNumber",s.ea),s.credential&&tt(this,"credential",s.credential),s.$b&&tt(this,"tenantId",s.$b)}O(El,D),El.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var f=this.credential&&this.credential.w();return f&&On(s,f),s},El.prototype.toJSON=function(){return this.w()};function Sl(s){if(s.code){var f=s.code||"";f.indexOf(V)==0&&(f=f.substring(V.length));var g={credential:wd(s),$b:s.tenantId};if(s.email)g.Kb=s.email;else if(s.phoneNumber)g.ea=s.phoneNumber;else if(!g.credential)return new D(f,s.message||void 0);return new El(f,g,s.message)}return null}function Jt(){}Jt.prototype.c=null;function cf(s){return s.c||(s.c=s.b())}var ff;function Tl(){}O(Tl,Jt),Tl.prototype.a=function(){var s=hf(this);return s?new ActiveXObject(s):new XMLHttpRequest},Tl.prototype.b=function(){var s={};return hf(this)&&(s[0]=!0,s[1]=!0),s};function hf(s){if(!s.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var f=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],g=0;g<f.length;g++){var T=f[g];try{return new ActiveXObject(T),s.f=T}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}ff=new Tl;function Il(){}O(Il,Jt),Il.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest<"u")return new aa;throw Error("Unsupported browser")},Il.prototype.b=function(){return{}};function aa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.qc,this),this.a.onerror=C(this.Tb,this),this.a.onprogress=C(this.rc,this),this.a.ontimeout=C(this.vc,this)}t=aa.prototype,t.open=function(s,f,g){if(g!=null&&!g)throw Error("Only async requests are supported.");this.a.open(s,f)},t.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,dn(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",dn(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,dn(this,1)};function dn(s,f){s.readyState=f,s.onreadystatechange&&s.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function xn(s,f,g){this.reset(s,f,g,void 0,void 0)}xn.prototype.a=null,xn.prototype.reset=function(s,f,g,T,P){delete this.a};function Ln(s){this.f=s,this.b=this.c=this.a=null}function ua(s,f){this.name=s,this.value=f}ua.prototype.toString=function(){return this.name};var Cl=new ua("SEVERE",1e3),uu=new ua("WARNING",900),I1=new ua("CONFIG",700),_r=new ua("FINE",500);function _d(s){return s.c?s.c:s.a?_d(s.a):(re("Root logger has no level set."),null)}Ln.prototype.log=function(s,f,g){if(s.value>=_d(this).value)for(E(f)&&(f=f()),s=new xn(s,String(f),this.f),g&&(s.a=g),g=this;g;)g=g.a};var df={},xl=null;function Gi(s){xl||(xl=new Ln(""),df[""]=xl,xl.c=I1);var f;if(!(f=df[s])){f=new Ln(s);var g=s.lastIndexOf("."),T=s.substr(g+1);g=Gi(s.substr(0,g)),g.b||(g.b={}),g.b[T]=f,f.a=g,df[s]=f}return f}function vn(s,f){s&&s.log(_r,f,void 0)}function la(s){this.f=s}O(la,Jt),la.prototype.a=function(){return new kl(this.f)},la.prototype.b=function(s){return function(){return s}}({});function kl(s){vr.call(this),this.u=s,this.h=void 0,this.readyState=pf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Gi("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}O(kl,vr);var pf=0;t=kl.prototype,t.open=function(s,f){if(this.readyState!=pf)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=f,this.readyState=1,Rl(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var f={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(f.body=s),this.u.fetch(new Request(this.f,f)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Al(this)),this.readyState=pf},t.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,Rl(this)),this.a&&(this.readyState=3,Rl(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,wg(this)):s.text().then(this.tc.bind(this),this.Va.bind(this)))))};function wg(s){s.c.read().then(s.pc.bind(s)).catch(s.Va.bind(s))}t.pc=function(s){if(this.a){var f=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});f&&(this.response=this.responseText+=f),s.done?Al(this):Rl(this),this.readyState==3&&wg(this)}},t.tc=function(s){this.a&&(this.response=this.responseText=s,Al(this))},t.sc=function(s){this.a&&(this.response=s,Al(this))},t.Va=function(s){var f=this.i;f&&f.log(uu,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&Al(this)};function Al(s){s.readyState=4,s.g=null,s.c=null,s.m=null,Rl(s)}t.setRequestHeader=function(s,f){this.l.append(s,f)},t.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(uu,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(uu,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var f=this.b.entries(),g=f.next();!g.done;)g=g.value,s.push(g[0]+": "+g[1]),g=f.next();return s.join(`\r
`)};function Rl(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function Nl(s){vr.call(this),this.headers=new Xa,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=_g,this.u=this.S=!1}O(Nl,vr);var _g="";Nl.prototype.b=Gi("goog.net.XhrIo");var qw=/^https?$/i,$w=["POST","PUT"];function Gw(s,f,g,T,P){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+f);g=g?g.toUpperCase():"GET",s.l=f,s.h="",s.P=g,s.J=!1,s.c=!0,s.a=s.D?s.D.a():ff.a(),s.C=s.D?cf(s.D):cf(ff),s.a.onreadystatechange=C(s.Wb,s);try{vn(s.b,uo(s,"Opening Xhr")),s.N=!0,s.a.open(g,String(f),!0),s.N=!1}catch(Y){vn(s.b,uo(s,"Error opening Xhr: "+Y.message)),gf(s,Y);return}f=T||"";var q=new Xa(s.headers);P&&m1(P,function(Y,fe){q.set(fe,Y)}),P=ie(q.Y()),T=c.FormData&&f instanceof c.FormData,!Q($w,g)||P||T||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),q.forEach(function(Y,fe){this.a.setRequestHeader(fe,Y)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{Eg(s),0<s.g&&(s.u=mf(s.a),vn(s.b,uo(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=C(s.Ma,s)):s.s=zm(s.Ma,s.g,s)),vn(s.b,uo(s,"Sending request")),s.i=!0,s.a.send(f),s.i=!1}catch(Y){vn(s.b,uo(s,"Send error: "+Y.message)),gf(s,Y)}}function mf(s){return Fi&&io(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function Kw(s){return s.toLowerCase()=="content-type"}t=Nl.prototype,t.Ma=function(){typeof u<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",vn(this.b,uo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function gf(s,f){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=f,vf(s),Ol(s)}function vf(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(vn(this.b,uo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ol(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ol(this,!0)),Nl.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?bg(this):this.Jc())},t.Jc=function(){bg(this)};function bg(s){if(s.c&&typeof u<"u"){if(s.C[1]&&Pl(s)==4&&yf(s)==2)vn(s.b,uo(s,"Local request error detected and ignored"));else if(s.i&&Pl(s)==4)zm(s.Wb,0,s);else if(s.dispatchEvent("readystatechange"),Pl(s)==4){vn(s.b,uo(s,"Request complete")),s.c=!1;try{var f=yf(s);e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var T;if(!(T=g)){var P;if(P=f===0){var q=String(s.l).match(Pw)[1]||null;if(!q&&c.self&&c.self.location){var Y=c.self.location.protocol;q=Y.substr(0,Y.length-1)}P=!qw.test(q?q.toLowerCase():"")}T=P}if(T)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var fe=2<Pl(s)?s.a.statusText:""}catch(Le){vn(s.b,"Can not get status: "+Le.message),fe=""}s.h=fe+" ["+yf(s)+"]",vf(s)}}finally{Ol(s)}}}}function Ol(s,f){if(s.a){Eg(s);var g=s.a,T=s.C[0]?y:null;s.a=null,s.C=null,f||s.dispatchEvent("ready");try{g.onreadystatechange=T}catch(P){(s=s.b)&&s.log(Cl,"Problem encountered resetting onreadystatechange: "+P.message,void 0)}}}function Eg(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(c.clearTimeout(s.s),s.s=null)}function Pl(s){return s.a?s.a.readyState:0}function yf(s){try{return 2<Pl(s)?s.a.status:-1}catch{return-1}}function Yw(s){try{return s.a?s.a.responseText:""}catch(f){return vn(s.b,"Can not get responseText: "+f.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _g:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(Cl,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(f){return vn(this.b,"Can not get response: "+f.message),null}};function uo(s,f){return f+" ["+s.P+" "+s.l+" "+yf(s)+"]"}function ca(s){var f=k1;this.g=[],this.u=f,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ca.prototype.cancel=function(s){if(this.a)this.c instanceof ca&&this.c.cancel();else{if(this.b){var f=this.b;delete this.b,s?f.cancel(s):(f.l--,0>=f.l&&f.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new Ll,wf(this),Dl(this,!1,s))}},ca.prototype.m=function(s,f){this.i=!1,Dl(this,s,f)};function Dl(s,f,g){s.a=!0,s.c=g,s.f=!f,Qw(s)}function wf(s){if(s.a){if(!s.v)throw new _f;s.v=!1}}function C1(s,f){bd(s,null,f,void 0)}function bd(s,f,g,T){s.g.push([f,g,T]),s.a&&Qw(s)}ca.prototype.then=function(s,f,g){var T,P,q=new It(function(Y,fe){T=Y,P=fe});return bd(this,T,function(Y){Y instanceof Ll?q.cancel():P(Y)}),q.then(s,f,g)},ca.prototype.$goog_Thenable=!0;function Xw(s){return se(s.g,function(f){return E(f[1])})}function Qw(s){if(s.h&&s.a&&Xw(s)){var f=s.h,g=lu[f];g&&(c.clearTimeout(g.a),delete lu[f]),s.h=0}s.b&&(s.b.l--,delete s.b),f=s.c;for(var T=g=!1;s.g.length&&!s.i;){var P=s.g.shift(),q=P[0],Y=P[1];if(P=P[2],q=s.f?Y:q)try{var fe=q.call(P||s.s,f);fe!==void 0&&(s.f=s.f&&(fe==f||fe instanceof Error),s.c=f=fe),(j(f)||typeof c.Promise=="function"&&f instanceof c.Promise)&&(T=!0,s.i=!0)}catch(Le){f=Le,s.f=!0,Xw(s)||(g=!0)}}s.c=f,T&&(fe=C(s.m,s,!0),T=C(s.m,s,!1),f instanceof ca?(bd(f,fe,T),f.C=!0):f.then(fe,T)),g&&(f=new Sg(f),lu[f.a]=f,s.h=f.a)}function _f(){he.call(this)}O(_f,he),_f.prototype.message="Deferred has already fired",_f.prototype.name="AlreadyCalledError";function Ll(){he.call(this)}O(Ll,he),Ll.prototype.message="Deferred was canceled",Ll.prototype.name="CanceledError";function Sg(s){this.a=c.setTimeout(C(this.c,this),0),this.b=s}Sg.prototype.c=function(){throw delete lu[this.a],this.b};var lu={};function Tg(s){var f={},g=f.document||document,T=js(s).toString(),P=Hh(document,"SCRIPT"),q={Xb:P,Ma:void 0},Y=new ca(q),fe=null,Le=f.timeout!=null?f.timeout:5e3;return 0<Le&&(fe=window.setTimeout(function(){oi(P,!0);var Ue=new Sd(Ed,"Timeout reached for loading script "+T);wf(Y),Dl(Y,!1,Ue)},Le),q.Ma=fe),P.onload=P.onreadystatechange=function(){P.readyState&&P.readyState!="loaded"&&P.readyState!="complete"||(oi(P,f.xd||!1,fe),wf(Y),Dl(Y,!0,null))},P.onerror=function(){oi(P,!0,fe);var Ue=new Sd(Ig,"Error while loading script "+T);wf(Y),Dl(Y,!1,Ue)},q=f.attributes||{},On(q,{type:"text/javascript",charset:"UTF-8"}),Pc(P,q),Ga(P,s),x1(g).appendChild(P),Y}function x1(s){var f;return(f=(s||document).getElementsByTagName("HEAD"))&&f.length!=0?f[0]:s.documentElement}function k1(){if(this&&this.Xb){var s=this.Xb;s&&s.tagName=="SCRIPT"&&oi(s,!0,this.Ma)}}function oi(s,f,g){g!=null&&c.clearTimeout(g),s.onload=y,s.onerror=y,s.onreadystatechange=y,f&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var Ig=0,Ed=1;function Sd(s,f){var g="Jsloader error (code #"+s+")";f&&(g+=": "+f),he.call(this,g),this.code=s}O(Sd,he);function bf(s){this.f=s}O(bf,Jt),bf.prototype.a=function(){return new this.f},bf.prototype.b=function(){return{}};function Ki(s,f,g){if(this.c=s,s=f||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||Cg,this.g=ti(s.secureTokenHeaders||xg),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||A1,this.a=ti(s.firebaseHeaders||Jw),g&&(this.a["X-Client-Version"]=g,this.g["X-Client-Version"]=g),g=Ei()=="Node",g=c.XMLHttpRequest||g&&at.INTERNAL.node&&at.INTERNAL.node.XMLHttpRequest,!g&&!zi())throw new D("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,zi()?this.f=new la(self):eu()?this.f=new bf(g):this.f=new Il,this.b=null}var Ef,br="idToken",Cg=new ko(3e4,6e4),xg={"Content-Type":"application/x-www-form-urlencoded"},A1=new ko(3e4,6e4),Jw={"Content-Type":"application/json"};function kg(s,f){f?s.a["X-Firebase-Locale"]=f:delete s.a["X-Firebase-Locale"]}function Sf(s,f){f&&(s.l=Td("https://securetoken.googleapis.com/v1/token",f),s.h=Td("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",f),s.i=Td("https://identitytoolkit.googleapis.com/v2/",f))}function Td(s,f){return s=jr(s),f=jr(f.url),s.f=s.a+s.f,Hc(s,f.c),s.a=f.a,Wc(s,f.g),s.toString()}function Ag(s,f){f?(s.a["X-Client-Version"]=f,s.g["X-Client-Version"]=f):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}Ki.prototype.T=function(){return this.b};function Zw(s,f,g,T,P,q,Y){Bw()||zi()?s=C(s.u,s):(Ef||(Ef=new It(function(fe,Le){e0(fe,Le)})),s=C(s.s,s)),s(f,g,T,P,q,Y)}Ki.prototype.u=function(s,f,g,T,P,q){if(zi()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new D("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var Y=new Nl(this.f);if(q){Y.g=Math.max(0,q);var fe=setTimeout(function(){Y.dispatchEvent("timeout")},q)}Rw(Y,"complete",function(){fe&&clearTimeout(fe);var Le=null;try{Le=JSON.parse(Yw(this))||null}catch{Le=null}f&&f(Le)}),Vm(Y,"ready",function(){fe&&clearTimeout(fe),$h(this)}),Vm(Y,"timeout",function(){fe&&clearTimeout(fe),$h(this),f&&f(null)}),Gw(Y,s,g,T,P)};var si=new En(Fs,"https://apis.google.com/js/client.js?onload=%{onload}"),Er="__fcb"+Math.floor(1e6*Math.random()).toString();function e0(s,f){if(((window.gapi||{}).client||{}).request)s();else{c[Er]=function(){((window.gapi||{}).client||{}).request?s():f(Error("CORS_UNSUPPORTED"))};var g=Mh(si,{onload:Er});C1(Tg(g),function(){f(Error("CORS_UNSUPPORTED"))})}}Ki.prototype.s=function(s,f,g,T,P){var q=this;Ef.then(function(){window.gapi.client.setApiKey(q.c);var Y=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:g,body:T,headers:P,authType:"none",callback:function(fe){window.gapi.auth.setToken(Y),f&&f(fe)}})}).o(function(Y){f&&f({error:{message:Y&&Y.message||"CORS_UNSUPPORTED"}})})};function t0(s,f){return new It(function(g,T){f.grant_type=="refresh_token"&&f.refresh_token||f.grant_type=="authorization_code"&&f.code?Zw(s,s.l+"?key="+encodeURIComponent(s.c),function(P){P?P.error?T(Od(P)):P.access_token&&P.refresh_token?g(P):T(new D("internal-error")):T(new D("network-request-failed"))},"POST",il(f).toString(),s.g,s.m.get()):T(new D("internal-error"))})}function Rg(s,f,g,T,P,q,Y){var fe=jr(f+g);fn(fe,"key",s.c),Y&&fn(fe,"cb",Date.now().toString());var Le=T=="GET";if(Le)for(var Ue in P)P.hasOwnProperty(Ue)&&fn(fe,Ue,P[Ue]);return new It(function(_t,en){Zw(s,fe.toString(),function(Ht){Ht?Ht.error?en(Od(Ht,q||{})):_t(Ht):en(new D("network-request-failed"))},T,Le?void 0:$m(ul(P)),s.a,s.v.get())})}function fa(s){if(s=s.email,typeof s!="string"||!E1.test(s))throw new D("invalid-email")}function Ng(s){"email"in s&&fa(s)}function Og(s,f){return xt(s,s0,{identifier:f,continueUri:al()?Gc():"http://localhost"}).then(function(g){return g.signinMethods||[]})}function n0(s){return xt(s,P1,{}).then(function(f){return f.authorizedDomains||[]})}function Sr(s){if(!s[br])throw s.mfaPendingCredential?new D("multi-factor-auth-required",null,ti(s)):new D("internal-error")}function Id(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new D("internal-error")}else{if(!s.sessionInfo)throw new D("missing-verification-id");if(!s.code)throw new D("missing-verification-code")}}Ki.prototype.Ab=function(){return xt(this,u0,{})},Ki.prototype.Cb=function(s,f){return xt(this,zg,{idToken:s,email:f})},Ki.prototype.Db=function(s,f){return xt(this,Hg,{idToken:s,password:f})};var r0={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Ki.prototype,t.Eb=function(s,f){var g={idToken:s},T=[];return Fr(r0,function(P,q){var Y=f[q];Y===null?T.push(P):q in f&&(g[q]=Y)}),T.length&&(g.deleteAttribute=T),xt(this,zg,g)},t.wb=function(s,f){return s={requestType:"PASSWORD_RESET",email:s},On(s,f),xt(this,a0,s)},t.xb=function(s,f){return s={requestType:"EMAIL_SIGNIN",email:s},On(s,f),xt(this,Qe,s)},t.vb=function(s,f){return s={requestType:"VERIFY_EMAIL",idToken:s},On(s,f),xt(this,Fl,s)},t.Fb=function(s,f,g){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:f},On(s,g),xt(this,Bg,s)};function Pg(s,f){return xt(s,Vg,f)}t.gb=function(s){return xt(this,fo,s)};function Dg(s,f){return xt(s,Wg,f).then(function(g){return g.phoneSessionInfo.sessionInfo})}function Lg(s){if(!s.phoneVerificationInfo)throw new D("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new D("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new D("missing-verification-code")}function Mg(s,f){return xt(s,qg,f).then(function(g){return g.phoneResponseInfo.sessionInfo})}function Cd(s,f,g){return xt(s,Tr,{idToken:f,deleteProvider:g})}function Fg(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new D("internal-error")}function xd(s,f){return f.oauthIdToken&&f.providerId&&f.providerId.indexOf("oidc.")==0&&!f.pendingToken&&(s.sessionId?f.nonce=s.sessionId:s.postBody&&(s=new Ks(s.postBody),ol(s,"nonce")&&(f.nonce=s.get("nonce")))),f}function kd(s){var f=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",f=Sl(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",f=Sl(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",f=Sl(s)):s.errorMessage&&(f=Gg(s.errorMessage)),f)throw f;Sr(s)}function Ad(s,f){return f.returnIdpCredential=!0,xt(s,sr,f)}function Ml(s,f){return f.returnIdpCredential=!0,xt(s,ha,f)}function lo(s,f){return f.returnIdpCredential=!0,f.autoCreate=!1,xt(s,co,f)}function Ug(s){if(!s.oobCode)throw new D("invalid-action-code")}t.ob=function(s,f){return xt(this,Nd,{oobCode:s,newPassword:f})},t.Sa=function(s){return xt(this,jg,{oobCode:s})},t.kb=function(s){return xt(this,i0,{oobCode:s})};var i0={endpoint:"setAccountInfo",A:Ug,Z:"email",B:!0},jg={endpoint:"resetPassword",A:Ug,G:function(s){var f=s.requestType;if(!f||!s.email&&f!="EMAIL_SIGNIN"&&f!="VERIFY_AND_CHANGE_EMAIL")throw new D("internal-error")},B:!0},o0={endpoint:"signupNewUser",A:function(s){if(fa(s),!s.password)throw new D("weak-password")},G:Sr,V:!0,B:!0},s0={endpoint:"createAuthUri",B:!0},Tf={endpoint:"deleteAccount",O:["idToken"]},Tr={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new D("internal-error")}},R1={endpoint:"emailLinkSignin",O:["email","oobCode"],A:fa,G:Sr,V:!0,B:!0},N1={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:fa,G:Sr,V:!0},Rd={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Lg,G:Sr,B:!0,Na:!0},Ir={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Lg,G:Sr,B:!0,Na:!0},O1={endpoint:"getAccountInfo"},Qe={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new D("internal-error");fa(s)},Z:"email",B:!0},Fl={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new D("internal-error")},Z:"email",B:!0},Bg={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new D("internal-error")},Z:"email",B:!0},a0={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new D("internal-error");fa(s)},Z:"email",B:!0},P1={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},If={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new D("internal-error")}},Nd={endpoint:"resetPassword",A:Ug,Z:"email",B:!0},Vg={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zg={endpoint:"setAccountInfo",O:["idToken"],A:Ng,V:!0},Hg={endpoint:"setAccountInfo",O:["idToken"],A:function(s){if(Ng(s),!s.password)throw new D("weak-password")},G:Sr,V:!0},u0={endpoint:"signupNewUser",G:Sr,V:!0,B:!0},Wg={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new D("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new D("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new D("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new D("internal-error")},B:!0,Na:!0},qg={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new D("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new D("internal-error")},B:!0,Na:!0},sr={endpoint:"verifyAssertion",A:Fg,Za:xd,G:kd,V:!0,B:!0},co={endpoint:"verifyAssertion",A:Fg,Za:xd,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new D("user-not-found");if(s.errorMessage)throw Gg(s.errorMessage);Sr(s)},V:!0,B:!0},ha={endpoint:"verifyAssertion",A:function(s){if(Fg(s),!s.idToken)throw new D("internal-error")},Za:xd,G:kd,V:!0},l0={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new D("invalid-custom-token")},G:Sr,V:!0,B:!0},$g={endpoint:"verifyPassword",A:function(s){if(fa(s),!s.password)throw new D("wrong-password")},G:Sr,V:!0,B:!0},fo={endpoint:"verifyPhoneNumber",A:Id,G:Sr,B:!0},c0={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new D("internal-error");Id(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",Sl(s);Sr(s)}},Uo={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Id,G:Sr,B:!0},D1={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[br]^!!s.refreshToken)throw new D("internal-error")},B:!0,Na:!0};function xt(s,f,g){if(!ig(g,f.O))return Vt(new D("internal-error"));var T=!!f.Na,P=f.Vb||"POST",q;return st(g).then(f.A).then(function(){return f.V&&(g.returnSecureToken=!0),f.B&&s.b&&typeof g.tenantId>"u"&&(g.tenantId=s.b),T?Rg(s,s.i,f.endpoint,P,g,f.Ib,f.mb||!1):Rg(s,s.h,f.endpoint,P,g,f.Ib,f.mb||!1)}).then(function(Y){return q=Y,f.Za?f.Za(g,q):q}).then(f.G).then(function(){if(!f.Z)return q;if(!(f.Z in q))throw new D("internal-error");return q[f.Z]})}function Gg(s){return Od({error:{errors:[{message:s}],code:400,message:s}})}function Od(s,f){var g=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",T={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(g=T[g]?new D(T[g]):null)return g;g=s.error&&s.error.message||"",T={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},On(T,f||{}),f=(f=g.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<f.length?f[1]:void 0;for(var P in T)if(g.indexOf(P)===0)return new D(T[P],f);return!f&&s&&(f=Qc(s)),new D("internal-error",f)}function f0(s){this.b=s,this.a=null,this.sb=L1(this)}function L1(s){return ar().then(function(){return new It(function(f,g){hn("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:hn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(T){function P(){clearTimeout(q),f()}s.a=T,s.a.restyle({setHideOnLeave:!1});var q=setTimeout(function(){g(Error("Network Error"))},Xn.get());T.ping(P).then(P,function(){g(Error("Network Error"))})})})})}function Pd(s,f){return s.sb.then(function(){return new It(function(g){s.a.send(f.type,f,g,hn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Kg(s,f){s.sb.then(function(){s.a.register("authEvent",f,hn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Yi=new En(Fs,"https://apis.google.com/js/api.js?onload=%{onload}"),Ut=new ko(3e4,6e4),Xn=new ko(5e3,15e3),yn=null;function ar(){return yn||(yn=new It(function(s,f){function g(){on(),hn("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){on(),f(Error("Network Error"))},timeout:Ut.get()})}if(hn("gapi.iframes.Iframe"))s();else if(hn("gapi.load"))g();else{var T="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[T]=function(){hn("gapi.load")?g():f(Error("Network Error"))},T=Mh(Yi,{onload:T}),st(Tg(T)).o(function(){f(Error("Network Error"))})}}).o(function(s){throw yn=null,s}))}function ai(s,f,g,T){this.l=s,this.h=f,this.i=g,this.g=T,this.f=null,this.g?(s=jr(this.g.url),s=$c(s.c,s.a,s.g,"/emulator/auth/iframe")):s=$c("https",this.l,null,"/__/auth/iframe"),this.a=s,fn(this.a,"apiKey",this.h),fn(this.a,"appName",this.i),this.b=null,this.c=[]}ai.prototype.toString=function(){return this.f?fn(this.a,"v",this.f):xo(this.a.b,"v"),this.b?fn(this.a,"eid",this.b):xo(this.a.b,"eid"),this.c.length?fn(this.a,"fw",this.c.join(",")):xo(this.a.b,"fw"),this.a.toString()};function da(s,f,g,T,P,q){this.u=s,this.s=f,this.c=g,this.m=T,this.v=q,this.i=this.g=this.l=null,this.a=P,this.h=this.f=null}da.prototype.zb=function(s){return this.h=s,this},da.prototype.toString=function(){if(this.v){var s=jr(this.v.url);s=$c(s.c,s.a,s.g,"/emulator/auth/handler")}else s=$c("https",this.u,null,"/__/auth/handler");if(fn(s,"apiKey",this.s),fn(s,"appName",this.c),fn(s,"authType",this.m),this.a.isOAuthProvider){var f=this.a;try{var g=at.app(this.c).auth().la()}catch{g=null}f.pb=g,fn(s,"providerId",this.a.providerId),g=this.a,f=ul(g.Jb);for(var T in f)f[T]=f[T].toString();T=g.Qc,f=ti(f);for(var P=0;P<T.length;P++){var q=T[P];q in f&&delete f[q]}g.qb&&g.pb&&!f[g.qb]&&(f[g.qb]=g.pb),bn(f)||fn(s,"customParameters",Qc(f))}if(typeof this.a.Rb=="function"&&(g=this.a.Rb(),g.length&&fn(s,"scopes",g.join(","))),this.l?fn(s,"redirectUrl",this.l):xo(s.b,"redirectUrl"),this.g?fn(s,"eventId",this.g):xo(s.b,"eventId"),this.i?fn(s,"v",this.i):xo(s.b,"v"),this.b)for(var Y in this.b)this.b.hasOwnProperty(Y)&&!ji(s,Y)&&fn(s,Y,this.b[Y]);return this.h?fn(s,"tid",this.h):xo(s.b,"tid"),this.f?fn(s,"eid",this.f):xo(s.b,"eid"),Y=kn(this.c),Y.length&&fn(s,"fw",Y.join(",")),s.toString()};function kn(s){try{return at.app(s).auth().Ga()}catch{return[]}}function Ul(s,f,g,T,P,q){this.s=s,this.g=f,this.b=g,this.f=q,this.c=T||null,this.i=P||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pa(s){var f=Gc();return n0(s).then(function(g){e:{var T=jr(f),P=T.c;T=T.a;for(var q=0;q<g.length;q++){var Y=g[q],fe=T,Le=P;if(Y.indexOf("chrome-extension://")==0?fe=jr(Y).a==fe&&Le=="chrome-extension":Le!="http"&&Le!="https"?fe=!1:b1.test(Y)?fe=fe==Y:(Y=Y.split(".").join("\\."),fe=new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(fe)),fe){g=!0;break e}}g=!1}if(!g)throw new sa(Gc())})}function Cf(s){return s.m||(s.m=os().then(function(){if(!s.u){var f=s.c,g=s.i,T=kn(s.b),P=new ai(s.s,s.g,s.b,s.f);P.f=f,P.b=g,P.c=Te(T||[]),s.u=P.toString()}s.v=new f0(s.u),ui(s)})),s.m}t=Ul.prototype,t.Pb=function(s,f,g){var T=new D("popup-closed-by-user"),P=new D("web-storage-unsupported"),q=this,Y=!1;return this.ma().then(function(){Yg(q).then(function(fe){fe||(s&&Xs(s),f(P),Y=!0)})}).o(function(){}).then(function(){if(!Y)return Xm(s)}).then(function(){if(!Y)return $s(g).then(function(){f(T)})})},t.Yb=function(){var s=Gn();return!Xc(s)&&!eg(s)},t.Ub=function(){return!1},t.Nb=function(s,f,g,T,P,q,Y,fe){if(!s)return Vt(new D("popup-blocked"));if(Y&&!Xc())return this.ma().o(function(Ue){Xs(s),P(Ue)}),T(),st();this.a||(this.a=pa(Dd(this)));var Le=this;return this.a.then(function(){var Ue=Le.ma().o(function(_t){throw Xs(s),P(_t),_t});return T(),Ue}).then(function(){if(au(g),!Y){var Ue=ms(Le.s,Le.g,Le.b,f,g,null,q,Le.c,void 0,Le.i,fe,Le.f);Vi(Ue,s)}}).o(function(Ue){throw Ue.code=="auth/network-request-failed"&&(Le.a=null),Ue})};function Dd(s){return s.l||(s.C=s.c?nu(s.c,kn(s.b)):null,s.l=new Ki(s.g,$(s.i),s.C),s.f&&Sf(s.l,s.f)),s.l}t.Ob=function(s,f,g,T){this.a||(this.a=pa(Dd(this)));var P=this;return this.a.then(function(){au(f);var q=ms(P.s,P.g,P.b,s,f,Gc(),g,P.c,void 0,P.i,T,P.f);Vi(q)}).o(function(q){throw q.code=="auth/network-request-failed"&&(P.a=null),q})},t.ma=function(){var s=this;return Cf(this).then(function(){return s.v.sb}).o(function(){throw s.a=null,new D("network-request-failed")})},t.ac=function(){return!0};function ms(s,f,g,T,P,q,Y,fe,Le,Ue,_t,en){return s=new da(s,f,g,T,P,en),s.l=q,s.g=Y,s.i=fe,s.b=ti(Le||null),s.f=Ue,s.zb(_t).toString()}function ui(s){if(!s.v)throw Error("IfcHandler must be initialized!");Kg(s.v,function(f){var g={};if(f&&f.authEvent){var T=!1;for(f=bl(f.authEvent),g=0;g<s.h.length;g++)T=s.h[g](f)||T;return g={},g.status=T?"ACK":"ERROR",st(g)}return g.status="ERROR",st(g)})}function Yg(s){var f={type:"webStorageSupport"};return Cf(s).then(function(){return Pd(s.v,f)}).then(function(g){if(g&&g.length&&typeof g[0].webStorageSupport<"u")return g[0].webStorageSupport;throw Error()})}t.Ea=function(s){this.h.push(s)},t.Ta=function(s){Ce(this.h,function(f){return f==s})};function cu(s){if(this.a=s||at.INTERNAL.reactNative&&at.INTERNAL.reactNative.AsyncStorage,!this.a)throw new D("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=cu.prototype,t.get=function(s){return st(this.a.getItem(s)).then(function(f){return f&&ll(f)})},t.set=function(s,f){return st(this.a.setItem(s,Qc(f)))},t.U=function(s){return st(this.a.removeItem(s))},t.ca=function(){},t.ia=function(){};function jo(s){this.b=s,this.a={},this.f=C(this.c,this)}var xf=[];function Xg(){var s=zi()?self:null;if(_e(xf,function(g){g.b==s&&(f=g)}),!f){var f=new jo(s);xf.push(f)}return f}jo.prototype.c=function(s){var f=s.data.eventType,g=s.data.eventId,T=this.a[f];if(T&&0<T.length){s.ports[0].postMessage({status:"ack",eventId:g,eventType:f,response:null});var P=[];_e(T,function(q){P.push(st().then(function(){return q(s.origin,s.data.data)}))}),Zu(P).then(function(q){var Y=[];_e(q,function(fe){Y.push({fulfilled:fe.Qb,value:fe.value,reason:fe.reason?fe.reason.message:void 0})}),_e(Y,function(fe){for(var Le in fe)typeof fe[Le]>"u"&&delete fe[Le]}),s.ports[0].postMessage({status:"done",eventId:g,eventType:f,response:Y})})}};function gs(s,f,g){bn(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[f]>"u"&&(s.a[f]=[]),s.a[f].push(g)}function kf(s){this.a=s}kf.prototype.postMessage=function(s,f){this.a.postMessage(s,f)};function vs(s){this.c=s,this.b=!1,this.a=[]}function Af(s,f,g,T){var P,q=g||{},Y,fe,Le,Ue=null;if(s.b)return Vt(Error("connection_unavailable"));var _t=T?800:50,en=typeof MessageChannel<"u"?new MessageChannel:null;return new It(function(Ht,kr){en?(P=Math.floor(Math.random()*Math.pow(10,20)).toString(),en.port1.start(),fe=setTimeout(function(){kr(Error("unsupported_event"))},_t),Y=function(yu){yu.data.eventId===P&&(yu.data.status==="ack"?(clearTimeout(fe),Le=setTimeout(function(){kr(Error("timeout"))},3e3)):yu.data.status==="done"?(clearTimeout(Le),typeof yu.data.response<"u"?Ht(yu.data.response):kr(Error("unknown_error"))):(clearTimeout(fe),clearTimeout(Le),kr(Error("invalid_response"))))},Ue={messageChannel:en,onMessage:Y},s.a.push(Ue),en.port1.addEventListener("message",Y),s.c.postMessage({eventType:f,eventId:P,data:q},[en.port2])):kr(Error("connection_unavailable"))}).then(function(Ht){return fu(s,Ue),Ht}).o(function(Ht){throw fu(s,Ue),Ht})}function fu(s,f){if(f){var g=f.messageChannel,T=f.onMessage;g&&(g.port1.removeEventListener("message",T),g.port1.close()),Ce(s.a,function(P){return P==f})}}vs.prototype.close=function(){for(;0<this.a.length;)fu(this,this.a[0]);this.b=!0};function Ld(){if(!xr())throw new D("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;zi()&&self?(this.v=Xg(),gs(this.v,"keyChanged",function(f,g){return ys(s).then(function(T){return 0<T.length&&_e(s.a,function(P){P(T)}),{keyProcessed:Q(T,g.key)}})}),gs(this.v,"ping",function(){return st(["keyChanged"])})):od().then(function(f){(s.h=f)&&(s.g=new vs(new kf(f)),Af(s.g,"ping",null,!0).then(function(g){g[0].fulfilled&&Q(g[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var jl;function Md(s){return new It(function(f,g){var T=s.m.deleteDatabase("firebaseLocalStorageDb");T.onsuccess=function(){f()},T.onerror=function(P){g(Error(P.target.error))}})}function Cr(s){return new It(function(f,g){var T=s.m.open("firebaseLocalStorageDb",1);T.onerror=function(P){try{P.preventDefault()}catch{}g(Error(P.target.error))},T.onupgradeneeded=function(P){P=P.target.result;try{P.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(q){g(q)}},T.onsuccess=function(P){P=P.target.result,P.objectStoreNames.contains("firebaseLocalStorage")?f(P):Md(s).then(function(){return Cr(s)}).then(function(q){f(q)}).o(function(q){g(q)})}})}function Bo(s){return s.i||(s.i=Cr(s)),s.i}function li(s,f){function g(P,q){Bo(s).then(f).then(P).o(function(Y){if(3<++T)q(Y);else return Bo(s).then(function(fe){return fe.close(),s.i=void 0,g(P,q)}).o(function(fe){q(fe)})})}var T=0;return new It(g)}function xr(){try{return!!c.indexedDB}catch{return!1}}function Bl(s){return s.objectStore("firebaseLocalStorage")}function hu(s,f){return s.transaction(["firebaseLocalStorage"],f?"readwrite":"readonly")}function ma(s){return new It(function(f,g){s.onsuccess=function(T){T&&T.target?f(T.target.result):f()},s.onerror=function(T){g(T.target.error)}})}t=Ld.prototype,t.set=function(s,f){var g=this,T=!1;return li(this,function(P){return P=Bl(hu(P,!0)),ma(P.get(s))}).then(function(P){return li(g,function(q){if(q=Bl(hu(q,!0)),P)return P.value=f,ma(q.put(P));g.b++,T=!0;var Y={};return Y.fbase_key=s,Y.value=f,ma(q.add(Y))})}).then(function(){return g.c[s]=f,h0(g,s)}).oa(function(){T&&g.b--})};function h0(s,f){return s.g&&s.h&&Zc()===s.h?Af(s.g,"keyChanged",{key:f},s.s).then(function(){}).o(function(){}):st()}t.get=function(s){return li(this,function(f){return ma(Bl(hu(f,!1)).get(s))}).then(function(f){return f&&f.value})},t.U=function(s){var f=this,g=!1;return li(this,function(T){return g=!0,f.b++,ma(Bl(hu(T,!0)).delete(s))}).then(function(){return delete f.c[s],h0(f,s)}).oa(function(){g&&f.b--})};function ys(s){return Bo(s).then(function(f){var g=Bl(hu(f,!1));return g.getAll?ma(g.getAll()):new It(function(T,P){var q=[],Y=g.openCursor();Y.onsuccess=function(fe){(fe=fe.target.result)?(q.push(fe.value),fe.continue()):T(q)},Y.onerror=function(fe){P(fe.target.error)}})}).then(function(f){var g={},T=[];if(s.b==0){for(T=0;T<f.length;T++)g[f[T].fbase_key]=f[T].value;T=sl(s.c,g),s.c=g}return T})}t.ca=function(s){this.a.length==0&&d0(this),this.a.push(s)},t.ia=function(s){Ce(this.a,function(f){return f==s}),this.a.length==0&&Fd(this)};function d0(s){function f(){s.f=setTimeout(function(){s.l=ys(s).then(function(g){0<g.length&&_e(s.a,function(T){T(g)})}).then(function(){f()}).o(function(g){g.message!="STOP_EVENT"&&f()})},800)}Fd(s),f()}function Fd(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function ga(s){var f=this,g=null;this.a=[],this.type="indexedDB",this.c=s,this.b=st().then(function(){if(xr()){var T=Js(),P="__sak"+T;return jl||(jl=new Ld),g=jl,g.set(P,T).then(function(){return g.get(P)}).then(function(q){if(q!==T)throw Error("indexedDB not supported!");return g.U(P)}).then(function(){return g}).o(function(){return f.c})}return f.c}).then(function(T){return f.type=T.type,T.ca(function(P){_e(f.a,function(q){q(P)})}),T})}t=ga.prototype,t.get=function(s){return this.b.then(function(f){return f.get(s)})},t.set=function(s,f){return this.b.then(function(g){return g.set(s,f)})},t.U=function(s){return this.b.then(function(f){return f.U(s)})},t.ca=function(s){this.a.push(s)},t.ia=function(s){Ce(this.a,function(f){return f==s})};function du(){this.a={},this.type="inMemory"}t=du.prototype,t.get=function(s){return st(this.a[s])},t.set=function(s,f){return this.a[s]=f,st()},t.U=function(s){return delete this.a[s],st()},t.ca=function(){},t.ia=function(){};function Vo(){if(!p0())throw Ei()=="Node"?new D("internal-error","The LocalStorage compatibility library was not found."):new D("web-storage-unsupported");this.a=Qg()||at.INTERNAL.node.localStorage,this.type="localStorage"}function Qg(){try{var s=c.localStorage,f=Js();return s&&(s.setItem(f,"1"),s.removeItem(f)),s}catch{return null}}function p0(){var s=Ei()=="Node";if(s=Qg()||s&&at.INTERNAL.node&&at.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=Vo.prototype,t.get=function(s){var f=this;return st().then(function(){var g=f.a.getItem(s);return ll(g)})},t.set=function(s,f){var g=this;return st().then(function(){var T=Qc(f);T===null?g.U(s):g.a.setItem(s,T)})},t.U=function(s){var f=this;return st().then(function(){f.a.removeItem(s)})},t.ca=function(s){c.window&&ni(c.window,"storage",s)},t.ia=function(s){c.window&&bi(c.window,"storage",s)};function Rf(){this.type="nullStorage"}t=Rf.prototype,t.get=function(){return st(null)},t.set=function(){return st()},t.U=function(){return st()},t.ca=function(){},t.ia=function(){};function Vl(){if(!M1())throw Ei()=="Node"?new D("internal-error","The SessionStorage compatibility library was not found."):new D("web-storage-unsupported");this.a=m0()||at.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function m0(){try{var s=c.sessionStorage,f=Js();return s&&(s.setItem(f,"1"),s.removeItem(f)),s}catch{return null}}function M1(){var s=Ei()=="Node";if(s=m0()||s&&at.INTERNAL.node&&at.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=Vl.prototype,t.get=function(s){var f=this;return st().then(function(){var g=f.a.getItem(s);return ll(g)})},t.set=function(s,f){var g=this;return st().then(function(){var T=Qc(f);T===null?g.U(s):g.a.setItem(s,T)})},t.U=function(s){var f=this;return st().then(function(){f.a.removeItem(s)})},t.ca=function(){},t.ia=function(){};function g0(){var s={};s.Browser=pu,s.Node=F1,s.ReactNative=zl,s.Worker=v0,this.a=s[Ei()]}var Ud,pu={F:Vo,cb:Vl},F1={F:Vo,cb:Vl},zl={F:cu,cb:Rf},v0={F:Vo,cb:Rf},Zt={rd:"local",NONE:"none",td:"session"};function U1(s){var f=new D("invalid-persistence-type"),g=new D("unsupported-persistence-type");e:{for(T in Zt)if(Zt[T]==s){var T=!0;break e}T=!1}if(!T||typeof s!="string")throw f;switch(Ei()){case"ReactNative":if(s==="session")throw g;break;case"Node":if(s!=="none")throw g;break;case"Worker":if(s==="session"||!xr()&&s!=="none")throw g;break;default:if(!rd()&&s!=="none")throw g}}function Jg(){var s=!!(!eg(Gn())&&Kc()),f=Xc(),g=rd();this.m=s,this.h=f,this.l=g,this.a={},Ud||(Ud=new g0),s=Ud;try{this.g=!Gm()&&id()||!c.indexedDB?new s.a.F:new ga(zi()?new du:new s.a.F)}catch{this.g=new du,this.h=!0}try{this.i=new s.a.cb}catch{this.i=new du}this.v=new du,this.f=C(this.Zb,this),this.b={}}var Zg;function Nf(){return Zg||(Zg=new Jg),Zg}function va(s,f){switch(f){case"session":return s.i;case"none":return s.v;default:return s.g}}function mu(s,f){return"firebase:"+s.name+(f?":"+f:"")}function j1(s,f,g){var T=mu(f,g),P=va(s,f.F);return s.get(f,g).then(function(q){var Y=null;try{Y=ll(c.localStorage.getItem(T))}catch{}if(Y&&!q)return c.localStorage.removeItem(T),s.set(f,Y,g);Y&&q&&P.type!="localStorage"&&c.localStorage.removeItem(T)})}t=Jg.prototype,t.get=function(s,f){return va(this,s.F).get(mu(s,f))};function ur(s,f,g){return g=mu(f,g),f.F=="local"&&(s.b[g]=null),va(s,f.F).U(g)}t.set=function(s,f,g){var T=mu(s,g),P=this,q=va(this,s.F);return q.set(T,f).then(function(){return q.get(T)}).then(function(Y){s.F=="local"&&(P.b[T]=Y)})},t.addListener=function(s,f,g){s=mu(s,f),this.l&&(this.b[s]=c.localStorage.getItem(s)),bn(this.a)&&(va(this,"local").ca(this.f),this.h||(Gm()||!id())&&c.indexedDB||!this.l||ev(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(g)},t.removeListener=function(s,f,g){s=mu(s,f),this.a[s]&&(Ce(this.a[s],function(T){return T==g}),this.a[s].length==0&&delete this.a[s]),bn(this.a)&&(va(this,"local").ia(this.f),tv(this))};function ev(s){tv(s),s.c=setInterval(function(){for(var f in s.a){var g=c.localStorage.getItem(f),T=s.b[f];g!=T&&(s.b[f]=g,g=new Co({type:"storage",key:f,target:window,oldValue:T,newValue:g,a:!0}),s.Zb(g))}},1e3)}function tv(s){s.c&&(clearInterval(s.c),s.c=null)}t.Zb=function(s){if(s&&s.g){var f=s.a.key;if(f==null)for(var g in this.a){var T=this.b[g];typeof T>"u"&&(T=null);var P=c.localStorage.getItem(g);P!==T&&(this.b[g]=P,this.nb(g))}else if(f.indexOf("firebase:")==0&&this.a[f]){if(typeof s.a.a<"u"?va(this,"local").ia(this.f):tv(this),this.m){if(g=c.localStorage.getItem(f),T=s.a.newValue,T!==g)T!==null?c.localStorage.setItem(f,T):c.localStorage.removeItem(f);else if(this.b[f]===T&&typeof s.a.a>"u")return}var q=this;g=function(){(typeof s.a.a<"u"||q.b[f]!==c.localStorage.getItem(f))&&(q.b[f]=c.localStorage.getItem(f),q.nb(f))},Fi&&zs&&zs==10&&c.localStorage.getItem(f)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(g,10):g()}}else _e(s,C(this.nb,this))},t.nb=function(s){this.a[s]&&_e(this.a[s],function(f){f()})};function ya(s){this.a=s,this.b=Nf()}var Hl={name:"authEvent",F:"local"};function gu(s){return s.b.get(Hl,s.a).then(function(f){return bl(f)})}function jd(){this.a=Nf()}function nv(){this.b=-1}function Wl(s,f){this.b=Vd,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=f,this.l=c.Int32Array?new Int32Array(64):Array(64),Bd===void 0&&(c.Int32Array?Bd=new Int32Array(Wd):Bd=Wd),this.reset()}var Bd;O(Wl,nv);for(var Vd=64,B1=Vd-1,rv=[],zd=0;zd<B1;zd++)rv[zd]=0;var Of=F(128,rv);Wl.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):Te(this.h)};function ql(s){for(var f=s.f,g=s.l,T=0,P=0;P<f.length;)g[T++]=f[P]<<24|f[P+1]<<16|f[P+2]<<8|f[P+3],P=4*T;for(f=16;64>f;f++){P=g[f-15]|0,T=g[f-2]|0;var q=(g[f-16]|0)+((P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3)|0,Y=(g[f-7]|0)+((T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10)|0;g[f]=q+Y|0}T=s.a[0]|0,P=s.a[1]|0;var fe=s.a[2]|0,Le=s.a[3]|0,Ue=s.a[4]|0,_t=s.a[5]|0,en=s.a[6]|0;for(q=s.a[7]|0,f=0;64>f;f++){var Ht=((T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10))+(T&P^T&fe^P&fe)|0;Y=Ue&_t^~Ue&en,q=q+((Ue>>>6|Ue<<26)^(Ue>>>11|Ue<<21)^(Ue>>>25|Ue<<7))|0,Y=Y+(Bd[f]|0)|0,Y=q+(Y+(g[f]|0)|0)|0,q=en,en=_t,_t=Ue,Ue=Le+Y|0,Le=fe,fe=P,P=T,T=Y+Ht|0}s.a[0]=s.a[0]+T|0,s.a[1]=s.a[1]+P|0,s.a[2]=s.a[2]+fe|0,s.a[3]=s.a[3]+Le|0,s.a[4]=s.a[4]+Ue|0,s.a[5]=s.a[5]+_t|0,s.a[6]=s.a[6]+en|0,s.a[7]=s.a[7]+q|0}function Hd(s,f,g){g===void 0&&(g=f.length);var T=0,P=s.c;if(typeof f=="string")for(;T<g;)s.f[P++]=f.charCodeAt(T++),P==s.b&&(ql(s),P=0);else if(b(f))for(;T<g;){var q=f[T++];if(!(typeof q=="number"&&0<=q&&255>=q&&q==(q|0)))throw Error("message must be a byte array");s.f[P++]=q,P==s.b&&(ql(s),P=0)}else throw Error("message must be string or array");s.c=P,s.g+=g}var Wd=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function iv(){Wl.call(this,8,ov)}O(iv,Wl);var ov=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Pf(s,f,g,T,P,q){this.v=s,this.i=f,this.l=g,this.m=T||null,this.u=P||null,this.s=q,this.h=f+":"+g,this.C=new jd,this.g=new ya(this.h),this.f=null,this.b=[],this.a=this.c=null}function $l(s){return new D("invalid-cordova-configuration",s)}t=Pf.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=Qm().then(function(){if(typeof hn("universalLinks.subscribe",c)!="function")throw $l("cordova-universal-links-plugin-fix is not installed");if(typeof hn("BuildInfo.packageName",c)>"u")throw $l("cordova-plugin-buildinfo is not installed");if(typeof hn("cordova.plugins.browsertab.openUrl",c)!="function")throw $l("cordova-plugin-browsertab is not installed");if(typeof hn("cordova.InAppBrowser.open",c)!="function")throw $l("cordova-plugin-inappbrowser is not installed")},function(){throw new D("cordova-not-ready")})};function qd(){for(var s=20,f=[];0<s;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return f.join("")}function y0(s){var f=new iv;Hd(f,s),s=[];var g=8*f.g;56>f.c?Hd(f,Of,56-f.c):Hd(f,Of,f.b-(f.c-56));for(var T=63;56<=T;T--)f.f[T]=g&255,g/=256;for(ql(f),T=g=0;T<f.i;T++)for(var P=24;0<=P;P-=8)s[g++]=f.a[T]>>P&255;return vl(s)}t.Pb=function(s,f){return f(new D("operation-not-supported-in-this-environment")),st()},t.Nb=function(){return Vt(new D("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(s,f,g,T){if(this.c)return Vt(new D("redirect-operation-pending"));var P=this,q=c.document,Y=null,fe=null,Le=null,Ue=null;return this.c=st().then(function(){return au(f),w0(P)}).then(function(){return V1(P,s,f,g,T)}).then(function(){return new It(function(_t,en){fe=function(){var Ht=hn("cordova.plugins.browsertab.close",c);return _t(),typeof Ht=="function"&&Ht(),P.a&&typeof P.a.close=="function"&&(P.a.close(),P.a=null),!1},P.Ea(fe),Le=function(){Y||(Y=$s(2e3).then(function(){en(new D("redirect-cancelled-by-user"))}))},Ue=function(){cl()&&Le()},q.addEventListener("resume",Le,!1),Gn().toLowerCase().match(/android/)||q.addEventListener("visibilitychange",Ue,!1)}).o(function(_t){return vu(P).then(function(){throw _t})})}).oa(function(){Le&&q.removeEventListener("resume",Le,!1),Ue&&q.removeEventListener("visibilitychange",Ue,!1),Y&&Y.cancel(),fe&&P.Ta(fe),P.c=null})};function V1(s,f,g,T,P){var q=qd(),Y=new Dn(f,T,null,q,new D("no-auth-event"),null,P),fe=hn("BuildInfo.packageName",c);if(typeof fe!="string")throw new D("invalid-cordova-configuration");var Le=hn("BuildInfo.displayName",c),Ue={};if(Gn().toLowerCase().match(/iphone|ipad|ipod/))Ue.ibi=fe;else if(Gn().toLowerCase().match(/android/))Ue.apn=fe;else return Vt(new D("operation-not-supported-in-this-environment"));Le&&(Ue.appDisplayName=Le),q=y0(q),Ue.sessionId=q;var _t=ms(s.v,s.i,s.l,f,g,null,T,s.m,Ue,s.u,P,s.s);return s.ma().then(function(){var en=s.h;return s.C.a.set(Hl,Y.w(),en)}).then(function(){var en=hn("cordova.plugins.browsertab.isAvailable",c);if(typeof en!="function")throw new D("invalid-cordova-configuration");var Ht=null;en(function(kr){if(kr){if(Ht=hn("cordova.plugins.browsertab.openUrl",c),typeof Ht!="function")throw new D("invalid-cordova-configuration");Ht(_t)}else{if(Ht=hn("cordova.InAppBrowser.open",c),typeof Ht!="function")throw new D("invalid-cordova-configuration");kr=Gn(),s.a=Ht(_t,kr.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||kr.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Df(s,f){for(var g=0;g<s.b.length;g++)try{s.b[g](f)}catch{}}function w0(s){return s.f||(s.f=s.ma().then(function(){return new It(function(f){function g(T){return f(T),s.Ta(g),!1}s.Ea(g),z1(s)})})),s.f}function vu(s){var f=null;return gu(s.g).then(function(g){return f=g,g=s.g,ur(g.b,Hl,g.a)}).then(function(){return f})}function z1(s){function f(Y){T=!0,P&&P.cancel(),vu(s).then(function(fe){var Le=g;if(fe&&Y&&Y.url){var Ue=null;Le=vg(Y.url),Le.indexOf("/__/auth/callback")!=-1&&(Ue=jr(Le),Ue=ll(ji(Ue,"firebaseError")||null),Ue=(Ue=typeof Ue=="object"?X(Ue):null)?new Dn(fe.c,fe.b,null,null,Ue,null,fe.T()):new Dn(fe.c,fe.b,Le,fe.f,null,null,fe.T())),Le=Ue||g}Df(s,Le)})}var g=new Dn("unknown",null,null,null,new D("no-auth-event")),T=!1,P=$s(500).then(function(){return vu(s).then(function(){T||Df(s,g)})}),q=c.handleOpenURL;c.handleOpenURL=function(Y){if(Y.toLowerCase().indexOf(hn("BuildInfo.packageName",c).toLowerCase()+"://")==0&&f({url:Y}),typeof q=="function")try{q(Y)}catch(fe){console.error(fe)}},ps||(ps=new lf),yg(f)}t.Ea=function(s){this.b.push(s),w0(this).o(function(f){f.code==="auth/invalid-cordova-configuration"&&(f=new Dn("unknown",null,null,null,new D("no-auth-event")),s(f))})},t.Ta=function(s){Ce(this.b,function(f){return f==s})};function $d(s){this.a=s,this.b=Nf()}var l={name:"pendingRedirect",F:"session"};function h(s){return s.b.set(l,"pending",s.a)}function m(s){return ur(s.b,l,s.a)}function _(s){return s.b.get(l,s.a).then(function(f){return f=="pending"})}function N(s,f,g,T){this.i={},this.u=0,this.D=s,this.v=f,this.m=g,this.J=T,this.h=[],this.f=!1,this.l=C(this.s,this),this.b=new ke,this.C=new ws,this.g=new $d(xe(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=L(this.D,this.v,this.m,te,this.J)}function L(s,f,g,T,P){var q=at.SDK_VERSION||null;return Za()?new Pf(s,f,g,q,T,P):new Ul(s,f,g,q,T,P)}N.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=L(this.D,this.v,this.m,null,this.J),this.i={}};function K(s){s.f||(s.f=!0,s.a.Ea(s.l));var f=s.a;return s.a.ma().o(function(g){throw s.a==f&&s.reset(),g})}function ce(s){s.a.Yb()&&K(s).o(function(f){var g=new Dn("unknown",null,null,null,new D("operation-not-supported-in-this-environment"));Xe(f)&&s.s(g)}),s.a.Ub()||We(s.b)}function we(s,f){Q(s.h,f)||s.h.push(f),s.f||_(s.g).then(function(g){g?m(s.g).then(function(){K(s).o(function(T){var P=new Dn("unknown",null,null,null,new D("operation-not-supported-in-this-environment"));Xe(T)&&s.s(P)})}):ce(s)}).o(function(){ce(s)})}function Ae(s,f){Ce(s.h,function(g){return g==f})}N.prototype.s=function(s){if(!s)throw new D("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var f=!1,g=0;g<this.h.length;g++){var T=this.h[g];if(T.Gb(s.c,s.b)){(f=this.c[s.c])&&(f.h(s,T),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),f=!0;break}}return We(this.b),f};var je=new ko(2e3,1e4),ze=new ko(3e4,6e4);N.prototype.ra=function(){return this.b.ra()};function Fe(s,f,g,T,P,q,Y){return s.a.Nb(f,g,T,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},P,q,Y)}function Xe(s){return!!(s&&s.code=="auth/cordova-not-ready")}function Je(s,f,g,T,P){var q;return h(s.g).then(function(){return s.a.Ob(f,g,T,P).o(function(Y){if(Xe(Y))throw new D("operation-not-supported-in-this-environment");return q=Y,m(s.g).then(function(){throw q})}).then(function(){return s.a.ac()?new It(function(){}):m(s.g).then(function(){return s.ra()}).then(function(){}).o(function(){})})})}function rt(s,f,g,T,P){return s.a.Pb(T,function(q){f.na(g,null,q,P)},je.get())}var wn={};function xe(s,f,g){return s=s+":"+f,g&&(s=s+":"+g.url),s}function be(s,f,g,T){var P=xe(f,g,T);return wn[P]||(wn[P]=new N(s,f,g,T)),wn[P]}function ke(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}ke.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ke.prototype.h=function(s,f){if(s){this.reset(),this.g=!0;var g=s.c,T=s.b,P=s.a&&s.a.code=="auth/web-storage-unsupported",q=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!P&&!q),g!="unknown"||P||q?s.a?(mn(this,!0,null,s.a),st()):f.Fa(g,T)?ft(this,s,f):Vt(new D("invalid-auth-event")):(mn(this,!1,null,null),st())}else Vt(new D("invalid-auth-event"))};function We(s){s.g||(s.g=!0,mn(s,!1,null,null))}function it(s){s.g&&!s.i&&mn(s,!1,null,null)}function ft(s,f,g){g=g.Fa(f.c,f.b);var T=f.g,P=f.f,q=f.i,Y=f.T(),fe=!!f.c.match(/Redirect$/);g(T,P,Y,q).then(function(Le){mn(s,fe,Le,null)}).o(function(Le){mn(s,fe,null,Le)})}function ht(s,f){if(s.b=function(){return Vt(f)},s.c.length)for(var g=0;g<s.c.length;g++)s.c[g](f)}function mt(s,f){if(s.b=function(){return st(f)},s.f.length)for(var g=0;g<s.f.length;g++)s.f[g](f)}function mn(s,f,g,T){f?T?ht(s,T):mt(s,g):mt(s,{user:null}),s.f=[],s.c=[]}ke.prototype.ra=function(){var s=this;return new It(function(f,g){s.b?s.b().then(f,g):(s.f.push(f),s.c.push(g),jt(s))})};function jt(s){var f=new D("timeout");s.a&&s.a.cancel(),s.a=$s(ze.get()).then(function(){s.b||(s.g=!0,mn(s,!0,null,f))})}function ws(){}ws.prototype.h=function(s,f){if(s){var g=s.c,T=s.b;s.a?(f.na(s.c,null,s.a,s.b),st()):f.Fa(g,T)?H1(s,f):Vt(new D("invalid-auth-event"))}else Vt(new D("invalid-auth-event"))};function H1(s,f){var g=s.b,T=s.c;f.Fa(T,g)(s.g,s.f,s.T(),s.i).then(function(P){f.na(T,P,null,g)}).o(function(P){f.na(T,null,P,g)})}function PR(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(s){this.jb=s},enumerable:!1})}function W1(s,f){this.a=f,tt(this,"verificationId",s)}W1.prototype.confirm=function(s){return s=uf(this.verificationId,s),this.a(s)};function q1(s,f,g,T){return new Fo(s).gb(f,g).then(function(P){return new W1(P,T)})}function nB(s){var f=Oo(s);if(!(f&&f.exp&&f.auth_time&&f.iat))throw new D("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kn(this,{token:s,expirationTime:fl(1e3*f.exp),authTime:fl(1e3*f.auth_time),issuedAtTime:fl(1e3*f.iat),signInProvider:f.firebase&&f.firebase.sign_in_provider?f.firebase.sign_in_provider:null,signInSecondFactor:f.firebase&&f.firebase.sign_in_second_factor?f.firebase.sign_in_second_factor:null,claims:f})}function $1(s,f,g){var T=f&&f[LR];if(!T)throw new D("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=ti(f),this.g=g,this.c=new su(null,T),this.b=[];var P=this;_e(f[DR]||[],function(q){(q=og(q))&&P.b.push(q)}),tt(this,"auth",this.a),tt(this,"session",this.c),tt(this,"hints",this.b)}var DR="mfaInfo",LR="mfaPendingCredential";$1.prototype.Rc=function(s){var f=this;return s.tb(this.a.a,this.c).then(function(g){var T=ti(f.f);return delete T[DR],delete T[LR],On(T,g),f.g(T)})};function G1(s,f,g,T){D.call(this,"multi-factor-auth-required",T,f),this.b=new $1(s,f,g),tt(this,"resolver",this.b)}O(G1,D);function MR(s,f,g){if(s&&I(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new G1(f,s.serverResponse,g,s.message)}catch{}return null}function FR(){}FR.prototype.tb=function(s,f,g){return f.type==yl?rB(this,s,f,g):iB(this,s,f)};function rB(s,f,g,T){return g.Ha().then(function(P){return P={idToken:P},typeof T<"u"&&(P.displayName=T),On(P,{phoneVerificationInfo:oa(s.a)}),xt(f,Rd,P)})}function iB(s,f,g){return g.Ha().then(function(T){return T={mfaPendingCredential:T},On(T,{phoneVerificationInfo:oa(s.a)}),xt(f,Ir,T)})}function K1(s){tt(this,"factorId",s.fa),this.a=s}O(K1,FR);function UR(s){if(K1.call(this,s),this.a.fa!=Fo.PROVIDER_ID)throw new D("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}O(UR,K1);function Gd(s,f){mr.call(this,s);for(var g in f)this[g]=f[g]}O(Gd,mr);function Y1(s,f){this.a=s,this.b=[],this.c=C(this.yc,this),ni(this.a,"userReloaded",this.c);var g=[];f&&f.multiFactor&&f.multiFactor.enrolledFactors&&_e(f.multiFactor.enrolledFactors,function(T){var P=null,q={};if(T){T.uid&&(q[ug]=T.uid),T.displayName&&(q[sg]=T.displayName),T.enrollmentTime&&(q[ag]=new Date(T.enrollmentTime).toISOString()),T.phoneNumber&&(q[nf]=T.phoneNumber);try{P=new Hi(q)}catch{}T=P}else T=null;T&&g.push(T)}),_0(this,g)}function oB(s){var f=[];return _e(s.mfaInfo||[],function(g){(g=og(g))&&f.push(g)}),f}t=Y1.prototype,t.yc=function(s){_0(this,oB(s.hd))};function _0(s,f){s.b=f,tt(s,"enrolledFactors",f)}t.Sb=function(){return this.a.I().then(function(s){return new su(s,null)})},t.fc=function(s,f){var g=this,T=this.a.a;return this.Sb().then(function(P){return s.tb(T,P,f)}).then(function(P){return wa(g.a,P),g.a.reload()})},t.bd=function(s){var f=this,g=typeof s=="string"?s:s.uid,T=this.a.a;return this.a.I().then(function(P){return xt(T,D1,{idToken:P,mfaEnrollmentId:g})}).then(function(P){var q=B(f.b,function(Y){return Y.uid!=g});return _0(f,q),wa(f.a,P),f.a.reload().o(function(Y){if(Y.code!="auth/user-token-expired")throw Y})})},t.w=function(){return{multiFactor:{enrolledFactors:M(this.b,function(s){return s.w()})}}};function X1(s,f,g){if(this.h=s,this.i=f,this.g=g,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}X1.prototype.start=function(){this.a=this.c,Q1(this,!0)};function sB(s,f){return f?(s.a=s.c,s.g()):(f=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),f)}function Q1(s,f){s.stop(),s.b=$s(sB(s,f)).then(function(){return Jc()}).then(function(){return s.h()}).then(function(){Q1(s,!0)}).o(function(g){s.i(g)&&Q1(s,!1)})}X1.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function J1(s){this.f=s,this.b=this.a=null,this.c=Date.now()}J1.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function jR(s,f){typeof f>"u"&&(s.b?(f=s.b,f=f.a-f.g):f=0),s.c=Date.now()+1e3*f}function BR(s,f){s.b=No(f[br]||""),s.a=f.refreshToken,f=f.expiresIn,jR(s,typeof f<"u"?Number(f):void 0)}function aB(s,f){s.b=f.b,s.a=f.a,s.c=f.c}function uB(s,f){return t0(s.f,f).then(function(g){return s.b=No(g.access_token),s.a=g.refresh_token,jR(s,g.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(g){throw g.code=="auth/user-token-expired"&&(s.a=null),g})}J1.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?Vt(new D("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?uB(this,{grant_type:"refresh_token",refresh_token:this.a}):st(null):st({accessToken:this.b.toString(),refreshToken:this.a})};function b0(s,f){this.a=s||null,this.b=f||null,Kn(this,{lastSignInTime:fl(f||null),creationTime:fl(s||null)})}function lB(s){return new b0(s.a,s.b)}b0.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function cB(s,f,g,T,P,q){Kn(this,{uid:s,displayName:T||null,photoURL:P||null,email:g||null,phoneNumber:q||null,providerId:f})}function ho(s,f,g){this.N=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var T=at.SDK_VERSION?nu(at.SDK_VERSION):null;this.a=new Ki(this.l,$(te),T),(this.u=s.emulatorConfig||null)&&Sf(this.a,this.u),this.h=new J1(this.a),oS(this,f[br]),BR(this.h,f),tt(this,"refreshToken",this.h.a),zR(this,g||{}),vr.call(this),this.P=!1,this.s&&ri()&&(this.b=be(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=fB(this),this.ba=C(this.ib,this);var P=this;this.za=null,this.Pa=function(q){P.xa(q.h)},this.qa=null,this.Ba=function(q){Z1(P,q.c)},this.$=null,this.aa=[],this.Oa=function(q){sv(P,q.f)},this.ja=null,this.S=new Y1(this,g),tt(this,"multiFactor",this.S)}O(ho,vr),ho.prototype.xa=function(s){this.za=s,kg(this.a,s)};function Z1(s,f){s.u=f,Sf(s.a,f),s.b&&(f=s.b,s.b=be(s.s,s.l,s.m,s.u),s.P&&(Ae(f,s),we(s.b,s)))}ho.prototype.la=function(){return this.za};function eS(s,f){s.qa&&bi(s.qa,"languageCodeChanged",s.Pa),(s.qa=f)&&ni(f,"languageCodeChanged",s.Pa)}function tS(s,f){s.$&&bi(s.$,"emulatorConfigChanged",s.Ba),(s.$=f)&&ni(f,"emulatorConfigChanged",s.Ba)}function sv(s,f){s.aa=f,Ag(s.a,at.SDK_VERSION?nu(at.SDK_VERSION,s.aa):null)}ho.prototype.Ga=function(){return Te(this.aa)};function nS(s,f){s.ja&&bi(s.ja,"frameworkChanged",s.Oa),(s.ja=f)&&ni(f,"frameworkChanged",s.Oa)}ho.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function rS(s){try{return at.app(s.m).auth()}catch{throw new D("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function fB(s){return new X1(function(){return s.I(!0)},function(f){return!!(f&&f.code=="auth/network-request-failed")},function(){var f=s.h.c-Date.now()-3e5;return 0<f?f:0})}function VR(s){s.J||s.D.b||(s.D.start(),bi(s,"tokenChanged",s.ba),ni(s,"tokenChanged",s.ba))}function iS(s){bi(s,"tokenChanged",s.ba),s.D.stop()}function oS(s,f){s.Aa=f,tt(s,"_lat",f)}function hB(s,f){Ce(s.W,function(g){return g==f})}function Lf(s){for(var f=[],g=0;g<s.W.length;g++)f.push(s.W[g](s));return Zu(f).then(function(){return s})}function av(s){s.b&&!s.P&&(s.P=!0,we(s.b,s))}function zR(s,f){Kn(s,{uid:f.uid,displayName:f.displayName||null,photoURL:f.photoURL||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,isAnonymous:f.isAnonymous||!1,tenantId:f.tenantId||null,metadata:new b0(f.createdAt,f.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}tt(ho.prototype,"providerId","firebase");function HR(){}function sS(s){return st().then(function(){if(s.J)throw new D("app-deleted")})}function aS(s){return M(s.providerData,function(f){return f.providerId})}function uS(s,f){f&&(WR(s,f.providerId),s.providerData.push(f))}function WR(s,f){Ce(s.providerData,function(g){return g.providerId==f})}function Gl(s,f,g){(f!="uid"||g)&&s.hasOwnProperty(f)&&tt(s,f,g)}function E0(s,f){s!=f&&(Kn(s,{uid:f.uid,displayName:f.displayName,photoURL:f.photoURL,email:f.email,emailVerified:f.emailVerified,phoneNumber:f.phoneNumber,isAnonymous:f.isAnonymous,tenantId:f.tenantId,providerData:[]}),f.metadata?tt(s,"metadata",lB(f.metadata)):tt(s,"metadata",new b0),_e(f.providerData,function(g){uS(s,g)}),aB(s.h,f.h),tt(s,"refreshToken",s.h.a),_0(s.S,f.S.b))}t=ho.prototype,t.reload=function(){var s=this;return lr(this,sS(this).then(function(){return lS(s).then(function(){return Lf(s)}).then(HR)}))};function lS(s){return s.I().then(function(f){var g=s.isAnonymous;return dB(s,f).then(function(){return g||Gl(s,"isAnonymous",!1),f})})}t.oc=function(s){return this.I(s).then(function(f){return new nB(f)})},t.I=function(s){var f=this;return lr(this,sS(this).then(function(){return f.h.getToken(s)}).then(function(g){if(!g)throw new D("internal-error");return g.accessToken!=f.Aa&&(oS(f,g.accessToken),f.dispatchEvent(new Gd("tokenChanged"))),Gl(f,"refreshToken",g.refreshToken),g.accessToken}))};function wa(s,f){f[br]&&s.Aa!=f[br]&&(BR(s.h,f),s.dispatchEvent(new Gd("tokenChanged")),oS(s,f[br]),Gl(s,"refreshToken",s.h.a))}function dB(s,f){return xt(s.a,O1,{idToken:f}).then(C(s.Kc,s))}t.Kc=function(s){if(s=s.users,!s||!s.length)throw new D("internal-error");s=s[0],zR(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var f=pB(s),g=0;g<f.length;g++)uS(this,f[g]);Gl(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Gd("userReloaded",{hd:s}))};function pB(s){return(s=s.providerUserInfo)&&s.length?M(s,function(f){return new cB(f.rawId,f.providerId,f.email,f.displayName,f.photoUrl,f.phoneNumber)}):[]}t.Lc=function(s){return sd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(s)},t.ub=function(s){var f=this,g=null;return lr(this,s.c(this.a,this.uid).then(function(T){return wa(f,T),g=uv(f,T,"reauthenticate"),f.i=null,f.reload()}).then(function(){return g}),!0)};function S0(s,f){return lS(s).then(function(){if(Q(aS(s),f))return Lf(s).then(function(){throw new D("provider-already-linked")})})}t.Cc=function(s){return sd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(s)},t.rb=function(s){var f=this,g=null;return lr(this,S0(this,s.providerId).then(function(){return f.I()}).then(function(T){return s.b(f.a,T)}).then(function(T){return g=uv(f,T,"link"),qR(f,T)}).then(function(){return g}))},t.Dc=function(s,f){var g=this;return lr(this,S0(this,"phone").then(function(){return q1(rS(g),s,f,C(g.rb,g))}))},t.Mc=function(s,f){var g=this;return lr(this,st().then(function(){return q1(rS(g),s,f,C(g.ub,g))}),!0)};function uv(s,f,g){var T=wd(f);return f=fd(f),Si({user:s,credential:T,additionalUserInfo:f,operationType:g})}function qR(s,f){return wa(s,f),s.reload().then(function(){return s})}t.Cb=function(s){var f=this;return lr(this,this.I().then(function(g){return f.a.Cb(g,s)}).then(function(g){return wa(f,g),f.reload()}))},t.ed=function(s){var f=this;return lr(this,this.I().then(function(g){return s.b(f.a,g)}).then(function(g){return wa(f,g),f.reload()}))},t.Db=function(s){var f=this;return lr(this,this.I().then(function(g){return f.a.Db(g,s)}).then(function(g){return wa(f,g),f.reload()}))},t.Eb=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return sS(this);var f=this;return lr(this,this.I().then(function(g){return f.a.Eb(g,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(g){return wa(f,g),Gl(f,"displayName",g.displayName||null),Gl(f,"photoURL",g.photoUrl||null),_e(f.providerData,function(T){T.providerId==="password"&&(tt(T,"displayName",f.displayName),tt(T,"photoURL",f.photoURL))}),Lf(f)}).then(HR))},t.cd=function(s){var f=this;return lr(this,lS(this).then(function(g){return Q(aS(f),s)?Cd(f.a,g,[s]).then(function(T){var P={};return _e(T.providerUserInfo||[],function(q){P[q.providerId]=!0}),_e(aS(f),function(q){P[q]||WR(f,q)}),P[Fo.PROVIDER_ID]||tt(f,"phoneNumber",null),Lf(f)}):Lf(f).then(function(){throw new D("no-such-provider")})}))},t.delete=function(){var s=this;return lr(this,this.I().then(function(f){return xt(s.a,Tf,{idToken:f})}).then(function(){s.dispatchEvent(new Gd("userDeleted"))})).then(function(){for(var f=0;f<s.N.length;f++)s.N[f].cancel("app-deleted");eS(s,null),tS(s,null),nS(s,null),s.N=[],s.J=!0,iS(s),tt(s,"refreshToken",null),s.b&&Ae(s.b,s)})},t.Gb=function(s,f){return!!(s=="linkViaPopup"&&(this.g||null)==f&&this.f||s=="reauthViaPopup"&&(this.g||null)==f&&this.f||s=="linkViaRedirect"&&(this.ga||null)==f||s=="reauthViaRedirect"&&(this.ga||null)==f)},t.na=function(s,f,g,T){s!="linkViaPopup"&&s!="reauthViaPopup"||T!=(this.g||null)||(g&&this.C?this.C(g):f&&!g&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,f){return s=="linkViaPopup"&&f==(this.g||null)?C(this.Lb,this):s=="reauthViaPopup"&&f==(this.g||null)?C(this.Mb,this):s=="linkViaRedirect"&&(this.ga||null)==f?C(this.Lb,this):s=="reauthViaRedirect"&&(this.ga||null)==f?C(this.Mb,this):null},t.Ec=function(s){var f=this;return $R(this,"linkViaPopup",s,function(){return S0(f,s.providerId).then(function(){return Lf(f)})},!1)},t.Nc=function(s){return $R(this,"reauthViaPopup",s,function(){return st()},!0)};function $R(s,f,g,T,P){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));if(s.i&&!P)return Vt(s.i);var q=sf(g.providerId),Y=Js(s.uid+":::"),fe=null;(!Xc()||Kc())&&s.s&&g.isOAuthProvider&&(fe=ms(s.s,s.l,s.m,f,g,null,Y,at.SDK_VERSION||null,null,null,s.tenantId,s.u));var Le=Ym(fe,q&&q.va,q&&q.ua);return T=T().then(function(){if(KR(s),!P)return s.I().then(function(){})}).then(function(){return Fe(s.b,Le,f,g,Y,!!fe,s.tenantId)}).then(function(){return new It(function(Ue,_t){s.na(f,null,new D("cancelled-popup-request"),s.g||null),s.f=Ue,s.C=_t,s.g=Y,s.c=rt(s.b,s,f,Le,Y)})}).then(function(Ue){return Le&&Xs(Le),Ue?Si(Ue):null}).o(function(Ue){throw Le&&Xs(Le),Ue}),lr(s,T,P)}t.Fc=function(s){var f=this;return GR(this,"linkViaRedirect",s,function(){return S0(f,s.providerId)},!1)},t.Oc=function(s){return GR(this,"reauthViaRedirect",s,function(){return st()},!0)};function GR(s,f,g,T,P){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));if(s.i&&!P)return Vt(s.i);var q=null,Y=Js(s.uid+":::");return T=T().then(function(){if(KR(s),!P)return s.I().then(function(){})}).then(function(){return s.ga=Y,Lf(s)}).then(function(fe){return s.ha&&(fe=s.ha,fe=fe.b.set(cS,s.w(),fe.a)),fe}).then(function(){return Je(s.b,f,g,Y,s.tenantId)}).o(function(fe){if(q=fe,s.ha)return XR(s.ha);throw q}).then(function(){if(q)throw q}),lr(s,T,P)}function KR(s){if(!s.b||!s.P)throw s.b&&!s.P?new D("internal-error"):new D("auth-domain-config-required")}t.Lb=function(s,f,g,T){var P=this;this.c&&(this.c.cancel(),this.c=null);var q=null;return g=this.I().then(function(Y){return Ml(P.a,{requestUri:s,postBody:T,sessionId:f,idToken:Y})}).then(function(Y){return q=uv(P,Y,"link"),qR(P,Y)}).then(function(){return q}),lr(this,g)},t.Mb=function(s,f,g,T){var P=this;this.c&&(this.c.cancel(),this.c=null);var q=null,Y=st().then(function(){return wl(lo(P.a,{requestUri:s,sessionId:f,postBody:T,tenantId:g}),P.uid)}).then(function(fe){return q=uv(P,fe,"reauthenticate"),wa(P,fe),P.i=null,P.reload()}).then(function(){return q});return lr(this,Y,!0)},t.vb=function(s){var f=this,g=null;return lr(this,this.I().then(function(T){return g=T,typeof s>"u"||bn(s)?{}:so(new ou(s))}).then(function(T){return f.a.vb(g,T)}).then(function(T){if(f.email!=T)return f.reload()}).then(function(){}))},t.Fb=function(s,f){var g=this,T=null;return lr(this,this.I().then(function(P){return T=P,typeof f>"u"||bn(f)?{}:so(new ou(f))}).then(function(P){return g.a.Fb(T,s,P)}).then(function(P){if(g.email!=P)return g.reload()}).then(function(){}))};function lr(s,f,g){var T=mB(s,f,g);return s.N.push(T),T.oa(function(){Z(s.N,T)}),T.o(function(P){var q=null;throw P&&P.code==="auth/multi-factor-auth-required"&&(q=MR(P.w(),rS(s),C(s.jc,s))),q||P})}t.jc=function(s){var f=null,g=this;return s=wl(st(s),g.uid).then(function(T){return f=uv(g,T,"reauthenticate"),wa(g,T),g.i=null,g.reload()}).then(function(){return f}),lr(this,s,!0)};function mB(s,f,g){return s.i&&!g?(f.cancel(),Vt(s.i)):f.o(function(T){throw!T||T.code!="auth/user-disabled"&&T.code!="auth/user-token-expired"||(s.i||s.dispatchEvent(new Gd("userInvalidated")),s.i=T),T})}t.toJSON=function(){return this.w()},t.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&On(s,this.metadata.w()),_e(this.providerData,function(f){s.providerData.push(rg(f))}),On(s,this.S.w()),s};function YR(s){if(!s.apiKey)return null;var f={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},g={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){g[br]=s.stsTokenManager.accessToken,g.refreshToken=s.stsTokenManager.refreshToken||null;var T=s.stsTokenManager.expirationTime;T&&(g.expiresIn=(T-Date.now())/1e3)}else return null;var P=new ho(f,g,s);return s.providerData&&_e(s.providerData,function(q){q&&uS(P,Si(q))}),s.redirectEventId&&(P.ga=s.redirectEventId),P}function gB(s,f,g,T){var P=new ho(s,f);return g&&(P.ha=g),T&&sv(P,T),P.reload().then(function(){return P})}function vB(s,f,g,T){var P=s.h,q={};return q[br]=P.b&&P.b.toString(),q.refreshToken=P.a,f=new ho(f||{apiKey:s.l,authDomain:s.s,appName:s.m},q),g&&(f.ha=g),T&&sv(f,T),E0(f,s),f}function yB(s){this.a=s,this.b=Nf()}var cS={name:"redirectUser",F:"session"};function XR(s){return ur(s.b,cS,s.a)}function wB(s,f){return s.b.get(cS,s.a).then(function(g){return g&&f&&(g.authDomain=f),YR(g||{})})}function fS(s){this.a=s,this.b=Nf(),this.c=null,this.f=_B(this),this.b.addListener(_a("local"),this.a,C(this.g,this))}fS.prototype.g=function(){var s=this,f=_a("local");Kd(this,function(){return st().then(function(){return s.c&&s.c.F!="local"?s.b.get(f,s.a):null}).then(function(g){if(g)return hS(s,"local").then(function(){s.c=f})})})};function hS(s,f){var g=[],T;for(T in Zt)Zt[T]!==f&&g.push(ur(s.b,_a(Zt[T]),s.a));return g.push(ur(s.b,dS,s.a)),Uc(g)}function _B(s){var f=_a("local"),g=_a("session"),T=_a("none");return j1(s.b,f,s.a).then(function(){return s.b.get(g,s.a)}).then(function(P){return P?g:s.b.get(T,s.a).then(function(q){return q?T:s.b.get(f,s.a).then(function(Y){return Y?f:s.b.get(dS,s.a).then(function(fe){return fe?_a(fe):f})})})}).then(function(P){return s.c=P,hS(s,P.F)}).o(function(){s.c||(s.c=f)})}var dS={name:"persistence",F:"session"};function _a(s){return{name:"authUser",F:s}}fS.prototype.yb=function(s){var f=null,g=this;return U1(s),Kd(this,function(){return s!=g.c.F?g.b.get(g.c,g.a).then(function(T){return f=T,hS(g,s)}).then(function(){if(g.c=_a(s),f)return g.b.set(g.c,f,g.a)}):st()})};function bB(s){return Kd(s,function(){return s.b.set(dS,s.c.F,s.a)})}function QR(s,f){return Kd(s,function(){return s.b.set(s.c,f.w(),s.a)})}function JR(s){return Kd(s,function(){return ur(s.b,s.c,s.a)})}function ZR(s,f,g){return Kd(s,function(){return s.b.get(s.c,s.a).then(function(T){return T&&f&&(T.authDomain=f),T&&g&&(T.emulatorConfig=g),YR(T||{})})})}function Kd(s,f){return s.f=s.f.then(f,f),s.f}function _s(s){if(this.l=!1,tt(this,"settings",new PR),tt(this,"app",s),un(this).options&&un(this).options.apiKey)s=at.SDK_VERSION?nu(at.SDK_VERSION):null,this.a=new Ki(un(this).options&&un(this).options.apiKey,$(te),s);else throw new D("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=at.INTERNAL.createSubscribe(C(this.zc,this)),this.W=void 0,this.ib=at.INTERNAL.createSubscribe(C(this.Ac,this)),Yd(this,null),this.i=new fS(un(this).options.apiKey+":"+un(this).name),this.D=new yB(un(this).options.apiKey+":"+un(this).name),this.$=Mn(this,xB(this)),this.h=Mn(this,kB(this)),this.ba=!1,this.ja=C(this.Zc,this),this.Ba=C(this.da,this),this.qa=C(this.mc,this),this.za=C(this.wc,this),this.Aa=C(this.xc,this),this.b=null,TB(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.Gc,this),this.u=0,vr.call(this),SB(this),this.J=[],this.R=null}O(_s,vr);function eN(s){mr.call(this,"languageCodeChanged"),this.h=s}O(eN,mr);function tN(s){mr.call(this,"emulatorConfigChanged"),this.c=s}O(tN,mr);function nN(s){mr.call(this,"frameworkChanged"),this.f=s}O(nN,mr),t=_s.prototype,t.yb=function(s){return s=this.i.yb(s),Mn(this,s)},t.xa=function(s){this.aa===s||this.l||(this.aa=s,kg(this.a,this.aa),this.dispatchEvent(new eN(this.la())))},t.la=function(){return this.aa},t.fd=function(){var s=c.navigator;this.xa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},t.gd=function(s,f){if(!this.R){if(!/^https?:\/\//.test(s))throw new D("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");f=f?!!f.disableWarnings:!1,EB(f),this.R={url:s,ec:f},this.settings.jb=!0,Sf(this.a,this.R),this.dispatchEvent(new tN(this.R))}};function EB(s){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!s&&os().then(function(){var f=c.document.createElement("div");f.innerText="Running in emulator mode. Do not use with production credentials.",f.style.position="fixed",f.style.width="100%",f.style.backgroundColor="#ffffff",f.style.border=".1em solid #000000",f.style.color="#b50000",f.style.bottom="0px",f.style.left="0px",f.style.margin="0px",f.style.zIndex=1e4,f.style.textAlign="center",f.classList.add("firebase-emulator-warning"),c.document.body.appendChild(f)})}t.Gc=function(s){this.J.push(s),Ag(this.a,at.SDK_VERSION?nu(at.SDK_VERSION,this.J):null),this.dispatchEvent(new nN(this.J))},t.Ga=function(){return Te(this.J)},t.zb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},t.T=function(){return this.S};function SB(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(f){this.xa(f)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(f){this.zb(f)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.R){var f=jr(this.R.url);f=Si({protocol:f.c,host:f.a,port:f.g,options:Si({disableWarnings:this.R.ec})})}else f=null;return f},enumerable:!1})}t.toJSON=function(){return{apiKey:un(this).options.apiKey,authDomain:un(this).options.authDomain,appName:un(this).name,currentUser:St(this)&&St(this).w()}};function pS(s){return s.Oa||Vt(new D("auth-domain-config-required"))}function TB(s){var f=un(s).options.authDomain,g=un(s).options.apiKey;f&&ri()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=be(f,g,un(s).name,s.R),we(s.b,s),St(s)&&av(St(s)),s.m){av(s.m);var T=s.m;T.xa(s.la()),eS(T,s),T=s.m,sv(T,s.J),nS(T,s),T=s.m,Z1(T,s.R),tS(T,s),s.m=null}return s.b}}))}t.Gb=function(s,f){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==f&&!!this.f;default:return!1}},t.na=function(s,f,g,T){s=="signInViaPopup"&&this.g==T&&(g&&this.C?this.C(g):f&&!g&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,f){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==f&&this.f?C(this.ic,this):null},t.ic=function(s,f,g,T){var P=this,q={requestUri:s,postBody:T,sessionId:f,tenantId:g};return this.c&&(this.c.cancel(),this.c=null),P.$.then(function(){return Mf(P,Ad(P.a,q))})},t.Xc=function(s){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));var f=this,g=sf(s.providerId),T=Js(),P=null;(!Xc()||Kc())&&un(this).options.authDomain&&s.isOAuthProvider&&(P=ms(un(this).options.authDomain,un(this).options.apiKey,un(this).name,"signInViaPopup",s,null,T,at.SDK_VERSION||null,null,null,this.T(),this.R));var q=Ym(P,g&&g.va,g&&g.ua);return g=pS(this).then(function(Y){return Fe(Y,q,"signInViaPopup",s,T,!!P,f.T())}).then(function(){return new It(function(Y,fe){f.na("signInViaPopup",null,new D("cancelled-popup-request"),f.g),f.f=Y,f.C=fe,f.g=T,f.c=rt(f.b,f,"signInViaPopup",q,T)})}).then(function(Y){return q&&Xs(q),Y?Si(Y):null}).o(function(Y){throw q&&Xs(q),Y}),Mn(this,g)},t.Yc=function(s){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));var f=this,g=pS(this).then(function(){return bB(f.i)}).then(function(){return Je(f.b,"signInViaRedirect",s,void 0,f.T())});return Mn(this,g)};function rN(s){if(!ri())return Vt(new D("operation-not-supported-in-this-environment"));var f=pS(s).then(function(){return s.b.ra()}).then(function(g){return g?Si(g):null});return Mn(s,f)}t.ra=function(){var s=this;return rN(this).then(function(f){return s.b&&it(s.b.b),f}).o(function(f){throw s.b&&it(s.b.b),f})},t.dd=function(s){if(!s)return Vt(new D("null-user"));if(this.S!=s.tenantId)return Vt(new D("tenant-id-mismatch"));var f=this,g={};g.apiKey=un(this).options.apiKey,g.authDomain=un(this).options.authDomain,g.appName=un(this).name;var T=vB(s,g,f.D,f.Ga());return Mn(this,this.h.then(function(){if(un(f).options.apiKey!=s.l)return T.reload()}).then(function(){return St(f)&&s.uid==St(f).uid?(E0(St(f),s),f.da(s)):(Yd(f,T),av(T),f.da(T))}).then(function(){lv(f)}))};function IB(s,f){var g={};return g.apiKey=un(s).options.apiKey,g.authDomain=un(s).options.authDomain,g.appName=un(s).name,s.R&&(g.emulatorConfig=s.R),s.$.then(function(){return gB(g,f,s.D,s.Ga())}).then(function(T){return St(s)&&T.uid==St(s).uid?(E0(St(s),T),s.da(T)):(Yd(s,T),av(T),s.da(T))}).then(function(){lv(s)})}function Yd(s,f){St(s)&&(hB(St(s),s.Ba),bi(St(s),"tokenChanged",s.qa),bi(St(s),"userDeleted",s.za),bi(St(s),"userInvalidated",s.Aa),iS(St(s))),f&&(f.W.push(s.Ba),ni(f,"tokenChanged",s.qa),ni(f,"userDeleted",s.za),ni(f,"userInvalidated",s.Aa),0<s.u&&VR(f)),tt(s,"currentUser",f),f&&(f.xa(s.la()),eS(f,s),sv(f,s.J),nS(f,s),Z1(f,s.R),tS(f,s))}t.Bb=function(){var s=this,f=this.h.then(function(){return s.b&&it(s.b.b),St(s)?(Yd(s,null),JR(s.i).then(function(){lv(s)})):st()});return Mn(this,f)};function CB(s){var f=wB(s.D,un(s).options.authDomain).then(function(g){return(s.m=g)&&(g.ha=s.D),XR(s.D)});return Mn(s,f)}function xB(s){var f=un(s).options.authDomain,g=CB(s).then(function(){return ZR(s.i,f,s.R)}).then(function(T){return T?(T.ha=s.D,s.m&&(s.m.ga||null)==(T.ga||null)?T:T.reload().then(function(){return QR(s.i,T).then(function(){return T})}).o(function(P){return P.code=="auth/network-request-failed"?T:JR(s.i)})):null}).then(function(T){Yd(s,T||null)});return Mn(s,g)}function kB(s){return s.$.then(function(){return rN(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var f=s.i;f.b.addListener(_a("local"),f.a,s.ja)}})}t.Zc=function(){var s=this;return ZR(this.i,un(this).options.authDomain).then(function(f){if(!s.l){var g;if(g=St(s)&&f){g=St(s).uid;var T=f.uid;g=g==null||g===""||T===void 0||T===null||T===""?!1:g==T}if(g)return E0(St(s),f),St(s).I();(St(s)||f)&&(Yd(s,f),f&&(av(f),f.ha=s.D),s.b&&we(s.b,s),lv(s))}})},t.da=function(s){return QR(this.i,s)},t.mc=function(){lv(this),this.da(St(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function Mf(s,f){var g=null,T=null;return Mn(s,f.then(function(P){return g=wd(P),T=fd(P),IB(s,P)},function(P){var q=null;throw P&&P.code==="auth/multi-factor-auth-required"&&(q=MR(P.w(),s,C(s.kc,s))),q||P}).then(function(){return Si({user:St(s),credential:g,additionalUserInfo:T,operationType:"signIn"})}))}t.kc=function(s){var f=this;return this.h.then(function(){return Mf(f,st(s))})},t.zc=function(s){var f=this;this.addAuthTokenListener(function(){s.next(St(f))})},t.Ac=function(s){var f=this;AB(this,function(){s.next(St(f))})},t.Ic=function(s,f,g){var T=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s(St(T)):typeof s.next=="function"&&s.next(St(T))}),this.Pa(s,f,g)},t.Hc=function(s,f,g){var T=this;return this.ba&&Promise.resolve().then(function(){T.W=T.getUid(),typeof s=="function"?s(St(T)):typeof s.next=="function"&&s.next(St(T))}),this.ib(s,f,g)},t.nc=function(s){var f=this,g=this.h.then(function(){return St(f)?St(f).I(s).then(function(T){return{accessToken:T}}):null});return Mn(this,g)},t.Tc=function(s){var f=this;return this.h.then(function(){return Mf(f,xt(f.a,l0,{token:s}))}).then(function(g){var T=g.user;return Gl(T,"isAnonymous",!1),f.da(T),g})},t.Uc=function(s,f){var g=this;return this.h.then(function(){return Mf(g,xt(g.a,$g,{email:s,password:f}))})},t.dc=function(s,f){var g=this;return this.h.then(function(){return Mf(g,xt(g.a,o0,{email:s,password:f}))})},t.ab=function(s){var f=this;return this.h.then(function(){return Mf(f,s.ka(f.a))})},t.Sc=function(s){return sd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(s)},t.Ab=function(){var s=this;return this.h.then(function(){var f=St(s);if(f&&f.isAnonymous){var g=Si({providerId:null,isNewUser:!1});return Si({user:f,credential:null,additionalUserInfo:g,operationType:"signIn"})}return Mf(s,s.a.Ab()).then(function(T){var P=T.user;return Gl(P,"isAnonymous",!0),s.da(P),T})})};function un(s){return s.app}function St(s){return s.currentUser}t.getUid=function(){return St(this)&&St(this).uid||null};function T0(s){return St(s)&&St(s)._lat||null}function lv(s){if(s.ba){for(var f=0;f<s.s.length;f++)s.s[f]&&s.s[f](T0(s));if(s.W!==s.getUid()&&s.N.length)for(s.W=s.getUid(),f=0;f<s.N.length;f++)s.N[f]&&s.N[f](T0(s))}}t.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&St(this)&&VR(St(this))},t.Pc=function(s){var f=this;_e(this.s,function(g){g==s&&f.u--}),0>this.u&&(this.u=0),this.u==0&&St(this)&&iS(St(this)),this.removeAuthTokenListener(s)},t.addAuthTokenListener=function(s){var f=this;this.s.push(s),Mn(this,this.h.then(function(){f.l||Q(f.s,s)&&s(T0(f))}))},t.removeAuthTokenListener=function(s){Ce(this.s,function(f){return f==s})};function AB(s,f){s.N.push(f),Mn(s,s.h.then(function(){!s.l&&Q(s.N,f)&&s.W!==s.getUid()&&(s.W=s.getUid(),f(T0(s)))}))}t.delete=function(){this.l=!0;for(var s=0;s<this.P.length;s++)this.P[s].cancel("app-deleted");return this.P=[],this.i&&(s=this.i,s.b.removeListener(_a("local"),s.a,this.ja)),this.b&&(Ae(this.b,this),it(this.b.b)),Promise.resolve()};function Mn(s,f){return s.P.push(f),f.oa(function(){Z(s.P,f)}),f}t.hc=function(s){return Mn(this,Og(this.a,s))},t.Bc=function(s){return!!yd(s)},t.xb=function(s,f){var g=this;return Mn(this,st().then(function(){var T=new ou(f);if(!T.c)throw new D("argument-error",gl+" must be true when sending sign in link to email");return so(T)}).then(function(T){return g.a.xb(s,T)}).then(function(){}))},t.jd=function(s){return this.Sa(s).then(function(f){return f.data.email})},t.ob=function(s,f){return Mn(this,this.a.ob(s,f).then(function(){}))},t.Sa=function(s){return Mn(this,this.a.Sa(s).then(function(f){return new Vw(f)}))},t.kb=function(s){return Mn(this,this.a.kb(s).then(function(){}))},t.wb=function(s,f){var g=this;return Mn(this,st().then(function(){return typeof f>"u"||bn(f)?{}:so(new ou(f))}).then(function(T){return g.a.wb(s,T)}).then(function(){}))},t.Wc=function(s,f){return Mn(this,q1(this,s,f,C(this.ab,this)))},t.Vc=function(s,f){var g=this;return Mn(this,st().then(function(){var T=f||Gc(),P=vd(s,T);if(T=yd(T),!T)throw new D("argument-error","Invalid email link!");if(T.tenantId!==g.T())throw new D("tenant-id-mismatch");return g.ab(P)}))};function cv(){}cv.prototype.render=function(){},cv.prototype.reset=function(){},cv.prototype.getResponse=function(){},cv.prototype.execute=function(){};function Xd(){this.a={},this.b=1e12}var mS=null;Xd.prototype.render=function(s,f){return this.a[this.b.toString()]=new I0(s,f),this.b++},Xd.prototype.reset=function(s){var f=gS(this,s);s=iN(s),f&&s&&(f.delete(),delete this.a[s])},Xd.prototype.getResponse=function(s){return(s=gS(this,s))?s.getResponse():null},Xd.prototype.execute=function(s){(s=gS(this,s))&&s.execute()};function gS(s,f){return(f=iN(f))&&s.a[f]||null}function iN(s){return(s=typeof s>"u"?1e12:s)?s.toString():null}function I0(s,f){this.g=!1,this.c=f,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Oc(s);var g=this;this.i=function(){g.execute()},this.h?this.execute():ni(this.f,"click",this.i)}I0.prototype.getResponse=function(){return vS(this),this.b},I0.prototype.execute=function(){vS(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=Jm();var f=s.c.callback,g=s.c["expired-callback"];if(f)try{f(s.b)}catch{}s.a=setTimeout(function(){if(s.a=null,s.b=null,g)try{g()}catch{}s.h&&s.execute()},6e4)},500))},I0.prototype.delete=function(){vS(this),this.g=!0,clearTimeout(this.a),this.a=null,bi(this.f,"click",this.i)};function vS(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function yS(){}tt(yS,"FACTOR_ID","phone");function wS(){}wS.prototype.g=function(){return mS||(mS=new Xd),st(mS)},wS.prototype.c=function(){};var _S=null;function bS(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var RB=new En(Fs,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),NB=new ko(3e4,6e4);bS.prototype.g=function(s){var f=this;return new It(function(g,T){var P=setTimeout(function(){T(new D("network-request-failed"))},NB.get());if(!c.grecaptcha||s!==f.f&&!f.b){c[f.a]=function(){if(c.grecaptcha){f.f=s;var Y=c.grecaptcha.render;c.grecaptcha.render=function(fe,Le){return fe=Y(fe,Le),f.b++,fe},clearTimeout(P),g(c.grecaptcha)}else clearTimeout(P),T(new D("internal-error"));delete c[f.a]};var q=Mh(RB,{onload:f.a,hl:s||""});st(Tg(q)).o(function(){clearTimeout(P),T(new D("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(P),g(c.grecaptcha)})},bS.prototype.c=function(){this.b--};var ES=null;function SS(s,f,g,T,P,q,Y){if(tt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=f,this.g=null,Y?(_S||(_S=new wS),Y=_S):(ES||(ES=new bS),Y=ES),this.m=Y,this.a=g||{theme:"light",type:"image"},this.h=[],this.a[aN])throw new D("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[OB]==="invisible",!c.document)throw new D("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Oc(f)||!this.i&&Oc(f).hasChildNodes())throw new D("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ki(s,q||null,P||null),this.u=T||function(){return null};var fe=this;this.l=[];var Le=this.a[oN];this.a[oN]=function(_t){if(uN(fe,_t),typeof Le=="function")Le(_t);else if(typeof Le=="string"){var en=hn(Le,c);typeof en=="function"&&en(_t)}};var Ue=this.a[sN];this.a[sN]=function(){if(uN(fe,null),typeof Ue=="function")Ue();else if(typeof Ue=="string"){var _t=hn(Ue,c);typeof _t=="function"&&_t()}}}var oN="callback",sN="expired-callback",aN="sitekey",OB="size";function uN(s,f){for(var g=0;g<s.l.length;g++)try{s.l[g](f)}catch{}}function PB(s,f){Ce(s.l,function(g){return g==f})}function TS(s,f){return s.h.push(f),f.oa(function(){Z(s.h,f)}),f}t=SS.prototype,t.Ia=function(){var s=this;return this.f?this.f:this.f=TS(this,st().then(function(){if(al()&&!zi())return os();throw new D("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(f){return s.g=f,xt(s.s,If,{})}).then(function(f){s.a[aN]=f.recaptchaSiteKey}).o(function(f){throw s.f=null,f}))},t.render=function(){C0(this);var s=this;return TS(this,this.Ia().then(function(){if(s.c===null){var f=s.v;if(!s.i){var g=Oc(f);f=Lc("DIV"),g.appendChild(f)}s.c=s.g.render(f,s.a)}return s.c}))},t.verify=function(){C0(this);var s=this;return TS(this,this.render().then(function(f){return new It(function(g){var T=s.g.getResponse(f);if(T)g(T);else{var P=function(q){q&&(PB(s,P),g(q))};s.l.push(P),s.i&&s.g.execute(s.c)}})}))},t.reset=function(){C0(this),this.c!==null&&this.g.reset(this.c)};function C0(s){if(s.J)throw new D("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){C0(this),this.J=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=Oc(this.v);for(var f;f=s.firstChild;)s.removeChild(f)}};function IS(s,f,g){var T=!1;try{this.b=g||at.app()}catch{throw new D("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)g=this.b.options.apiKey;else throw new D("invalid-api-key");var P=this,q=null;try{q=this.b.auth().Ga()}catch{}try{T=this.b.auth().settings.appVerificationDisabledForTesting}catch{}q=at.SDK_VERSION?nu(at.SDK_VERSION,q):null,SS.call(this,g,s,f,function(){try{var Y=P.b.auth().la()}catch{Y=null}return Y},q,$(te),T)}O(IS,SS);function lN(s,f,g,T){e:{g=Array.prototype.slice.call(g);for(var P=0,q=!1,Y=0;Y<f.length;Y++)if(f[Y].optional)q=!0;else{if(q)throw new D("internal-error","Argument validator encountered a required argument after an optional argument.");P++}if(q=f.length,g.length<P||q<g.length)T="Expected "+(P==q?P==1?"1 argument":P+" arguments":P+"-"+q+" arguments")+" but got "+g.length+".";else{for(P=0;P<g.length;P++)if(q=f[P].optional&&g[P]===void 0,!f[P].M(g[P])&&!q){if(f=f[P],0>P||P>=cN.length)throw new D("internal-error","Argument validator received an unsupported number of arguments.");g=cN[P],T=(T?"":g+" argument ")+(f.name?'"'+f.name+'" ':"")+"must be "+f.K+".";break e}T=null}}if(T)throw new D("argument-error",s+" failed: "+T)}var cN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ot(s,f){return{name:s||"",K:"a valid string",optional:!!f,M:function(g){return typeof g=="string"}}}function CS(s,f){return{name:s||"",K:"a boolean",optional:!!f,M:function(g){return typeof g=="boolean"}}}function Qn(s,f){return{name:s||"",K:"a valid object",optional:!!f,M:I}}function Qd(s,f){return{name:s||"",K:"a function",optional:!!f,M:function(g){return typeof g=="function"}}}function ba(s,f){return{name:s||"",K:"null",optional:!!f,M:function(g){return g===null}}}function DB(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function LB(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof _s)}}}function MB(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof at.app.App)}}}function Kl(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(f){if(!f)return!1;var g=!s||f.providerId===s;return!(!f.ka||!g)}}}function fN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.tb:!1}}}function Jd(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function xS(s,f){return I(s)&&typeof s.type=="string"&&s.type===f&&typeof s.Ha=="function"}function hN(s){return I(s)&&typeof s.uid=="string"}function x0(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function Vn(s,f,g,T){return{name:g||"",K:s.K+" or "+f.K,optional:!!T,M:function(P){return s.M(P)||f.M(P)}}}function An(s,f){for(var g in f){var T=f[g].name;s[T]=pN(T,s[g],f[g].j)}}function dN(s,f){for(var g in f){var T=f[g].name;T!==g&&Object.defineProperty(s,T,{get:A(function(P){return this[P]},g),set:A(function(P,q,Y,fe){lN(P,[Y],[fe],!0),this[q]=fe},T,g,f[g].lb),enumerable:!0})}}function zn(s,f,g,T){s[f]=pN(f,g,T)}function pN(s,f,g){function T(){var Y=Array.prototype.slice.call(arguments);return lN(P,g,Y),f.apply(this,Y)}if(!g)return f;var P=FB(s),q;for(q in f)T[q]=f[q];for(q in f.prototype)T.prototype[q]=f.prototype[q];return T}function FB(s){return s=s.split("."),s[s.length-1]}An(_s.prototype,{kb:{name:"applyActionCode",j:[ot("code")]},Sa:{name:"checkActionCode",j:[ot("code")]},ob:{name:"confirmPasswordReset",j:[ot("code"),ot("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ot("email"),ot("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ot("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ot("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Vn(Qn(),Qd(),"nextOrObserver"),Qd("opt_error",!0),Qd("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Vn(Qn(),Qd(),"nextOrObserver"),Qd("opt_error",!0),Qd("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ot("email"),Vn(Qn("opt_actionCodeSettings",!0),ba(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ot("email"),Qn("actionCodeSettings")]},yb:{name:"setPersistence",j:[ot("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Kl()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Kl()]},Tc:{name:"signInWithCustomToken",j:[ot("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ot("email"),ot("password")]},Vc:{name:"signInWithEmailLink",j:[ot("email"),ot("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ot("phoneNumber"),x0()]},Xc:{name:"signInWithPopup",j:[Jd()]},Yc:{name:"signInWithRedirect",j:[Jd()]},dd:{name:"updateCurrentUser",j:[Vn(function(s){return{name:"user",K:"an instance of Firebase User",optional:!1,M:function(f){return!!(f&&f instanceof ho)}}}(),ba(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ot(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ot("url"),Qn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ot("code")]}}),dN(_s.prototype,{lc:{name:"languageCode",lb:Vn(ot(),ba(),"languageCode")},ti:{name:"tenantId",lb:Vn(ot(),ba(),"tenantId")}}),_s.Persistence=Zt,_s.Persistence.LOCAL="local",_s.Persistence.SESSION="session",_s.Persistence.NONE="none",An(ho.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[CS("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[CS("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Kl()]},rb:{name:"linkWithCredential",j:[Kl()]},Dc:{name:"linkWithPhoneNumber",j:[ot("phoneNumber"),x0()]},Ec:{name:"linkWithPopup",j:[Jd()]},Fc:{name:"linkWithRedirect",j:[Jd()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Kl()]},ub:{name:"reauthenticateWithCredential",j:[Kl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ot("phoneNumber"),x0()]},Nc:{name:"reauthenticateWithPopup",j:[Jd()]},Oc:{name:"reauthenticateWithRedirect",j:[Jd()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Vn(Qn("opt_actionCodeSettings",!0),ba(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ot(null,!0)]},cd:{name:"unlink",j:[ot("provider")]},Cb:{name:"updateEmail",j:[ot("email")]},Db:{name:"updatePassword",j:[ot("password")]},ed:{name:"updatePhoneNumber",j:[Kl("phone")]},Eb:{name:"updateProfile",j:[Qn("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ot("email"),Vn(Qn("opt_actionCodeSettings",!0),ba(null,!0),"opt_actionCodeSettings",!0)]}}),An(Xd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),An(cv.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),An(It.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),dN(PR.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:CS("appVerificationDisabledForTesting")}}),An(W1.prototype,{confirm:{name:"confirm",j:[ot("verificationCode")]}}),zn(na,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var f,g=[Ww,ds,ia,Hw],T=0;T<g.length;T++)if(f=g[T](s))return f;return null},[Vn(ot(),Qn(),"json")]),zn(Bn,"credential",function(s,f){return new hs(s,f)},[ot("email"),ot("password")]),An(hs.prototype,{w:{name:"toJSON",j:[ot(null,!0)]}}),An(cs.prototype,{Ca:{name:"addScope",j:[ot("scope")]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),zn(cs,"credential",pd,[Vn(ot(),Qn(),"token")]),zn(Bn,"credentialWithLink",vd,[ot("email"),ot("emailLink")]),An(fs.prototype,{Ca:{name:"addScope",j:[ot("scope")]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),zn(fs,"credential",md,[Vn(ot(),Qn(),"token")]),An(qi.prototype,{Ca:{name:"addScope",j:[ot("scope")]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),zn(qi,"credential",Ii,[Vn(ot(),Vn(Qn(),ba()),"idToken"),Vn(ot(),ba(),"accessToken",!0)]),An($i.prototype,{Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),zn($i,"credential",gd,[Vn(ot(),Qn(),"token"),ot("secret",!0)]),An(Yn.prototype,{Ca:{name:"addScope",j:[ot("scope")]},credential:{name:"credential",j:[Vn(ot(),Vn(Qn(),ba()),"optionsOrIdToken"),Vn(ot(),ba(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),An(Lo.prototype,{w:{name:"toJSON",j:[ot(null,!0)]}}),An(ao.prototype,{w:{name:"toJSON",j:[ot(null,!0)]}}),zn(Fo,"credential",uf,[ot("verificationId"),ot("verificationCode")]),An(Fo.prototype,{gb:{name:"verifyPhoneNumber",j:[Vn(ot(),function(s,f){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(g){return g?g.session&&g.phoneNumber?xS(g.session,yl)&&typeof g.phoneNumber=="string":g.session&&g.multiFactorHint?xS(g.session,ls)&&hN(g.multiFactorHint):g.session&&g.multiFactorUid?xS(g.session,ls)&&typeof g.multiFactorUid=="string":g.phoneNumber?typeof g.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),x0()]}}),An(wr.prototype,{w:{name:"toJSON",j:[ot(null,!0)]}}),An(D.prototype,{toJSON:{name:"toJSON",j:[ot(null,!0)]}}),An(El.prototype,{toJSON:{name:"toJSON",j:[ot(null,!0)]}}),An(sa.prototype,{toJSON:{name:"toJSON",j:[ot(null,!0)]}}),An(G1.prototype,{toJSON:{name:"toJSON",j:[ot(null,!0)]}}),An($1.prototype,{Rc:{name:"resolveSignIn",j:[fN()]}}),An(Y1.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[fN(),ot("displayName",!0)]},bd:{name:"unenroll",j:[Vn({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:hN},ot(),"multiFactorInfoIdentifier")]}}),An(IS.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),zn(Ao,"parseLink",Vr,[ot("link")]),zn(yS,"assertion",function(s){return new UR(s)},[Kl("phone")]),function(){if(typeof at<"u"&&at.INTERNAL&&at.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ti,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Zs,VERIFY_AND_CHANGE_EMAIL:ss,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:_s,AuthCredential:na,Error:D};zn(s,"EmailAuthProvider",Bn,[]),zn(s,"FacebookAuthProvider",cs,[]),zn(s,"GithubAuthProvider",fs,[]),zn(s,"GoogleAuthProvider",qi,[]),zn(s,"TwitterAuthProvider",$i,[]),zn(s,"OAuthProvider",Yn,[ot("providerId")]),zn(s,"SAMLAuthProvider",af,[ot("providerId")]),zn(s,"PhoneAuthProvider",Fo,[LB()]),zn(s,"RecaptchaVerifier",IS,[Vn(ot(),DB(),"recaptchaContainer"),Qn("recaptchaParameters",!0),MB()]),zn(s,"ActionCodeURL",Ao,[]),zn(s,"PhoneMultiFactorGenerator",yS,[]),at.INTERNAL.registerComponent({name:"auth",instanceFactory:function(f){return f=f.getProvider("app").getImmediate(),new _s(f)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(f){f.getProvider("auth-internal").initialize()}}),at.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(f){return f=f.getProvider("auth").getImmediate(),{getUid:C(f.getUid,f),getToken:C(f.nc,f),addAuthTokenListener:C(f.cc,f),removeAuthTokenListener:C(f.Pc,f)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),at.registerVersion("@firebase/auth","0.16.8"),at.INTERNAL.extendNamespace({User:ho})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var y9={},w9="@firebase/database",_9="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DF="";function LF(t){DF=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b9=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fr(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zv(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E9=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return bo(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MF=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new b9(e)}}catch{}return new E9},$f=MF("localStorage"),rC=MF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dp=new Eh("@firebase/database"),FF=function(){var t=1;return function(){return t++}}(),UF=function(t){var e=jV(t),n=new LV;n.update(e);var r=n.digest();return Fb.encodeByteArray(r)},Oy=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Oy.apply(null,i):typeof i=="object"?n+=fr(i):n+=i,n+=" "}return n},nh=null,MN=!0,jF=function(t,e){qe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(dp.logLevel=Lt.VERBOSE,nh=dp.log.bind(dp),e&&rC.set("logging_enabled",!0)):typeof t=="function"?nh=t:(nh=null,rC.remove("logging_enabled"))},Nr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(MN===!0&&(MN=!1,nh===null&&rC.get("logging_enabled")===!0&&jF(!0)),nh){var n=Oy.apply(null,t);nh(n)}},Py=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Nr.apply(void 0,Ct([t],Kr(e)))}},iC=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Oy.apply(void 0,Ct([],Kr(t)));dp.error(n)},ja=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Oy.apply(void 0,Ct([],Kr(t)));throw dp.error(n),new Error(n)},Xr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Oy.apply(void 0,Ct([],Kr(t)));dp.warn(n)},S9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T9=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Pu="[MIN_NAME]",Ba="[MAX_NAME]",Sh=function(t,e){if(t===e)return 0;if(t===Pu||e===Ba)return-1;if(e===Pu||t===Ba)return 1;var n=O_(t),r=O_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},I9=function(t,e){return t===e?0:t<e?-1:1},pv=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fr(e))},Ux=function(t){if(typeof t!="object"||t===null)return fr(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=fr(e[i]),r+=":",r+=Ux(t[e[i]]);return r+="}",r},BF=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function pr(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var VF=function(t){qe(!jb(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,u,c;t===0?(o=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();var p=d.join(""),v="";for(c=0;c<64;c+=8){var y=parseInt(p.substr(c,8),2).toString(16);y.length===1&&(y="0"+y),v=v+y}return v.toLowerCase()},C9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},x9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function k9(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var A9=new RegExp("^-?(0*)\\d{1,10}$"),zF=-2147483648,jx=2147483647,O_=function(t){if(A9.test(t)){var e=Number(t);if(e>=zF&&e<=jx)return e}return null},om=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Xr("Exception was thrown by user callback.",n),e},Math.floor(0))}},R9=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mv=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N9=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){Xr('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O9=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xr(e)},t}(),Fv=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bx="5",HF="v",WF="s",qF="r",$F="f",GF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,KF="ls",P9="p",oC="ac",YF="websocket",XF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vx=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=!1),a===void 0&&(a=""),u===void 0&&(u=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$f.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function D9(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function QF(t,e,n){qe(typeof e=="string","typeof type must == string"),qe(typeof n=="object","typeof params must == object");var r;if(e===YF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===XF)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);D9(t)&&(n.ns=t.namespace);var i=[];return pr(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L9=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),bo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return IF(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FS={},US={};function zx(t){var e=t.toString();return FS[e]||(FS[e]=new L9),FS[e]}function M9(t,e){var n=t.toString();return US[n]||(US[n]=e()),US[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F9=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var u=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var c=function(p){u[p]&&om(function(){r.onMessage_(u[p])})},d=0;d<u.length;++d)c(d);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FN="start",U9="close",j9="pLPCommand",B9="pRTLPCB",JF="id",ZF="pw",e4="ser",V9="cb",z9="seg",H9="ts",W9="d",q9="dframe",t4=1870,n4=30,$9=t4-n4,G9=25e3,K9=3e4,Hx=function(){function t(e,n,r,i,o,a,u){var c=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Py(e),this.stats_=zx(n),this.urlFn=function(d){return c.appCheckToken&&(d[oC]=c.appCheckToken),QF(n,XF,d)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new F9(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(K9)),T9(function(){if(!r.isClosed_){r.scriptTagHolder=new Y9(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Kr(a,5),d=c[0],p=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,d===FN)r.id=p,r.password=v;else if(d===U9)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+d)},function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Kr(a,2),d=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(d,p)},function(){r.onClosed_()},r.urlFn);var i={};i[FN]="t",i[e4]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[V9]=r.scriptTagHolder.uniqueCallbackIdentifier),i[HF]=Bx,r.transportSessionId&&(i[WF]=r.transportSessionId),r.lastSessionId&&(i[KF]=r.lastSessionId),r.applicationId&&(i[P9]=r.applicationId),r.appCheckToken&&(i[oC]=r.appCheckToken),typeof location<"u"&&location.hostname&&GF.test(location.hostname)&&(i[qF]=$F);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!C9()&&!x9()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=fr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=TF(n),i=BF(r,$9),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[q9]="t",r[JF]=e,r[ZF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=fr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),Y9=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FF(),window[j9+this.uniqueCallbackIdentifier]=e,window[B9+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";<\/script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){Nr("frame writing exception"),c.stack&&Nr(c.stack),Nr(c)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||Nr("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[JF]=this.myID,e[ZF]=this.myPW,e[e4]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+n4+r.length<=t4){var a=this.pendingSegs.shift();r=r+"&"+z9+i+"="+a.seg+"&"+H9+i+"="+a.ts+"&"+W9+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(G9)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Nr("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X9=16384,Q9=45e3,P_=null;typeof MozWebSocket<"u"?P_=MozWebSocket:typeof WebSocket<"u"&&(P_=WebSocket);var cp=function(){function t(e,n,r,i,o,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Py(this.connId),this.stats_=zx(n),this.connURL=t.connectionURL_(n,a,u,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[HF]=Bx,typeof location<"u"&&location.hostname&&GF.test(location.hostname)&&(o[qF]=$F),n&&(o[WF]=n),r&&(o[KF]=r),i&&(o[oC]=i),QF(e,YF,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$f.set("previous_websocket_failure",!0);try{var i,o,a,u;if(!IV()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new P_(this.connURL,[],o)}}catch(d){this.log_("Error instantiating WebSocket.");var c=d.message||d.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(d){r.handleIncomingFrame(d)},this.mySock.onerror=function(d){r.log_("WebSocket error.  Closing connection.");var p=d.message||d.data;p&&r.log_(p),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&P_!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return $f.isInMemoryStorage||$f.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){$f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Zv(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(qe(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=fr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=BF(n,X9);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(Q9))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J9=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Hx,cp]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=cp.isAvailable(),o=i&&!cp.previouslyFailed();if(e.webSocketOnly&&(i||Xr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[cp];else{var a=this.transports_=[];try{for(var u=Lr(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var d=c.value;d&&d.isAvailable()&&a.push(d)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z9=6e4,ez=5e3,tz=10*1024,nz=100*1024,jS="t",UN="d",rz="s",jN="r",iz="e",BN="o",VN="a",zN="n",HN="p",oz="h",r4=function(){function t(e,n,r,i,o,a,u,c,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Py("c:"+this.id+":"),this.transportManager_=new J9(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Mv(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>nz?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>tz?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(jS in e){var n=e[jS];n===VN?this.upgradeIfSecondaryHealthy_():n===jN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===BN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=pv("t",e),r=pv("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:HN,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:VN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=pv("t",e),r=pv("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=pv(jS,e);if(UN in e){var r=e[UN];if(n===oz)this.onHandshake_(r);else if(n===zN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rz?this.onConnectionShutdown_(r):n===jN?this.onReset_(r):n===iz?iC("Server Error: "+r):n===BN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):iC("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Bx!==r&&Xr("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Mv(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(Z9))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mv(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(ez))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:HN,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i4=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o4=function(){function t(e){this.allowedEvents_=e,this.listeners_={},qe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=Ct([],Kr(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){qe(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WN=function(t){Ye(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ox()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return qe(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(o4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qN=32,$N=768,Xt=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function qt(){return new Xt("")}function At(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function dc(t){return t.pieces_.length-t.pieceNum_}function pn(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new Xt(t.pieces_,e)}function Wx(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function sz(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ey(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function s4(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Xt(e,0)}function In(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Xt)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Xt(n,0)}function Rt(t){return t.pieceNum_>=t.pieces_.length}function Oi(t,e){var n=At(t),r=At(e);if(n===null)return e;if(n===r)return Oi(pn(t),pn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function az(t,e){for(var n=ey(t,0),r=ey(e,0),i=0;i<n.length&&i<r.length;i++){var o=Sh(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function qx(t,e){if(dc(t)!==dc(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ho(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(dc(t)>dc(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var uz=function(){function t(e,n){this.errorPrefix_=n,this.parts_=ey(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ub(this.parts_[r]);a4(this)}return t}();function lz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ub(e),a4(t)}function cz(t){var e=t.parts_.pop();t.byteLength_-=Ub(e),t.parts_.length>0&&(t.byteLength_-=1)}function a4(t){if(t.byteLength_>$N)throw new Error(t.errorPrefix_+"has a key path longer than "+$N+" bytes ("+t.byteLength_+").");if(t.parts_.length>qN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qN+") or object contains a cycle "+zf(t))}function zf(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fz=function(t){Ye(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return qe(n==="visible","Unknown event type: "+n),[this.visible_]},e}(o4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mv=1e3,hz=60*5*1e3,dz=3*1e3,GN=30*1e3,pz=1.3,mz=3e4,gz="server_kill",KN=3,rh=function(t){Ye(e,t);function e(n,r,i,o,a,u,c,d){var p=t.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=o,p.onServerInfoUpdate_=a,p.authTokenProvider_=u,p.appCheckTokenProvider_=c,p.authOverride_=d,p.id=e.nextPersistentConnectionId_++,p.log_=Py("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=mv,p.maxReconnectDelay_=hz,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return fz.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&WN.getInstance().on("online",p.onOnline_,p),p}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(fr(a)),qe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new Pr,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(c){var d=c.d;c.s==="ok"?(r.onDataUpdate_(o.p,d,!1,null),i.resolve(d)):i.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var u=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[u];c===void 0||a!==c||(delete r.outstandingGets_[u],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},dz),this.connected_&&this.sendGet_(u),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,u=n._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),qe(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),qe(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");var c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(u).set(a,c),this.connected_&&this.sendListen_(c)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var u={p:o},c="q";n.tag&&(u.q=i._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(c,u,function(d){var p=d.d,v=d.s;e.warnOnListenWarnings_(p,i);var y=r.listens.get(o)&&r.listens.get(o).get(a);y===n&&(r.log_("listen response",d),v!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(v,p))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&bo(n,"w")){var i=lh(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Xr("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||PV(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=GN)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=OV(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var u=a.s,c=a.d||"error";n.authToken_===r&&(u==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(u,c))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),qe(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},u="n";o&&(a.q=i,a.t=o),this.sendRequest(u,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(u){o&&setTimeout(function(){o(u.s,u.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var u={p:r,d:i};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:n,request:u,onComplete:o}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(u){r.log_(i+" response",u),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(u.s,u.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var u=o.d;r.log_("reportStats","Error sending stats: "+u)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+fr(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):iC("Unrecognized action received from server: "+fr(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;qe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mv,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=mv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>mz&&(this.reconnectDelay_=mv),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pz)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c,d,p,v,y,w,b,E,I=this;return ge(this,function(S){switch(S.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,d=function(){c?c.close():(u=!0,i())},p=function(k){qe(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(k)},this.realtime_={close:d,sendRequest:p},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return y=Kr.apply(void 0,[S.sent(),2]),w=y[0],b=y[1],u?Nr("getToken() completed but was canceled"):(Nr("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=b&&b.token,c=new r4(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(k){Xr(k+" ("+I.repoInfo_.toString()+")"),I.interrupt(gz)},a)),[3,4];case 3:return E=S.sent(),this.log_("Failed to get token: "+E),u||(this.repoInfo_.nodeAdmin&&Xr(E),d()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){Nr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){Nr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],tC(this.interruptReasons_)&&(this.reconnectDelay_=mv,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return Ux(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new Xt(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){Nr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KN&&(this.reconnectDelay_=GN,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){Nr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KN&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=Lr(this.listens.values()),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var d=(i=void 0,Lr(c.values())),p=d.next();!p.done;p=d.next()){var v=p.value;this.sendListen_(v)}}catch(b){i={error:b}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var y=0;y<this.outstandingPuts_.length;y++)this.outstandingPuts_[y]&&this.sendPut_(y);for(;this.onDisconnectRequestQueue_.length;){var w=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(w.action,w.pathString,w.data,w.onComplete)}for(var y=0;y<this.outstandingGets_.length;y++)this.outstandingGets_[y]&&this.sendGet_(y)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+DF.replace(/\./g,"-")]=1,Ox()?n["framework.cordova"]=1:xF()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=WN.getInstance().currentlyOnline();return tC(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(i4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bb=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new Ft(Pu,e),i=new Ft(Pu,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return Ft.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N0,u4=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return N0},set:function(n){N0=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Sh(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw rm("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return Ft.MIN},e.prototype.maxPost=function(){return new Ft(Ba,N0)},e.prototype.makePost=function(n,r){return qe(typeof n=="string","KeyIndex indexValue must always be a string."),new Ft(n,N0)},e.prototype.toString=function(){return".key"},e}(Bb),Pa=new u4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O0=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),Cs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??Su.EMPTY_NODE,this.right=o??Su.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Su.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Su.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),vz=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Cs(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Su=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Cs.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cs.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new O0(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new O0(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new O0(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new O0(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new vz,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t,e){return Sh(t.name,e.name)}function $x(t,e){return Sh(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sC;function wz(t){sC=t}var l4=function(t){return typeof t=="number"?"number:"+VF(t):"string:"+t},c4=function(t){if(t.isLeafNode()){var e=t.val();qe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bo(e,".sv"),"Priority must be a string or number.")}else qe(t===sC||t.isEmpty(),"priority of unexpected type.");qe(t===sC||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YN,Tp=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,qe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),c4(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return YN},set:function(e){YN=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Rt(e)?this:At(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=At(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(qe(r!==".priority"||dc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(pn(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+l4(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=VF(this.value_):e+=this.value_,this.lazyHash_=UF(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(qe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return qe(i>=0,"Unknown leaf type: "+n),qe(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f4,h4;function _z(t){f4=t}function bz(t){h4=t}var Ez=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?Sh(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Ft.MIN},e.prototype.maxPost=function(){return new Ft(Ba,new Tp("[PRIORITY-POST]",h4))},e.prototype.makePost=function(n,r){var i=f4(n);return new Ft(r,new Tp("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(Bb),gn=new Ez;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sz=Math.log(2),Tz=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/Sz,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),D_=function(t,e,n,r){t.sort(e);var i=function(c,d){var p=d-c,v,y;if(p===0)return null;if(p===1)return v=t[c],y=n?n(v):v,new Cs(y,v.node,Cs.BLACK,null,null);var w=parseInt(p/2,10)+c,b=i(c,w),E=i(w+1,d);return v=t[w],y=n?n(v):v,new Cs(y,v.node,Cs.BLACK,b,E)},o=function(c){for(var d=null,p=null,v=t.length,y=function(S,k){var C=v-S,A=v;v-=S;var O=i(C+1,A),H=t[C],D=n?n(H):H;w(new Cs(D,H.node,k,null,O))},w=function(S){d?(d.left=S,d=S):(p=S,d=S)},b=0;b<c.count;++b){var E=c.nextBitIsOne(),I=Math.pow(2,c.count-(b+1));E?y(I,Cs.BLACK):(y(I,Cs.BLACK),y(I,Cs.RED))}return p},a=new Tz(t.length),u=o(a);return new Su(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BS,gv={},L_=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return qe(gn,"ChildrenNode.ts has not been loaded"),BS=BS||new t({".priority":gv},{".priority":gn}),BS},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=lh(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Su?n:null},t.prototype.hasIndex=function(e){return bo(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){qe(e!==Pa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Ft.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var u;i?u=D_(r,e.getCompare()):u=gv;var c=e.toString(),d=vt({},this.indexSet_);d[c]=e;var p=vt({},this.indexes_);return p[c]=u,new t(p,d)},t.prototype.addToIndexes=function(e,n){var r=this,i=R_(this.indexes_,function(o,a){var u=lh(r.indexSet_,a);if(qe(u,"Missing index implementation for "+a),o===gv)if(u.isDefinedOn(e.node)){for(var c=[],d=n.getIterator(Ft.Wrap),p=d.getNext();p;)p.name!==e.name&&c.push(p),p=d.getNext();return c.push(e),D_(c,u.getCompare())}else return gv;else{var v=n.get(e.name),y=o;return v&&(y=y.remove(new Ft(e.name,v))),y.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=R_(this.indexes_,function(i){if(i===gv)return i;var o=n.get(e.name);return o?i.remove(new Ft(e.name,o)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vv,Et=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&c4(this.priorityNode_),this.children_.isEmpty()&&qe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return vv||(vv=new t(new Su($x),null,L_.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||vv},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?vv:n},t.prototype.getChild=function(e){var n=At(e);return n===null?this:this.getImmediateChild(n).getChild(pn(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(qe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new Ft(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?vv:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=At(e);if(r===null)return n;qe(At(e)!==".priority"||dc(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(pn(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(gn,function(c,d){n[c]=d.val(e),r++,o&&t.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):o=!1}),!e&&o&&i<2*r){var a=[];for(var u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+l4(this.getPriority().val())+":"),this.forEachChild(gn,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":UF(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new Ft(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new Ft(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new Ft(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,Ft.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,Ft.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Dy?-1:0},t.prototype.withIndex=function(e){if(e===Pa||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===Pa||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(gn),i=n.getIterator(gn),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===Pa?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Iz=function(t){Ye(e,t);function e(){return t.call(this,new Su($x),Et.EMPTY_NODE,L_.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return Et.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Et),Dy=new Iz;Object.defineProperties(Ft,{MIN:{value:new Ft(Pu,Et.EMPTY_NODE)},MAX:{value:new Ft(Ba,Dy)}});u4.__EMPTY_NODE=Et.EMPTY_NODE;Tp.__childrenNodeConstructor=Et;wz(Dy);bz(Dy);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cz=!0;function Rn(t,e){if(e===void 0&&(e=null),t===null)return Et.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),qe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new Tp(n,Rn(e))}if(!(t instanceof Array)&&Cz){var r=[],i=!1,o=t;if(pr(o,function(d,p){if(d.substring(0,1)!=="."){var v=Rn(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Ft(d,v)))}}),r.length===0)return Et.EMPTY_NODE;var a=D_(r,yz,function(d){return d.name},$x);if(i){var u=D_(r,gn.getCompare());return new Et(a,Rn(e),new L_({".priority":u},{".priority":gn}))}else return new Et(a,Rn(e),L_.Default)}else{var c=Et.EMPTY_NODE;return pr(t,function(d,p){if(bo(t,d)&&d.substring(0,1)!=="."){var v=Rn(p);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(d,v))}}),c.updatePriority(Rn(e))}}_z(Rn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gx=function(t){Ye(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,qe(!Rt(n)&&At(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?Sh(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=Rn(n),o=Et.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ft(r,o)},e.prototype.maxPost=function(){var n=Et.EMPTY_NODE.updateChild(this.indexPath_,Dy);return new Ft(Ba,n)},e.prototype.toString=function(){return ey(this.indexPath_,0).join("/")},e}(Bb);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xz=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Sh(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return Ft.MIN},e.prototype.maxPost=function(){return Ft.MAX},e.prototype.makePost=function(n,r){var i=Rn(n);return new Ft(r,i)},e.prototype.toString=function(){return".value"},e}(Bb),Kx=new xz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ip="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",aC="-",d4="z",p4=786,kz=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=Ip.charAt(n%64),n=Math.floor(n/64);qe(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Ip.charAt(e[i]);return qe(a.length===20,"nextPushId: Length should be 20."),a}}(),XN=function(t){if(t===""+jx)return aC;var e=O_(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<p4)return n.push(aC),n.join("");for(var i=n.length-1;i>=0&&n[i]===d4;)i--;if(i===-1)return Ba;var o=n[i],a=Ip.charAt(Ip.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},QN=function(t){if(t===""+zF)return Pu;var e=O_(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===aC?n.length===1?""+jx:(delete n[n.length-1],n.join("")):(n[n.length-1]=Ip.charAt(Ip.indexOf(n[n.length-1])-1),n.join("")+d4.repeat(p4-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){return{type:"value",snapshotNode:t}}function Cp(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ty(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ny(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Az(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yx=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){qe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(ty(n,u)):qe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Cp(n,r)):a.trackChildChange(ny(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(gn,function(i,o){n.hasChild(i)||r.trackChildChange(ty(i,o))}),n.isLeafNode()||n.forEachChild(gn,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(ny(i,o,a))}else r.trackChildChange(Cp(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?Et.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g4=function(){function t(e){this.indexedFilter_=new Yx(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new Ft(n,r))||(r=Et.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=Et.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Et.EMPTY_NODE);var o=this;return n.forEachChild(gn,function(a,u){o.matches(new Ft(a,u))||(i=i.updateImmediateChild(a,Et.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rz=function(){function t(e){this.rangedFilter_=new g4(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new Ft(n,r))||(r=Et.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Et.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Et.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var u=o.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:c=this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(u.name,u.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Et.EMPTY_NODE);var d=void 0,p=void 0,v=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var y=this.index_.getCompare();v=function(I,S){return y(S,I)}}else o=i.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,w=!1;o.hasNext();){var u=o.getNext();!w&&v(d,u)<=0&&(w=!0);var c=w&&a<this.limit_&&v(u,p)<=0;c?a++:i=i.updateImmediateChild(u.name,Et.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var u=this.index_.getCompare();a=function(k,C){return u(C,k)}}else a=this.index_.getCompare();var c=e;qe(c.numChildren()===this.limit_,"");var d=new Ft(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(d);if(c.hasChild(n)){for(var y=c.getImmediateChild(n),w=i.getChildAfterChild(this.index_,p,this.reverse_);w!=null&&(w.name===n||c.hasChild(w.name));)w=i.getChildAfterChild(this.index_,w,this.reverse_);var b=w==null?1:a(w,d),E=v&&!r.isEmpty()&&b>=0;if(E)return o!=null&&o.trackChildChange(ny(n,r,y)),c.updateImmediateChild(n,r);o!=null&&o.trackChildChange(ty(n,y));var I=c.updateImmediateChild(n,Et.EMPTY_NODE),S=w!=null&&this.rangedFilter_.matches(w);return S?(o!=null&&o.trackChildChange(Cp(w.name,w.node)),I.updateImmediateChild(w.name,w.node)):I}else return r.isEmpty()?e:v&&a(p,d)>=0?(o!=null&&(o.trackChildChange(ty(p.name,p.node)),o.trackChildChange(Cp(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,Et.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v4=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return qe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return qe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pu},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return qe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return qe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ba},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return qe(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===gn},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Nz(t){return t.loadsAllData()?new Yx(t.getIndex()):t.hasLimit()?new Rz(t):new g4(t)}function Oz(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Pz(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function uC(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Dz(t,e,n){var r;if(t.index_===Pa)typeof e=="string"&&(e=XN(e)),r=uC(t,e,n);else{var i=void 0;n==null?i=Ba:i=XN(n),r=uC(t,e,i)}return r.startAfterSet_=!0,r}function lC(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Lz(t,e,n){var r,i;return t.index_===Pa?(typeof e=="string"&&(e=QN(e)),i=lC(t,e,n)):(n==null?r=Pu:r=QN(n),i=lC(t,e,r)),i.endBeforeSet_=!0,i}function Vb(t,e){var n=t.copy();return n.index_=e,n}function JN(t){var e={};if(t.isDefault())return e;var n;return t.index_===gn?n="$priority":t.index_===Kx?n="$value":t.index_===Pa?n="$key":(qe(t.index_ instanceof Gx,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fr(n),t.startSet_&&(e.startAt=fr(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+fr(t.indexStartName_))),t.endSet_&&(e.endAt=fr(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+fr(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ZN(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mz=function(t){Ye(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=Py("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(qe(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);var c=e.getListenId_(n,i),d={};this.listens_[c]=d;var p=JN(n._queryParams);this.restRequest_(u+".json",p,function(v,y){var w=y;if(v===404&&(w=null,v=null),v===null&&a.onDataUpdate_(u,w,!1,i),lh(a.listens_,c)===d){var b;v?v===401?b="permission_denied":b="rest_error:"+v:b="ok",o(b,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=JN(n._queryParams),o=n._path.toString(),a=new Pr;return this.restRequest_(o+".json",i,function(u,c){var d=c;u===404&&(d=null,u=null),u===null?(r.onDataUpdate_(o,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var u=Kr(a,2),c=u[0],d=u[1];c&&c.accessToken&&(r.auth=c.accessToken),d&&d.token&&(r.ac=d.token);var p=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+DV(r);o.log_("Sending REST request for "+p);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){o.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);var y=null;if(v.status>=200&&v.status<300){try{y=Zv(v.responseText)}catch{Xr("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,y)}else v.status!==401&&v.status!==404&&Xr("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})},e}(i4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fz=function(){function t(){this.rootNode_=Et.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){return{value:null,children:new Map}}function sm(t,e,n){if(Rt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=At(e);t.children.has(r)||t.children.set(r,M_());var i=t.children.get(r);e=pn(e),sm(i,e,n)}}function cC(t,e){if(Rt(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(gn,function(o,a){sm(t,new Xt(o),a)}),cC(t,e)}else if(t.children.size>0){var r=At(e);if(e=pn(e),t.children.has(r)){var i=cC(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function fC(t,e,n){t.value!==null?n(e,t.value):Uz(t,function(r,i){var o=new Xt(e.toString()+"/"+r);fC(i,o,n)})}function Uz(t,e){t.children.forEach(function(n,r){e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y4=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=vt({},e);return this.last_&&pr(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eO=10*1e3,jz=30*1e3,Bz=5*60*1e3,Vz=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new y4(e);var r=eO+(jz-eO)*Math.random();Mv(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;pr(n,function(o,a){a>0&&bo(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),Mv(this.reportStats_.bind(this),Math.floor(Math.random()*2*Bz))},t}();function zz(t,e){t.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ks||(ks={}));function Xx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Qx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Jx(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hz=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ks.ACK_USER_WRITE,this.source=Xx()}return t.prototype.operationForChild=function(e){if(Rt(this.path)){if(this.affectedTree.value!=null)return qe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Xt(e));return new t(qt(),n,this.revert)}else return qe(At(this.path)===e,"operationForChild called for unrelated child."),new t(pn(this.path),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w4=function(){function t(e,n){this.source=e,this.path=n,this.type=ks.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Rt(this.path)?new t(this.source,qt()):new t(this.source,pn(this.path))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zb=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ks.OVERWRITE}return t.prototype.operationForChild=function(e){return Rt(this.path)?new t(this.source,qt(),this.snap.getImmediateChild(e)):new t(this.source,pn(this.path),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zx=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ks.MERGE}return t.prototype.operationForChild=function(e){if(Rt(this.path)){var n=this.children.subtree(new Xt(e));return n.isEmpty()?null:n.value?new zb(this.source,qt(),n.value):new t(this.source,qt(),n)}else return qe(At(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,pn(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pc=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(Rt(e))return this.isFullyInitialized()&&!this.filtered_;var n=At(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wz=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function qz(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(Az(a.childName,a.snapshotNode))}),yv(t,i,"child_removed",e,r,n),yv(t,i,"child_added",e,r,n),yv(t,i,"child_moved",o,r,n),yv(t,i,"child_changed",e,r,n),yv(t,i,"value",e,r,n),i}function yv(t,e,n,r,i,o){var a=r.filter(function(u){return u.type===n});a.sort(function(u,c){return Gz(t,u,c)}),a.forEach(function(u){var c=$z(t,u,o);i.forEach(function(d){d.respondsTo(u.type)&&e.push(d.createEvent(c,t.query_))})})}function $z(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Gz(t,e,n){if(e.childName==null||n.childName==null)throw rm("Should only compare child_ events.");var r=new Ft(e.childName,e.snapshotNode),i=new Ft(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t,e){return{eventCache:t,serverCache:e}}function Uv(t,e,n,r){return Hb(new pc(e,n,r),t.serverCache)}function _4(t,e,n,r){return Hb(t.eventCache,new pc(e,n,r))}function F_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ch(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VS,Kz=function(){return VS||(VS=new Su(I9)),VS},Eo=function(){function t(e,n){n===void 0&&(n=Kz()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return pr(e,function(r,i){n=n.set(new Xt(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:qt(),value:this.value};if(Rt(e))return null;var r=At(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(pn(e),n);if(o!=null){var a=In(new Xt(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(Rt(e))return this;var n=At(e),r=this.children.get(n);return r!==null?r.subtree(pn(e)):new t(null)},t.prototype.set=function(e,n){if(Rt(e))return new t(n,this.children);var r=At(e),i=this.children.get(r)||new t(null),o=i.set(pn(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(Rt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=At(e),r=this.children.get(n);if(r){var i=r.remove(pn(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(Rt(e))return this.value;var n=At(e),r=this.children.get(n);return r?r.get(pn(e)):null},t.prototype.setTree=function(e,n){if(Rt(e))return n;var r=At(e),i=this.children.get(r)||new t(null),o=i.setTree(pn(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(qt(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(In(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,qt(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Rt(e))return null;var o=At(e),a=this.children.get(o);return a?a.findOnPath_(pn(e),In(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,qt(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(Rt(e))return this;this.value&&r(n,this.value);var i=At(e),o=this.children.get(i);return o?o.foreachOnPath_(pn(e),In(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(qt(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(In(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ku=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new Eo(null))},t}();function jv(t,e,n){if(Rt(e))return new ku(new Eo(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=Oi(i,e);return o=o.updateChild(a,n),new ku(t.writeTree_.set(i,o))}else{var u=new Eo(n),c=t.writeTree_.setTree(e,u);return new ku(c)}}function hC(t,e,n){var r=t;return pr(n,function(i,o){r=jv(r,In(e,i),o)}),r}function tO(t,e){if(Rt(e))return ku.empty();var n=t.writeTree_.setTree(e,new Eo(null));return new ku(n)}function dC(t,e){return Th(t,e)!=null}function Th(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Oi(n.path,e)):null}function nO(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gn,function(r,i){e.push(new Ft(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Ft(r,i.value))}),e}function ac(t,e){if(Rt(e))return t;var n=Th(t,e);return n!=null?new ku(new Eo(n)):new ku(t.writeTree_.subtree(e))}function pC(t){return t.writeTree_.isEmpty()}function xp(t,e){return b4(qt(),t.writeTree_,e)}function b4(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(qe(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=b4(In(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(In(t,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t,e){return I4(e,t)}function Yz(t,e,n,r,i){qe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=jv(t.visibleWrites,e,n)),t.lastWriteId=r}function Xz(t,e,n,r){qe(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=hC(t.visibleWrites,e,n),t.lastWriteId=r}function Qz(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function Jz(t,e){var n=t.allWrites.findIndex(function(d){return d.writeId===e});qe(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&Zz(u,r.path)?i=!1:Ho(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return eH(t),!0;if(r.snap)t.visibleWrites=tO(t.visibleWrites,r.path);else{var c=r.children;pr(c,function(d){t.visibleWrites=tO(t.visibleWrites,In(r.path,d))})}return!0}else return!1}function Zz(t,e){if(t.snap)return Ho(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Ho(In(t.path,n),e))return!0;return!1}function eH(t){t.visibleWrites=E4(t.allWrites,tH,qt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function tH(t){return t.visible}function E4(t,e,n){for(var r=ku.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)Ho(n,a)?(u=Oi(n,a),r=jv(r,u,o.snap)):Ho(a,n)&&(u=Oi(a,n),r=jv(r,qt(),o.snap.getChild(u)));else if(o.children){if(Ho(n,a))u=Oi(n,a),r=hC(r,u,o.children);else if(Ho(a,n))if(u=Oi(a,n),Rt(u))r=hC(r,qt(),o.children);else{var c=lh(o.children,At(u));if(c){var d=c.getChild(pn(u));r=jv(r,qt(),d)}}}else throw rm("WriteRecord should have .snap or .children")}}return r}function S4(t,e,n,r,i){if(!r&&!i){var o=Th(t.visibleWrites,e);if(o!=null)return o;var a=ac(t.visibleWrites,e);if(pC(a))return n;if(n==null&&!dC(a,qt()))return null;var u=n||Et.EMPTY_NODE;return xp(a,u)}else{var c=ac(t.visibleWrites,e);if(!i&&pC(c))return n;if(!i&&n==null&&!dC(c,qt()))return null;var d=function(y){return(y.visible||i)&&(!r||!~r.indexOf(y.writeId))&&(Ho(y.path,e)||Ho(e,y.path))},p=E4(t.allWrites,d,e),u=n||Et.EMPTY_NODE;return xp(p,u)}}function nH(t,e,n){var r=Et.EMPTY_NODE,i=Th(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gn,function(u,c){r=r.updateImmediateChild(u,c)}),r;if(n){var o=ac(t.visibleWrites,e);return n.forEachChild(gn,function(u,c){var d=xp(ac(o,new Xt(u)),c);r=r.updateImmediateChild(u,d)}),nO(o).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}else{var a=ac(t.visibleWrites,e);return nO(a).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}}function rH(t,e,n,r,i){qe(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=In(e,n);if(dC(t.visibleWrites,o))return null;var a=ac(t.visibleWrites,o);return pC(a)?i.getChild(n):xp(a,i.getChild(n))}function iH(t,e,n,r){var i=In(e,n),o=Th(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=ac(t.visibleWrites,i);return xp(a,r.getNode().getImmediateChild(n))}else return null}function oH(t,e){return Th(t.visibleWrites,e)}function sH(t,e,n,r,i,o,a){var u,c=ac(t.visibleWrites,e),d=Th(c,qt());if(d!=null)u=d;else if(n!=null)u=xp(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){for(var p=[],v=a.getCompare(),y=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a),w=y.getNext();w&&p.length<i;)v(w,r)!==0&&p.push(w),w=y.getNext();return p}else return[]}function aH(){return{visibleWrites:ku.empty(),allWrites:[],lastWriteId:-1}}function U_(t,e,n,r){return S4(t.writeTree,t.treePath,e,n,r)}function ek(t,e){return nH(t.writeTree,t.treePath,e)}function rO(t,e,n,r){return rH(t.writeTree,t.treePath,e,n,r)}function j_(t,e){return oH(t.writeTree,In(t.treePath,e))}function uH(t,e,n,r,i,o){return sH(t.writeTree,t.treePath,e,n,r,i,o)}function tk(t,e,n){return iH(t.writeTree,t.treePath,e,n)}function T4(t,e){return I4(In(t.treePath,e),t.writeTree)}function I4(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lH=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;qe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),qe(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ny(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ty(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Cp(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ny(r,e.snapshotNode,i.oldSnap));else throw rm("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cH=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),C4=new cH,nk=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new pc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tk(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ch(this.viewCache_),o=uH(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t){return{filter:t}}function hH(t,e){qe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),qe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function dH(t,e,n,r,i){var o=new lH,a,u;if(n.type===ks.OVERWRITE){var c=n;c.source.fromUser?a=mC(t,e,c.path,c.snap,r,i,o):(qe(c.source.fromServer,"Unknown source."),u=c.source.tagged||e.serverCache.isFiltered()&&!Rt(c.path),a=B_(t,e,c.path,c.snap,r,i,u,o))}else if(n.type===ks.MERGE){var d=n;d.source.fromUser?a=mH(t,e,d.path,d.children,r,i,o):(qe(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered(),a=gC(t,e,d.path,d.children,r,i,u,o))}else if(n.type===ks.ACK_USER_WRITE){var p=n;p.revert?a=yH(t,e,p.path,r,i,o):a=gH(t,e,p.path,p.affectedTree,r,i,o)}else if(n.type===ks.LISTEN_COMPLETE)a=vH(t,e,n.path,r,o);else throw rm("Unknown operation type: "+n.type);var v=o.getChanges();return pH(e,a,v),{viewCache:a,changes:v}}function pH(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=F_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(m4(F_(e)))}}function x4(t,e,n,r,i,o){var a=e.eventCache;if(j_(r,n)!=null)return e;var u=void 0,c=void 0;if(Rt(n))if(qe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var d=ch(e),p=d instanceof Et?d:Et.EMPTY_NODE,v=ek(r,p);u=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{var y=U_(r,ch(e));u=t.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{var w=At(n);if(w===".priority"){qe(dc(n)===1,"Can't have a priority with additional path components");var b=a.getNode();c=e.serverCache.getNode();var E=rO(r,n,b,c);E!=null?u=t.filter.updatePriority(b,E):u=a.getNode()}else{var I=pn(n),S=void 0;if(a.isCompleteForChild(w)){c=e.serverCache.getNode();var k=rO(r,n,a.getNode(),c);k!=null?S=a.getNode().getImmediateChild(w).updateChild(I,k):S=a.getNode().getImmediateChild(w)}else S=tk(r,w,e.serverCache);S!=null?u=t.filter.updateChild(a.getNode(),w,S,I,i,o):u=a.getNode()}}return Uv(e,u,a.isFullyInitialized()||Rt(n),t.filter.filtersNodes())}function B_(t,e,n,r,i,o,a,u){var c=e.serverCache,d,p=a?t.filter:t.filter.getIndexedFilter();if(Rt(n))d=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);d=p.updateFullNode(c.getNode(),v,null)}else{var y=At(n);if(!c.isCompleteForPath(n)&&dc(n)>1)return e;var w=pn(n),b=c.getNode().getImmediateChild(y),E=b.updateChild(w,r);y===".priority"?d=p.updatePriority(c.getNode(),E):d=p.updateChild(c.getNode(),y,E,w,C4,null)}var I=_4(e,d,c.isFullyInitialized()||Rt(n),p.filtersNodes()),S=new nk(i,I,o);return x4(t,I,n,i,S,u)}function mC(t,e,n,r,i,o,a){var u=e.eventCache,c,d,p=new nk(i,e,o);if(Rt(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Uv(e,d,!0,t.filter.filtersNodes());else{var v=At(n);if(v===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),c=Uv(e,d,u.isFullyInitialized(),u.isFiltered());else{var y=pn(n),w=u.getNode().getImmediateChild(v),b=void 0;if(Rt(y))b=r;else{var E=p.getCompleteChild(v);E!=null?Wx(y)===".priority"&&E.getChild(s4(y)).isEmpty()?b=E:b=E.updateChild(y,r):b=Et.EMPTY_NODE}if(w.equals(b))c=e;else{var I=t.filter.updateChild(u.getNode(),v,b,y,p,a);c=Uv(e,I,u.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function iO(t,e){return t.eventCache.isCompleteForChild(e)}function mH(t,e,n,r,i,o,a){var u=e;return r.foreach(function(c,d){var p=In(n,c);iO(e,At(p))&&(u=mC(t,u,p,d,i,o,a))}),r.foreach(function(c,d){var p=In(n,c);iO(e,At(p))||(u=mC(t,u,p,d,i,o,a))}),u}function oO(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function gC(t,e,n,r,i,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c=e,d;Rt(n)?d=r:d=new Eo(null).setTree(n,r);var p=e.serverCache.getNode();return d.children.inorderTraversal(function(v,y){if(p.hasChild(v)){var w=e.serverCache.getNode().getImmediateChild(v),b=oO(t,w,y);c=B_(t,c,new Xt(v),b,i,o,a,u)}}),d.children.inorderTraversal(function(v,y){var w=!e.serverCache.isCompleteForChild(v)&&y.value===void 0;if(!p.hasChild(v)&&!w){var b=e.serverCache.getNode().getImmediateChild(v),E=oO(t,b,y);c=B_(t,c,new Xt(v),E,i,o,a,u)}}),c}function gH(t,e,n,r,i,o,a){if(j_(i,n)!=null)return e;var u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Rt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return B_(t,e,n,c.getNode().getChild(n),i,o,u,a);if(Rt(n)){var d=new Eo(null);return c.getNode().forEachChild(Pa,function(v,y){d=d.set(new Xt(v),y)}),gC(t,e,n,d,i,o,u,a)}else return e}else{var p=new Eo(null);return r.foreach(function(v,y){var w=In(n,v);c.isCompleteForPath(w)&&(p=p.set(v,c.getNode().getChild(w)))}),gC(t,e,n,p,i,o,u,a)}}function vH(t,e,n,r,i){var o=e.serverCache,a=_4(e,o.getNode(),o.isFullyInitialized()||Rt(n),o.isFiltered());return x4(t,a,n,r,C4,i)}function yH(t,e,n,r,i,o){var a;if(j_(r,n)!=null)return e;var u=new nk(r,e,i),c=e.eventCache.getNode(),d=void 0;if(Rt(n)||At(n)===".priority"){var p=void 0;if(e.serverCache.isFullyInitialized())p=U_(r,ch(e));else{var v=e.serverCache.getNode();qe(v instanceof Et,"serverChildren would be complete if leaf node"),p=ek(r,v)}p=p,d=t.filter.updateFullNode(c,p,o)}else{var y=At(n),w=tk(r,y,e.serverCache);w==null&&e.serverCache.isCompleteForChild(y)&&(w=c.getImmediateChild(y)),w!=null?d=t.filter.updateChild(c,y,w,pn(n),u,o):e.eventCache.getNode().hasChild(y)?d=t.filter.updateChild(c,y,Et.EMPTY_NODE,pn(n),u,o):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=U_(r,ch(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,o)))}return a=e.serverCache.isFullyInitialized()||j_(r,qt())!=null,Uv(e,d,a,t.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wH=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new Yx(r.getIndex()),o=Nz(r);this.processor_=fH(o);var a=n.serverCache,u=n.eventCache,c=i.updateFullNode(Et.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(Et.EMPTY_NODE,u.getNode(),null),p=new pc(c,a.isFullyInitialized(),i.filtersNodes()),v=new pc(d,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Hb(v,p),this.eventGenerator_=new Wz(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function _H(t){return t.viewCache_.serverCache.getNode()}function bH(t){return F_(t.viewCache_)}function EH(t,e){var n=ch(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Rt(e)&&!n.getImmediateChild(At(e)).isEmpty())?n.getChild(e):null}function sO(t){return t.eventRegistrations_.length===0}function SH(t,e){t.eventRegistrations_.push(e)}function aO(t,e,n){var r=[];if(n){qe(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(c){var d=c.createCancelEvent(n,i);d&&r.push(d)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function uO(t,e,n,r){e.type===ks.MERGE&&e.source.queryId!==null&&(qe(ch(t.viewCache_),"We should always have a full cache before handling merges"),qe(F_(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=dH(t.processor_,i,e,n,r);return hH(t.processor_,o.viewCache),qe(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,k4(t,o.changes,o.viewCache.eventCache.getNode(),null)}function TH(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(gn,function(o,a){r.push(Cp(o,a))})}return n.isFullyInitialized()&&r.push(m4(n.getNode())),k4(t,r,n.getNode(),e)}function k4(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return qz(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V_,A4=function(){function t(){this.views=new Map}return t}();function IH(t){qe(!V_,"__referenceConstructor has already been defined"),V_=t}function CH(){return qe(V_,"Reference.ts has not been loaded"),V_}function xH(t){return t.views.size===0}function rk(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var u=t.views.get(a);return qe(u!=null,"SyncTree gave us an op for an invalid query."),uO(u,e,n,r)}else{var c=[];try{for(var d=Lr(t.views.values()),p=d.next();!p.done;p=d.next()){var u=p.value;c=c.concat(uO(u,e,n,r))}}catch(v){i={error:v}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return c}}function R4(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var u=U_(n,i?r:null),c=!1;u?c=!0:r instanceof Et?(u=ek(n,r),c=!1):(u=Et.EMPTY_NODE,c=!1);var d=Hb(new pc(u,c,!1),new pc(r,i,!1));return new wH(e,d)}return a}function kH(t,e,n,r,i,o){var a=R4(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),SH(a,n),TH(a,n)}function AH(t,e,n,r){var i,o,a=e._queryIdentifier,u=[],c=[],d=mc(t);if(a==="default")try{for(var p=Lr(t.views.entries()),v=p.next();!v.done;v=p.next()){var y=Kr(v.value,2),w=y[0],b=y[1];c=c.concat(aO(b,n,r)),sO(b)&&(t.views.delete(w),b.query._queryParams.loadsAllData()||u.push(b.query))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}else{var b=t.views.get(a);b&&(c=c.concat(aO(b,n,r)),sO(b)&&(t.views.delete(a),b.query._queryParams.loadsAllData()||u.push(b.query)))}return d&&!mc(t)&&u.push(new(CH())(e._repo,e._path)),{removed:u,events:c}}function N4(t){var e,n,r=[];try{for(var i=Lr(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function uc(t,e){var n,r,i=null;try{for(var o=Lr(t.views.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i||EH(u,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function O4(t,e){var n=e._queryParams;if(n.loadsAllData())return qb(t);var r=e._queryIdentifier;return t.views.get(r)}function P4(t,e){return O4(t,e)!=null}function mc(t){return qb(t)!=null}function qb(t){var e,n;try{for(var r=Lr(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z_;function RH(t){qe(!z_,"__referenceConstructor has already been defined"),z_=t}function NH(){return qe(z_,"Reference.ts has not been loaded"),z_}var OH=1,lO=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new Eo(null),this.pendingWriteTree_=aH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function ik(t,e,n,r,i){return Yz(t.pendingWriteTree_,e,n,r,i),i?am(t,new zb(Xx(),e,n)):[]}function PH(t,e,n,r){Xz(t.pendingWriteTree_,e,n,r);var i=Eo.fromObject(n);return am(t,new Zx(Xx(),e,i))}function sc(t,e,n){n===void 0&&(n=!1);var r=Qz(t.pendingWriteTree_,e),i=Jz(t.pendingWriteTree_,e);if(i){var o=new Eo(null);return r.snap!=null?o=o.set(qt(),!0):pr(r.children,function(a){o=o.set(new Xt(a),!0)}),am(t,new Hz(r.path,o,n))}else return[]}function Ly(t,e,n){return am(t,new zb(Qx(),e,n))}function DH(t,e,n){var r=Eo.fromObject(n);return am(t,new Zx(Qx(),e,r))}function LH(t,e){return am(t,new w4(Qx(),e))}function MH(t,e,n){var r=ok(t,n);if(r){var i=sk(r),o=i.path,a=i.queryId,u=Oi(o,e),c=new w4(Jx(a),u);return ak(t,o,c)}else return[]}function vC(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||P4(o,e))){var u=AH(o,e,n,r);xH(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=u.removed;a=u.events;var d=c.findIndex(function(k){return k._queryParams.loadsAllData()})!==-1,p=t.syncPointTree_.findOnPath(i,function(k,C){return mc(C)});if(d&&!p){var v=t.syncPointTree_.subtree(i);if(!v.isEmpty())for(var y=BH(v),w=0;w<y.length;++w){var b=y[w],E=b.query,I=M4(t,b);t.listenProvider_.startListening(Bv(E),H_(t,E),I.hashFn,I.onComplete)}}if(!p&&c.length>0&&!r)if(d){var S=null;t.listenProvider_.stopListening(Bv(e),S)}else c.forEach(function(k){var C=t.queryToTagMap.get(Gb(k));t.listenProvider_.stopListening(Bv(k),C)});VH(t,c)}return a}function FH(t,e,n,r){var i=ok(t,r);if(i!=null){var o=sk(i),a=o.path,u=o.queryId,c=Oi(a,e),d=new zb(Jx(u),c,n);return ak(t,a,d)}else return[]}function UH(t,e,n,r){var i=ok(t,r);if(i){var o=sk(i),a=o.path,u=o.queryId,c=Oi(a,e),d=Eo.fromObject(n),p=new Zx(Jx(u),c,d);return ak(t,a,p)}else return[]}function cO(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(E,I){var S=Oi(E,r);i=i||uc(I,S),o=o||mc(I)});var a=t.syncPointTree_.get(r);a?(o=o||mc(a),i=i||uc(a,qt())):(a=new A4,t.syncPointTree_=t.syncPointTree_.set(r,a));var u;if(i!=null)u=!0;else{u=!1,i=Et.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild(function(E,I){var S=uc(I,qt());S&&(i=i.updateImmediateChild(E,S))})}var d=P4(a,e);if(!d&&!e._queryParams.loadsAllData()){var p=Gb(e);qe(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");var v=zH();t.queryToTagMap.set(p,v),t.tagToQueryMap.set(v,p)}var y=Wb(t.pendingWriteTree_,r),w=kH(a,e,n,y,i,u);if(!d&&!o){var b=O4(a,e);w=w.concat(HH(t,e,b))}return w}function $b(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,u){var c=Oi(a,e),d=uc(u,c);if(d)return d});return S4(i,e,o,n,r)}function jH(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(d,p){var v=Oi(d,n);r=r||uc(p,v)});var i=t.syncPointTree_.get(n);i?r=r||uc(i,qt()):(i=new A4,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new pc(r,!0,!1):null,u=Wb(t.pendingWriteTree_,e._path),c=R4(i,e,u,o?a.getNode():Et.EMPTY_NODE,o);return bH(c)}function am(t,e){return D4(e,t.syncPointTree_,null,Wb(t.pendingWriteTree_,qt()))}function D4(t,e,n,r){if(Rt(t.path))return L4(t,e,n,r);var i=e.get(qt());n==null&&i!=null&&(n=uc(i,qt()));var o=[],a=At(t.path),u=t.operationForChild(a),c=e.children.get(a);if(c&&u){var d=n?n.getImmediateChild(a):null,p=T4(r,a);o=o.concat(D4(u,c,d,p))}return i&&(o=o.concat(rk(i,t,r,n))),o}function L4(t,e,n,r){var i=e.get(qt());n==null&&i!=null&&(n=uc(i,qt()));var o=[];return e.children.inorderTraversal(function(a,u){var c=n?n.getImmediateChild(a):null,d=T4(r,a),p=t.operationForChild(a);p&&(o=o.concat(L4(p,u,c,d)))}),i&&(o=o.concat(rk(i,t,r,n))),o}function M4(t,e){var n=e.query,r=H_(t,n);return{hashFn:function(){var i=_H(e)||Et.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?MH(t,n._path,r):LH(t,n._path);var o=k9(i,n);return vC(t,n,null,o)}}}function H_(t,e){var n=Gb(e);return t.queryToTagMap.get(n)}function Gb(t){return t._path.toString()+"$"+t._queryIdentifier}function ok(t,e){return t.tagToQueryMap.get(e)}function sk(t){var e=t.indexOf("$");return qe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Xt(t.substr(0,e))}}function ak(t,e,n){var r=t.syncPointTree_.get(e);qe(r,"Missing sync point for query tag that we're tracking");var i=Wb(t.pendingWriteTree_,e);return rk(r,n,i,null)}function BH(t){return t.fold(function(e,n,r){if(n&&mc(n)){var i=qb(n);return[i]}else{var o=[];return n&&(o=N4(n)),pr(r,function(a,u){o=o.concat(u)}),o}})}function Bv(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(NH())(t._repo,t._path):t}function VH(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Gb(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function zH(){return OH++}function HH(t,e,n){var r=e._path,i=H_(t,e),o=M4(t,n),a=t.listenProvider_.startListening(Bv(e),i,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(i)qe(!mc(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(v,y,w){if(!Rt(v)&&y&&mc(y))return[qb(y).query];var b=[];return y&&(b=b.concat(N4(y).map(function(E){return E.query}))),pr(w,function(E,I){b=b.concat(I)}),b}),d=0;d<c.length;++d){var p=c[d];t.listenProvider_.stopListening(Bv(p),H_(t,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WH=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),qH=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=In(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return $b(this.syncTree_,this.path_)},t}(),$H=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},fO=function(t,e,n){if(!t||typeof t!="object")return t;if(qe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return GH(t[".sv"],e,n);if(typeof t[".sv"]=="object")return KH(t[".sv"],e);qe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},GH=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:qe(!1,"Unexpected server value: "+t)}},KH=function(t,e,n){t.hasOwnProperty("increment")||qe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&qe(!1,"Unexpected increment value: "+r);var i=e.node();if(qe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},F4=function(t,e,n,r){return lk(e,new qH(n,t),r)},uk=function(t,e,n){return lk(t,new WH(e),n)};function lk(t,e,n){var r=t.getPriority().val(),i=fO(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,u=fO(a.getValue(),e,n);return u!==a.getValue()||i!==a.getPriority().val()?new Tp(u,Rn(i)):t}else{var c=t;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new Tp(i))),c.forEachChild(gn,function(d,p){var v=lk(p,e.getImmediateChild(d),n);v!==p&&(o=o.updateImmediateChild(d,v))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ck=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function Kb(t,e){for(var n=e instanceof Xt?e:new Xt(e),r=t,i=At(n);i!==null;){var o=lh(r.node.children,i)||{children:{},childCount:0};r=new ck(i,r,o),n=pn(n),i=At(n)}return r}function Ih(t){return t.node.value}function fk(t,e){t.node.value=e,yC(t)}function U4(t){return t.node.childCount>0}function YH(t){return Ih(t)===void 0&&!U4(t)}function Yb(t,e){pr(t.node.children,function(n,r){e(new ck(n,t,r))})}function j4(t,e,n,r){n&&e(t),Yb(t,function(i){j4(i,e,!0)})}function XH(t,e,n){for(var r=t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function My(t){return new Xt(t.parent===null?t.name:My(t.parent)+"/"+t.name)}function yC(t){t.parent!==null&&QH(t.parent,t.name,t)}function QH(t,e,n){var r=YH(n),i=bo(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,yC(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,yC(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JH=/[\[\].#$\/\u0000-\u001F\u007F]/,ZH=/[\[\].#$\u0000-\u001F\u007F]/,zS=10*1024*1024,Xb=function(t){return typeof t=="string"&&t.length!==0&&!JH.test(t)},B4=function(t){return typeof t=="string"&&t.length!==0&&!ZH.test(t)},eW=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),B4(t)},ry=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!jb(t)||t&&typeof t=="object"&&bo(t,".sv")},Va=function(t,e,n,r){r&&e===void 0||Fy(Ji(t,"value"),e,n)},Fy=function(t,e,n){var r=n instanceof Xt?new uz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+zf(r));if(typeof e=="function")throw new Error(t+"contains a function "+zf(r)+" with contents = "+e.toString());if(jb(e))throw new Error(t+"contains "+e.toString()+" "+zf(r));if(typeof e=="string"&&e.length>zS/3&&Ub(e)>zS)throw new Error(t+"contains a string greater than "+zS+" utf8 bytes "+zf(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(pr(e,function(a,u){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!Xb(a)))throw new Error(t+" contains an invalid key ("+a+") "+zf(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lz(r,a),Fy(t,u,r),cz(r)}),i&&o)throw new Error(t+' contains ".value" child '+zf(r)+" in addition to actual children.")}},tW=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=ey(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Xb(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(az);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&Ho(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},V4=function(t,e,n,r){var i=Ji(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];pr(e,function(a,u){var c=new Xt(a);if(Fy(i,u,In(n,c)),Wx(c)===".priority"&&!ry(u))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),tW(i,o)},hk=function(t,e,n){if(jb(e))throw new Error(Ji(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ry(e))throw new Error(Ji(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},nW=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ji(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Uy=function(t,e,n,r){if(n!==void 0&&!Xb(n))throw new Error(Ji(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},iy=function(t,e,n,r){if(!B4(n))throw new Error(Ji(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rW=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iy(t,e,n)},Wo=function(t,e){if(At(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},z4=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Xb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!eW(n))throw new Error(Ji(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},iW=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(Ji(t,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oW=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function Qb(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!qx(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function dk(t,e,n){Qb(t,n),H4(t,function(r){return qx(r,e)})}function Xo(t,e,n){Qb(t,n),H4(t,function(r){return Ho(r,e)||Ho(e,r)})}function H4(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(sW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sW(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();nh&&Nr("event: "+n.toString()),om(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W4="repo_interrupt",aW=25,uW=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=M_(),this.transactionQueueTree_=new ck,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function lW(t,e,n){if(t.stats_=zx(t.repoInfo_),t.forceRestClient_||R9())t.server_=new Mz(t.repoInfo_,function(r,i,o,a){hO(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return dO(t,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new rh(t.repoInfo_,e,function(r,i,o,a){hO(t,r,i,o,a)},function(r){dO(t,r)},function(r){fW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=M9(t.repoInfo_,function(){return new Vz(t.stats_,t.server_)}),t.infoData_=new Fz,t.infoSyncTree_=new lO({startListening:function(r,i,o,a){var u=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(u=Ly(t.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),u},stopListening:function(){}}),pk(t,"connected",!1),t.serverSyncTree_=new lO({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(u,c){var d=a(u,c);Xo(t.eventQueue_,r._path,d)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function q4(t){var e=t.infoData_.getNode(new Xt(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function jy(t){return $H({timestamp:q4(t)})}function hO(t,e,n,r,i){t.dataUpdateCount++;var o=new Xt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=R_(n,function(y){return Rn(y)});a=UH(t.serverSyncTree_,o,u,i)}else{var c=Rn(n);a=FH(t.serverSyncTree_,o,c,i)}else if(r){var d=R_(n,function(y){return Rn(y)});a=DH(t.serverSyncTree_,o,d)}else{var p=Rn(n);a=Ly(t.serverSyncTree_,o,p)}var v=o;a.length>0&&(v=kp(t,o)),Xo(t.eventQueue_,v,a)}function cW(t,e){t.interceptServerDataCallback_=e}function dO(t,e){pk(t,"connected",e),e===!1&&pW(t)}function fW(t,e){pr(e,function(n,r){pk(t,n,r)})}function pk(t,e,n){var r=new Xt("/.info/"+e),i=Rn(n);t.infoData_.updateSnapshot(r,i);var o=Ly(t.infoSyncTree_,r,i);Xo(t.eventQueue_,r,o)}function Jb(t){return t.nextWriteId_++}function hW(t,e){var n=jH(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=Rn(r).withIndex(e._queryParams.getIndex()),o=Ly(t.serverSyncTree_,e._path,i);return dk(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return um(t,"get for query "+fr(e)+" failed: "+r),Promise.reject(new Error(r))})}function mk(t,e,n,r,i){um(t,"set",{path:e.toString(),value:n,priority:r});var o=jy(t),a=Rn(n,r),u=$b(t.serverSyncTree_,e),c=uk(a,u,o),d=Jb(t),p=ik(t.serverSyncTree_,e,c,d,!0);Qb(t.eventQueue_,p),t.server_.put(e.toString(),a.val(!0),function(y,w){var b=y==="ok";b||Xr("set at "+e+" failed: "+y);var E=sc(t.serverSyncTree_,d,!b);Xo(t.eventQueue_,e,E),gc(t,i,y,w)});var v=vk(t,e);kp(t,v),Xo(t.eventQueue_,v,[])}function dW(t,e,n,r){um(t,"update",{path:e.toString(),value:n});var i=!0,o=jy(t),a={};if(pr(n,function(d,p){i=!1,a[d]=F4(In(e,d),Rn(p),t.serverSyncTree_,o)}),i)Nr("update() called with empty data.  Don't do anything."),gc(t,r,"ok",void 0);else{var u=Jb(t),c=PH(t.serverSyncTree_,e,a,u);Qb(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(d,p){var v=d==="ok";v||Xr("update at "+e+" failed: "+d);var y=sc(t.serverSyncTree_,u,!v),w=y.length>0?kp(t,e):e;Xo(t.eventQueue_,w,y),gc(t,r,d,p)}),pr(n,function(d){var p=vk(t,In(e,d));kp(t,p)}),Xo(t.eventQueue_,e,[])}}function pW(t){um(t,"onDisconnectEvents");var e=jy(t),n=M_();fC(t.onDisconnect_,qt(),function(i,o){var a=F4(i,o,t.serverSyncTree_,e);sm(n,i,a)});var r=[];fC(n,qt(),function(i,o){r=r.concat(Ly(t.serverSyncTree_,i,o));var a=vk(t,i);kp(t,a)}),t.onDisconnect_=M_(),Xo(t.eventQueue_,qt(),r)}function mW(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&cC(t.onDisconnect_,e),gc(t,n,r,i)})}function pO(t,e,n,r){var i=Rn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&sm(t.onDisconnect_,e,i),gc(t,r,o,a)})}function gW(t,e,n,r,i){var o=Rn(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,u){a==="ok"&&sm(t.onDisconnect_,e,o),gc(t,i,a,u)})}function vW(t,e,n,r){if(tC(n)){Nr("onDisconnect().update() called with empty data.  Don't do anything."),gc(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&pr(n,function(a,u){var c=Rn(u);sm(t.onDisconnect_,In(e,a),c)}),gc(t,r,i,o)})}function yW(t,e,n){var r;At(e._path)===".info"?r=cO(t.infoSyncTree_,e,n):r=cO(t.serverSyncTree_,e,n),dk(t.eventQueue_,e._path,r)}function wC(t,e,n){var r;At(e._path)===".info"?r=vC(t.infoSyncTree_,e,n):r=vC(t.serverSyncTree_,e,n),dk(t.eventQueue_,e._path,r)}function $4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(W4)}function wW(t){t.persistentConnection_&&t.persistentConnection_.resume(W4)}function _W(t,e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(t.statsListener_||(t.statsListener_=new y4(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);pr(n,function(i,o){for(var a=i,u=i.length;u<r+2;u++)a+=" ";console.log(a+o)})}}function bW(t,e){t.stats_.incrementCounter(e),zz(t.statsReporter_,e)}function um(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Nr.apply(void 0,Ct([r],Kr(e)))}function gc(t,e,n,r){e&&om(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function EW(t,e,n,r,i,o){um(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:FF(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=gk(t,e,void 0);a.currentInputSnapshot=u;var c=a.update(u.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Fy("transaction failed: Data returned ",c,a.path),a.status=0;var d=Kb(t.transactionQueueTree_,e),p=Ih(d)||[];p.push(a),fk(d,p);var v=void 0;if(typeof c=="object"&&c!==null&&bo(c,".priority"))v=lh(c,".priority"),qe(ry(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var y=$b(t.serverSyncTree_,e)||Et.EMPTY_NODE;v=y.getPriority().val()}var w=jy(t),b=Rn(c,v),E=uk(b,u,w);a.currentOutputSnapshotRaw=b,a.currentOutputSnapshotResolved=E,a.currentWriteId=Jb(t);var I=ik(t.serverSyncTree_,e,E,a.currentWriteId,a.applyLocally);Xo(t.eventQueue_,e,I),Zb(t,t.transactionQueueTree_)}}function gk(t,e,n){return $b(t.serverSyncTree_,e,n)||Et.EMPTY_NODE}function Zb(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||eE(t,e),Ih(e)){var n=K4(t,e);qe(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&SW(t,My(e),n)}else U4(e)&&Yb(e,function(i){Zb(t,i)})}function SW(t,e,n){for(var r=n.map(function(y){return y.currentWriteId}),i=gk(t,e,r),o=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];qe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var d=Oi(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}var p=o.val(!0),v=e;t.server_.put(v.toString(),p,function(y){um(t,"transaction put response",{path:v.toString(),status:y});var w=[];if(y==="ok"){for(var b=[],E=function(S){n[S].status=2,w=w.concat(sc(t.serverSyncTree_,n[S].currentWriteId)),n[S].onComplete&&b.push(function(){return n[S].onComplete(null,!0,n[S].currentOutputSnapshotResolved)}),n[S].unwatcher()},I=0;I<n.length;I++)E(I);eE(t,Kb(t.transactionQueueTree_,e)),Zb(t,t.transactionQueueTree_),Xo(t.eventQueue_,e,w);for(var I=0;I<b.length;I++)om(b[I])}else{if(y==="datastale")for(var I=0;I<n.length;I++)n[I].status===3?n[I].status=4:n[I].status=0;else{Xr("transaction at "+v.toString()+" failed: "+y);for(var I=0;I<n.length;I++)n[I].status=4,n[I].abortReason=y}kp(t,e)}},a)}function kp(t,e){var n=G4(t,e),r=My(n),i=K4(t,n);return TW(t,i,r),r}function TW(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(d){return d.status===0}),a=o.map(function(d){return d.currentWriteId}),u=function(d){var p=e[d],v=Oi(n,p.path),y=!1,w;if(qe(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,w=p.abortReason,i=i.concat(sc(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=aW)y=!0,w="maxretry",i=i.concat(sc(t.serverSyncTree_,p.currentWriteId,!0));else{var b=gk(t,p.path,a);p.currentInputSnapshot=b;var E=e[d].update(b.val());if(E!==void 0){Fy("transaction failed: Data returned ",E,p.path);var I=Rn(E),S=typeof E=="object"&&E!=null&&bo(E,".priority");S||(I=I.updatePriority(b.getPriority()));var k=p.currentWriteId,C=jy(t),A=uk(I,b,C);p.currentOutputSnapshotRaw=I,p.currentOutputSnapshotResolved=A,p.currentWriteId=Jb(t),a.splice(a.indexOf(k),1),i=i.concat(ik(t.serverSyncTree_,p.path,A,p.currentWriteId,p.applyLocally)),i=i.concat(sc(t.serverSyncTree_,k,!0))}else y=!0,w="nodata",i=i.concat(sc(t.serverSyncTree_,p.currentWriteId,!0))}Xo(t.eventQueue_,n,i),i=[],y&&(e[d].status=2,function(O){setTimeout(O,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(w==="nodata"?r.push(function(){return e[d].onComplete(null,!1,e[d].currentInputSnapshot)}):r.push(function(){return e[d].onComplete(new Error(w),!1,null)})))},c=0;c<e.length;c++)u(c);eE(t,t.transactionQueueTree_);for(var c=0;c<r.length;c++)om(r[c]);Zb(t,t.transactionQueueTree_)}}function G4(t,e){var n,r=t.transactionQueueTree_;for(n=At(e);n!==null&&Ih(r)===void 0;)r=Kb(r,n),e=pn(e),n=At(e);return r}function K4(t,e){var n=[];return Y4(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function Y4(t,e,n){var r=Ih(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Yb(e,function(o){Y4(t,o,n)})}function eE(t,e){var n=Ih(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,fk(e,n.length>0?n:void 0)}Yb(e,function(o){eE(t,o)})}function vk(t,e){var n=My(G4(t,e)),r=Kb(t.transactionQueueTree_,e);return XH(r,function(i){HS(t,i)}),HS(t,r),j4(r,function(i){HS(t,i)}),n}function HS(t,e){var n=Ih(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(qe(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(qe(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(sc(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?fk(e,void 0):n.length=o+1,Xo(t.eventQueue_,My(e),i);for(var a=0;a<r.length;a++)om(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function CW(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Lr(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var u=a.split("=");u.length===2?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Xr("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var _C=function(t,e){var n=xW(t),r=n.namespace;n.domain==="firebase.com"&&ja(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ja("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||S9();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Vx(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new Xt(n.pathString)}},xW=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if(typeof t=="string"){var d=t.indexOf("//");d>=0&&(u=t.substring(0,d-1),t=t.substring(d+2));var p=t.indexOf("/");p===-1&&(p=t.length);var v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(p,v)),p<v&&(i=IW(t.substring(p,v)));var y=CW(t.substring(Math.min(t.length,v)));d=e.indexOf(":"),d>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;var w=e.slice(0,d);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{var b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X4=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+fr(this.snapshot.exportVal())},t}(),Q4=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J4=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return qe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kW=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new Pr;return mW(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){Wo("OnDisconnect.remove",this._path);var e=new Pr;return pO(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){Wo("OnDisconnect.set",this._path),Va("OnDisconnect.set",e,this._path,!1);var n=new Pr;return pO(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){Wo("OnDisconnect.setWithPriority",this._path),Va("OnDisconnect.setWithPriority",e,this._path,!1),hk("OnDisconnect.setWithPriority",n);var r=new Pr;return gW(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){Wo("OnDisconnect.update",this._path),V4("OnDisconnect.update",e,this._path);var n=new Pr;return vW(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jo=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return Rt(this._path)?null:Wx(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ha(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=ZN(this._queryParams),n=Ux(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return ZN(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=Tt(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=qx(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+sz(this._path)},t}();function tE(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function bc(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Pa){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==Pu)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==Ba)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===gn){if(e!=null&&!ry(e)||n!=null&&!ry(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(qe(t.getIndex()instanceof Gx||t.getIndex()===Kx,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function nE(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ha=function(t){Ye(e,t);function e(n,r){return t.call(this,n,r,new v4,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=s4(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(Jo),rE=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new Xt(e),r=fh(this.ref,e);return new t(this._node.getChild(n),r,gn)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,fh(n.ref,i),gn))})},t.prototype.hasChild=function(e){var n=new Xt(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Z4(t,e){return t=Tt(t),t._checkNotDeleted("ref"),e!==void 0?fh(t._root,e):t._root}function mO(t,e){t=Tt(t),t._checkNotDeleted("refFromURL");var n=_C(e,t._repo.repoInfo_.nodeAdmin);z4("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&ja("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Z4(t,n.path.toString())}function fh(t,e){return t=Tt(t),At(t._path)===null?rW("child","path",e):iy("child","path",e),new Ha(t._repo,In(t._path,e))}function AW(t,e){t=Tt(t),Wo("push",t._path),Va("push",e,t._path,!0);var n=q4(t._repo),r=kz(n),i=fh(t,r),o=fh(t,r),a;return e!=null?a=yk(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function RW(t){return Wo("remove",t._path),yk(t,null)}function yk(t,e){t=Tt(t),Wo("set",t._path),Va("set",e,t._path,!1);var n=new Pr;return mk(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function NW(t,e){t=Tt(t),Wo("setPriority",t._path),hk("setPriority",e);var n=new Pr;return mk(t._repo,In(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function OW(t,e,n){if(Wo("setWithPriority",t._path),Va("setWithPriority",e,t._path,!1),hk("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Pr;return mk(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function PW(t,e){V4("update",e,t._path);var n=new Pr;return dW(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function DW(t){return t=Tt(t),hW(t._repo,t).then(function(e){return new rE(e,new Ha(t._repo,t._path),t._queryParams.getIndex())})}var e3=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new X4("value",this,new rE(e.snapshotNode,new Ha(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new Q4(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),t3=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new Q4(this,e,n):null},t.prototype.createEvent=function(e,n){qe(e.childName!=null,"Child events should have a childName.");var r=fh(new Ha(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new X4(e.type,this,new rE(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function By(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,u=function(p,v){wC(t._repo,t,d),a(p,v)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new J4(n,o||void 0),d=e==="value"?new e3(c):new t3(e,c);return yW(t._repo,t,d),function(){return wC(t._repo,t,d)}}function bC(t,e,n,r){return By(t,"value",e,n,r)}function gO(t,e,n,r){return By(t,"child_added",e,n,r)}function vO(t,e,n,r){return By(t,"child_changed",e,n,r)}function yO(t,e,n,r){return By(t,"child_moved",e,n,r)}function wO(t,e,n,r){return By(t,"child_removed",e,n,r)}function _O(t,e,n){var r=null,i=n?new J4(n):null;e==="value"?r=new e3(i):e&&(r=new t3(e,i)),wC(t._repo,t,r)}var Ls=function(){function t(){}return t}(),n3=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Va("endAt",this._value,n._path,!0);var r=lC(n._queryParams,this._value,this._key);if(nE(r),bc(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jo(n._repo,n._path,r,n._orderByCalled)},e}(Ls);function LW(t,e){return Uy("endAt","key",e),new n3(t,e)}var MW=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Va("endBefore",this._value,n._path,!1);var r=Lz(n._queryParams,this._value,this._key);if(nE(r),bc(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jo(n._repo,n._path,r,n._orderByCalled)},e}(Ls);function FW(t,e){return Uy("endBefore","key",e),new MW(t,e)}var r3=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Va("startAt",this._value,n._path,!0);var r=uC(n._queryParams,this._value,this._key);if(nE(r),bc(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Jo(n._repo,n._path,r,n._orderByCalled)},e}(Ls);function UW(t,e){return t===void 0&&(t=null),Uy("startAt","key",e),new r3(t,e)}var jW=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Va("startAfter",this._value,n._path,!1);var r=Dz(n._queryParams,this._value,this._key);if(nE(r),bc(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Jo(n._repo,n._path,r,n._orderByCalled)},e}(Ls);function BW(t,e){return Uy("startAfter","key",e),new jW(t,e)}var VW=function(t){Ye(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jo(n._repo,n._path,Oz(n._queryParams,this._limit),n._orderByCalled)},e}(Ls);function zW(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new VW(t)}var HW=function(t){Ye(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jo(n._repo,n._path,Pz(n._queryParams,this._limit),n._orderByCalled)},e}(Ls);function WW(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new HW(t)}var qW=function(t){Ye(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){tE(n,"orderByChild");var r=new Xt(this._path);if(Rt(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new Gx(r),o=Vb(n._queryParams,i);return bc(o),new Jo(n._repo,n._path,o,!0)},e}(Ls);function $W(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return iy("orderByChild","path",t),new qW(t)}var GW=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){tE(n,"orderByKey");var r=Vb(n._queryParams,Pa);return bc(r),new Jo(n._repo,n._path,r,!0)},e}(Ls);function KW(){return new GW}var YW=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){tE(n,"orderByPriority");var r=Vb(n._queryParams,gn);return bc(r),new Jo(n._repo,n._path,r,!0)},e}(Ls);function XW(){return new YW}var QW=function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){tE(n,"orderByValue");var r=Vb(n._queryParams,Kx);return bc(r),new Jo(n._repo,n._path,r,!0)},e}(Ls);function JW(){return new QW}var ZW=function(t){Ye(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(Va("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new n3(this._value,this._key)._apply(new r3(this._value,this._key)._apply(n))},e}(Ls);function e7(t,e){return Uy("equalTo","key",e),new ZW(t,e)}function bs(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Tt(t);try{for(var a=Lr(r),u=a.next();!u.done;u=a.next()){var c=u.value;o=c._apply(o)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}IH(Ha);RH(Ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t7="FIREBASE_DATABASE_EMULATOR_HOST",EC={},i3=!1;function n7(t,e,n,r){t.repoInfo_=new Vx(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function o3(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ja("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nr("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=_C(o,i),u=a.repoInfo,c,d=void 0;typeof process<"u"&&(d=y9[t7]),d?(c=!0,o="http://"+d+"?ns="+u.namespace,a=_C(o,i),u=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new Fv(Fv.OWNER):new O9(t.name,t.options,e);z4("Invalid Firebase Database URL",a),Rt(a.path)||ja("Database URL must point to the root of a Firebase Database (not including a child path).");var v=i7(u,t,p,new N9(t.name,n));return new s7(v,t)}function r7(t,e){var n=EC[e];(!n||n[t.key]!==t)&&ja("Database "+e+"("+t.repoInfo_+") has already been deleted."),$4(t),delete n[t.key]}function i7(t,e,n,r){var i=EC[e.name];i||(i={},EC[e.name]=i);var o=i[t.toURLString()];return o&&ja("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new uW(t,i3,n,r),i[t.toURLString()]=o,o}function o7(t){i3=t}var s7=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(lW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ha(this._repo,qt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._rootInternal!==null&&(r7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&ja("Cannot call "+e+" on a deleted database.")},t}();function a7(t,e,n,r){r===void 0&&(r={}),t=Tt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ja("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ja('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Fv(Fv.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:Nx(r.mockUserToken,t.app.options.projectId);o=new Fv(a)}n7(i,e,n,o)}function u7(t){t=Tt(t),t._checkNotDeleted("goOffline"),$4(t._repo)}function l7(t){t=Tt(t),t._checkNotDeleted("goOnline"),wW(t._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c7={".sv":"timestamp"};function f7(){return c7}function h7(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d7=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function p7(t,e,n){var r;if(t=Tt(t),Wo("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new Pr,a=function(c,d,p){var v=null;c?o.reject(c):(v=new rE(p,new Ha(t._repo,t._path),gn),o.resolve(new d7(d,v)))},u=bC(t,function(){});return EW(t._repo,t._path,e,a,u,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m7=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){yt("OnDisconnect.cancel",0,1,arguments.length),Rr("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){yt("OnDisconnect.remove",0,1,arguments.length),Rr("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){yt("OnDisconnect.set",1,2,arguments.length),Rr("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){yt("OnDisconnect.setWithPriority",2,3,arguments.length),Rr("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(yt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Xr("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rr("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g7=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return yt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vv=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return yt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return yt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return yt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return yt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return yt("DataSnapshot.child",0,1,arguments.length),e=String(e),iy("DataSnapshot.child","path",e),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return yt("DataSnapshot.hasChild",1,1,arguments.length),iy("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return yt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return yt("DataSnapshot.forEach",1,1,arguments.length),Rr("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return yt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return yt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return yt("DataSnapshot.ref",0,0,arguments.length),new Gf(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),s3=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;yt("Query.on",2,4,arguments.length),Rr("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(p,v){n.call(u.context,new Vv(o.database,p),v)};c.userCallback=n,c.context=u.context;var d=(a=u.cancel)===null||a===void 0?void 0:a.bind(u.context);switch(e){case"value":return bC(this._delegate,c,d),n;case"child_added":return gO(this._delegate,c,d),n;case"child_removed":return wO(this._delegate,c,d),n;case"child_changed":return vO(this._delegate,c,d),n;case"child_moved":return yO(this._delegate,c,d),n;default:throw new Error(Ji("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(yt("Query.off",0,3,arguments.length),nW("Query.off",e),Rr("Query.off","callback",n,!0),DN("Query.off","context",r),n){var i=function(){};i.userCallback=n,i.context=r,_O(this._delegate,e,i)}else _O(this._delegate,e)},t.prototype.get=function(){var e=this;return DW(this._delegate).then(function(n){return new Vv(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;yt("Query.once",1,4,arguments.length),Rr("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new Pr,c=function(p,v){var y=new Vv(o.database,p);n&&n.call(a.context,y,v),u.resolve(y)};c.userCallback=n,c.context=a.context;var d=function(p){a.cancel&&a.cancel.call(a.context,p),u.reject(p)};switch(e){case"value":bC(this._delegate,c,d,{onlyOnce:!0});break;case"child_added":gO(this._delegate,c,d,{onlyOnce:!0});break;case"child_removed":wO(this._delegate,c,d,{onlyOnce:!0});break;case"child_changed":vO(this._delegate,c,d,{onlyOnce:!0});break;case"child_moved":yO(this._delegate,c,d,{onlyOnce:!0});break;default:throw new Error(Ji("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return yt("Query.limitToFirst",1,1,arguments.length),new t(this.database,bs(this._delegate,zW(e)))},t.prototype.limitToLast=function(e){return yt("Query.limitToLast",1,1,arguments.length),new t(this.database,bs(this._delegate,WW(e)))},t.prototype.orderByChild=function(e){return yt("Query.orderByChild",1,1,arguments.length),new t(this.database,bs(this._delegate,$W(e)))},t.prototype.orderByKey=function(){return yt("Query.orderByKey",0,0,arguments.length),new t(this.database,bs(this._delegate,KW()))},t.prototype.orderByPriority=function(){return yt("Query.orderByPriority",0,0,arguments.length),new t(this.database,bs(this._delegate,XW()))},t.prototype.orderByValue=function(){return yt("Query.orderByValue",0,0,arguments.length),new t(this.database,bs(this._delegate,JW()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),yt("Query.startAt",0,2,arguments.length),new t(this.database,bs(this._delegate,UW(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),yt("Query.startAfter",0,2,arguments.length),new t(this.database,bs(this._delegate,BW(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),yt("Query.endAt",0,2,arguments.length),new t(this.database,bs(this._delegate,LW(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),yt("Query.endBefore",0,2,arguments.length),new t(this.database,bs(this._delegate,FW(e,n)))},t.prototype.equalTo=function(e,n){return yt("Query.equalTo",1,2,arguments.length),new t(this.database,bs(this._delegate,e7(e,n)))},t.prototype.toString=function(){return yt("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return yt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(yt("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Rr(e,"cancel",i.cancel,!0),i.context=r,DN(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Ji(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new Gf(this.database,new Ha(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Gf=function(t){Ye(e,t);function e(n,r){var i=t.call(this,n,new Jo(r._repo,r._path,new v4,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return yt("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return yt("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,fh(this._delegate,n))},e.prototype.getParent=function(){yt("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return yt("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){yt("Reference.set",1,2,arguments.length),Rr("Reference.set","onComplete",r,!0);var i=yk(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(yt("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,Xr("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wo("Reference.update",this._delegate._path),Rr("Reference.update","onComplete",r,!0);var a=PW(this._delegate,n);return r&&a.then(function(){return r(null)},function(u){return r(u)}),a},e.prototype.setWithPriority=function(n,r,i){yt("Reference.setWithPriority",2,3,arguments.length),Rr("Reference.setWithPriority","onComplete",i,!0);var o=OW(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){yt("Reference.remove",0,1,arguments.length),Rr("Reference.remove","onComplete",n,!0);var r=RW(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;yt("Reference.transaction",1,3,arguments.length),Rr("Reference.transaction","transactionUpdate",n,!1),Rr("Reference.transaction","onComplete",r,!0),iW("Reference.transaction","applyLocally",i);var a=p7(this._delegate,n,{applyLocally:i}).then(function(u){return new g7(u.committed,new Vv(o.database,u.snapshot))});return r&&a.then(function(u){return r(null,u.committed,u.snapshot)},function(u){return r(u,!1,null)}),a},e.prototype.setPriority=function(n,r){yt("Reference.setPriority",1,2,arguments.length),Rr("Reference.setPriority","onComplete",r,!0);var i=NW(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;yt("Reference.push",0,2,arguments.length),Rr("Reference.push","onComplete",r,!0);var o=AW(this._delegate,n),a=o.then(function(c){return new e(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var u=new e(this.database,o);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u},e.prototype.onDisconnect=function(){return Wo("Reference.onDisconnect",this._delegate._path),new m7(new kW(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(s3);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W_=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),a7(this._delegate,e,n,r)},t.prototype.ref=function(e){if(yt("database.ref",0,1,arguments.length),e instanceof Gf){var n=mO(this._delegate,e.toString());return new Gf(this,n)}else{var n=Z4(this._delegate,e);return new Gf(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";yt(n,1,1,arguments.length);var r=mO(this._delegate,e);return new Gf(this,r)},t.prototype.goOffline=function(){return yt("database.goOffline",0,0,arguments.length),u7(this._delegate)},t.prototype.goOnline=function(){return yt("database.goOnline",0,0,arguments.length),l7(this._delegate)},t.ServerValue={TIMESTAMP:f7(),increment:function(e){return h7(e)}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v7=function(){cp.forceDisallow(),Hx.forceAllow()},y7=function(){Hx.forceDisallow()},w7=function(){return cp.isAvailable()},_7=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},b7=function(t,e){_W(t._delegate._repo,e)},E7=function(t,e){bW(t._delegate._repo,e)},S7=function(t){return t._delegate._repo.dataUpdateCount},T7=function(t,e){return cW(t._delegate._repo,e)};function I7(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=a===void 0?!1:a;LF(r);var c=new AF("auth-internal",new RF("database-standalone"));return c.setComponent(new yi("auth-internal",function(){return i},"PRIVATE")),{instance:new W_(o3(e,c,void 0,n,u),e),namespace:o}}var C7=Object.freeze({__proto__:null,forceLongPolling:v7,forceWebSockets:y7,isWebSocketsAvailable:w7,setSecurityDebugCallback:_7,stats:b7,statsIncrementCounter:E7,dataUpdateCount:S7,interceptServerData:T7,initStandalone:I7});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x7=rh;rh.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};rh.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var k7=r4,A7=function(t){var e=rh.prototype.put;return rh.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){rh.prototype.put=e}},R7=Vx,N7=function(t){return t._delegate._queryIdentifier},O7=function(t){o7(t)},P7=Object.freeze({__proto__:null,DataConnection:x7,RealTimeConnection:k7,hijackHash:A7,ConnectionTarget:R7,queryIdentifier:N7,forceRestClient:O7});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D7=W_.ServerValue;function L7(t){LF(t.SDK_VERSION),t.INTERNAL.registerComponent(new yi("database",function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new W_(o3(i,o,a,r),i)},"PUBLIC").setServiceProps({Reference:Gf,Query:s3,Database:W_,DataSnapshot:Vv,enableLogging:jF,INTERNAL:C7,ServerValue:D7,TEST_ACCESS:P7}).setMultipleInstances(!0)),t.registerVersion(w9,_9)}L7(at);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SC=function(t,e){return SC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},SC(t,e)};function M7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");SC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function a3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var F7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nt,wk=wk||{},bt=F7||self;function q_(){}function TC(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function iE(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function U7(t,e,n){return t.call.apply(t.bind,arguments)}function j7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Qr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qr=U7:Qr=j7,Qr.apply(null,arguments)}function P0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ei(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[i].apply(r,a)}}function Ec(){this.s=this.s,this.o=this.o}var B7=0;Ec.prototype.s=!1;Ec.prototype.na=function(){!this.s&&(this.s=!0,this.M(),B7!=0)};Ec.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var u3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},l3=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function V7(t){e:{for(var e=Pq,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function bO(t){return Array.prototype.concat.apply([],arguments)}function _k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $_(t){return/^[\s\xa0]*$/.test(t)}var EO=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ri(t,e){return t.indexOf(e)!=-1}function WS(t,e){return t<e?-1:t>e?1:0}var Ni;e:{var SO=bt.navigator;if(SO){var TO=SO.userAgent;if(TO){Ni=TO;break e}}Ni=""}function bk(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function c3(t){var e={};for(var n in t)e[n]=t[n];return e}var IO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f3(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<IO.length;o++)n=IO[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ek(t){return Ek[" "](t),t}Ek[" "]=q_;function z7(t){var e=q7;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var H7=Ri(Ni,"Opera"),Ap=Ri(Ni,"Trident")||Ri(Ni,"MSIE"),h3=Ri(Ni,"Edge"),IC=h3||Ap,d3=Ri(Ni,"Gecko")&&!(Ri(Ni.toLowerCase(),"webkit")&&!Ri(Ni,"Edge"))&&!(Ri(Ni,"Trident")||Ri(Ni,"MSIE"))&&!Ri(Ni,"Edge"),W7=Ri(Ni.toLowerCase(),"webkit")&&!Ri(Ni,"Edge");function p3(){var t=bt.document;return t?t.documentMode:void 0}var G_;e:{var qS="",$S=function(){var t=Ni;if(d3)return/rv:([^\);]+)(\)|;)/.exec(t);if(h3)return/Edge\/([\d\.]+)/.exec(t);if(Ap)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(W7)return/WebKit\/(\S+)/.exec(t);if(H7)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if($S&&(qS=$S?$S[1]:""),Ap){var GS=p3();if(GS!=null&&GS>parseFloat(qS)){G_=String(GS);break e}}G_=qS}var q7={};function $7(){return z7(function(){for(var t=0,e=EO(String(G_)).split("."),n=EO("9").split("."),r=Math.max(e.length,n.length),i=0;t==0&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o[0].length==0&&a[0].length==0)break;t=WS(o[1].length==0?0:parseInt(o[1],10),a[1].length==0?0:parseInt(a[1],10))||WS(o[2].length==0,a[2].length==0)||WS(o[2],a[2]),o=o[3],a=a[3]}while(t==0)}return 0<=t})}var CC;if(bt.document&&Ap){var CO=p3();CC=CO||parseInt(G_,10)||void 0}else CC=void 0;var G7=CC,K7=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{bt.addEventListener("test",q_,e),bt.removeEventListener("test",q_,e)}catch{}return t}();function mi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}mi.prototype.h=function(){this.defaultPrevented=!0};function oy(t,e){if(mi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(d3){e:{try{Ek(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Y7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&oy.Z.h.call(this)}}ei(oy,mi);var Y7={2:"touch",3:"pen",4:"mouse"};oy.prototype.h=function(){oy.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oE="closure_listenable_"+(1e6*Math.random()|0),X7=0;function Q7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++X7,this.ca=this.fa=!1}function sE(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function aE(t){this.src=t,this.g={},this.h=0}aE.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=kC(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new Q7(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};function xC(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=u3(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(sE(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kC(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}var Sk="closure_lm_"+(1e6*Math.random()|0),KS={};function m3(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)m3(t,e[o],n,r,i);return null}return n=y3(n),t&&t[oE]?t.N(e,n,iE(r)?!!r.capture:!1,i):J7(t,e,n,!1,r,i)}function J7(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=iE(i)?!!i.capture:!!i,u=Ik(t);if(u||(t[Sk]=u=new aE(t)),n=u.add(e,n,r,a,o),n.proxy)return n;if(r=Z7(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)K7||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(v3(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Z7(){function t(n){return e.call(t.src,t.listener,n)}var e=eq;return t}function g3(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)g3(t,e[o],n,r,i);else r=iE(r)?!!r.capture:!!r,n=y3(n),t&&t[oE]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=kC(o,n,r,i),-1<n&&(sE(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ik(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kC(e,n,r,i)),(n=-1<t?e[t]:null)&&Tk(n))}function Tk(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[oE])xC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(v3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ik(e))?(xC(n,t),n.h==0&&(n.src=null,e[Sk]=null)):sE(t)}}}function v3(t){return t in KS?KS[t]:KS[t]="on"+t}function eq(t,e){if(t.ca)t=!0;else{e=new oy(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Tk(t),t=n.call(r,e)}return t}function Ik(t){return t=t[Sk],t instanceof aE?t:null}var YS="__closure_events_fn_"+(1e9*Math.random()>>>0);function y3(t){return typeof t=="function"?t:(t[YS]||(t[YS]=function(e){return t.handleEvent(e)}),t[YS])}function Mr(){Ec.call(this),this.i=new aE(this),this.P=this,this.I=null}ei(Mr,Ec);Mr.prototype[oE]=!0;Mr.prototype.removeEventListener=function(t,e,n,r){g3(this,t,e,n,r)};function Jr(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new mi(e,t);else if(e instanceof mi)e.target=e.target||t;else{var i=e;e=new mi(r,t),f3(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=D0(a,r,!0,e)&&i}if(a=e.g=t,i=D0(a,r,!0,e)&&i,i=D0(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=D0(a,r,!1,e)&&i}Mr.prototype.M=function(){if(Mr.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sE(n[r]);delete t.g[e],t.h--}}this.I=null};Mr.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function D0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,c=a.ia||a.src;a.fa&&xC(t.i,a),i=u.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ck=bt.JSON.stringify;function tq(){var t=_3,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var nq=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=w3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),w3=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new rq},function(t){return t.reset()}),rq=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function iq(t){bt.setTimeout(function(){throw t},0)}function xk(t,e){AC||oq(),RC||(AC(),RC=!0),_3.add(t,e)}var AC;function oq(){var t=bt.Promise.resolve(void 0);AC=function(){t.then(sq)}}var RC=!1,_3=new nq;function sq(){for(var t;t=tq();){try{t.h.call(t.g)}catch(n){iq(n)}var e=w3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}RC=!1}function uE(t,e){Mr.call(this),this.h=t||1,this.g=e||bt,this.j=Qr(this.kb,this),this.l=Date.now()}ei(uE,Mr);nt=uE.prototype;nt.da=!1;nt.S=null;nt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jr(this,"tick"),this.da&&(kk(this),this.start()))}};nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kk(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}nt.M=function(){uE.Z.M.call(this),kk(this),delete this.g};function Ak(t,e,n){if(typeof t=="function")n&&(t=Qr(t,n));else if(t&&typeof t.handleEvent=="function")t=Qr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:bt.setTimeout(t,e||0)}function b3(t){t.g=Ak(function(){t.g=null,t.i&&(t.i=!1,b3(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var aq=function(t){M7(e,t);function e(n,r){var i=t.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:b3(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Ec);function sy(t){Ec.call(this),this.h=t,this.g={}}ei(sy,Ec);var xO=[];function E3(t,e,n,r){Array.isArray(n)||(n&&(xO[0]=n.toString()),n=xO);for(var i=0;i<n.length;i++){var o=m3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function S3(t){bk(t.g,function(e,n){this.g.hasOwnProperty(n)&&Tk(e)},t),t.g={}}sy.prototype.M=function(){sy.Z.M.call(this),S3(this)};sy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lE(){this.g=!0}lE.prototype.Aa=function(){this.g=!1};function uq(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",u=o.split("&"),c=0;c<u.length;c++){var d=u[c].split("=");if(1<d.length){var p=d[0];d=d[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function lq(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function fp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+fq(t,n)+(r?" "+r:"")})}function cq(t,e){t.info(function(){return"TIMEOUT: "+e})}lE.prototype.info=function(){};function fq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return Ck(n)}catch{return e}}var Ch={},kO=null;function cE(){return kO=kO||new Mr}Ch.Ma="serverreachability";function T3(t){mi.call(this,Ch.Ma,t)}ei(T3,mi);function ay(t){var e=cE();Jr(e,new T3(e))}Ch.STAT_EVENT="statevent";function I3(t,e){mi.call(this,Ch.STAT_EVENT,t),this.stat=e}ei(I3,mi);function Pi(t){var e=cE();Jr(e,new I3(e,t))}Ch.Na="timingevent";function C3(t,e){mi.call(this,Ch.Na,t),this.size=e}ei(C3,mi);function Vy(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){t()},e)}var fE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},x3={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rk(){}Rk.prototype.h=null;function AO(t){return t.h||(t.h=t.i())}function k3(){}var zy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Nk(){mi.call(this,"d")}ei(Nk,mi);function Ok(){mi.call(this,"c")}ei(Ok,mi);var NC;function hE(){}ei(hE,Rk);hE.prototype.g=function(){return new XMLHttpRequest};hE.prototype.i=function(){return{}};NC=new hE;function Hy(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new sy(this),this.P=hq,t=IC?125:void 0,this.W=new uE(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new A3}function A3(){this.i=null,this.g="",this.h=!1}var hq=45e3,OC={},K_={};nt=Hy.prototype;nt.setTimeout=function(t){this.P=t};function PC(t,e,n){t.K=1,t.v=pE(Du(e)),t.s=n,t.U=!0,R3(t,null)}function R3(t,e){t.F=Date.now(),Wy(t),t.A=Du(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),F3(n.h,"t",r),t.C=0,n=t.l.H,t.h=new A3,t.g=r2(t.l,n?e:null,!t.s),0<t.O&&(t.L=new aq(Qr(t.Ia,t,t.g),t.O)),E3(t.V,t.g,"readystatechange",t.gb),e=t.H?c3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ay(),uq(t.j,t.u,t.A,t.m,t.X,t.s)}nt.gb=function(t){t=t.target;var e=this.L;e&&Tu(t)==3?e.l():this.Ia(t)};nt.Ia=function(t){try{if(t==this.g)e:{var e=Tu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||IC||this.g&&(this.h.h||this.g.ga()||PO(this.g)))){this.I||e!=4||n==7||(n==8||0>=r?ay(3):ay(2)),dE(this);var i=this.g.ba();this.N=i;t:if(N3(this)){var o=PO(this.g);t="";var a=o.length,u=Tu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kf(this),zv(this);var c="";break t}this.h.i=new bt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,lq(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$_(d)){var v=d;break t}}v=null}if(i=v)fp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,DC(this,i);else{this.i=!1,this.o=3,Pi(12),Kf(this),zv(this);break e}}this.U?(O3(this,e,c),IC&&this.i&&e==3&&(E3(this.V,this.W,"tick",this.fb),this.W.start())):(fp(this.j,this.m,c,null),DC(this,c)),e==4&&Kf(this),this.i&&!this.I&&(e==4?Z3(this.l,this):(this.i=!1,Wy(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,Pi(12)):(this.o=0,Pi(13)),Kf(this),zv(this)}}}catch{}finally{}};function N3(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function O3(t,e,n){for(var r=!0,i;!t.I&&t.C<n.length;)if(i=dq(t,n),i==K_){e==4&&(t.o=4,Pi(14),r=!1),fp(t.j,t.m,null,"[Incomplete Response]");break}else if(i==OC){t.o=4,Pi(15),fp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fp(t.j,t.m,i,null),DC(t,i);N3(t)&&i!=K_&&i!=OC&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vk(e),e.L=!0,Pi(11))):(fp(t.j,t.m,n,"[Invalid Chunked Response]"),Kf(t),zv(t))}nt.fb=function(){if(this.g){var t=Tu(this.g),e=this.g.ga();this.C<e.length&&(dE(this),O3(this,t,e),this.i&&t!=4&&Wy(this))}};function dq(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?K_:(n=Number(e.substring(n,r)),isNaN(n)?OC:(r+=1,r+n>e.length?K_:(e=e.substr(r,n),t.C=r+n,e)))}nt.cancel=function(){this.I=!0,Kf(this)};function Wy(t){t.Y=Date.now()+t.P,P3(t,t.P)}function P3(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Vy(Qr(t.eb,t),e)}function dE(t){t.B&&(bt.clearTimeout(t.B),t.B=null)}nt.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(cq(this.j,this.A),this.K!=2&&(ay(),Pi(17)),Kf(this),this.o=2,zv(this)):P3(this,this.Y-t)};function zv(t){t.l.G==0||t.I||Z3(t.l,t)}function Kf(t){dE(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,kk(t.W),S3(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function DC(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||LC(n.i,t))){if(n.I=t.N,!t.J&&LC(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)J_(n),vE(n);else break e;Bk(n),Pi(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Vy(Qr(n.ab,n),6e3));if(1>=B3(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Yf(n,11)}else if((t.J||n.g==t)&&J_(n),!$_(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var a=o[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var c=o[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=t.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=r.i;!v.g&&(Ri(p,"spdy")||Ri(p,"quic")||Ri(p,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(Lk(v,v.h),v.h=null))}if(r.D){var y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.sa=y,Tn(r.F,r.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var w=t;if(r.oa=n2(r,r.H?r.la:null,r.W),w.J){V3(r.i,w);var b=w,E=r.K;E&&b.setTimeout(E),b.B&&(dE(b),Wy(b)),r.g=w}else Q3(r);0<n.l.length&&yE(n)}else o[0]!="stop"&&o[0]!="close"||Yf(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?Yf(n,7):jk(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}ay(4)}catch{}}function pq(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(TC(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Pk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(TC(t)||typeof t=="string")l3(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(TC(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=pq(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function lm(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof lm)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}nt=lm.prototype;nt.R=function(){Dk(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};nt.T=function(){return Dk(this),this.g.concat()};function Dk(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];hh(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],hh(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}nt.get=function(t,e){return hh(this.h,t)?this.h[t]:e};nt.set=function(t,e){hh(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};nt.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function hh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D3=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function dh(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof dh){this.g=e!==void 0?e:t.g,Y_(this,t.j),this.s=t.s,X_(this,t.i),Q_(this,t.m),this.l=t.l,e=t.h;var n=new uy;n.i=e.i,e.g&&(n.g=new lm(e.g),n.h=e.h),RO(this,n),this.o=t.o}else t&&(n=String(t).match(D3))?(this.g=!!e,Y_(this,n[1]||"",!0),this.s=Hv(n[2]||""),X_(this,n[3]||"",!0),Q_(this,n[4]),this.l=Hv(n[5]||"",!0),RO(this,n[6]||"",!0),this.o=Hv(n[7]||"")):(this.g=!!e,this.h=new uy(null,this.g))}dh.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pv(e,NO,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pv(e,NO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Pv(n,n.charAt(0)=="/"?_q:wq,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pv(n,Eq)),t.join("")};function Du(t){return new dh(t)}function Y_(t,e,n){t.j=n?Hv(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function X_(t,e,n){t.i=n?Hv(e,!0):e}function Q_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RO(t,e,n){e instanceof uy?(t.h=e,Sq(t.h,t.g)):(n||(e=Pv(e,bq)),t.h=new uy(e,t.g))}function Tn(t,e,n){t.h.set(e,n)}function pE(t){return Tn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function gq(t){return t instanceof dh?Du(t):new dh(t,void 0)}function vq(t,e,n,r){var i=new dh(null,void 0);return t&&Y_(i,t),e&&X_(i,e),n&&Q_(i,n),r&&(i.l=r),i}function Hv(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pv(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,yq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var NO=/[#\/\?@]/g,wq=/[#\?:]/g,_q=/[#\?]/g,bq=/[#\?@]/g,Eq=/#/g;function uy(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Sc(t){t.g||(t.g=new lm,t.h=0,t.i&&mq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}nt=uy.prototype;nt.add=function(t,e){Sc(this),this.i=null,t=cm(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function L3(t,e){Sc(t),e=cm(t,e),hh(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,hh(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Dk(t)))}function M3(t,e){return Sc(t),e=cm(t,e),hh(t.g.h,e)}nt.forEach=function(t,e){Sc(this),this.g.forEach(function(n,r){l3(n,function(i){t.call(e,i,r,this)},this)},this)};nt.T=function(){Sc(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};nt.R=function(t){Sc(this);var e=[];if(typeof t=="string")M3(this,t)&&(e=bO(e,this.g.get(cm(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=bO(e,t[n])}return e};nt.set=function(t,e){return Sc(this),this.i=null,t=cm(this,t),M3(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};nt.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function F3(t,e,n){L3(t,e),0<n.length&&(t.i=null,t.g.set(cm(t,e),_k(n)),t.h+=n.length)}nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};function cm(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Sq(t,e){e&&!t.j&&(Sc(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(L3(this,r),F3(this,i,n))},t)),t.j=e}var Tq=function(){function t(e,n){this.h=e,this.g=n}return t}();function U3(t){this.l=t||Iq,bt.PerformanceNavigationTiming?(t=bt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Iq=10;function j3(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function B3(t){return t.h?1:t.g?t.g.size:0}function LC(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Lk(t,e){t.g?t.g.add(e):t.h=e}function V3(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}U3.prototype.cancel=function(){var t,e;if(this.i=z3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=a3(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function z3(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var r=t.i;try{for(var i=a3(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return _k(t.i)}function Mk(){}Mk.prototype.stringify=function(t){return bt.JSON.stringify(t,void 0)};Mk.prototype.parse=function(t){return bt.JSON.parse(t,void 0)};function Cq(){this.g=new Mk}function xq(t,e,n){var r=n||"";try{Pk(t,function(i,o){var a=i;iE(i)&&(a=Ck(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kq(t,e){var n=new lE;if(bt.Image){var r=new Image;r.onload=P0(L0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=P0(L0,n,r,"TestLoadImage: error",!1,e),r.onabort=P0(L0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=P0(L0,n,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function L0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qy(t){this.l=t.$b||null,this.j=t.ib||!1}ei(qy,Rk);qy.prototype.g=function(){return new mE(this.l,this.j)};qy.prototype.i=function(t){return function(){return t}}({});function mE(t,e){Mr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Fk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ei(mE,Mr);var Fk=0;nt=mE.prototype;nt.open=function(t,e){if(this.readyState!=Fk)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ly(this)};nt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$y(this)),this.readyState=Fk};nt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ly(this)),this.g&&(this.readyState=3,ly(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;H3(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function H3(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}nt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$y(this):ly(this),this.readyState==3&&H3(this)}};nt.Ua=function(t){this.g&&(this.response=this.responseText=t,$y(this))};nt.Ta=function(t){this.g&&(this.response=t,$y(this))};nt.ha=function(){this.g&&$y(this)};function $y(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ly(t)}nt.setRequestHeader=function(t,e){this.v.append(t,e)};nt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};nt.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ly(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(mE.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Aq=bt.JSON.parse;function nr(t){Mr.call(this),this.headers=new lm,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=W3,this.K=this.L=!1}ei(nr,Mr);var W3="",Rq=/^https?$/i,Nq=["POST","PUT"];nt=nr.prototype;nt.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():NC.g(),this.C=this.u?AO(this.u):AO(NC),this.g.onreadystatechange=Qr(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){OO(this,o);return}t=n||"";var i=new lm(this.headers);r&&Pk(r,function(o,a){i.set(a,o)}),r=V7(i.T()),n=bt.FormData&&t instanceof bt.FormData,!(0<=u3(Nq,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{G3(this),0<this.B&&((this.K=Oq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.pa,this)):this.A=Ak(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){OO(this,o)}};function Oq(t){return Ap&&$7()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function Pq(t){return t.toLowerCase()=="content-type"}nt.pa=function(){typeof wk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jr(this,"timeout"),this.abort(8))};function OO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,q3(t),gE(t)}function q3(t){t.D||(t.D=!0,Jr(t,"complete"),Jr(t,"error"))}nt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jr(this,"complete"),Jr(this,"abort"),gE(this))};nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gE(this,!0)),nr.Z.M.call(this)};nt.Fa=function(){this.s||(this.F||this.v||this.l?$3(this):this.cb())};nt.cb=function(){$3(this)};function $3(t){if(t.h&&typeof wk<"u"&&(!t.C[1]||Tu(t)!=4||t.ba()!=2)){if(t.v&&Tu(t)==4)Ak(t.Fa,0,t);else if(Jr(t,"readystatechange"),Tu(t)==4){t.h=!1;try{var e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var o=String(t.H).match(D3)[1]||null;if(!o&&bt.self&&bt.self.location){var a=bt.self.location.protocol;o=a.substr(0,a.length-1)}i=!Rq.test(o?o.toLowerCase():"")}r=i}if(r)Jr(t,"complete"),Jr(t,"success");else{t.m=6;try{var u=2<Tu(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.ba()+"]",q3(t)}}finally{gE(t)}}}}function gE(t,e){if(t.g){G3(t);var n=t.g,r=t.C[0]?q_:null;t.g=null,t.C=null,e||Jr(t,"ready");try{n.onreadystatechange=r}catch{}}}function G3(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(bt.clearTimeout(t.A),t.A=null)}function Tu(t){return t.g?t.g.readyState:0}nt.ba=function(){try{return 2<Tu(this)?this.g.status:-1}catch{return-1}};nt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};nt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Aq(e)}};function PO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case W3:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}nt.Da=function(){return this.m};nt.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Dq(t){var e="";return bk(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Uk(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dq(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Tn(t,e,n))}function wv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function K3(t){this.za=0,this.l=[],this.h=new lE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wv("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wv("baseRetryDelayMs",5e3,t),this.$a=wv("retryDelaySeedMs",1e4,t),this.Ya=wv("forwardChannelMaxRetries",2,t),this.ra=wv("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new U3(t&&t.concurrentRequestLimit),this.Ca=new Cq,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}nt=K3.prototype;nt.ma=8;nt.G=1;function jk(t){if(Y3(t),t.G==3){var e=t.V++,n=Du(t.F);Tn(n,"SID",t.J),Tn(n,"RID",e),Tn(n,"TYPE","terminate"),Gy(t,n),e=new Hy(t,t.h,e,void 0),e.K=2,e.v=pE(Du(n)),n=!1,bt.navigator&&bt.navigator.sendBeacon&&(n=bt.navigator.sendBeacon(e.v.toString(),"")),!n&&bt.Image&&(new Image().src=e.v,n=!0),n||(e.g=r2(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Wy(e)}t2(t)}nt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function vE(t){t.g&&(Vk(t),t.g.cancel(),t.g=null)}function Y3(t){vE(t),t.u&&(bt.clearTimeout(t.u),t.u=null),J_(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&bt.clearTimeout(t.m),t.m=null)}function XS(t,e){t.l.push(new Tq(t.Za++,e)),t.G==3&&yE(t)}function yE(t){j3(t.i)||t.m||(t.m=!0,xk(t.Ha,t),t.C=0)}function Lq(t,e){return B3(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Vy(Qr(t.Ha,t,e),e2(t,t.C)),t.C++,!0)}nt.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Hy(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=c3(n),f3(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=X3(this,e,r),i=Du(this.F),Tn(i,"RID",t),Tn(i,"CVER",22),this.D&&Tn(i,"X-HTTP-Session-Id",this.D),Gy(this,i),this.o&&n&&Uk(i,this.o,n),Lk(this.i,e),this.Ra&&Tn(i,"TYPE","init"),this.ja?(Tn(i,"$req",r),Tn(i,"SID","null"),e.$=!0,PC(e,i,null)):PC(e,i,r),this.G=2}}else this.G==3&&(t?DO(this,t):this.l.length==0||j3(this.i)||DO(this))};function DO(t,e){var n;e?n=e.m:n=t.V++;var r=Du(t.F);Tn(r,"SID",t.J),Tn(r,"RID",n),Tn(r,"AID",t.U),Gy(t,r),t.o&&t.s&&Uk(r,t.o,t.s),n=new Hy(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=X3(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Lk(t.i,n),PC(n,r,e)}function Gy(t,e){t.j&&Pk({},function(n,r){Tn(e,r,n)})}function X3(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Qr(t.j.Oa,t.j,t):null;e:for(var i=t.l,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,c=0;c<n;c++){var d=i[c].h,p=i[c].g;if(d-=o,0>d)o=Math.max(0,i[c].h-100),u=!1;else try{xq(p,a,"req"+d+"_")}catch{r&&r(p)}}if(u){r=a.join("&");break e}}return t=t.l.splice(0,n),e.D=t,r}function Q3(t){t.g||t.u||(t.Y=1,xk(t.Ga,t),t.A=0)}function Bk(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Vy(Qr(t.Ga,t),e2(t,t.A)),t.A++,!0)}nt.Ga=function(){if(this.u=null,J3(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Vy(Qr(this.bb,this),t)}};nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pi(10),vE(this),J3(this))};function Vk(t){t.B!=null&&(bt.clearTimeout(t.B),t.B=null)}function J3(t){t.g=new Hy(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Du(t.oa);Tn(e,"RID","rpc"),Tn(e,"SID",t.J),Tn(e,"CI",t.N?"0":"1"),Tn(e,"AID",t.U),Gy(t,e),Tn(e,"TYPE","xmlhttp"),t.o&&t.s&&Uk(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=pE(Du(e)),n.s=null,n.U=!0,R3(n,t)}nt.ab=function(){this.v!=null&&(this.v=null,vE(this),Bk(this),Pi(19))};function J_(t){t.v!=null&&(bt.clearTimeout(t.v),t.v=null)}function Z3(t,e){var n=null;if(t.g==e){J_(t),Vk(t),t.g=null;var r=2}else if(LC(t.i,e))n=e.D,V3(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=cE(),Jr(r,new C3(r,n)),yE(t)}else Q3(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&Lq(t,e)||r==2&&Bk(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Yf(t,5);break;case 4:Yf(t,10);break;case 3:Yf(t,6);break;default:Yf(t,2)}}}function e2(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Yf(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Qr(t.jb,t);n||(n=new dh("//www.google.com/images/cleardot.gif"),bt.location&&bt.location.protocol=="http"||Y_(n,"https"),pE(n)),kq(n.toString(),r)}else Pi(2);t.G=0,t.j&&t.j.va(e),t2(t),Y3(t)}nt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Pi(2)):(this.h.info("Failed to ping google.com"),Pi(1))};function t2(t){t.G=0,t.I=-1,t.j&&((z3(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,_k(t.l),t.l.length=0),t.j.ua())}function n2(t,e,n){var r=gq(n);if(r.i!="")e&&X_(r,e+"."+r.i),Q_(r,r.m);else{var i=bt.location;r=vq(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&bk(t.aa,function(o,a){Tn(r,a,o)}),e=t.D,n=t.sa,e&&n&&Tn(r,e,n),Tn(r,"VER",t.ma),Gy(t,r),r}function r2(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new nr(new qy({ib:!0})):new nr(t.qa),e.L=t.H,e}function i2(){}nt=i2.prototype;nt.xa=function(){};nt.wa=function(){};nt.va=function(){};nt.ua=function(){};nt.Oa=function(){};function Z_(){if(Ap&&!(10<=Number(G7)))throw Error("Environmental error: no available transport.")}Z_.prototype.g=function(t,e){return new So(t,e)};function So(t,e){Mr.call(this),this.g=new K3(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!$_(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$_(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new fm(this)}ei(So,Mr);So.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),xk(Qr(t.hb,t,e))),Pi(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=n2(t,null,t.W),yE(t)};So.prototype.close=function(){jk(this.g)};So.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,XS(this.g,e)}else this.v?(e={},e.__data__=Ck(t),XS(this.g,e)):XS(this.g,t)};So.prototype.M=function(){this.g.j=null,delete this.j,jk(this.g),delete this.g,So.Z.M.call(this)};function o2(t){Nk.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ei(o2,Nk);function s2(){Ok.call(this),this.status=1}ei(s2,Ok);function fm(t){this.g=t}ei(fm,i2);fm.prototype.xa=function(){Jr(this.g,"a")};fm.prototype.wa=function(t){Jr(this.g,new o2(t))};fm.prototype.va=function(t){Jr(this.g,new s2)};fm.prototype.ua=function(){Jr(this.g,"b")};Z_.prototype.createWebChannel=Z_.prototype.g;So.prototype.send=So.prototype.u;So.prototype.open=So.prototype.m;So.prototype.close=So.prototype.close;fE.NO_ERROR=0;fE.TIMEOUT=8;fE.HTTP_ERROR=6;x3.COMPLETE="complete";k3.EventType=zy;zy.OPEN="a";zy.CLOSE="b";zy.ERROR="c";zy.MESSAGE="d";Mr.prototype.listen=Mr.prototype.N;nr.prototype.listenOnce=nr.prototype.O;nr.prototype.getLastError=nr.prototype.La;nr.prototype.getLastErrorCode=nr.prototype.Da;nr.prototype.getStatus=nr.prototype.ba;nr.prototype.getResponseJson=nr.prototype.Qa;nr.prototype.getResponseText=nr.prototype.ga;nr.prototype.send=nr.prototype.ea;var Mq=function(){return new Z_},Fq=function(){return cE()},QS=fE,Uq=x3,jq=Ch,LO={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Bq=qy,M0=k3,Vq=nr,zq={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();vo.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ve=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Ye(e,t),e}(Error),As=new Eh("@firebase/firestore");function MC(){return As.logLevel}function Ge(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(As.logLevel<=Lt.DEBUG){var r=e.map(zk);As.debug.apply(As,Ct(["Firestore (8.10.1): "+t],r))}}function tr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(As.logLevel<=Lt.ERROR){var r=e.map(zk);As.error.apply(As,Ct(["Firestore (8.10.1): "+t],r))}}function cy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(As.logLevel<=Lt.WARN){var r=e.map(zk);As.warn.apply(As,Ct(["Firestore (8.10.1): "+t],r))}}function zk(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw tr(e),new Error(e)}function wt(t,e){t||ut()}function Ke(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a2=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=Hq(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},t}();function Mt(t,e){return t<e?-1:t>e?1:0}function Rp(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function u2(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ve(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ot=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Zi(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l2(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c2=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&ut(),r===void 0?r=e.length-n:r>e.length-n&&ut(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),$t=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var u=a[o];if(u.indexOf("//")>=0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(c){return c.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(c2),Wq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Os=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return Wq.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var c=n[o];if(c==="\\"){if(o+1===n.length)throw new Ve(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ve(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=d,o+=2}else c==="`"?(u=!u,o++):c!=="."||u?(i+=c,o++):(a(),o++)}if(a(),u)throw new Ve(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(c2),Np=function(){function t(e){this.fields=e,e.sort(Os.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Rp(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Di=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Mt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Di.EMPTY_BYTE_STRING=new Di("");var qq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vc(t){if(wt(!!t),typeof t=="string"){var e=0,n=qq.exec(t);if(wt(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Op(t){return typeof t=="string"?Di.fromBase64String(t):Di.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function f2(t){var e=t.mapValue.fields.__previous_value__;return Hk(e)?f2(e):e}function fy(t){var e=vc(t.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){return t==null}function eb(t){return t===0&&1/t==-1/0}function h2(t){return typeof t=="number"&&Number.isInteger(t)&&!eb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t($t.fromString(e))},t.fromName=function(e){return new t($t.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&$t.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return $t.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new $t(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hk(t)?4:10:ut()}function za(t,e){var n=ph(t);if(n!==ph(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fy(t).isEqual(fy(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=vc(r.timestampValue),a=vc(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Op(r.bytesValue).isEqual(Op(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Zn(r.geoPointValue.latitude)===Zn(i.geoPointValue.latitude)&&Zn(r.geoPointValue.longitude)===Zn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Zn(r.integerValue)===Zn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Zn(r.doubleValue),a=Zn(i.doubleValue);return o===a?eb(o)===eb(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rp(t.arrayValue.values||[],e.arrayValue.values||[],za);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(MO(o)!==MO(a))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!za(o[u],a[u])))return!1;return!0}(t,e);default:return ut()}}function hy(t,e){return(t.values||[]).find(function(n){return za(n,e)})!==void 0}function Pp(t,e){var n=ph(t),r=ph(e);if(n!==r)return Mt(n,r);switch(n){case 0:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(i,o){var a=Zn(i.integerValue||i.doubleValue),u=Zn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return FO(t.timestampValue,e.timestampValue);case 4:return FO(fy(t),fy(e));case 5:return Mt(t.stringValue,e.stringValue);case 6:return function(i,o){var a=Op(i),u=Op(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),u=o.split("/"),c=0;c<a.length&&c<u.length;c++){var d=Mt(a[c],u[c]);if(d!==0)return d}return Mt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){var a=Mt(Zn(i.latitude),Zn(o.latitude));return a!==0?a:Mt(Zn(i.longitude),Zn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],u=o.values||[],c=0;c<a.length&&c<u.length;++c){var d=Pp(a[c],u[c]);if(d)return d}return Mt(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(var p=0;p<u.length&&p<d.length;++p){var v=Mt(u[p],d[p]);if(v!==0)return v;var y=Pp(a[u[p]],c[d[p]]);if(y!==0)return y}return Mt(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ut()}}function FO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);var n=vc(t),r=vc(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function Wk(t){return FC(t)}function FC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=vc(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Op(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,lt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",o=!0,a=0,u=r.values||[];a<u.length;a++)o?o=!1:i+=",",i+=FC(u[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",o=!0,a=0,u=Object.keys(r.fields||{}).sort();a<u.length;a++){var c=u[a];o?o=!1:i+=",",i+=c+":"+FC(r.fields[c])}return i+"}"}(t.mapValue):ut();var e,n}function tb(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function UC(t){return!!t&&"integerValue"in t}function qk(t){return!!t&&"arrayValue"in t}function UO(t){return!!t&&"nullValue"in t}function jO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function m_(t){return!!t&&"mapValue"in t}function Wv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return xh(t.mapValue.fields,function(i,o){return e.mapValue.fields[i]=Wv(o)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Wv(t.arrayValue.values[r]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var go=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!m_(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wv(n)},t.prototype.setAll=function(e){var n=this,r=Os.emptyPath(),i={},o=[];e.forEach(function(u,c){if(!r.isImmediateParentOf(c)){var d=n.getFieldsMap(r);n.applyChanges(d,i,o),i={},o=[],r=c.popLast()}u?i[c.lastSegment()]=Wv(u):o.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,o)},t.prototype.delete=function(e){var n=this.field(e.popLast());m_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return za(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=n.mapValue.fields[e.get(r)];m_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){xh(n,function(u,c){return e[u]=c});for(var i=0,o=r;i<o.length;i++){var a=o[i];delete e[a]}},t.prototype.clone=function(){return new t(Wv(this.value))},t}();function d2(t){var e=[];return xh(t.fields,function(n,r){var i=new Os([n]);if(m_(r)){var o=d2(r.mapValue).fields;if(o.length===0)e.push(i);else for(var a=0,u=o;a<u.length;a++){var c=u[a];e.push(i.child(c))}}else e.push(i)}),new Np(e)}var Zr=function(){function t(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return t.newInvalidDocument=function(e){return new t(e,0,Ot.min(),go.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,go.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,go.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=go.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=go.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),$q=function(t,e,n,r,i,o,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e,n,r,i,o,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new $q(t,e,n,r,i,o,a)}function Ky(t){var e=Ke(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Wk(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=rb(e.startAt)),e.endAt&&(n+="|ub:",n+=rb(e.endAt)),e.h=n}return e.h}function wE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!e$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!za(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zO(t.startAt,e.startAt)&&zO(t.endAt,e.endAt)}function nb(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var yo=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).field=n,o.op=r,o.value=i,o}return Ye(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new Gq(n,r,i):r==="array-contains"?new Xq(n,i):r==="in"?new Qq(n,i):r==="not-in"?new Jq(n,i):r==="array-contains-any"?new Zq(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new Kq(n,i):new Yq(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Pp(r,this.value)):r!==null&&ph(this.value)===ph(r)&&this.m(Pp(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ut()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Gq=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,i)||this).key=lt.fromName(i.referenceValue),o}return Ye(e,t),e.prototype.matches=function(n){var r=lt.comparator(n.key,this.key);return this.m(r)},e}(yo),Kq=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=p2("in",r),i}return Ye(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(yo),Yq=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=p2("not-in",r),i}return Ye(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(yo);function p2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return lt.fromName(r.referenceValue)})}var Xq=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return Ye(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return qk(r)&&hy(r.arrayValue,this.value)},e}(yo),Qq=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return Ye(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&hy(this.value.arrayValue,r)},e}(yo),Jq=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return Ye(e,t),e.prototype.matches=function(n){if(hy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!hy(this.value.arrayValue,r)},e}(yo),Zq=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return Ye(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!qk(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return hy(r.value.arrayValue,o)})},e}(yo),dy=function(t,e){this.position=t,this.before=e};function rb(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Wk(e)}).join(",")}var pp=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function e$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function VO(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?lt.comparator(lt.fromName(a.referenceValue),n.key):Pp(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function zO(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!za(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bu=function(t,e,n,r,i,o,a,u){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),u===void 0&&(u=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function m2(t,e,n,r,i,o,a,u){return new Bu(t,e,n,r,i,o,a,u)}function hm(t){return new Bu(t)}function g_(t){return!kh(t.limit)&&t.limitType==="F"}function ib(t){return!kh(t.limit)&&t.limitType==="L"}function $k(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Gk(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Kk(t){return t.collectionGroup!==null}function Dp(t){var e=Ke(t);if(e.p===null){e.p=[];var n=Gk(e),r=$k(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new pp(n)),e.p.push(new pp(Os.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var u=a[o];e.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new pp(Os.keyField(),c))}}}return e.p}function Qo(t){var e=Ke(t);if(!e.T)if(e.limitType==="F")e.T=BO(e.path,e.collectionGroup,Dp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Dp(e);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new pp(o.field,a))}var u=e.endAt?new dy(e.endAt.position,!e.endAt.before):null,c=e.startAt?new dy(e.startAt.position,!e.startAt.before):null;e.T=BO(e.path,e.collectionGroup,n,e.filters,e.limit,u,c)}return e.T}function g2(t,e,n){return new Bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yy(t,e){return wE(Qo(t),Qo(e))&&t.limitType===e.limitType}function v2(t){return Ky(Qo(t))+"|lt:"+t.limitType}function jC(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Wk(i.value);var i}).join(", ")+"]"),kh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+rb(e.startAt)),e.endAt&&(n+=", endAt: "+rb(e.endAt)),"Target("+n+")"}(Qo(t))+"; limitType="+t.limitType+")"}function Xy(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):lt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!VO(n.startAt,Dp(n),r))&&(!n.endAt||!VO(n.endAt,Dp(n),r))}(t,e)}function y2(t){return function(e,n){for(var r=!1,i=0,o=Dp(t);i<o.length;i++){var a=o[i],u=t$(a,e,n);if(u!==0)return u;r=r||a.field.isKeyField()}return 0}}function t$(t,e,n){var r=t.field.isKeyField()?lt.comparator(e.key,n.key):function(i,o,a){var u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Pp(u,c):ut()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eb(e)?"-0":e}}function _2(t){return{integerValue:""+t}}function b2(t,e){return h2(e)?_2(e):w2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _E=function(){this._=void 0};function n$(t,e,n){return t instanceof Lp?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof mh?S2(t,e):t instanceof gh?T2(t,e):function(r,i){var o=E2(r,i),a=HO(o)+HO(r.A);return UC(o)&&UC(r.A)?_2(a):w2(r.R,a)}(t,e)}function r$(t,e,n){return t instanceof mh?S2(t,e):t instanceof gh?T2(t,e):n}function E2(t,e){return t instanceof Mp?UC(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var Lp=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e}(_E),mh=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return Ye(e,t),e}(_E);function S2(t,e){for(var n=I2(e),r=function(a){n.some(function(u){return za(u,a)})||n.push(a)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var gh=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return Ye(e,t),e}(_E);function T2(t,e){for(var n=I2(e),r=function(a){n=n.filter(function(u){return!za(u,a)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Mp=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return Ye(e,t),e}(_E);function HO(t){return Zn(t.integerValue||t.doubleValue)}function I2(t){return qk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qy=function(t,e){this.field=t,this.transform=e},i$=function(t,e){this.version=t,this.transformResults=e},pi=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function v_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var bE=function(){};function o$(t,e,n){t instanceof Jy?function(r,i,o){var a=r.value.clone(),u=$O(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Tc?function(r,i,o){if(v_(r.precondition,i)){var a=$O(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(C2(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function BC(t,e,n){t instanceof Jy?function(r,i,o){if(v_(r.precondition,i)){var a=r.value.clone(),u=GO(r.fieldTransforms,o,i);a.setAll(u),i.convertToFoundDocument(qO(i),a).setHasLocalMutations()}}(t,e,n):t instanceof Tc?function(r,i,o){if(v_(r.precondition,i)){var a=GO(r.fieldTransforms,o,i),u=i.data;u.setAll(C2(r)),u.setAll(a),i.convertToFoundDocument(qO(i),u).setHasLocalMutations()}}(t,e,n):function(r,i){v_(r.precondition,i)&&i.convertToNoDocument(Ot.min())}(t,e)}function s$(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),u=E2(o.transform,a||null);u!=null&&(n==null&&(n=go.empty()),n.set(o.field,u))}return n||null}function WO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Rp(n,r,function(i,o){return function(a,u){return a.field.isEqual(u.field)&&function(c,d){return c instanceof mh&&d instanceof mh||c instanceof gh&&d instanceof gh?Rp(c.elements,d.elements,za):c instanceof Mp&&d instanceof Mp?za(c.A,d.A):c instanceof Lp&&d instanceof Lp}(a.transform,u.transform)}(i,o)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function qO(t){return t.isFoundDocument()?t.version:Ot.min()}var Jy=function(t){function e(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ye(e,t),e}(bE),Tc=function(t){function e(n,r,i,o,a){a===void 0&&(a=[]);var u=this;return(u=t.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=a,u.type=1,u}return Ye(e,t),e}(bE);function C2(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function $O(t,e,n){var r=new Map;wt(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,r$(a,u,n[i]))}return r}function GO(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],u=a.transform,c=n.data.field(a.field);r.set(a.field,n$(u,c,e))}return r}var Jn,Bt,Zy=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ye(e,t),e}(bE),Yk=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ye(e,t),e}(bE),a$=function(t){this.count=t};function x2(t){switch(t){case Re.OK:return ut();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return ut()}}function k2(t){if(t===void 0)return tr("GRPC error has no .code"),Re.UNKNOWN;switch(t){case Jn.OK:return Re.OK;case Jn.CANCELLED:return Re.CANCELLED;case Jn.UNKNOWN:return Re.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return Re.INTERNAL;case Jn.UNAVAILABLE:return Re.UNAVAILABLE;case Jn.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case Jn.NOT_FOUND:return Re.NOT_FOUND;case Jn.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case Jn.ABORTED:return Re.ABORTED;case Jn.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case Jn.DATA_LOSS:return Re.DATA_LOSS;default:return ut()}}(Bt=Jn||(Jn={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i=function(){function t(e,n){this.comparator=e,this.root=n||nc.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nc.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nc.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new F0(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new F0(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new F0(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new F0(this.root,e,this.comparator,!0)},t}(),F0=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),nc=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();var e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)},t}();nc.EMPTY=null,nc.RED=!0,nc.BLACK=!1,nc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ut()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new nc(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){function t(e){this.comparator=e,this.data=new _i(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new KO(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new KO(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),KO=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),u$=new _i(lt.comparator);function Ko(){return u$}var l$=new _i(lt.comparator);function VC(){return l$}var c$=new _i(lt.comparator);function A2(){return c$}var f$=new dr(lt.comparator);function rn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=f$,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var h$=new dr(Mt);function EE(){return h$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xk=function(){function t(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Qk.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ot.min(),r,EE(),Ko(),rn())},t}(),Qk=function(){function t(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Di.EMPTY_BYTE_STRING,n,rn(),rn(),rn())},t}(),y_=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},R2=function(t,e){this.targetId=t,this.V=e},N2=function(t,e,n,r){n===void 0&&(n=Di.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},YO=function(){function t(){this.S=0,this.D=QO(),this.C=Di.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=rn(),n=rn(),r=rn();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new Qk(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=QO()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),d$=function(){function t(e){this.W=e,this.G=new Map,this.H=Ko(),this.J=XO(),this.Y=new dr(Mt)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(e.resumeToken));break;default:ut()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(nb(o))if(r===0){var a=new lt(o.path);this.tt(n,a,Zr.newNoDocument(a,Ot.min()))}else wt(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(a,u){var c=n.ot(u);if(c){if(a.current&&nb(c.target)){var d=new lt(c.target.path);n.H.get(d)!==null||n.at(u,d)||n.tt(u,d,Zr.newNoDocument(d,e))}a.$&&(r.set(u,a.M()),a.L())}});var i=rn();this.J.forEach(function(a,u){var c=!0;u.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var o=new Xk(e,r,this.Y,this.H,i);return this.H=Ko(),this.J=XO(),this.Y=new dr(Mt),o},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.at(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new YO,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new dr(Mt),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new YO),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function XO(){return new _i(lt.comparator)}function QO(){return new _i(lt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p$={asc:"ASCENDING",desc:"DESCENDING"},m$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g$=function(t,e){this.databaseId=t,this.I=e};function py(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function O2(t,e){return t.I?e.toBase64():e.toUint8Array()}function v$(t,e){return py(t,e.toTimestamp())}function Dr(t){return wt(!!t),Ot.fromTimestamp(function(e){var n=vc(e);return new Zi(n.seconds,n.nanos)}(t))}function Jk(t,e){return function(n){return new $t(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function P2(t){var e=$t.fromString(t);return wt(V2(e)),e}function my(t,e){return Jk(t.databaseId,e.path)}function Da(t,e){var n=P2(e);if(n.get(1)!==t.databaseId.projectId)throw new Ve(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ve(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new lt(L2(n))}function zC(t,e){return Jk(t.databaseId,e)}function D2(t){var e=P2(t);return e.length===4?$t.emptyPath():L2(e)}function gy(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L2(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JO(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function M2(t,e,n){var r=Da(t,e.name),i=Dr(e.updateTime),o=new go({mapValue:{fields:e.fields}}),a=Zr.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ob(t,e){var n;if(e instanceof Jy)n={update:JO(t,e.key,e.value)};else if(e instanceof Zy)n={delete:my(t,e.key)};else if(e instanceof Tc)n={update:JO(t,e.key,e.data),updateMask:E$(e.fieldMask)};else{if(!(e instanceof Yk))return ut();n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof Lp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mp)return{fieldPath:o.field.canonicalString(),increment:a.A};throw ut()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:v$(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ut()}(t,e.precondition)),n}function ZO(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?pi.updateTime(Dr(d.updateTime)):d.exists!==void 0?pi.exists(d.exists):pi.none()}(e.currentDocument):pi.none(),r=e.updateTransforms?e.updateTransforms.map(function(d){return function(p,v){var y=null;if("setToServerValue"in v)wt(v.setToServerValue==="REQUEST_TIME"),y=new Lp;else if("appendMissingElements"in v){var w=v.appendMissingElements.values||[];y=new mh(w)}else if("removeAllFromArray"in v){var b=v.removeAllFromArray.values||[];y=new gh(b)}else"increment"in v?y=new Mp(p,v.increment):ut();var E=Os.fromServerFormat(v.fieldPath);return new Qy(E,y)}(t,d)}):[];if(e.update){e.update.name;var i=Da(t,e.update.name),o=new go({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Np(p.map(function(v){return Os.fromServerFormat(v)}))}(e.updateMask);return new Tc(i,o,a,n,r)}return new Jy(i,o,n,r)}if(e.delete){var u=Da(t,e.delete);return new Zy(u,n)}if(e.verify){var c=Da(t,e.verify);return new Yk(c,n)}return ut()}function F2(t,e){return{documents:[zC(t,e.path)]}}function U2(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=zC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var c=u.map(function(d){return function(p){if(p.op==="=="){if(jO(p.value))return{unaryFilter:{field:ep(p.field),op:"IS_NAN"}};if(UO(p.value))return{unaryFilter:{field:ep(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(jO(p.value))return{unaryFilter:{field:ep(p.field),op:"IS_NOT_NAN"}};if(UO(p.value))return{unaryFilter:{field:ep(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ep(p.field),op:w$(p.op),value:p.value}}}(d)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(c){return function(d){return{field:ep(d.field),direction:y$(d.dir)}}(c)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(u,c){return u.I||kh(c)?c:{value:c}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=eP(e.startAt)),e.endAt&&(n.structuredQuery.endAt=eP(e.endAt)),n}function j2(t){var e=D2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wt(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=B2(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(v){return function(y){return new pp(hp(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v)}));var c=null;n.limit&&(c=function(v){var y;return kh(y=typeof v=="object"?v.value:v)?null:y}(n.limit));var d=null;n.startAt&&(d=tP(n.startAt));var p=null;return n.endAt&&(p=tP(n.endAt)),m2(e,i,u,a,c,"F",d,p)}function B2(t){return t?t.unaryFilter!==void 0?[b$(t)]:t.fieldFilter!==void 0?[_$(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return B2(e)}).reduce(function(e,n){return e.concat(n)}):ut():[]}function eP(t){return{before:t.before,values:t.position}}function tP(t){var e=!!t.before,n=t.values||[];return new dy(n,e)}function y$(t){return p$[t]}function w$(t){return m$[t]}function ep(t){return{fieldPath:t.canonicalString()}}function hp(t){return Os.fromServerFormat(t.fieldPath)}function _$(t){return yo.create(hp(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ut()}}(t.fieldFilter.op),t.fieldFilter.value)}function b$(t){switch(t.unaryFilter.op){case"IS_NAN":var e=hp(t.unaryFilter.field);return yo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=hp(t.unaryFilter.field);return yo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hp(t.unaryFilter.field);return yo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hp(t.unaryFilter.field);return yo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ut()}}function E$(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function V2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=nP(e)),e=S$(t.get(n),e);return nP(e)}function S$(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function nP(t){return t+""}function Iu(t){var e=t.length;if(wt(e>=2),e===2)return wt(t.charAt(0)===""&&t.charAt(1)===""),$t.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&ut(),t.charAt(a+1)){case"":var u=t.substring(o,a),c=void 0;i.length===0?c=u:(c=i+=u,i=""),r.push(c);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:ut()}o=a+2}return new $t(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T$=function(t,e){this.seconds=t,this.nanoseconds=e},po=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};po.store="owner",po.key="owner";var lc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};lc.store="mutationQueues",lc.keyPath="userId";var _n=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};_n.store="mutations",_n.keyPath="batchId",_n.userMutationsIndex="userMutationsIndex",_n.userMutationsKeyPath=["userId","batchId"];var di=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,Rs(n)]},t.key=function(e,n,r){return[e,Rs(n),r]},t}();di.store="documentMutations",di.PLACEHOLDER=new di;var I$=function(t,e){this.path=t,this.readTime=e},C$=function(t,e){this.path=t,this.version=e},Un=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Un.store="remoteDocuments",Un.readTimeIndex="readTimeIndex",Un.readTimeIndexPath="readTime",Un.collectionReadTimeIndex="collectionReadTimeIndex",Un.collectionReadTimeIndexPath=["parentPath","readTime"];var Na=function(t){this.byteSize=t};Na.store="remoteDocumentGlobal",Na.key="remoteDocumentGlobalKey";var Qi=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Qi.store="targets",Qi.keyPath="targetId",Qi.queryTargetsIndexName="queryTargetsIndex",Qi.queryTargetsKeyPath=["canonicalId","targetId"];var Yr=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Yr.store="targetDocuments",Yr.keyPath=["targetId","path"],Yr.documentTargetsIndex="documentTargetsIndex",Yr.documentTargetsKeyPath=["path","targetId"];var mo=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};mo.key="targetGlobalKey",mo.store="targetGlobal";var ih=function(t,e){this.collectionId=t,this.parent=e};ih.store="collectionParents",ih.keyPath=["collectionId","parent"];var Au=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Au.store="clientMetadata",Au.keyPath="clientId";var Fp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Fp.store="bundles",Fp.keyPath="bundleId";var Up=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Up.store="namedQueries",Up.keyPath="name";var x$=Ct(Ct([],Ct(Ct([],Ct(Ct([],Ct(Ct([],[lc.store,_n.store,di.store,Un.store,Qi.store,po.store,mo.store,Yr.store]),[Au.store])),[Na.store])),[ih.store])),[Fp.store,Up.store]),z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",H2=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),wi=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},He=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,o=0,a=!1;e.forEach(function(u){++i,u.next(function(){++o,a&&o===i&&n()},function(c){return r(c)})}),a=!0,o===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(u){return u?t.resolve(u):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},t}(),W2=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new wi,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new qv(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Zk(i.target.error);r.ft.reject(new qv(e,o))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new qv(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new A$(n)},t}(),jp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(uh())===12.2&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return Ge("SimpleDb","Removing database:",e),qf(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=uh(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var e;return typeof process<"u"&&((e=zq)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return ve(this,void 0,void 0,function(){var n,r=this;return ge(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(Ge("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(c){var d=c.target.result;o(d)},u.onblocked=function(){a(new qv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(c){var d=c.target.error;d.name==="VersionError"?a(new Ve(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new qv(e,d))},u.onupgradeneeded=function(c){Ge("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var d=c.target.result;r.wt.Rt(d,u.transaction,c.oldVersion,r.version).next(function(){Ge("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return ve(this,void 0,void 0,function(){var o,a,u,c,d;return ge(this,function(p){switch(p.label){case 0:o=n==="readonly",a=0,u=function(){var v,y,w,b,E;return ge(this,function(I){switch(I.label){case 0:++a,I.label=1;case 1:return I.trys.push([1,4,,5]),[4,c.At(e)];case 2:return c.db=I.sent(),v=W2.open(c.db,e,o?"readonly":"readwrite",r),y=i(v).catch(function(S){return v.abort(S),He.reject(S)}).toPromise(),w={},y.catch(function(){}),[4,v.dt];case 3:return[2,(w.value=(I.sent(),y),w)];case 4:return b=I.sent(),E=b.name!=="FirebaseError"&&a<3,Ge("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),c.close(),E?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,u()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),k$=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return qf(this.Pt.delete())},t}(),qv=function(t){function e(n,r){var i=this;return(i=t.call(this,Re.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return Ye(e,t),e}(Ve);function Ah(t){return t.name==="IndexedDbTransactionError"}var A$=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(Ge("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qf(r)},t.prototype.add=function(e){return Ge("SimpleDb","ADD",this.store.name,e,e),qf(this.store.add(e))},t.prototype.get=function(e){var n=this;return qf(this.store.get(e)).next(function(r){return r===void 0&&(r=null),Ge("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return Ge("SimpleDb","DELETE",this.store.name,e),qf(this.store.delete(e))},t.prototype.count=function(){return Ge("SimpleDb","COUNT",this.store.name),qf(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},t.prototype.kt=function(e,n){Ge("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,a,u){return u.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new He(function(r,i){n.onerror=function(o){var a=Zk(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(u){u?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new He(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var u=a.target.result;if(u){var c=new k$(u),d=n(u.primaryKey,u.value,c);if(d instanceof He){var p=d.catch(function(v){return c.done(),He.reject(v)});r.push(p)}c.isDone?i():c.Dt===null?u.continue():u.continue(c.Dt)}else i()}}).next(function(){return He.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function qf(t){return new He(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=Zk(r.target.error);n(i)}})}var rP=!1;function Zk(t){var e=jp._t(uh());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ve("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rP||(rP=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iP=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return Ye(e,t),e}(H2);function ro(t,e){var n=Ke(t);return jp.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eA=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&o$(o,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&BC(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&BC(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(Ot.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},rn())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Rp(this.mutations,e.mutations,function(n,r){return WO(n,r)})&&Rp(this.baseMutations,e.baseMutations,function(n,r){return WO(n,r)})},t}(),R$=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){wt(e.mutations.length===r.length);for(var i=A2(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),SE=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=Ot.min()),a===void 0&&(a=Ot.min()),u===void 0&&(u=Di.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),q2=function(t){this.Lt=t};function HC(t,e){if(e.document)return M2(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=lt.fromSegments(e.noDocument.path),r=Vp(e.noDocument.readTime),i=Zr.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=lt.fromSegments(e.unknownDocument.path);return r=Vp(e.unknownDocument.version),Zr.newUnknownDocument(o,r)}return ut()}function oP(t,e,n){var r=tA(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(v,y){return{name:my(v,y.key),fields:y.data.value.mapValue.fields,updateTime:py(v,y.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Un(null,null,o,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),c=Bp(e.version);return a=e.hasCommittedMutations,new Un(null,new I$(u,c),null,a,r,i)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),p=Bp(e.version);return new Un(new C$(d,p),null,null,!0,r,i)}return ut()}function tA(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function $2(t){var e=new Zi(t[0],t[1]);return Ot.fromTimestamp(e)}function Bp(t){var e=t.toTimestamp();return new T$(e.seconds,e.nanoseconds)}function Vp(t){var e=new Zi(t.seconds,t.nanoseconds);return Ot.fromTimestamp(e)}function up(t,e){for(var n=(e.baseMutations||[]).map(function(c){return ZO(t.Lt,c)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(c){return ZO(t.Lt,c)}),u=Zi.fromMillis(e.localWriteTimeMs);return new eA(e.batchId,u,n,a)}function Dv(t){var e,n,r=Vp(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Vp(t.lastLimboFreeSnapshotVersion):Ot.min();return t.query.documents!==void 0?(wt((n=t.query).documents.length===1),e=Qo(hm(D2(n.documents[0])))):e=function(o){return Qo(j2(o))}(t.query),new SE(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Di.fromBase64String(t.resumeToken))}function G2(t,e){var n,r=Bp(e.snapshotVersion),i=Bp(e.lastLimboFreeSnapshotVersion);n=nb(e.target)?F2(t.Lt,e.target):U2(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Qi(e.targetId,Ky(e.target),r,o,e.sequenceNumber,i,n)}function nA(t){var e=j2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N$=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return sP(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Vp(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return sP(e).put({bundleId:(r=n).id,createTime:Bp(Dr(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return aP(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:nA(i.bundledQuery),readTime:Vp(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return aP(e).put(function(r){return{name:r.name,readTime:Bp(Dr(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function sP(t){return ro(t,Fp.store)}function aP(t){return ro(t,Up.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O$=function(){function t(){this.Bt=new rA}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),He.resolve()},t.prototype.getCollectionParents=function(e,n){return He.resolve(this.Bt.getEntries(n))},t}(),rA=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dr($t.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new dr($t.comparator)).toArray()},t}(),P$=function(){function t(){this.qt=new rA}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Rs(o)};return uP(e).put(a)}return He.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[u2(n),""],!1,!0);return uP(e).Nt(i).next(function(o){for(var a=0,u=o;a<u.length;a++){var c=u[a];if(c.collectionId!==n)break;r.push(Iu(c.parent))}return r})},t}();function uP(t){return ro(t,ih.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ta=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e,n){var r=t.store(_n.store),i=t.store(di.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,c=r.$t({range:a},function(b,E,I){return u++,I.delete()});o.push(c.next(function(){wt(u===1)}));for(var d=[],p=0,v=n.mutations;p<v.length;p++){var y=v[p],w=di.key(e,y.key.path,n.batchId);o.push(i.delete(w)),d.push(y.key)}return He.waitFor(o).next(function(){return d})}function sb(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ut();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta.DEFAULT_COLLECTION_PERCENTILE=10,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ta.DEFAULT=new Ta(41943040,Ta.DEFAULT_COLLECTION_PERCENTILE,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ta.DISABLED=new Ta(-1,0,0);var D$=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,r,i){return wt(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).$t({index:_n.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var o=this,a=lp(e),u=Xl(e);return u.add({}).next(function(c){wt(typeof c=="number");for(var d=new eA(c,n,r,i),p=function(S,k,C){var A=C.baseMutations.map(function(H){return ob(S.Lt,H)}),O=C.mutations.map(function(H){return ob(S.Lt,H)});return new _n(k,C.batchId,C.localWriteTime.toMillis(),A,O)}(o.R,o.userId,d),v=[],y=new dr(function(S,k){return Mt(S.canonicalString(),k.canonicalString())}),w=0,b=i;w<b.length;w++){var E=b[w],I=di.key(o.userId,E.key.path,c);y=y.add(E.key.path.popLast()),v.push(u.put(p)),v.push(a.put(I,di.PLACEHOLDER))}return y.forEach(function(S){v.push(o.Ut.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(function(){o.Kt[c]=d.keys()}),He.waitFor(v).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return Xl(e).get(n).next(function(i){return i?(wt(i.userId===r.userId),up(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?He.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Xl(e).$t({index:_n.userMutationsIndex,range:o},function(u,c,d){c.userId===r.userId&&(wt(c.batchId>=i),a=up(r.R,c)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Xl(e).$t({index:_n.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).Nt(_n.userMutationsIndex,r).next(function(i){return i.map(function(o){return up(n.R,o)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=di.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return lp(e).$t({range:o},function(u,c,d){var p=u[0],v=u[1],y=u[2],w=Iu(v);if(p===r.userId&&n.path.isEqual(w))return Xl(e).get(y).next(function(b){if(!b)throw ut();wt(b.userId===r.userId),a.push(up(r.R,b))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new dr(Mt),o=[];return n.forEach(function(a){var u=di.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(u),d=lp(e).$t({range:c},function(p,v,y){var w=p[0],b=p[1],E=p[2],I=Iu(b);w===r.userId&&a.path.isEqual(I)?i=i.add(E):y.done()});o.push(d)}),He.waitFor(o).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,a=di.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a),c=new dr(Mt);return lp(e).$t({range:u},function(d,p,v){var y=d[0],w=d[1],b=d[2],E=Iu(w);y===r.userId&&i.isPrefixOf(E)?E.length===o&&(c=c.add(b)):v.done()}).next(function(){return r.Wt(e,c)})},t.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push(Xl(e).get(a).next(function(u){if(u===null)throw ut();wt(u.userId===r.userId),i.push(up(r.R,u))}))}),He.waitFor(o).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return K2(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),He.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return He.resolve();var i=IDBKeyRange.lowerBound(di.prefixForUser(n.userId)),o=[];return lp(e).$t({range:i},function(a,u,c){if(a[0]===n.userId){var d=Iu(a[1]);o.push(d)}else c.done()}).next(function(){wt(o.length===0)})})},t.prototype.containsKey=function(e,n){return Y2(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return X2(e).get(this.userId).next(function(r){return r||new lc(n.userId,-1,"")})},t}();function Y2(t,e,n){var r=di.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return lp(t).$t({range:o,Ft:!0},function(u,c,d){var p=u[0],v=u[1];u[2],p===e&&v===i&&(a=!0),d.done()}).next(function(){return a})}function Xl(t){return ro(t,_n.store)}function lp(t){return ro(t,di.store)}function X2(t){return ro(t,lc.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ab=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),L$=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new ab(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return Ot.fromTimestamp(new Zi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return tp(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return wt(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return tp(e).$t(function(u,c){var d=Dv(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(o++,a.push(i.removeTargetData(e,d)))}).next(function(){return He.waitFor(a)}).next(function(){return o})},t.prototype.forEachTarget=function(e,n){return tp(e).$t(function(r,i){var o=Dv(i);n(o)})},t.prototype.Xt=function(e){return cP(e).get(mo.key).next(function(n){return wt(n!==null),n})},t.prototype.Zt=function(e,n){return cP(e).put(mo.key,n)},t.prototype.te=function(e,n){return tp(e).put(G2(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=Ky(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return tp(e).$t({range:i,index:Qi.queryTargetsIndexName},function(a,u,c){var d=Dv(u);wE(n,d.target)&&(o=d,c.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],a=rc(e);return n.forEach(function(u){var c=Rs(u.path);o.push(a.put(new Yr(r,c))),o.push(i.referenceDelegate.addReference(e,r,u))}),He.waitFor(o)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=rc(e);return He.forEach(n,function(a){var u=Rs(a.path);return He.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=rc(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=rc(e),o=rn();return i.$t({range:r,Ft:!0},function(a,u,c){var d=Iu(a[1]),p=new lt(d);o=o.add(p)}).next(function(){return o})},t.prototype.containsKey=function(e,n){var r=Rs(n.path),i=IDBKeyRange.bound([r],[u2(r)],!1,!0),o=0;return rc(e).$t({index:Yr.documentTargetsIndex,Ft:!0,range:i},function(a,u,c){var d=a[0];a[1],d!==0&&(o++,c.done())}).next(function(){return o>0})},t.prototype.lt=function(e,n){return tp(e).get(n).next(function(r){return r?Dv(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){return ro(t,Qi.store)}function cP(t){return ro(t,mo.store)}function rc(t){return ro(t,Yr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){if(t.code!==Re.FAILED_PRECONDITION||t.message!==z2)throw t;return Ge("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Mt(n,i);return a===0?Mt(r,o):a}var M$=function(){function t(e){this.ne=e,this.buffer=new dr(fP),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();fP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),F$=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;Ge("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return ve(n,void 0,void 0,function(){var i;return ge(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Ah(i=o.sent())?(Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Rh(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return o.sent(),[2]}})})})},t}(),U$=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return He.resolve(vo.o);var i=new M$(n);return this.ae.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(lP)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),lP):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,o,a,u,c,d,p=this,v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(y){return y>p.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+y),i=p.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),p.nthSequenceNumber(e,i)}).next(function(y){return r=y,u=Date.now(),p.removeTargets(e,r,n)}).next(function(y){return o=y,c=Date.now(),p.removeOrphanedDocuments(e,r)}).next(function(y){return d=Date.now(),MC()<=Lt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(u-a)+`ms
	Removed `+o+" targets in "+(c-u)+`ms
	Removed `+y+" documents in "+(d-c)+`ms
Total Duration: `+(d-v)+"ms"),He.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})})},t}(),j$=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new U$(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return U0(e,r)},t.prototype.removeReference=function(e,n,r){return U0(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return U0(e,n)},t.prototype._e=function(e,n){return function(r,i){var o=!1;return X2(r).Ot(function(a){return Y2(r,a,i).next(function(u){return u&&(o=!0),He.resolve(!u)})}).next(function(){return o})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(u,c){if(c<=n){var d=r._e(e,u).next(function(p){if(!p)return a++,i.getEntry(e,u).next(function(){return i.removeEntry(u),rc(e).delete([0,Rs(u.path)])})});o.push(d)}}).next(function(){return He.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return U0(e,n)},t.prototype.we=function(e,n){var r,i=rc(e),o=vo.o;return i.$t({index:Yr.documentTargetsIndex},function(a,u){var c=a[0];a[1];var d=u.path,p=u.sequenceNumber;c===0?(o!==vo.o&&n(new lt(Iu(r)),o),o=p,r=d):o=vo.o}).next(function(){o!==vo.o&&n(new lt(Iu(r)),o)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function U0(t,e){return rc(t).put(function(n,r){return new Yr(0,Rs(n.path),r)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dm=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];if(this.equalsFn(u,e))return c}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){xh(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];e(u,c)}})},t.prototype.isEmpty=function(){return l2(this.inner)},t}(),Q2=function(){function t(){this.changes=new dm(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:Ot.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:Zr.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?He.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),B$=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return ec(e).put(j0(n),r)},t.prototype.removeEntry=function(e,n){var r=ec(e),i=j0(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return ec(e).get(j0(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return ec(e).get(j0(n)).next(function(i){return{document:r.ye(n,i),size:sb(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=Ko();return this.pe(e,n,function(o,a){var u=r.ye(o,a);i=i.insert(o,u)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=Ko(),o=new _i(lt.comparator);return this.pe(e,n,function(a,u){var c=r.ye(a,u);i=i.insert(a,c),o=o.insert(a,sb(u))}).next(function(){return{documents:i,Te:o}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return He.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return ec(e).$t({range:i},function(u,c,d){for(var p=lt.fromSegments(u);a&&lt.comparator(a,p)<0;)r(a,null),a=o.getNext();a&&a.isEqual(p)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=Ko(),a=n.path.length+1,u={};if(r.isEqual(Ot.min())){var c=n.path.toArray();u.range=IDBKeyRange.lowerBound(c)}else{var d=n.path.toArray(),p=tA(r);u.range=IDBKeyRange.lowerBound([d,p],!0),u.index=Un.collectionReadTimeIndex}return ec(e).$t(u,function(v,y,w){if(v.length===a){var b=HC(i.R,y);n.path.isPrefixOf(b.key.path)?Xy(n,b)&&(o=o.insert(b.key,b)):w.done()}}).next(function(){return o})},t.prototype.newChangeBuffer=function(e){return new V$(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return hP(e).get(Na.key).next(function(n){return wt(!!n),n})},t.prototype.me=function(e,n){return hP(e).put(Na.key,n)},t.prototype.ye=function(e,n){if(n){var r=HC(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ot.min()))return r}return Zr.newInvalidDocument(e)},t}(),V$=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new dm(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return Ye(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new dr(function(u,c){return Mt(u.canonicalString(),c.canonicalString())});return this.changes.forEach(function(u,c){var d=r.Ae.get(u);if(c.document.isValidDocument()){var p=oP(r.Ie.R,c.document,r.getReadTime(u));a=a.add(u.path.popLast());var v=sb(p);o+=v-d,i.push(r.Ie.addEntry(n,u,p))}else if(o-=d,r.trackRemovals){var y=oP(r.Ie.R,Zr.newNoDocument(u,Ot.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,y))}else i.push(r.Ie.removeEntry(n,u))}),a.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),He.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(u,c){i.Ae.set(u,c)}),a})},e}(Q2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){return ro(t,Na.store)}function ec(t){return ro(t,Un.store)}function j0(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z$=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var o=this;wt(r<i&&r>=0&&i<=11);var a=new W2("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(po.store)}(e),function(c){c.createObjectStore(lc.store,{keyPath:lc.keyPath}),c.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0}),c.createObjectStore(di.store)}(e),dP(e),function(c){c.createObjectStore(Un.store)}(e));var u=He.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Yr.store),c.deleteObjectStore(Qi.store),c.deleteObjectStore(mo.store)}(e),dP(e)),u=u.next(function(){return function(c){var d=c.store(mo.store),p=new mo(0,0,Ot.min().toTimestamp(),0);return d.put(mo.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(c,d){return d.store(_n.store).Nt().next(function(p){c.deleteObjectStore(_n.store),c.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0});var v=d.store(_n.store),y=p.map(function(w){return v.put(w)});return He.waitFor(y)})}(e,a)})),u=u.next(function(){(function(c){c.createObjectStore(Au.store,{keyPath:Au.keyPath})})(e)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(a)})),r<6&&i>=6&&(u=u.next(function(){return function(c){c.createObjectStore(Na.store)}(e),o.be(a)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(a)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(u=u.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e),function(c){var d=c.objectStore(Un.store);d.createIndex(Un.readTimeIndex,Un.readTimeIndexPath,{unique:!1}),d.createIndex(Un.collectionReadTimeIndex,Un.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(a)})),r<11&&i>=11&&(u=u.next(function(){(function(c){c.createObjectStore(Fp.store,{keyPath:Fp.keyPath})})(e),function(c){c.createObjectStore(Up.store,{keyPath:Up.keyPath})}(e)})),u},t.prototype.be=function(e){var n=0;return e.store(Un.store).$t(function(r,i){n+=sb(i)}).next(function(){var r=new Na(n);return e.store(Na.store).put(Na.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(lc.store),i=e.store(_n.store);return r.Nt().next(function(o){return He.forEach(o,function(a){var u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(_n.userMutationsIndex,u).next(function(c){return He.forEach(c,function(d){wt(d.userId===a.userId);var p=up(n.R,d);return K2(e,a.userId,p).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Yr.store),r=e.store(Un.store);return e.store(mo.store).get(mo.key).next(function(i){var o=[];return r.$t(function(a,u){var c=new $t(a),d=function(p){return[0,Rs(p)]}(c);o.push(n.get(d).next(function(p){return p?He.resolve():function(v){return n.put(new Yr(0,Rs(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return He.waitFor(o)})})},t.prototype.Pe=function(e,n){e.createObjectStore(ih.store,{keyPath:ih.keyPath});var r=n.store(ih.store),i=new rA,o=function(a){if(i.add(a)){var u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:Rs(c)})}};return n.store(Un.store).$t({Ft:!0},function(a,u){var c=new $t(a);return o(c.popLast())}).next(function(){return n.store(di.store).$t({Ft:!0},function(a,u){a[0];var c=a[1];a[2];var d=Iu(c);return o(d.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(Qi.store);return r.$t(function(i,o){var a=Dv(o),u=G2(n.R,a);return r.put(u)})},t}();function dP(t){t.createObjectStore(Yr.store,{keyPath:Yr.keyPath}).createIndex(Yr.documentTargetsIndex,Yr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store,{keyPath:Qi.keyPath}).createIndex(Qi.queryTargetsIndexName,Qi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(mo.store)}var JS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",H$=function(){function t(e,n,r,i,o,a,u,c,d,p){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!t.yt())throw new Ve(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new j$(this,i),this.Le=n+"main",this.R=new q2(c),this.Be=new jp(this.Le,11,new z$(this.R)),this.qe=new L$(this.referenceDelegate,this.R),this.Ut=new P$,this.Ue=function(v,y){return new B$(v,y)}(this.R,this.Ut),this.Ke=new N$,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ve(Re.FAILED_PRECONDITION,JS);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new vo(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return ve(n,void 0,void 0,function(){return ge(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return ve(n,void 0,void 0,function(){return ge(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return ve(n,void 0,void 0,function(){return ge(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return B0(n).put(new Au(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ah(n))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return _v(e).get(po.key).next(function(r){return He.resolve(n.tn(r))})},t.prototype.en=function(e){return B0(e).delete(this.clientId)},t.prototype.nn=function(){return ve(this,void 0,void 0,function(){var e,n,r,i,o=this;return ge(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var c=ro(u,Au.store);return c.Nt().next(function(d){var p=o.rn(d,18e5),v=d.filter(function(y){return p.indexOf(y)===-1});return He.forEach(v,function(y){return c.delete(y.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?He.resolve(!0):_v(e).get(po.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Ve(Re.FAILED_PRECONDITION,JS);return!1}}return!(!n.networkEnabled||!n.inForeground)||B0(e).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,c=n.networkEnabled===o.networkEnabled;if(a||u&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&Ge("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return ve(this,void 0,void 0,function(){var e=this;return ge(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[po.store,Au.store],function(r){var i=new iP(r,vo.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return B0(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return D$.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;Ge("IndexedDbPersistence","Starting transaction:",e);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,x$,function(u){return o=new iP(u,i.Ne?i.Ne.next():vo.o),n==="readwrite-primary"?i.Je(o).next(function(c){return!!c||i.Ye(o)}).next(function(c){if(!c)throw tr("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ve(Re.FAILED_PRECONDITION,z2);return r(o)}).next(function(c){return i.Ze(o).next(function(){return c})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},t.prototype.dn=function(e){var n=this;return _v(e).get(po.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Ve(Re.FAILED_PRECONDITION,JS)})},t.prototype.Ze=function(e){var n=new po(this.clientId,this.allowTabSynchronization,Date.now());return _v(e).put(po.key,n)},t.yt=function(){return jp.yt()},t.prototype.Xe=function(e){var n=this,r=_v(e);return r.get(po.key).next(function(i){return n.tn(i)?(Ge("IndexedDbPersistence","Releasing primary lease."),r.delete(po.key)):He.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(tr("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),CV()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return Ge("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return tr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function _v(t){return ro(t,po.store)}function B0(t){return ro(t,Au.store)}function iA(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var W$=function(t,e){this.progress=t,this.wn=e},J2=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return lt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):Kk(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new lt(n)).next(function(r){var i=VC();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,a=VC();return this.Ut.getCollectionParents(e,o).next(function(u){return He.forEach(u,function(c){var d=function(p,v){return new Bu(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return i.An(e,d,r).next(function(p){p.forEach(function(v,y){a=a.insert(v,y)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(u){return i=u,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(u){return o=u,a.Rn(e,o,i).next(function(c){i=c;for(var d=0,p=o;d<p.length;d++)for(var v=p[d],y=0,w=v.mutations;y<w.length;y++){var b=w[y],E=b.key,I=i.get(E);I==null&&(I=Zr.newInvalidDocument(E),i=i.insert(E,I)),BC(b,I,v.localWriteTime),I.isFoundDocument()||(i=i.remove(E))}})}).next(function(){return i.forEach(function(u,c){Xy(n,c)||(i=i.remove(u))}),i})},t.prototype.Rn=function(e,n,r){for(var i=rn(),o=0,a=n;o<a.length;o++)for(var u=0,c=a[o].mutations;u<c.length;u++){var d=c[u];d instanceof Tc&&r.get(d.key)===null&&(i=i.add(d.key))}var p=r;return this.Ue.getEntries(e,i).next(function(v){return v.forEach(function(y,w){w.isFoundDocument()&&(p=p.insert(y,w))}),p})},t}(),q$=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=rn(),i=rn(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Z2=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ot.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var u=o.Cn(n,a);return(g_(n)||ib(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(e,n):(MC()<=Lt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jC(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(c){return u.forEach(function(d){c=c.insert(d.key,d)}),c}))})},t.prototype.Cn=function(e,n){var r=new dr(y2(e));return n.forEach(function(i,o){Xy(e,o)&&(r=r.add(o))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o=e==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return MC()<=Lt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",jC(n)),this.Sn.getDocumentsMatchingQuery(e,n,Ot.min())},t}(),$$=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.kn=new _i(Mt),this.Fn=new dm(function(o){return Ky(o)},wE),this.$n=Ot.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new J2(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t,e,n,r){return new $$(t,e,n,r)}function t6(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return n=Ke(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var c;return n._n.getAllMutationBatches(u).next(function(d){return c=d,r=n.persistence.getMutationQueue(e),i=new J2(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(d){for(var p=[],v=[],y=rn(),w=0,b=c;w<b.length;w++){var E=b[w];p.push(E.batchId);for(var I=0,S=E.mutations;I<S.length;I++){var k=S[I];y=y.add(k.key)}}for(var C=0,A=d;C<A.length;C++){var O=A[C];v.push(O.batchId);for(var H=0,D=O.mutations;H<D.length;H++){var X=D[H];y=y.add(X.key)}}return i.pn(u,y).next(function(V){return{Ln:V,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function G$(t,e){var n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){var p=c.batch,v=p.keys(),y=He.resolve();return v.forEach(function(w){y=y.next(function(){return d.getEntry(u,w)}).next(function(b){var E=c.docVersions.get(w);wt(E!==null),b.version.compareTo(E)<0&&(p.applyToRemoteDocument(b,c),b.isValidDocument()&&d.addEntry(b,c.commitVersion))})}),y.next(function(){return a._n.removeMutationBatch(u,p)})}(n,r,e,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function n6(t){var e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function K$(t,e){var n=Ke(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];e.targetChanges.forEach(function(p,v){var y=i.get(v);if(y){u.push(n.qe.removeMatchingKeys(o,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(o,p.addedDocuments,v)}));var w=p.resumeToken;if(w.approximateByteSize()>0){var b=y.withResumeToken(w,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(v,b),function(E,I,S){return wt(I.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,b,p)&&u.push(n.qe.updateTargetData(o,b))}}});var c=Ko();if(e.documentUpdates.forEach(function(p,v){e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(r6(o,a,e.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(Ot.min())){var d=n.qe.getLastRemoteSnapshotVersion(o).next(function(p){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(d)}return He.waitFor(u).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,c)}).next(function(){return c})}).then(function(o){return n.kn=i,o})}function r6(t,e,n,r,i){var o=rn();return n.forEach(function(a){return o=o.add(a)}),e.getEntries(t,o).next(function(a){var u=Ko();return n.forEach(function(c,d){var p=a.get(c),v=(i==null?void 0:i.get(c))||r;d.isNoDocument()&&d.version.isEqual(Ot.min())?(e.removeEntry(c,v),u=u.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d,v),u=u.insert(c,d)):Ge("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),u})}function Y$(t,e){var n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function zp(t,e){var n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(o){return o?(i=o,He.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new SE(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function Hp(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:r=Ke(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Ah(a=u.sent()))throw a;return Ge("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function ub(t,e,n){var r=Ke(t),i=Ot.min(),o=rn();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(u,c,d){var p=Ke(u),v=p.Fn.get(d);return v!==void 0?He.resolve(p.kn.get(v)):p.qe.getTargetData(c,d)}(r,a,Qo(e)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,u.targetId).next(function(c){o=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:Ot.min(),n?o:rn())}).next(function(u){return{documents:u,Bn:o}})})}function i6(t,e){var n=Ke(t),r=Ke(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function o6(t){var e=Ke(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=Ke(r),u=Ko(),c=tA(o),d=ec(i),p=IDBKeyRange.lowerBound(c,!0);return d.$t({index:Un.readTimeIndex,range:p},function(v,y){var w=HC(a.R,y);u=u.insert(w.key,w),c=y.readTime}).next(function(){return{wn:u,readTime:$2(c)}})}(e.On,n,e.$n)}).then(function(n){var r=n.wn,i=n.readTime;return e.$n=i,r})}function X$(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){return[2,(e=Ke(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=ec(i),a=Ot.min();return o.$t({index:Un.readTimeIndex,reverse:!0},function(u,c,d){c.readTime&&(a=$2(c.readTime)),d.done()}).next(function(){return a})}(r)}).then(function(r){e.$n=r})]})})}function Q$(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o,a,u,c,d,p,v,y,w;return ge(this,function(b){switch(b.label){case 0:for(i=Ke(t),o=rn(),a=Ko(),u=A2(),c=0,d=n;c<d.length;c++)p=d[c],v=e.qn(p.metadata.name),p.document&&(o=o.add(v)),a=a.insert(v,e.Un(p)),u=u.insert(v,e.Kn(p.metadata.readTime));return y=i.On.newChangeBuffer({trackRemovals:!0}),[4,zp(i,function(E){return Qo(hm($t.fromString("__bundle__/docs/"+E)))}(r))];case 1:return w=b.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return r6(E,y,a,Ot.min(),u).next(function(I){return y.apply(E),I}).next(function(I){return i.qe.removeMatchingKeysForTargetId(E,w.targetId).next(function(){return i.qe.addMatchingKeys(E,o,w.targetId)}).next(function(){return i.Mn.En(E,I)}).next(function(){return I})})})]}})})}function J$(t,e,n){return n===void 0&&(n=rn()),ve(this,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return[4,zp(t,Qo(nA(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ke(t)).persistence.runTransaction("Save named query","readwrite",function(a){var u=Dr(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ke.saveNamedQuery(a,e);var c=r.withResumeToken(Di.EMPTY_BYTE_STRING,u);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z$=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return He.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Dr(r.createTime)}),He.resolve()},t.prototype.getNamedQuery=function(e,n){return He.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:nA(r.bundledQuery),readTime:Dr(r.readTime)}}(n)),He.resolve()},t}(),oA=function(){function t(){this.Wn=new dr(Ar.Gn),this.zn=new dr(Ar.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new Ar(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Ar(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new lt(new $t([])),i=new Ar(r,e),o=new Ar(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),a.push(u.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new lt(new $t([])),r=new Ar(n,e),i=new Ar(n,e+1),o=rn();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},t.prototype.containsKey=function(e){var n=new Ar(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),Ar=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return lt.comparator(e.key,n.key)||Mt(e.ns,n.ns)},t.Hn=function(e,n){return Mt(e.ns,n.ns)||lt.comparator(e.key,n.key)},t}(),eG=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new dr(Ar.Gn)}return t.prototype.checkEmpty=function(e){return He.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new eA(o,n,r,i);this._n.push(a);for(var u=0,c=i;u<c.length;u++){var d=c[u];this.rs=this.rs.add(new Ar(d.key,o)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return He.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return He.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return He.resolve(this._n.length>o?this._n[o]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return He.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return He.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new Ar(n,0),o=new Ar(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(u){var c=r.os(u.ns);a.push(c)}),He.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new dr(Mt);return n.forEach(function(o){var a=new Ar(o,0),u=new Ar(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,u],function(c){i=i.add(c.ns)})}),He.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;lt.isDocumentKey(o)||(o=o.child(""));var a=new Ar(new lt(o),0),u=new dr(Mt);return this.rs.forEachWhile(function(c){var d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.ns)),!0)},a),He.resolve(this.us(u))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;wt(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return He.forEach(n.mutations,function(o){var a=new Ar(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new Ar(n,0),i=this.rs.firstAfterOrEqual(r);return He.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,He.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),tG=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new _i(lt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return He.resolve(r?r.document.clone():Zr.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=Ko();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():Zr.newInvalidDocument(o))}),He.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=Ko(),o=new lt(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var u=a.getNext(),c=u.key,d=u.value,p=d.document,v=d.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||Xy(n,p)&&(i=i.insert(p.key,p.clone()))}return He.resolve(i)},t.prototype.fs=function(e,n){return He.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new nG(this)},t.prototype.getSize=function(e){return He.resolve(this.size)},t}(),nG=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return Ye(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),He.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(Q2),rG=function(){function t(e){this.persistence=e,this.ds=new dm(function(n){return Ky(n)},wE),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.ws=0,this._s=new oA,this.targetCount=0,this.ys=ab.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),He.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return He.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return He.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),He.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),He.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new ab(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,He.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),He.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,He.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(u,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(u),a.push(i.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),He.waitFor(a).next(function(){return o})},t.prototype.getTargetCount=function(e){return He.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return He.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),He.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),He.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),He.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return He.resolve(r)},t.prototype.containsKey=function(e,n){return He.resolve(this._s.containsKey(n))},t}(),iG=function(){function t(e,n){var r=this;this.gs={},this.Ne=new vo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new rG(this),this.Ut=new O$,this.Ue=function(i,o){return new tG(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new q2(n),this.Ke=new Z$(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new eG(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;Ge("MemoryPersistence","Starting transaction:",e);var o=new oG(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return He.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),oG=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return Ye(e,t),e}(H2),sG=function(){function t(e){this.persistence=e,this.As=new oA,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ut()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),He.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),He.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),He.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.vs,function(i){var o=lt.fromPath(i);return n.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return He.or([function(){return He.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),qr=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e){return"firestore_clients_"+t+"_"+e}function mP(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function ZS(t,e){return"firestore_targets_"+t+"_"+e}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");var gP=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Ve(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(tr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),eT=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new Ve(i.error.code,i.error.message)),o?new t(e,i.state,r):(tr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),vP=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=EE(),a=0;i&&a<r.activeTargetIds.length;++a)i=h2(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(tr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),aG=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(tr("SharedClientState","Failed to parse online state: "+e),null)},t}(),WC=function(){function t(){this.activeTargetIds=EE()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),tT=function(){function t(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new _i(Mt),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=pP(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new WC),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return ve(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c,d,p,v,y=this;return ge(this,function(w){switch(w.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=w.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(pP(this.persistenceKey,i)))&&(a=vP.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(c=this.js(u))&&this.Ws(c),d=0,p=this.$s;d<p.length;d++)v=p[d],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(ZS(this.persistenceKey,e));if(r){var i=eT.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(ZS(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return Ge("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){Ge("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return ve(n,void 0,void 0,function(){var i,o,a,u,c,d;return ge(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(d=function(v){var y=vo.o;if(v!=null)try{var w=JSON.parse(v);wt(typeof w=="number"),y=w}catch(b){tr("SharedClientState","Failed to read sequence number from WebStorage",b)}return y}(r.newValue))!==vo.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new gP(this.currentUser,e,n,r),o=mP(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},t.prototype.Hs=function(e){var n=mP(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=ZS(this.persistenceKey,e),o=new eT(e,n,r);this.setItem(i,o.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return vP.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return gP.Vs(new qr(o),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return eT.Vs(i,n)},t.prototype.js=function(e){return aG.Vs(e)},t.prototype.ii=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ge("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.Fs.insert(e,n):this.Fs.remove(e),o=this.Gs(this.Fs),a=this.Gs(i),u=[],c=[];return a.forEach(function(d){o.has(d)||u.push(d)}),o.forEach(function(d){a.has(d)||c.push(d)}),this.syncEngine.hi(u,c).then(function(){r.Fs=i})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=EE();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),s6=function(){function t(){this.li=new WC,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new WC,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),uG=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),yP=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),lG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cG=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),fG=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Ye(e,t),e.prototype.Fi=function(n,r,i,o){return new Promise(function(a,u){var c=new Vq;c.listenOnce(Uq.COMPLETE,function(){try{switch(c.getLastErrorCode()){case QS.NO_ERROR:var p=c.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(p)),a(p);break;case QS.TIMEOUT:Ge("Connection",'RPC "'+n+'" timed out'),u(new Ve(Re.DEADLINE_EXCEEDED,"Request time out"));break;case QS.HTTP_ERROR:var v=c.getStatus();if(Ge("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var y=c.getResponseJson().error;if(y&&y.status&&y.message){var w=function(b){var E=b.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(E)>=0?E:Re.UNKNOWN}(y.status);u(new Ve(w,y.message))}else u(new Ve(Re.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Ve(Re.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ge("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(o);c.send(r,"POST",d,i,15)})},e.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=Mq(),a=Fq(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new Bq({})),this.ki(u.initMessageHeaders,r),Ox()||xF()||EV()||SV()||TV()||Px()||(u.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");Ge("Connection","Creating WebChannel: "+c,u);var d=o.createWebChannel(c,u),p=!1,v=!1,y=new cG({Ei:function(b){v?Ge("Connection","Not sending because WebChannel is closed:",b):(p||(Ge("Connection","Opening WebChannel transport."),d.open(),p=!0),Ge("Connection","WebChannel sending:",b),d.send(b))},Ti:function(){return d.close()}}),w=function(b,E,I){b.listen(E,function(S){try{I(S)}catch(k){setTimeout(function(){throw k},0)}})};return w(d,M0.EventType.OPEN,function(){v||Ge("Connection","WebChannel transport opened.")}),w(d,M0.EventType.CLOSE,function(){v||(v=!0,Ge("Connection","WebChannel transport closed"),y.Vi())}),w(d,M0.EventType.ERROR,function(b){v||(v=!0,cy("Connection","WebChannel transport errored:",b),y.Vi(new Ve(Re.UNAVAILABLE,"The operation could not be completed")))}),w(d,M0.EventType.MESSAGE,function(b){var E;if(!v){var I=b.data[0];wt(!!I);var S=I,k=S.error||((E=S[0])===null||E===void 0?void 0:E.error);if(k){Ge("Connection","WebChannel received error:",k);var C=k.status,A=function(H){var D=Jn[H];if(D!==void 0)return k2(D)}(C),O=k.message;A===void 0&&(A=Re.INTERNAL,O="Unknown error status: "+C+" with message "+k.message),v=!0,y.Vi(new Ve(A,O)),d.close()}else Ge("Connection","WebChannel received:",I),y.Si(I)}}),w(a,jq.STAT_EVENT,function(b){b.stat===LO.PROXY?Ge("Connection","Detected buffering proxy"):b.stat===LO.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);Ge("RestConnection","Sending: ",o,r);var a={};return this.ki(a,i),this.Fi(e,o,a,r).then(function(u){return Ge("RestConnection","Received: ",u),u},function(u){throw cy("RestConnection",e+" failed with error: ",u,"url: ",o,"request:",r),u})},t.prototype.$i=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=lG[e];return this.Di+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(){return typeof window<"u"?window:null}function w_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){return new g$(t,!0)}var sA=function(){function t(e,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&Ge("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),u6=function(){function t(e,n,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new sA(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return ve(this,void 0,void 0,function(){return ge(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===Re.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===Re.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var o=new Ve(Re.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return ve(e,void 0,void 0,function(){return ge(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return Ge("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),hG=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,u}return Ye(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var u;if("targetChange"in a){a.targetChange;var c=function(I){return I==="NO_CHANGE"?0:I==="ADD"?1:I==="REMOVE"?2:I==="CURRENT"?3:I==="RESET"?4:ut()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(I,S){return I.I?(wt(S===void 0||typeof S=="string"),Di.fromBase64String(S||"")):(wt(S===void 0||S instanceof Uint8Array),Di.fromUint8Array(S||new Uint8Array))}(o,a.targetChange.resumeToken),v=(y=a.targetChange.cause)&&function(I){var S=I.code===void 0?Re.UNKNOWN:k2(I.code);return new Ve(S,I.message||"")}(y);u=new N2(c,d,p,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,d=Da(o,c.document.name),p=Dr(c.document.updateTime);var y=new go({mapValue:{fields:c.document.fields}}),w=(v=Zr.newFoundDocument(d,p,y),c.targetIds||[]),b=c.removedTargetIds||[];u=new y_(w,b,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,d=Da(o,c.document),p=c.readTime?Dr(c.readTime):Ot.min(),y=Zr.newNoDocument(d,p),v=c.removedTargetIds||[],u=new y_([],v,y.key,y);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,d=Da(o,c.document),p=c.removedTargetIds||[],u=new y_([],p,d,null);else{if(!("filter"in a))return ut();a.filter;var E=a.filter;E.targetId,c=E.count||0,d=new a$(c),p=E.targetId,u=new R2(p,d)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return Ot.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?Ot.min():a.readTime?Dr(a.readTime):Ot.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=gy(this.R),r.addTarget=function(o,a){var u,c=a.target;return(u=nb(c)?{documents:F2(o,c)}:{query:U2(o,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=O2(o,a.resumeToken):a.snapshotVersion.compareTo(Ot.min())>0&&(u.readTime=py(o,a.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,a){var u=function(c,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,a.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=gy(this.R),r.removeTarget=n,this.cr(r)},e}(u6),dG=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,u.gr=!1,u}return Ye(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(wt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(wt(a!==void 0),o.map(function(u){return function(c,d){var p=c.updateTime?Dr(c.updateTime):Dr(d);return p.isEqual(Ot.min())&&(p=Dr(d)),new i$(p,c.transformResults||[])}(u,a)})):[]}(n.writeResults,n.commitTime),i=Dr(n.commitTime);return this.listener.Tr(i,r)}return wt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=gy(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return ob(r.R,o)})};this.cr(i)},e}(u6),pG=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return Ye(e,t),e.prototype.br=function(){if(this.Rr)throw new Ve(Re.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Ve(Re.UNKNOWN,a.toString())})},e.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Ve(Re.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),mG=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(tr(n),this.Vr=!1):Ge("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),gG=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return ve(o,void 0,void 0,function(){return ge(this,function(u){switch(u.label){case 0:return Ic(this)?(Ge("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return ve(this,void 0,void 0,function(){var d;return ge(this,function(p){switch(p.label){case 0:return(d=Ke(c)).Or.add(4),[4,pm(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,tw(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new mG(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:if(!Ic(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function pm(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function TE(t,e){var n=Ke(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),lA(n)?uA(n):gm(n).er()&&aA(n,e))}function vy(t,e){var n=Ke(t),r=gm(n);n.$r.delete(e),r.er()&&l6(n,e),n.$r.size===0&&(r.er()?r.ir():Ic(n)&&n.Br.set("Unknown"))}function aA(t,e){t.qr.U(e.targetId),gm(t).mr(e)}function l6(t,e){t.qr.U(e),gm(t).yr(e)}function uA(t){t.qr=new d$({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),gm(t).start(),t.Br.Sr()}function lA(t){return Ic(t)&&!gm(t).tr()&&t.$r.size>0}function Ic(t){return Ke(t).Or.size===0}function c6(t){t.qr=void 0}function vG(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){return t.$r.forEach(function(n,r){aA(t,n)}),[2]})})}function yG(t,e){return ve(this,void 0,void 0,function(){return ge(this,function(n){return c6(t),lA(t)?(t.Br.Nr(e),uA(t)):t.Br.set("Unknown"),[2]})})}function wG(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o;return ge(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof N2&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(u,c){return ve(this,void 0,void 0,function(){var d,p,v,y;return ge(this,function(w){switch(w.label){case 0:d=c.cause,p=0,v=c.targetIds,w.label=1;case 1:return p<v.length?(y=v[p],u.$r.has(y)?[4,u.remoteSyncer.rejectListen(y,d)]:[3,3]):[3,5];case 2:w.sent(),u.$r.delete(y),u.qr.removeTarget(y),w.label=3;case 3:w.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,lb(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof y_?t.qr.X(e):e instanceof R2?t.qr.rt(e):t.qr.et(e),n.isEqual(Ot.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,n6(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(u,c){var d=u.qr.ut(c);return d.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var y=u.$r.get(v);y&&u.$r.set(v,y.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach(function(p){var v=u.$r.get(p);if(v){u.$r.set(p,v.withResumeToken(Di.EMPTY_BYTE_STRING,v.snapshotVersion)),l6(u,p);var y=new SE(v.target,p,1,v.sequenceNumber);aA(u,y)}}),u.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ge("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,lb(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function lb(t,e,n){return ve(this,void 0,void 0,function(){var r=this;return ge(this,function(i){switch(i.label){case 0:if(!Ah(e))throw e;return t.Or.add(1),[4,pm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return n6(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return ve(r,void 0,void 0,function(){return ge(this,function(o){switch(o.label){case 0:return Ge("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),t.Or.delete(1),[4,tw(t)];case 2:return o.sent(),[2]}})})}),[2]}})})}function f6(t,e){return e().catch(function(n){return lb(t,n,e)})}function mm(t){return ve(this,void 0,void 0,function(){var e,n,r,i,o;return ge(this,function(a){switch(a.label){case 0:e=Ke(t),n=yc(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(u){return Ic(u)&&u.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Y$(e.localStore,r)];case 3:return(i=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,c){u.Fr.push(c);var d=yc(u);d.er()&&d.pr&&d.Er(c.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,lb(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return h6(e)&&d6(e),[2]}})})}function h6(t){return Ic(t)&&!yc(t).tr()&&t.Fr.length>0}function d6(t){yc(t).start()}function _G(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){return yc(t).Ar(),[2]})})}function bG(t){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){for(e=yc(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function EG(t,e,n){return ve(this,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=R$.from(r,e,n),[4,f6(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,mm(t)];case 2:return o.sent(),[2]}})})}function SG(t,e){return ve(this,void 0,void 0,function(){return ge(this,function(n){switch(n.label){case 0:return e&&yc(t).pr?[4,function(r,i){return ve(this,void 0,void 0,function(){var o,a;return ge(this,function(u){switch(u.label){case 0:return x2(a=i.code)&&a!==Re.ABORTED?(o=r.Fr.shift(),yc(r).sr(),[4,f6(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,mm(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return h6(t)&&d6(t),[2]}})})}function qC(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return n=Ke(t),e?(n.Or.delete(2),[4,tw(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,pm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function gm(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var o=Ke(n);return o.br(),new hG(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:vG.bind(null,t),Ri:yG.bind(null,t),_r:wG.bind(null,t)}),t.Mr.push(function(n){return ve(e,void 0,void 0,function(){return ge(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),lA(t)?uA(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),c6(t),r.label=3;case 3:return[2]}})})})),t.Ur}function yc(t){var e=this;return t.Kr||(t.Kr=function(n,r,i){var o=Ke(n);return o.br(),new dG(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:_G.bind(null,t),Ri:SG.bind(null,t),Ir:bG.bind(null,t),Tr:EG.bind(null,t)}),t.Mr.push(function(n){return ve(e,void 0,void 0,function(){return ge(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,mm(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(Ge("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var TG=function(){function t(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function vm(t,e){if(tr("AsyncQueue",e+": "+t),Ah(t))return new Ve(Re.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p6=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||lt.comparator(n.key,r.key)}:function(n,r){return lt.comparator(n.key,r.key)},this.keyedMap=VC(),this.sortedSet=new _i(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),wP=function(){function t(){this.Qr=new _i(lt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(n):e.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):ut():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),cb=function(){function t(e,n,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new t(e,n,p6.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),IG=function(){this.Wr=void 0,this.listeners=[]},CG=function(){this.queries=new dm(function(t){return v2(t)},Yy),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:if(n=Ke(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new IG),!i)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=d.sent(),[3,4];case 3:return u=d.sent(),c=vm(u,"Initialization of query '"+jC(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&hA(n),[2]}})})}function fA(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a;return ge(this,function(u){return n=Ke(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function xG(t,e){for(var n=Ke(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],u=a.query,c=n.queries.get(u);if(c){for(var d=0,p=c.listeners;d<p.length;d++)p[d].Hr(a)&&(r=!0);c.Wr=a}}r&&hA(n)}function kG(t,e,n){var r=Ke(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function hA(t){t.Gr.forEach(function(e){e.next()})}var dA=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}e=new cb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=cb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),AG=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),_P=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return Da(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?M2(this.R,e.document,!1):Zr.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return Dr(e)},t}(),RG=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=m6(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new _P(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var u=r.qn(a.metadata.name),c=0,d=a.metadata.queries;c<d.length;c++){var p=d[c],v=(n.get(p)||rn()).add(u);n.set(p,v)}}return n},t.prototype.complete=function(){return ve(this,void 0,void 0,function(){var e,n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return[4,Q$(this.localStore,new _P(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,J$(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new W$(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g6=function(t){this.key=t},v6=function(t){this.key=t},y6=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=rn(),this.mutatedKeys=rn(),this.lo=y2(e),this.fo=new p6(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new wP,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,u=o,c=!1,d=g_(this.query)&&o.size===this.query.limit?o.last():null,p=ib(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(y,w){var b=o.get(y),E=Xy(r.query,w)?w:null,I=!!b&&r.mutatedKeys.has(b.key),S=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),k=!1;b&&E?b.data.isEqual(E.data)?I!==S&&(i.track({type:3,doc:E}),k=!0):r.yo(b,E)||(i.track({type:2,doc:E}),k=!0,(d&&r.lo(E,d)>0||p&&r.lo(E,p)<0)&&(c=!0)):!b&&E?(i.track({type:0,doc:E}),k=!0):b&&!E&&(i.track({type:1,doc:b}),k=!0,(d||p)&&(c=!0)),k&&(E?(u=u.add(E),a=S?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),g_(this.query)||ib(this.query))for(;u.size>this.query.limit;){var v=g_(this.query)?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:u,mo:i,Nn:c,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(p,v){return function(y,w){var b=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return b(y)-b(w)}(p.type,v.type)||i.lo(p.doc,v.doc)}),this.po(r);var u=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,d=c!==this.ao;return this.ao=c,a.length!==0||d?{snapshot:new cb(this.query,e.fo,o,a,e.mutatedKeys,c===0,d,!1),To:u}:{To:u}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new wP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=rn(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new v6(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new g6(i))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=rn();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return cb.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),NG=function(t,e,n){this.query=t,this.targetId=e,this.view=n},OG=function(t){this.key=t,this.bo=!1},PG=function(){function t(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new dm(function(u){return v2(u)},Yy),this.Vo=new Map,this.So=new Set,this.Do=new _i(lt.comparator),this.Co=new Map,this.No=new oA,this.xo={},this.ko=new Map,this.Fo=ab.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function DG(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u;return ge(this,function(c){switch(c.label){case 0:return n=yA(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,zp(n.localStore,Qo(e))];case 2:return a=c.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,pA(n,e,r,u==="current")];case 3:i=c.sent(),n.isPrimaryClient&&TE(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function pA(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o,a,u,c,d;return ge(this,function(p){switch(p.label){case 0:return t.Oo=function(v,y,w){return function(b,E,I,S){return ve(this,void 0,void 0,function(){var k,C,A;return ge(this,function(O){switch(O.label){case 0:return k=E.view._o(I),k.Nn?[4,ub(b.localStore,E.query,!1).then(function(H){var D=H.documents;return E.view._o(D,k)})]:[3,2];case 1:k=O.sent(),O.label=2;case 2:return C=S&&S.targetChanges.get(E.targetId),A=E.view.applyChanges(k,b.isPrimaryClient,C),[2,($C(b,E.targetId,A.To),A.snapshot)]}})})}(t,v,y,w)},[4,ub(t.localStore,e,!0)];case 1:return i=p.sent(),o=new y6(e,i.Bn),a=o._o(i.documents),u=Qk.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),c=o.applyChanges(a,t.isPrimaryClient,u),$C(t,n,c.To),d=new NG(e,n,o),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function LG(t,e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:return n=Ke(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Yy(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Hp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),vy(n.remoteStore,r.targetId),Wp(n,r.targetId)}).catch(Rh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Wp(n,r.targetId),[4,Hp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function MG(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:r=wA(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(c,d){var p,v=Ke(c),y=Zi.now(),w=d.reduce(function(b,E){return b.add(E.key)},rn());return v.persistence.runTransaction("Locally write mutations","readwrite",function(b){return v.Mn.pn(b,w).next(function(E){p=E;for(var I=[],S=0,k=d;S<k.length;S++){var C=k[S],A=s$(C,p.get(C.key));A!=null&&I.push(new Tc(C.key,A,d2(A.value.mapValue),pi.exists(!0)))}return v._n.addMutationBatch(b,y,I,d)})}).then(function(b){return b.applyToLocalDocumentSet(p),{batchId:b.batchId,changes:p}})}(r.localStore,e)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,d,p){var v=c.xo[c.currentUser.toKey()];v||(v=new _i(Mt)),v=v.insert(d,p),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,Vu(r,i.changes)];case 3:return u.sent(),[4,mm(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=vm(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function w6(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:n=Ke(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,K$(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var u=n.Co.get(a);u&&(wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?wt(u.bo):o.removedDocuments.size>0&&(wt(u.bo),u.bo=!1))}),[4,Vu(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Rh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function bP(t,e,n){var r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var u=a.view.zr(e);u.snapshot&&i.push(u.snapshot)}),function(o,a){var u=Ke(o);u.onlineState=a;var c=!1;u.queries.forEach(function(d,p){for(var v=0,y=p.listeners;v<y.length;v++)y[v].zr(a)&&(c=!0)}),c&&hA(u)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function FG(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:return(r=Ke(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new _i(lt.comparator)).insert(o,Zr.newNoDocument(o,Ot.min())),u=rn().add(o),c=new Xk(Ot.min(),new Map,new dr(Mt),a,u),[4,w6(r,c)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),vA(r),[3,4];case 2:return[4,Hp(r.localStore,e,!1).then(function(){return Wp(r,e,n)}).catch(Rh)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function UG(t,e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:n=Ke(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,G$(n.localStore,e)];case 2:return i=o.sent(),gA(n,r,null),mA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Vu(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Rh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function jG(t,e,n){return ve(this,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:r=Ke(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,u){var c=Ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return c._n.lookupMutationBatch(d,u).next(function(v){return wt(v!==null),p=v.keys(),c._n.removeMutationBatch(d,v)}).next(function(){return c._n.performConsistencyCheck(d)}).next(function(){return c.Mn.pn(d,p)})})}(r.localStore,e)];case 2:return i=o.sent(),gA(r,e,n),mA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Vu(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Rh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function BG(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a;return ge(this,function(u){switch(u.label){case 0:Ic((n=Ke(t)).remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(c){var d=Ke(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),a=vm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function mA(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function gA(t,e,n){var r=Ke(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Wp(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||_6(t,a)})}function _6(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(vy(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),vA(t))}function $C(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof g6?(t.No.addReference(o.key,e),VG(t,o)):o instanceof v6?(Ge("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||_6(t,o.key)):ut()}}function VG(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ge("SyncEngine","New document in limbo: "+n),t.So.add(r),vA(t))}function vA(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new lt($t.fromString(e)),r=t.Fo.next();t.Co.set(r,new OG(n)),t.Do=t.Do.insert(n,r),TE(t.remoteStore,new SE(Qo(hm(n.path)),r,2,vo.o))}}function Vu(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return r=Ke(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,d){a.push(r.Oo(d,e,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),i.push(p);var v=q$.Pn(d.targetId,p);o.push(v)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(c,d){return ve(this,void 0,void 0,function(){var p,v,y,w,b,E,I,S,k;return ge(this,function(C){switch(C.label){case 0:p=Ke(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(A){return He.forEach(d,function(O){return He.forEach(O.bn,function(H){return p.persistence.referenceDelegate.addReference(A,O.targetId,H)}).next(function(){return He.forEach(O.vn,function(H){return p.persistence.referenceDelegate.removeReference(A,O.targetId,H)})})})})];case 2:return C.sent(),[3,4];case 3:if(!Ah(v=C.sent()))throw v;return Ge("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(y=0,w=d;y<w.length;y++)b=w[y],E=b.targetId,b.fromCache||(I=p.kn.get(E),S=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(S),p.kn=p.kn.insert(E,k));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function zG(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return(n=Ke(t)).currentUser.isEqual(e)?[3,3]:(Ge("SyncEngine","User change. New user:",e.toKey()),[4,t6(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(o,a){o.ko.forEach(function(u){u.forEach(function(c){c.reject(new Ve(Re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Vu(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function HG(t,e){var n=Ke(t),r=n.Co.get(e);if(r&&r.bo)return rn().add(r.key);var i=rn(),o=n.Vo.get(e);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var c=u[a],d=n.Po.get(c);i=i.unionWith(d.view.wo)}return i}function WG(t,e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,ub((n=Ke(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&$C(n,e.targetId,i.To),i)]}})})}function qG(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){return[2,o6((e=Ke(t)).localStore).then(function(r){return Vu(e,r)})]})})}function $G(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o;return ge(this,function(a){switch(a.label){case 0:return[4,function(u,c){var d=Ke(u),p=Ke(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,c).next(function(y){return y?d.Mn.pn(v,y):He.resolve(null)})})}((i=Ke(t)).localStore,e)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,mm(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(gA(i,e,r||null),mA(i,e),function(u,c){Ke(Ke(u)._n).Gt(c)}(i.localStore,e)):ut(),a.label=4;case 4:return[4,Vu(i,o)];case 5:return a.sent(),[3,7];case 6:Ge("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function GG(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c,d;return ge(this,function(p){switch(p.label){case 0:return yA(n=Ke(t)),wA(n),e!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,EP(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,qC(n.remoteStore,!0)];case 2:for(p.sent(),o=0,a=i;o<a.length;o++)u=a[o],TE(n.remoteStore,u);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(c=[],d=Promise.resolve(),n.Vo.forEach(function(v,y){n.sharedClientState.isLocalQueryTarget(y)?c.push(y):d=d.then(function(){return Wp(n,y),Hp(n.localStore,y,!0)}),vy(n.remoteStore,y)}),[4,d]);case 4:return p.sent(),[4,EP(n,c)];case 5:return p.sent(),function(v){var y=Ke(v);y.Co.forEach(function(w,b){vy(y.remoteStore,b)}),y.No.ts(),y.Co=new Map,y.Do=new _i(lt.comparator)}(n),n.$o=!1,[4,qC(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function EP(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d,p,v,y,w,b,E,I;return ge(this,function(S){switch(S.label){case 0:r=Ke(t),i=[],o=[],a=0,u=e,S.label=1;case 1:return a<u.length?(c=u[a],d=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,zp(r.localStore,Qo(p[0]))]:[3,7]):[3,13];case 2:d=S.sent(),v=0,y=p,S.label=3;case 3:return v<y.length?(w=y[v],b=r.Po.get(w),[4,WG(r,b)]):[3,6];case 4:(E=S.sent()).snapshot&&o.push(E.snapshot),S.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,i6(r.localStore,c)];case 8:return I=S.sent(),[4,zp(r.localStore,I)];case 9:return d=S.sent(),[4,pA(r,b6(I),c,!1)];case 10:S.sent(),S.label=11;case 11:i.push(d),S.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function b6(t){return m2(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function KG(t){var e=Ke(t);return Ke(Ke(e.localStore).persistence).fn()}function YG(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o,a;return ge(this,function(u){switch(u.label){case 0:return(i=Ke(t)).$o?(Ge("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,o6(i.localStore)];case 3:return o=u.sent(),a=Xk.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Vu(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,Hp(i.localStore,e,!0)];case 6:return u.sent(),Wp(i,e,r),[3,8];case 7:ut(),u.label=8;case 8:return[2]}})})}function XG(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:if(!(r=yA(t)).$o)return[3,10];i=0,o=e,w.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Ge("SyncEngine","Adding an already active target "+a),[3,5]):[4,i6(r.localStore,a)]):[3,6];case 2:return u=w.sent(),[4,zp(r.localStore,u)];case 3:return c=w.sent(),[4,pA(r,b6(u),c.targetId,!1)];case 4:w.sent(),TE(r.remoteStore,c),w.label=5;case 5:return i++,[3,1];case 6:d=function(b){return ge(this,function(E){switch(E.label){case 0:return r.Vo.has(b)?[4,Hp(r.localStore,b,!1).then(function(){vy(r.remoteStore,b),Wp(r,b)}).catch(Rh)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},p=0,v=n,w.label=7;case 7:return p<v.length?(y=v[p],[5,d(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function yA(t){var e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FG.bind(null,e),e.vo._r=xG.bind(null,e.eventManager),e.vo.Mo=kG.bind(null,e.eventManager),e}function wA(t){var e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jG.bind(null,e),e}function QG(t,e,n){var r=Ke(t);(function(i,o,a){return ve(this,void 0,void 0,function(){var u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:return w.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return u=w.sent(),[4,function(b,E){var I=Ke(b),S=Dr(E.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",function(k){return I.Ke.getBundleMetadata(k,E.id)}).then(function(k){return!!k&&k.createTime.compareTo(S)>=0})}(i.localStore,u)];case 2:return w.sent()?[4,o.close()]:[3,4];case 3:return[2,(w.sent(),void a._completeWith(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(u)))];case 4:return a._updateProgress(m6(u)),c=new RG(u,i.localStore,o.R),[4,o.Lo()];case 5:d=w.sent(),w.label=6;case 6:return d?[4,c.oo(d)]:[3,10];case 7:return(p=w.sent())&&a._updateProgress(p),[4,o.Lo()];case 8:d=w.sent(),w.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=w.sent(),[4,Vu(i,v.wn,void 0)];case 12:return w.sent(),[4,function(b,E){var I=Ke(b);return I.persistence.runTransaction("Save bundle","readwrite",function(S){return I.Ke.saveBundleMetadata(S,E)})}(i.localStore,u)];case 13:return w.sent(),a._completeWith(v.progress),[3,15];case 14:return cy("SyncEngine","Loading bundle failed with "+(y=w.sent())),a._failWith(y),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var E6=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){switch(n.label){case 0:return this.R=ew(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return e6(this.persistence,new Z2,e.initialUser,this.R)},t.prototype.qo=function(e){return new iG(sG.bs,this.R)},t.prototype.Bo=function(e){return new s6},t.prototype.terminate=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),S6=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return Ye(e,t),e.prototype.initialize=function(n){return ve(this,void 0,void 0,function(){var r=this;return ge(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,X$(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,wA(this.Qo.syncEngine)];case 4:return i.sent(),[4,mm(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(n){return e6(this.persistence,new Z2,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new F$(r,n.asyncQueue)},e.prototype.qo=function(n){var r=iA(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Ta.withCacheSize(this.cacheSizeBytes):Ta.DEFAULT;return new H$(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,a6(),w_(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new s6},e}(E6),JG=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ye(e,t),e.prototype.initialize=function(n){return ve(this,void 0,void 0,function(){var r,i=this;return ge(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof tT?(this.sharedClientState.syncEngine={ui:$G.bind(null,r),ai:YG.bind(null,r),hi:XG.bind(null,r),fn:KG.bind(null,r),ci:qG.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return ve(i,void 0,void 0,function(){return ge(this,function(u){switch(u.label){case 0:return[4,GG(this.Qo.syncEngine,a)];case 1:return u.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(n){var r=a6();if(!tT.yt(r))throw new Ve(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=iA(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new tT(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(S6),GC=function(){function t(){}return t.prototype.initialize=function(e,n){return ve(this,void 0,void 0,function(){var r=this;return ge(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return bP(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zG.bind(null,this.syncEngine),[4,qC(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new CG},t.prototype.createDatastore=function(e){var n,r=ew(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new fG(n));return function(o,a,u){return new pG(o,a,u)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,o,a,u=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(c){return bP(u.syncEngine,c,0)},a=yP.yt()?new yP:new uG,new gG(n,r,i,o,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,o,a,u,c,d){var p=new PG(r,i,o,a,u,c);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return n=Ke(e),Ge("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,pm(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return ve(this,void 0,void 0,function(){var r;return ge(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return ve(this,void 0,void 0,function(){return ge(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IE=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),ZG=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new wi,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new AG(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e===123})},t.prototype.Jo=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),eK=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return ve(this,void 0,void 0,function(){var n,r=this;return ge(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ve(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return ve(this,void 0,void 0,function(){var u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:return u=Ke(o),c=gy(u.R)+"/documents",d={documents:a.map(function(b){return my(u.R,b)})},[4,u.$i("BatchGetDocuments",c,d)];case 1:return p=w.sent(),v=new Map,p.forEach(function(b){var E=function(I,S){return"found"in S?function(k,C){wt(!!C.found),C.found.name,C.found.updateTime;var A=Da(k,C.found.name),O=Dr(C.found.updateTime),H=new go({mapValue:{fields:C.found.fields}});return Zr.newFoundDocument(A,O,H)}(I,S):"missing"in S?function(k,C){wt(!!C.missing),wt(!!C.readTime);var A=Da(k,C.missing),O=Dr(C.readTime);return Zr.newNoDocument(A,O)}(I,S):ut()}(u.R,b);v.set(E.key.toString(),E)}),y=[],[2,(a.forEach(function(b){var E=v.get(b.toString());wt(!!E),y.push(E)}),y)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Zy(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return ve(this,void 0,void 0,function(){var e,n=this;return ge(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=lt.fromPath(o);n.mutations.push(new Yk(a,n.precondition(a)))}),[4,function(i,o){return ve(this,void 0,void 0,function(){var a,u,c;return ge(this,function(d){switch(d.label){case 0:return a=Ke(i),u=gy(a.R)+"/documents",c={writes:o.map(function(p){return ob(a.R,p)})},[4,a.Ni("Commit",u,c)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ut();n=Ot.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ve(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?pi.updateTime(n):pi.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ot.min()))throw new Ve(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pi.updateTime(n)}return pi.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),tK=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new sA(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return ve(e,void 0,void 0,function(){var n,r,i=this;return ge(this,function(o){return n=new eK(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(u){i.ic(u)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!kh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!x2(n)}return!1},t}(),nK=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=qr.UNAUTHENTICATED,this.clientId=a2.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return ve(i,void 0,void 0,function(){return ge(this,function(a){switch(a.label){case 0:return Ge("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return t.prototype.getConfiguration=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ve(Re.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return ve(e,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=vm(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t,e){return ve(this,void 0,void 0,function(){var n,r,i=this;return ge(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return ve(i,void 0,void 0,function(){return ge(this,function(u){switch(u.label){case 0:return r.isEqual(a)?[3,2]:[4,t6(e.localStore,a)];case 1:u.sent(),r=a,u.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function I6(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,_A(t)];case 1:return n=i.sent(),Ge("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(o){return function(a,u){return ve(this,void 0,void 0,function(){var c,d;return ge(this,function(p){switch(p.label){case 0:return(c=Ke(a)).asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials"),d=Ic(c),c.Or.add(3),[4,pm(c)];case 1:return p.sent(),d&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(u)];case 2:return p.sent(),c.Or.delete(3),[4,tw(c)];case 3:return p.sent(),[2]}})})}(e.remoteStore,o)}),t.onlineComponents=e,[2]}})})}function _A(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ge("FirestoreClient","Using default OfflineComponentProvider"),[4,T6(t,new E6)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function CE(t){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ge("FirestoreClient","Using default OnlineComponentProvider"),[4,I6(t,new GC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function TP(t){return _A(t).then(function(e){return e.persistence})}function bA(t){return _A(t).then(function(e){return e.localStore})}function IP(t){return CE(t).then(function(e){return e.remoteStore})}function EA(t){return CE(t).then(function(e){return e.syncEngine})}function qp(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return[4,CE(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=DG.bind(null,e.syncEngine),n.onUnlisten=LG.bind(null,e.syncEngine),n)]}})})}function CP(t,e,n){var r=this;n===void 0&&(n={});var i=new wi;return t.asyncQueue.enqueueAndForget(function(){return ve(r,void 0,void 0,function(){var o;return ge(this,function(a){switch(a.label){case 0:return o=function(u,c,d,p,v){var y=new IE({next:function(b){c.enqueueAndForget(function(){return fA(u,w)});var E=b.docs.has(d);!E&&b.fromCache?v.reject(new Ve(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&p&&p.source==="server"?v.reject(new Ve(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),w=new dA(hm(d.path),y,{includeMetadataChanges:!0,so:!0});return cA(u,w)},[4,qp(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function xP(t,e,n){var r=this;n===void 0&&(n={});var i=new wi;return t.asyncQueue.enqueueAndForget(function(){return ve(r,void 0,void 0,function(){var o;return ge(this,function(a){switch(a.label){case 0:return o=function(u,c,d,p,v){var y=new IE({next:function(b){c.enqueueAndForget(function(){return fA(u,w)}),b.fromCache&&p.source==="server"?v.reject(new Ve(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),w=new dA(d,y,{includeMetadataChanges:!0,so:!0});return cA(u,w)},[4,qp(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var rK=function(t,e,n,r,i,o,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},fb=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),kP=new Map,C6=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},AP=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(qr.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),iK=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),oK=function(){function t(e){var n=this;this.currentUser=qr.UNAUTHENTICATED,this.oc=new wi,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){Ge("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):(Ge("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(Ge("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(wt(typeof i.accessToken=="string"),new C6(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return ve(r,void 0,void 0,function(){return ge(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new qr(e)},t}(),sK=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=qr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),aK=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new sK(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(qr.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e,n){if(!n)throw new Ve(Re.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function TA(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function x6(t,e,n,r){if(e===!0&&r===!0)throw new Ve(Re.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function RP(t){if(!lt.isDocumentKey(t))throw new Ve(Re.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function NP(t){if(lt.isDocumentKey(t))throw new Ve(Re.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function xE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":ut()}function Wt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xE(t);throw new Ve(Re.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function OP(t,e){if(e<=0)throw new Ve(Re.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PP=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ve(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,x6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),yy=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PP({}),this._settingsFrozen=!1,e instanceof fb?(this._databaseId=e,this._credentials=new AP):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ve(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fb(r.options.projectId)}(e),this._credentials=new oK(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ve(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ve(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PP(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new AP;switch(n.type){case"gapi":var r=n.client;return wt(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new aK(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Ve(Re.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=kP.get(e))&&(Ge("ComponentProvider","Removing Datastore"),kP.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Nn=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cc(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),eo=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),cc=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,hm(i))||this)._path=i,o.type="collection",o}return Ye(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Nn(this.firestore,null,new lt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(eo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Tt(t),SA("collection","path",e),t instanceof yy)return NP(n=$t.fromString.apply($t,Ct([e],r))),new cc(t,null,n);if(!(t instanceof Nn||t instanceof cc))throw new Ve(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return NP(n=$t.fromString.apply($t,Ct([t.path],r)).child($t.fromString(e))),new cc(t.firestore,null,n)}function __(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Tt(t),arguments.length===1&&(e=a2.u()),SA("doc","path",e),t instanceof yy)return RP(n=$t.fromString.apply($t,Ct([e],r))),new Nn(t,null,new lt(n));if(!(t instanceof Nn||t instanceof cc))throw new Ve(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return RP(n=t._path.child($t.fromString.apply($t,Ct([e],r)))),new Nn(t.firestore,t instanceof cc?t.converter:null,new lt(n))}function A6(t,e){return t=Tt(t),e=Tt(e),(t instanceof Nn||t instanceof cc)&&(e instanceof Nn||e instanceof cc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function R6(t,e){return t=Tt(t),e=Tt(e),t instanceof eo&&e instanceof eo&&t.firestore===e.firestore&&Yy(t._query,e._query)&&t.converter===e.converter}var uK=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new sA(this,"async_queue_retry"),this.Ic=function(){var r=w_();r&&Ge("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=w_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=w_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new wi;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return ve(this,void 0,void 0,function(){var e,n=this;return ge(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ah(e=r.sent()))throw e;return Ge("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(i){throw n.yc=i,n.gc=!1,tr("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var o=TG.createAndSchedule(this,e,n,r,function(a){return i.vc(a)});return this.mc.push(o),o},t.prototype.Ac=function(){this.yc&&ut()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,u){return a.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function $p(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var lK=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),cK=-1,Wn=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new uK,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return Ye(e,t),e.prototype._terminate=function(){return this._firestoreClient||N6(this),this._firestoreClient.terminate()},e}(yy);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){return t._firestoreClient||N6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function N6(t){var e,n=t._freezeSettings(),r=function(i,o,a,u){return new rK(i,o,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new nK(t._credentials,t._queue,r)}function DP(t,e,n){var r=this,i=new wi;return t.asyncQueue.enqueue(function(){return ve(r,void 0,void 0,function(){var o;return ge(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,T6(t,n)];case 1:return a.sent(),[4,I6(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===Re.FAILED_PRECONDITION||u.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function LP(t){if(t._initialized||t._terminated)throw new Ve(Re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var La=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Os(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),vh=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Di.fromBase64String(e))}catch(n){throw new Ve(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Di.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Nh=function(t){this._methodName=t},kE=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)},t}(),fK=/^__.*__$/,hK=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Tc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jy(e,this.data,n,this.fieldTransforms)},t}(),O6=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new Tc(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}var D6=function(){function t(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},t.prototype.Oc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return hb(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(P6(this.Nc)&&fK.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),dK=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||ew(e)}return t.prototype.Uc=function(e,n,r,i){return i===void 0&&(i=!1),new D6({Nc:e,methodName:n,qc:r,path:Os.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Oh(t){var e=t._freezeSettings(),n=ew(t._databaseId);return new dK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AE(t,e,n,r,i,o){o===void 0&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);kA("Data must be an object, but it was:",a,r);var u,c,d=F6(r,a);if(o.merge)u=new Np(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var p=[],v=0,y=o.mergeFields;v<y.length;v++){var w=KC(e,y[v],n);if(!a.contains(w))throw new Ve(Re.INVALID_ARGUMENT,"Field '"+w+"' is specified in your field mask but missing from your input data.");j6(p,w)||p.push(w)}u=new Np(p),c=a.fieldTransforms.filter(function(b){return u.covers(b.field)})}else u=null,c=a.fieldTransforms;return new hK(new go(d),u,c)}var IA=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Nh);function L6(t,e,n){return new D6({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var pK=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype._toFieldTransform=function(n){return new Qy(n.path,new Lp)},e.prototype.isEqual=function(n){return n instanceof e},e}(Nh),mK=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return Ye(e,t),e.prototype._toFieldTransform=function(n){var r=L6(this,n,!0),i=this.Kc.map(function(a){return Ph(a,r)}),o=new mh(i);return new Qy(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Nh),gK=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return Ye(e,t),e.prototype._toFieldTransform=function(n){var r=L6(this,n,!0),i=this.Kc.map(function(a){return Ph(a,r)}),o=new gh(i);return new Qy(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Nh),vK=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Qc=r,i}return Ye(e,t),e.prototype._toFieldTransform=function(n){var r=new Mp(n.R,b2(n.R,this.Qc));return new Qy(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Nh);function CA(t,e,n,r){var i=t.Uc(1,e,n);kA("Data must be an object, but it was:",i,r);var o=[],a=go.empty();xh(r,function(c,d){var p=AA(e,c,n);d=Tt(d);var v=i.Oc(p);if(d instanceof IA)o.push(p);else{var y=Ph(d,v);y!=null&&(o.push(p),a.set(p,y))}});var u=new Np(o);return new O6(a,u,i.fieldTransforms)}function xA(t,e,n,r,i,o){var a=t.Uc(1,e,n),u=[KC(e,r,n)],c=[i];if(o.length%2!=0)throw new Ve(Re.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<o.length;d+=2)u.push(KC(e,o[d])),c.push(o[d+1]);for(var p=[],v=go.empty(),y=u.length-1;y>=0;--y)if(!j6(p,u[y])){var w=u[y],b=c[y];b=Tt(b);var E=a.Oc(w);if(b instanceof IA)p.push(w);else{var I=Ph(b,E);I!=null&&(p.push(w),v.set(w,I))}}var S=new Np(p);return new O6(v,S,a.fieldTransforms)}function M6(t,e,n,r){return r===void 0&&(r=!1),Ph(n,t.Uc(r?4:3,e))}function Ph(t,e){if(U6(t=Tt(t)))return kA("Unsupported field value:",e,t),F6(t,e);if(t instanceof Nh)return function(n,r){if(!P6(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,u=n;a<u.length;a++){var c=Ph(u[a],r.Mc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Tt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return b2(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Zi.fromDate(n);return{timestampValue:py(r.R,i)}}if(n instanceof Zi)return i=new Zi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:py(r.R,i)};if(n instanceof kE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vh)return{bytesValue:O2(r.R,n._byteString)};if(n instanceof Nn){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Jk(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+xE(n))}(t,e)}function F6(t,e){var n={};return l2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xh(t,function(r,i){var o=Ph(i,e.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function U6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zi||t instanceof kE||t instanceof vh||t instanceof Nn||t instanceof Nh)}function kA(t,e,n){if(!U6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=xE(n);throw r==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function KC(t,e,n){if((e=Tt(e))instanceof La)return e._internalPath;if(typeof e=="string")return AA(t,e);throw hb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var yK=new RegExp("[~\\*/\\[\\]]");function AA(t,e,n){if(e.search(yK)>=0)throw hb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(La.bind.apply(La,Ct([void 0],e.split("."))))()._internalPath}catch{throw hb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function hb(t,e,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new Ve(Re.INVALID_ARGUMENT,(u+=". ")+t+c)}function j6(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wy=function(){function t(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Nn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new wK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(db("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),wK=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(wy);function db(t,e){return typeof e=="string"?AA(t,e):e instanceof La?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Ru=function(t){function e(n,r,i,o,a,u){var c=this;return(c=t.call(this,n,r,i,o,u)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return Ye(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new $v(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(db("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(wy),$v=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Ru),ic=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xf(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new $v(r._firestore,r._userDataWriter,i.key,i,new Xf(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new $v(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Xf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var c=new $v(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Xf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,p=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(p=(a=a.add(u.doc)).indexOf(u.doc.key)),{type:_K(u.type),doc:c,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function _K(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function B6(t,e){return t instanceof Ru&&e instanceof Ru?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ic&&e instanceof ic&&t._firestore===e._firestore&&R6(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){if(ib(t)&&t.explicitOrderBy.length===0)throw new Ve(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nw=function(){};function Ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var bK=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return Ye(e,t),e.prototype._apply=function(n){var r=Oh(n.firestore),i=function(o,a,u,c,d,p,v){var y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ve(Re.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){BP(v,p);for(var w=[],b=0,E=v;b<E.length;b++){var I=E[b];w.push(jP(c,o,I))}y={arrayValue:{values:w}}}else y=jP(c,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||BP(v,p),y=M6(u,"where",v,p==="in"||p==="not-in");var S=yo.create(d,p,y);return function(k,C){if(C.g()){var A=Gk(k);if(A!==null&&!A.isEqual(C.field))throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+A.toString()+"' and '"+C.field.toString()+"'");var O=$k(k);O!==null&&H6(k,C.field,O)}var H=function(D,X){for(var V=0,oe=D.filters;V<oe.length;V++){var Ie=oe[V];if(X.indexOf(Ie.op)>=0)return Ie.op}return null}(k,function(D){switch(D){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(H!==null)throw H===C.op?new Ve(Re.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new Ve(Re.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+H.toString()+"' filters.")}(o,S),S}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new eo(n.firestore,n.converter,function(o,a){var u=o.filters.concat([a]);return new Bu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(nw),EK=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return Ye(e,t),e.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new pp(o,a);return function(c,d){if($k(c)===null){var p=Gk(c);p!==null&&H6(c,p,d.field)}}(i,u),u}(n._query,this.jc,this.zc);return new eo(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new Bu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(nw),MP=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return Ye(e,t),e.prototype._apply=function(n){return new eo(n.firestore,n.converter,g2(n._query,this.Hc,this.Jc))},e}(nw),FP=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return Ye(e,t),e.prototype._apply=function(n){var r=z6(n,this.type,this.Yc,this.Xc);return new eo(n.firestore,n.converter,function(i,o){return new Bu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},e}(nw),UP=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return Ye(e,t),e.prototype._apply=function(n){var r=z6(n,this.type,this.Yc,this.Xc);return new eo(n.firestore,n.converter,function(i,o){return new Bu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},e}(nw);function z6(t,e,n,r){if(n[0]=Tt(n[0]),n[0]instanceof wy)return function(o,a,u,c,d){if(!c)throw new Ve(Re.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var p=[],v=0,y=Dp(o);v<y.length;v++){var w=y[v];if(w.field.isKeyField())p.push(tb(a,c.key));else{var b=c.data.field(w.field);if(Hk(b))throw new Ve(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var E=w.field.canonicalString();throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}p.push(b)}}return new dy(p,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Oh(t.firestore);return function(o,a,u,c,d,p){var v=o.explicitOrderBy;if(d.length>v.length)throw new Ve(Re.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],w=0;w<d.length;w++){var b=d[w];if(v[w].field.isKeyField()){if(typeof b!="string")throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof b);if(!Kk(o)&&b.indexOf("/")!==-1)throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+b+"' contains a slash.");var E=o.path.child($t.fromString(b));if(!lt.isDocumentKey(E))throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var I=new lt(E);y.push(tb(a,I))}else{var S=M6(u,c,b);y.push(S)}}return new dy(y,p)}(t._query,t.firestore._databaseId,i,e,n,r)}function jP(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kk(e)&&n.indexOf("/")!==-1)throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($t.fromString(n));if(!lt.isDocumentKey(r))throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return tb(t,new lt(r))}if(n instanceof Nn)return tb(t,n._key);throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xE(n)+".")}function BP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ve(Re.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function H6(t,e,n){if(!n.isEqual(e))throw new Ve(Re.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RA=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Op(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ut()}},t.prototype.convertObject=function(e,n){var r=this,i={};return xh(e.fields,function(o,a){i[o]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new kE(Zn(e.latitude),Zn(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=f2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fy(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=vc(e);return new Zi(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=$t.fromString(e);wt(V2(r));var i=new fb(r.get(1),r.get(3)),o=new lt(r.popFirst(5));return i.isEqual(n)||tr("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var SK=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return Ye(e,t),e.prototype.convertBytes=function(n){return new vh(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Nn(this.firestore,null,r)},e}(RA),TK=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Oh(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=oc(e,this._firestore),o=RE(i.converter,n,r),a=AE(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,pi.none())),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,u=oc(e,this._firestore);return a=typeof(n=Tt(n))=="string"||n instanceof La?xA(this._dataReader,"WriteBatch.update",u._key,n,r,i):CA(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(a.toMutation(u._key,pi.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=oc(e,this._firestore);return this._mutations=this._mutations.concat(new Zy(n._key,pi.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ve(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t,e){if((t=Tt(t)).firestore!==e)throw new Ve(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oh=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return Ye(e,t),e.prototype.convertBytes=function(n){return new vh(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Nn(this.firestore,null,r)},e}(RA);function VP(t,e,n){t=Wt(t,Nn);var r=Wt(t.firestore,Wn),i=RE(t.converter,e,n);return rw(r,[AE(Oh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pi.none())])}function zP(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Wt(t,Nn);var o=Wt(t.firestore,Wn),a=Oh(o);return rw(o,[(typeof(e=Tt(e))=="string"||e instanceof La?xA(a,"updateDoc",t._key,e,n,r):CA(a,"updateDoc",t._key,e)).toMutation(t._key,pi.exists(!0))])}function W6(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Tt(t);var a={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||$p(i[u])||(a=i[u],u++);var c,d,p,v={includeMetadataChanges:a.includeMetadataChanges};if($p(i[u])){var y=i[u];i[u]=(e=y.next)===null||e===void 0?void 0:e.bind(y),i[u+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),i[u+2]=(r=y.complete)===null||r===void 0?void 0:r.bind(y)}if(t instanceof Nn)d=Wt(t.firestore,Wn),p=hm(t._key.path),c={next:function(E){i[u]&&i[u](YC(d,t,E))},error:i[u+1],complete:i[u+2]};else{var w=Wt(t,eo);d=Wt(w.firestore,Wn),p=w._query;var b=new oh(d);c={next:function(E){i[u]&&i[u](new ic(d,b,w,E))},error:i[u+1],complete:i[u+2]},V6(t._query)}return function(E,I,S,k){var C=this,A=new IE(k),O=new dA(I,A,S);return E.asyncQueue.enqueueAndForget(function(){return ve(C,void 0,void 0,function(){var H;return ge(this,function(D){switch(D.label){case 0:return H=cA,[4,qp(E)];case 1:return[2,H.apply(void 0,[D.sent(),O])]}})})}),function(){A.Wo(),E.asyncQueue.enqueueAndForget(function(){return ve(C,void 0,void 0,function(){var H;return ge(this,function(D){switch(D.label){case 0:return H=fA,[4,qp(E)];case 1:return[2,H.apply(void 0,[D.sent(),O])]}})})})}}(Or(d),p,v,c)}function rw(t,e){return function(n,r){var i=this,o=new wi;return n.asyncQueue.enqueueAndForget(function(){return ve(i,void 0,void 0,function(){var a;return ge(this,function(u){switch(u.label){case 0:return a=MG,[4,EA(n)];case 1:return[2,a.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(Or(t),e)}function YC(t,e,n){var r=n.docs.get(e._key),i=new oh(t);return new Ru(t,i,e._key,r,new Xf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return Ye(e,t),e.prototype.get=function(n){var r=this,i=oc(n,this._firestore),o=new oh(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Ru(r._firestore,o,i._key,a._document,new Xf(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Oh(e)}return t.prototype.get=function(e){var n=this,r=oc(e,this._firestore),i=new SK(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return ut();var a=o[0];if(a.isFoundDocument())return new wy(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new wy(n._firestore,i,r._key,null,r.converter);throw ut()})},t.prototype.set=function(e,n,r){var i=oc(e,this._firestore),o=RE(i.converter,n,r),a=AE(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,u=oc(e,this._firestore);return a=typeof(n=Tt(n))=="string"||n instanceof La?xA(this._dataReader,"Transaction.update",u._key,n,r,i):CA(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,a),this},t.prototype.delete=function(e){var n=oc(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(){if(typeof Uint8Array>"u")throw new Ve(Re.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function WP(){if(typeof atob>"u")throw new Ve(Re.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var q6=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return WP(),new t(vh.fromBase64String(e))},t.fromUint8Array=function(e){return HP(),new t(vh.fromUint8Array(e))},t.prototype.toBase64=function(){return WP(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return HP(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),CK=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){LP(r=Wt(r,Wn));var o=Or(r),a=r._freezeSettings(),u=new GC;return DP(o,u,new S6(u,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){LP(n=Wt(n,Wn));var r=Or(n),i=n._freezeSettings(),o=new GC;return DP(r,o,new JG(o,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Ve(Re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return ve(r,void 0,void 0,function(){var o;return ge(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(u){return ve(this,void 0,void 0,function(){var c;return ge(this,function(d){switch(d.label){case 0:return jp.yt()?(c=u+"main",[4,jp.delete(c)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(iA(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),NA=function(){function t(e,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof fb||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||cy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,o,a,u){var c;u===void 0&&(u={});var d=(i=Wt(i,yy))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==o&&cy("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:o+":"+a,ssl:!1})),u.mockUserToken){var p,v;if(typeof u.mockUserToken=="string")p=u.mockUserToken,v=qr.MOCK_USER;else{p=Nx(u.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var y=u.mockUserToken.sub||u.mockUserToken.user_id;if(!y)throw new Ve(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new qr(y)}i._credentials=new iK(new C6(p,v))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return ve(n,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return[4,TP(e)];case 1:return r=o.sent(),[4,IP(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var u=Ke(a);return u.Or.delete(0),tw(u)}(i))]}})})})}(Or(Wt(this._delegate,Wn)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return ve(n,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return[4,TP(e)];case 1:return r=o.sent(),[4,IP(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return ve(this,void 0,void 0,function(){var u;return ge(this,function(c){switch(c.label){case 0:return(u=Ke(a)).Or.add(0),[4,pm(u)];case 1:return c.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(Or(Wt(this._delegate,Wn)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&x6("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new wi;return e.asyncQueue.enqueueAndForget(function(){return ve(n,void 0,void 0,function(){var i;return ge(this,function(o){switch(o.label){case 0:return i=BG,[4,EA(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Or(Wt(this._delegate,Wn)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,o){var a=this,u=new IE(o);return i.asyncQueue.enqueueAndForget(function(){return ve(a,void 0,void 0,function(){var c;return ge(this,function(d){switch(d.label){case 0:return c=function(p,v){Ke(p).Gr.add(v),v.next()},[4,qp(i)];case 1:return[2,c.apply(void 0,[d.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return ve(a,void 0,void 0,function(){var c;return ge(this,function(d){switch(d.label){case 0:return c=function(p,v){Ke(p).Gr.delete(v)},[4,qp(i)];case 1:return[2,c.apply(void 0,[d.sent(),u])]}})})})}}(Or(n=Wt(n,Wn)),$p(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Ve(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new pb(this,k6(this._delegate,e))}catch(n){throw ki(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new sh(this,__(this._delegate,e))}catch(n){throw ki(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new iw(this,function(n,r){if(n=Wt(n,yy),SA("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new eo(n,null,function(i){return new Bu($t.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw ki(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(o,a){var u=this,c=new wi;return o.asyncQueue.enqueueAndForget(function(){return ve(u,void 0,void 0,function(){var d;return ge(this,function(p){switch(p.label){case 0:return[4,function(v){return CE(v).then(function(y){return y.datastore})}(o)];case 1:return d=p.sent(),new tK(o.asyncQueue,d,a,c).run(),[2]}})})}),c.promise}(Or(r),function(o){return i(new IK(r,o))})}(this._delegate,function(r){return e(new $6(n,r))})},t.prototype.batch=function(){var e=this;return Or(this._delegate),new G6(new TK(this._delegate,function(n){return rw(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new Ve(Re.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Ve(Re.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),NE=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return Ye(e,t),e.prototype.convertBytes=function(n){return new q6(new vh(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return sh.eu(r,this.firestore,null)},e}(RA);function xK(t){var e;e=t,As.setLogLevel(e)}var $6=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new NE(e)}return t.prototype.get=function(e){var n=this,r=Qf(e);return this._delegate.get(r).then(function(i){return new _y(n._firestore,new Ru(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=Qf(e);return r?(TA("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Qf(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Ct([u,n,r],o)),this},t.prototype.delete=function(e){var n=Qf(e);return this._delegate.delete(n),this},t}(),G6=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=Qf(e);return r?(TA("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=Qf(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Ct([u,n,r],o)),this},t.prototype.delete=function(e){var n=Qf(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),OE=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new $v(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new by(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new NE(e),n),i.set(n,o)),o},t}();OE.su=new WeakMap;var sh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new NE(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Ve(Re.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Nn(n._delegate,r,new lt(e)))},t.eu=function(e,n,r){return new t(n,new Nn(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new pb(this.firestore,k6(this._delegate,e))}catch(n){throw ki(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Tt(e))instanceof Nn&&A6(this._delegate,e)},t.prototype.set=function(e,n){n=TA("DocumentReference.set",n);try{return n?VP(this._delegate,e,n):VP(this._delegate,e)}catch(r){throw ki(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?zP(this._delegate,e):zP.apply(void 0,Ct([this._delegate,e,n],r))}catch(o){throw ki(o,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return rw(Wt((e=this._delegate).firestore,Wn),[new Zy(e._key,pi.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=K6(n),o=Y6(n,function(a){return new _y(e.firestore,new Ru(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return W6(this._delegate,i,o)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=Wt(r,Nn);var i=Wt(r.firestore,Wn),o=Or(i),a=new oh(i);return function(u,c){var d=this,p=new wi;return u.asyncQueue.enqueueAndForget(function(){return ve(d,void 0,void 0,function(){var v;return ge(this,function(y){switch(y.label){case 0:return v=function(w,b,E){return ve(this,void 0,void 0,function(){var I,S;return ge(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,function(C,A){var O=Ke(C);return O.persistence.runTransaction("read document","readonly",function(H){return O.Mn.mn(H,A)})}(w,b)];case 1:return(S=k.sent()).isFoundDocument()?E.resolve(S):S.isNoDocument()?E.resolve(null):E.reject(new Ve(Re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return I=k.sent(),S=vm(I,"Failed to get document '"+b+" from cache"),E.reject(S),[3,3];case 3:return[2]}})})},[4,bA(u)];case 1:return[2,v.apply(void 0,[y.sent(),c,p])]}})})}),p.promise}(o,r._key).then(function(u){return new Ru(i,a,r._key,u,new Xf(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=Wt(r,Nn);var i=Wt(r.firestore,Wn);return CP(Or(i),r._key,{source:"server"}).then(function(o){return YC(i,r,o)})}(this._delegate):function(r){r=Wt(r,Nn);var i=Wt(r.firestore,Wn);return CP(Or(i),r._key).then(function(o){return YC(i,r,o)})}(this._delegate)).then(function(r){return new _y(n.firestore,new Ru(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(OE.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function ki(t,e,n){return t.message=t.message.replace(e,n),t}function K6(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!$p(r))return r}return{}}function Y6(t,e){var n,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(n=(i=$p(t[0])?t[0]:$p(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var _y=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new sh(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return B6(this._delegate,e._delegate)},t}(),by=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(_y),iw=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new NE(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Ql(this._delegate,function(i,o,a){var u=o,c=db("where",i);return new bK(c,u,a)}(e,n,r)))}catch(i){throw ki(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Ql(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=db("orderBy",r);return new EK(a,o)}(e,n)))}catch(r){throw ki(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Ql(this._delegate,function(n){return OP("limit",n),new MP("limit",n,"F")}(e)))}catch(n){throw ki(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Ql(this._delegate,function(n){return OP("limitToLast",n),new MP("limitToLast",n,"L")}(e)))}catch(n){throw ki(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ql(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new FP("startAt",r,!0)}).apply(void 0,e)))}catch(r){throw ki(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ql(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new FP("startAfter",r,!1)}).apply(void 0,e)))}catch(r){throw ki(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ql(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new UP("endBefore",r,!0)}).apply(void 0,e)))}catch(r){throw ki(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ql(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new UP("endAt",r,!1)}).apply(void 0,e)))}catch(r){throw ki(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return R6(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=Wt(r,eo);var i=Wt(r.firestore,Wn),o=Or(i),a=new oh(i);return function(u,c){var d=this,p=new wi;return u.asyncQueue.enqueueAndForget(function(){return ve(d,void 0,void 0,function(){var v;return ge(this,function(y){switch(y.label){case 0:return v=function(w,b,E){return ve(this,void 0,void 0,function(){var I,S,k,C,A;return ge(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,ub(w,b,!0)];case 1:return A=O.sent(),I=new y6(b,A.Bn),S=I._o(A.documents),k=I.applyChanges(S,!1),E.resolve(k.snapshot),[3,3];case 2:return C=O.sent(),A=vm(C,"Failed to execute query '"+b+" against cache"),E.reject(A),[3,3];case 3:return[2]}})})},[4,bA(u)];case 1:return[2,v.apply(void 0,[y.sent(),c,p])]}})})}),p.promise}(o,r._query).then(function(u){return new ic(i,a,r,u)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=Wt(r,eo);var i=Wt(r.firestore,Wn),o=Or(i),a=new oh(i);return xP(o,r._query,{source:"server"}).then(function(u){return new ic(i,a,r,u)})}(this._delegate):function(r){r=Wt(r,eo);var i=Wt(r.firestore,Wn),o=Or(i),a=new oh(i);return V6(r._query),xP(o,r._query).then(function(u){return new ic(i,a,r,u)})}(this._delegate)).then(function(r){return new XC(n.firestore,new ic(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=K6(n),o=Y6(n,function(a){return new XC(e.firestore,new ic(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return W6(this._delegate,i,o)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(OE.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),kK=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new by(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),XC=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new iw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new by(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new kK(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new by(r._firestore,i))})},t.prototype.isEqual=function(e){return B6(this._delegate,e._delegate)},t}(),pb=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return Ye(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new sh(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new sh(this.firestore,n===void 0?__(this._delegate):__(this._delegate,n))}catch(r){throw ki(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,o){var a=Wt(i.firestore,Wn),u=__(i),c=RE(i.converter,o);return rw(a,[AE(Oh(i.firestore),"addDoc",u._key,c,i.converter!==null,{}).toMutation(u._key,pi.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new sh(r.firestore,i)})},e.prototype.isEqual=function(n){return A6(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(OE.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(iw);function Qf(t){return Wt(t,Nn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AK=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(La.bind.apply(La,Ct([void 0],e)))}return t.documentId=function(){return new t(Os.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Tt(e))instanceof La&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),RK=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new pK("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new IA("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new mK("arrayUnion",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new gK("arrayRemove",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new vK("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NK(t){return function(e,n){var r=Or(e=Wt(e,Wn)),i=new lK;return function(o,a,u,c){var d=this,p=function(v,y){return function(w,b){return new ZG(w,b)}(function(w,b){if(w instanceof Uint8Array)return SP(w,b);if(w instanceof ArrayBuffer)return SP(new Uint8Array(w),b);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),y)}(u,ew(a));o.asyncQueue.enqueueAndForget(function(){return ve(d,void 0,void 0,function(){var v;return ge(this,function(y){switch(y.label){case 0:return v=QG,[4,EA(o)];case 1:return v.apply(void 0,[y.sent(),p,c]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function OK(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return ve(a,void 0,void 0,function(){var u;return ge(this,function(c){switch(c.label){case 0:return u=function(d,p){var v=Ke(d);return v.persistence.runTransaction("Get named query","readonly",function(y){return v.Ke.getNamedQuery(y,p)})},[4,bA(i)];case 1:return[2,u.apply(void 0,[c.sent(),o])]}})})})}(Or(e=Wt(e,Wn)),n).then(function(i){return i?new eo(e,null,i.query):null})).then(function(i){return i?new iw(r,i):null})}var PK={Firestore:NA,GeoPoint:kE,Timestamp:Zi,Blob:q6,Transaction:$6,WriteBatch:G6,DocumentReference:sh,DocumentSnapshot:_y,Query:iw,QueryDocumentSnapshot:by,QuerySnapshot:XC,CollectionReference:pb,FieldPath:AK,FieldValue:RK,setLogLevel:xK,CACHE_SIZE_UNLIMITED:cK};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DK(t){(function(e,n){e.INTERNAL.registerComponent(new yi("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},PK)))})(t,function(e,n){return new NA(e,new Wn(e,n),new CK)}),t.registerVersion("@firebase/firestore","2.4.1")}DK(at);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(t){t.prototype.loadBundle=NK,t.prototype.namedQuery=OK}LK(NA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mp=function(t){Ye(e,t);function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return e}(Error);function MK(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function FK(t,e,n){var r=MK(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var u=a.status;if(typeof u=="string"){if(!qP[u])return new mp("internal","internal");r=qP[u],i=u}var c=a.message;typeof c=="string"&&(i=c),o=a.details,o!==void 0&&(o=n.decode(o))}}catch{}return r==="ok"?null:new mp(r,i,o)}var UK=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jK="type.googleapis.com/google.protobuf.Int64Value",BK="type.googleapis.com/google.protobuf.UInt64Value";function $P(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var VK=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return $P(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case jK:case BK:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?$P(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new mp("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var GP=function(){function t(e,n,r,i,o,a){var u=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new VK,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(u.deleteService())}},this.contextProvider=new UK(n,r),this.cancelAllRequests=new Promise(function(d){u.deleteService=function(){return d()}});try{var c=new URL(o);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return ve(this,void 0,void 0,function(){var i,o,a;return ge(this,function(u){switch(u.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=u.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=u.sent(),[3,5];case 4:return u.sent(),[2,{status:0,json:null}];case 5:a=null,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,o.json()];case 7:return a=u.sent(),[3,9];case 8:return u.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}})})},t.prototype.getAppCheckToken=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return ve(this,void 0,void 0,function(){var i,o,a,u,c,d,p,v,y,w,b,E;return ge(this,function(I){switch(I.label){case 0:return i=this._url(e),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return u=I.sent(),u.authToken&&(a.Authorization="Bearer "+u.authToken),u.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=u.instanceIdToken),c=r.timeout||7e4,d=zK(c),p=d.timer,v=d.promise,[4,Promise.race([KP(p,this.postJSON(i,o,a)),v,KP(p,this.cancelAllRequests)])];case 2:if(y=I.sent(),!y)throw new mp("cancelled","Firebase Functions instance was deleted.");if(w=FK(y.status,y.json,this.serializer),w)throw w;if(!y.json)throw new mp("internal","Response is not valid JSON object.");if(b=y.json.data,typeof b>"u"&&(b=y.json.result),typeof b>"u")throw new mp("internal","Response is missing data field.");return E=this.serializer.decode(b),[2,{data:E}]}})})},t}();function KP(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HK="functions";function WK(t,e){var n={Functions:GP};function r(i,o){var a=o.instanceIdentifier,u=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),d=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new GP(u,c,p,d,a,e)}t.INTERNAL.registerComponent(new yi(HK,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var qK="@firebase/functions",$K="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */WK(at,fetch.bind(self));at.registerVersion(qK,$K);function GK(t){return Array.prototype.slice.call(t)}function X6(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function PE(t,e,n){var r,i=new Promise(function(o,a){r=t[e].apply(t,n),X6(r).then(o,a)});return i.request=r,i}function KK(t,e,n){var r=PE(t,e,n);return r.then(function(i){if(i)return new Ey(i,r.request)})}function ym(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function OA(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return PE(this[e],i,arguments)})})}function DE(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function Q6(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return KK(this[e],i,arguments)})})}function Dh(t){this._index=t}ym(Dh,"_index",["name","keyPath","multiEntry","unique"]);OA(Dh,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);Q6(Dh,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Ey(t,e){this._cursor=t,this._request=e}ym(Ey,"_cursor",["direction","key","primaryKey","value"]);OA(Ey,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(Ey.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),X6(e._request).then(function(r){if(r)return new Ey(r,e._request)})})})});function Wa(t){this._store=t}Wa.prototype.createIndex=function(){return new Dh(this._store.createIndex.apply(this._store,arguments))};Wa.prototype.index=function(){return new Dh(this._store.index.apply(this._store,arguments))};ym(Wa,"_store",["name","keyPath","indexNames","autoIncrement"]);OA(Wa,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);Q6(Wa,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);DE(Wa,"_store",IDBObjectStore,["deleteIndex"]);function ow(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}ow.prototype.objectStore=function(){return new Wa(this._tx.objectStore.apply(this._tx,arguments))};ym(ow,"_tx",["objectStoreNames","mode"]);DE(ow,"_tx",IDBTransaction,["abort"]);function LE(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new ow(n)}LE.prototype.createObjectStore=function(){return new Wa(this._db.createObjectStore.apply(this._db,arguments))};ym(LE,"_db",["name","version","objectStoreNames"]);DE(LE,"_db",IDBDatabase,["deleteObjectStore","close"]);function ME(t){this._db=t}ME.prototype.transaction=function(){return new ow(this._db.transaction.apply(this._db,arguments))};ym(ME,"_db",["name","version","objectStoreNames"]);DE(ME,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Wa,Dh].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=GK(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[Dh,Wa].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(o){r.iterateCursor(e,function(a){if(!a){o(i);return}if(i.push(a.value),n!==void 0&&i.length==n){o(i);return}a.continue()})})})});function PA(t,e,n){var r=PE(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(o){n&&n(new LE(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new ME(o)})}function nT(t){return PE(indexedDB,"deleteDatabase",[t])}var YK="@firebase/installations",J6="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z6=1e4,e5="w:"+J6,t5="FIS_v2",XK="https://firebaseinstallations.googleapis.com/v1",QK=60*60*1e3,JK="installations",ZK="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jl,eY=(Jl={},Jl["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Jl["not-registered"]="Firebase Installation is not registered.",Jl["installation-not-found"]="Firebase Installation not found.",Jl["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Jl["app-offline"]="Could not process request. Application offline.",Jl["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Jl),Lu=new ju(JK,ZK,eY);function n5(t){return t instanceof im&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){var e=t.projectId;return XK+"/projects/"+e+"/installations"}function r5(t){return{token:t.token,requestStatus:2,expiresIn:tY(t.expiresIn),creationTime:Date.now()}}function LA(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Lu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function i5(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function o5(t,e){var n=e.refreshToken,r=i5(t);return r.append("Authorization",nY(n)),r}function MA(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function tY(t){return Number(t.replace("s","000"))}function nY(t){return t5+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t,e){var n=e.fid;return ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d;return ge(this,function(p){switch(p.label){case 0:return r=DA(t),i=i5(t),o={fid:n,authVersion:t5,appId:t.appId,sdkVersion:e5},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,MA(function(){return fetch(r,a)})];case 1:return u=p.sent(),u.ok?[4,u.json()]:[3,3];case 2:return c=p.sent(),d={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:r5(c.authToken)},[2,d];case 3:return[4,LA("Create Installation",u)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t){var e=btoa(String.fromCharCode.apply(String,Ct([],Kr(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oY=/^[cdef][\w-]{21}$/,QC="";function sY(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=aY(t);return oY.test(n)?n:QC}catch{return QC}}function aY(t){var e=iY(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gp=new Map;function a5(t,e){var n=wm(t);u5(n,e),cY(n,e)}function uY(t,e){l5();var n=wm(t),r=Gp.get(n);r||(r=new Set,Gp.set(n,r)),r.add(e)}function lY(t,e){var n=wm(t),r=Gp.get(n);r&&(r.delete(e),r.size===0&&Gp.delete(n),c5())}function u5(t,e){var n,r,i=Gp.get(t);if(i)try{for(var o=Lr(i),a=o.next();!a.done;a=o.next()){var u=a.value;u(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function cY(t,e){var n=l5();n&&n.postMessage({key:t,fid:e}),c5()}var Jf=null;function l5(){return!Jf&&"BroadcastChannel"in self&&(Jf=new BroadcastChannel("[Firebase] FID Change"),Jf.onmessage=function(t){u5(t.data.key,t.data.fid)}),Jf}function c5(){Gp.size===0&&Jf&&(Jf.close(),Jf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fY="firebase-installations-database",hY=1,yh="firebase-installations-store",rT=null;function FA(){return rT||(rT=PA(fY,hY,function(t){switch(t.oldVersion){case 0:t.createObjectStore(yh)}})),rT}function mb(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return n=wm(t),[4,FA()];case 1:return r=u.sent(),i=r.transaction(yh,"readwrite"),o=i.objectStore(yh),[4,o.get(n)];case 2:return a=u.sent(),[4,o.put(e,n)];case 3:return u.sent(),[4,i.complete];case 4:return u.sent(),(!a||a.fid!==e.fid)&&a5(t,e.fid),[2,e]}})})}function UA(t){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return e=wm(t),[4,FA()];case 1:return n=i.sent(),r=n.transaction(yh,"readwrite"),[4,r.objectStore(yh).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function sw(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u;return ge(this,function(c){switch(c.label){case 0:return n=wm(t),[4,FA()];case 1:return r=c.sent(),i=r.transaction(yh,"readwrite"),o=i.objectStore(yh),[4,o.get(n)];case 2:return a=c.sent(),u=e(a),u!==void 0?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),u&&(!a||a.fid!==u.fid)&&a5(t,u.fid),[2,u]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return[4,sw(t,function(o){var a=dY(o),u=pY(t,a);return e=u.registrationPromise,u.installationEntry})];case 1:return n=i.sent(),n.fid!==QC?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function dY(t){var e=t||{fid:sY(),registrationStatus:0};return f5(e)}function pY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Lu.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=mY(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gY(t)}:{installationEntry:e}}function mY(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,rY(t,e)];case 1:return n=i.sent(),[2,mb(t,n)];case 2:return r=i.sent(),n5(r)&&r.customData.serverCode===409?[4,UA(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,mb(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function gY(t){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,YP(t)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,s5(100)];case 3:return o.sent(),[4,YP(t)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,jA(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function YP(t){return sw(t,function(e){if(!e)throw Lu.create("installation-not-found");return f5(e)})}function f5(t){return vY(t)?{fid:t.fid,registrationStatus:0}:t}function vY(t){return t.registrationStatus===1&&t.registrationTime+Z6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return ve(this,void 0,void 0,function(){var i,o,a,u,c,d,p,v;return ge(this,function(y){switch(y.label){case 0:return i=wY(n,e),o=o5(n,e),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),u={installation:{sdkVersion:e5}},c={method:"POST",headers:o,body:JSON.stringify(u)},[4,MA(function(){return fetch(i,c)})];case 1:return d=y.sent(),d.ok?[4,d.json()]:[3,3];case 2:return p=y.sent(),v=r5(p),[2,v];case 3:return[4,LA("Generate Auth Token",d)];case 4:throw y.sent()}})})}function wY(t,e){var n=e.fid;return DA(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){return e===void 0&&(e=!1),ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return[4,sw(t.appConfig,function(u){if(!h5(u))throw Lu.create("not-registered");var c=u.authToken;if(!e&&EY(c))return u;if(c.requestStatus===1)return n=_Y(t,e),u;if(!navigator.onLine)throw Lu.create("app-offline");var d=TY(u);return n=bY(t,d),d})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function _Y(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return[4,XP(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,s5(100)];case 3:return i.sent(),[4,XP(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,BA(t,e)]:[2,r]}})})}function XP(t){return sw(t,function(e){if(!h5(e))throw Lu.create("not-registered");var n=e.authToken;return IY(n)?vt(vt({},e),{authToken:{requestStatus:0}}):e})}function bY(t,e){return ve(this,void 0,void 0,function(){var n,i,r,i;return ge(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,yY(t,e)];case 1:return n=o.sent(),i=vt(vt({},e),{authToken:n}),[4,mb(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),n5(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,UA(t.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return i=vt(vt({},e),{authToken:{requestStatus:0}}),[4,mb(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}function h5(t){return t!==void 0&&t.registrationStatus===2}function EY(t){return t.requestStatus===2&&!SY(t)}function SY(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+QK}function TY(t){var e={requestStatus:1,requestTime:Date.now()};return vt(vt({},t),{authToken:e})}function IY(t){return t.requestStatus===1&&t.requestTime+Z6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(t){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return[4,jA(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):BA(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(t,e){return e===void 0&&(e=!1),ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,kY(t.appConfig)];case 1:return r.sent(),[4,BA(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function kY(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return[4,jA(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AY(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return n=RY(t,e),r=o5(t,e),i={method:"DELETE",headers:r},[4,MA(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,LA("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function RY(t,e){var n=e.fid;return DA(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,sw(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Lu.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Lu.create("app-offline");case 3:return[4,AY(e,n)];case 4:return r.sent(),[4,UA(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(t,e){var n=t.appConfig;return uY(n,e),function(){lY(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(t){var e,n;if(!t||!t.options)throw iT("App Configuration");if(!t.name)throw iT("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Lr(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw iT(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function iT(t){return Lu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DY(t){var e="installations";t.INTERNAL.registerComponent(new yi(e,function(n){var r=n.getProvider("app").getImmediate(),i=PY(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},u={app:r,getId:function(){return CY(a)},getToken:function(c){return xY(a,c)},delete:function(){return NY(a)},onIdChange:function(c){return OY(a,c)}};return u},"PUBLIC")),t.registerVersion(YK,J6)}DY(at);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr,LY=(cr={},cr["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',cr["only-available-in-window"]="This method is available in a Window context.",cr["only-available-in-sw"]="This method is available in a service worker context.",cr["permission-default"]="The notification permission was not granted and dismissed instead.",cr["permission-blocked"]="The notification permission was not granted and blocked instead.",cr["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",cr["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",cr["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",cr["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",cr["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",cr["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",cr["token-update-no-token"]="FCM returned no token when updating the user to push.",cr["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",cr["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",cr["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",cr["invalid-vapid-key"]="The public VAPID key must be a string.",cr["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",cr),nn=new ju("messaging","Messaging",LY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MY="/firebase-messaging-sw.js",FY="/firebase-cloud-messaging-push-scope",gb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",UY="https://fcmregistrations.googleapis.com/v1",d5="FCM_MSG",jY="FirebaseMessaging: ",BY="google.c.a.e",p5="google.c.a.c_id",VY="google.c.a.ts",zY="google.c.a.c_l",HY=1e3,WY=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var wh;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(wh||(wh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,Ct([],Kr(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qY(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oT="fcm_token_details_db",$Y=5,QP="fcm_token_object_Store";function GY(t){return ve(this,void 0,void 0,function(){var e,n,r,i,o=this;return ge(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(u){return u.name}),!n.includes(oT))return[2,null];a.label=2;case 2:return r=null,[4,PA(oT,$Y,function(u){return ve(o,void 0,void 0,function(){var c,d,p,p,p,v;return ge(this,function(y){switch(y.label){case 0:return u.oldVersion<2?[2]:u.objectStoreNames.contains(QP)?(c=u.transaction.objectStore(QP),[4,c.index("fcmSenderId").get(t)]):[2];case 1:return d=y.sent(),[4,c.clear()];case 2:if(y.sent(),!d)return[2];if(u.oldVersion===2){if(p=d,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Eu(p.vapidKey)}}}else u.oldVersion===3?(p=d,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Eu(p.auth),p256dh:Eu(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Eu(p.vapidKey)}}):u.oldVersion===4&&(p=d,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Eu(p.auth),p256dh:Eu(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Eu(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,nT(oT)];case 4:return a.sent(),[4,nT("fcm_vapid_details_db")];case 5:return a.sent(),[4,nT("undefined")];case 6:return a.sent(),[2,KY(r)?r:null]}})})}function KY(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YY="firebase-messaging-database",XY=1,_h="firebase-messaging-store",sT=null;function VA(){return sT||(sT=PA(YY,XY,function(t){switch(t.oldVersion){case 0:t.createObjectStore(_h)}})),sT}function vb(t){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){switch(o.label){case 0:return e=HA(t),[4,VA()];case 1:return n=o.sent(),[4,n.transaction(_h).objectStore(_h).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,GY(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,zA(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function zA(t,e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:return n=HA(t),[4,VA()];case 1:return r=o.sent(),i=r.transaction(_h,"readwrite"),[4,i.objectStore(_h).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function QY(t){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return e=HA(t),[4,VA()];case 1:return n=i.sent(),r=n.transaction(_h,"readwrite"),[4,r.objectStore(_h).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function HA(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JY(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:return[4,qA(t)];case 1:n=d.sent(),r=g5(e),i={method:"POST",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(WA(t.appConfig),i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw u=d.sent(),nn.create("token-subscribe-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,nn.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw nn.create("token-subscribe-no-token");return[2,o.token]}})})}function ZY(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:return[4,qA(t)];case 1:n=d.sent(),r=g5(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(WA(t.appConfig)+"/"+e.token,i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw u=d.sent(),nn.create("token-update-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,nn.create("token-update-failed",{errorInfo:c});if(!o.token)throw nn.create("token-update-no-token");return[2,o.token]}})})}function m5(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u;return ge(this,function(c){switch(c.label){case 0:return[4,qA(t)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(WA(t.appConfig)+"/"+e,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(o=c.sent(),o.error)throw a=o.error.message,nn.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw u=c.sent(),nn.create("token-unsubscribe-failed",{errorInfo:u});case 6:return[2]}})})}function WA(t){var e=t.projectId;return UY+"/projects/"+e+"/registrations"}function qA(t){var e=t.appConfig,n=t.installations;return ve(this,void 0,void 0,function(){var r;return ge(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function g5(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==gb&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eX=7*24*60*60*1e3;function JC(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:if(Notification.permission!=="granted")throw nn.create("permission-blocked");return[4,nX(e,n)];case 1:return r=u.sent(),[4,vb(t)];case 2:return i=u.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Eu(r.getKey("auth")),p256dh:Eu(r.getKey("p256dh"))},i?[3,3]:[2,JP(t,o)];case 3:if(rX(i.subscriptionOptions,o))return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,m5(t,i.token)];case 5:return u.sent(),[3,7];case 6:return a=u.sent(),console.warn(a),[3,7];case 7:return[2,JP(t,o)];case 8:return Date.now()>=i.createTime+eX?[2,tX({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function Gv(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return[4,vb(t)];case 1:return n=i.sent(),n?[4,m5(t,n.token)]:[3,4];case 2:return i.sent(),[4,QY(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function tX(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o;return ge(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,ZY(e,t)];case 1:return r=a.sent(),i=vt(vt({},t),{token:r,createTime:Date.now()}),[4,zA(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Gv(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function JP(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return[4,JY(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,zA(t,r)];case 2:return i.sent(),[2,r.token]}})})}function nX(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qY(e)})]}})})}function rX(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iX(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return oX(e,t),sX(e,t),aX(e,t),e}function oX(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function sX(t,e){e.data&&(t.data=e.data)}function aX(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t){return typeof t=="object"&&!!t&&p5 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uX=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw nn.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return ve(this,void 0,void 0,function(){var r;return ge(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,vb(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:gb,i.label=2;case 2:return[2,JC(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Gv(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw nn.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw nn.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw nn.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw nn.create("only-available-in-window")},t.prototype.onMessage=function(){throw nn.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw nn.create("only-available-in-window")},t.prototype.onPush=function(e){return ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return n=cX(e),n?[4,y5()]:(console.debug(jY+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),hX(r)?[2,dX(r,n)]:(i=!1,n.notification?[4,pX(lX(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=iX(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,ZP(HY)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return ve(this,void 0,void 0,function(){var i,o;return ge(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,Gv(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,vb(this.firebaseDependencies)];case 3:return o=a.sent(),[4,Gv(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,JC(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:gb)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return ve(this,void 0,void 0,function(){var i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[d5],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=mX(i),o?(a=new URL(o,self.location.href),u=new URL(self.location.origin),a.host!==u.host?[2]:[4,fX(a)]):[2];case 1:return c=d.sent(),c?[3,4]:[4,self.clients.openWindow(o)];case 2:return c=d.sent(),[4,ZP(WY)];case 3:return d.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=d.sent(),d.label=6;case 6:return c?(i.messageType=wh.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},t}();function lX(t){var e,n=vt({},t.notification);return n.data=(e={},e[d5]=t,e),n}function cX(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function fX(t){return ve(this,void 0,void 0,function(){var e,n,r,i,o,a,u;return ge(this,function(c){switch(c.label){case 0:return[4,y5()];case 1:e=c.sent();try{for(n=Lr(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(d){a={error:d}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function hX(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function dX(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=wh.PUSH_RECEIVED;try{for(var i=Lr(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function y5(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function pX(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function mX(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(v5(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gX=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===wh.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(yX(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,v5(r)&&r[BY]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw nn.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,JC(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=gb),[2]})})},t.prototype.updateSwReg=function(e){return ve(this,void 0,void 0,function(){return ge(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw nn.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(MY,{scope:FY})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),nn.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Gv(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?nn.create("permission-blocked"):nn.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw nn.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw nn.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw nn.create("invalid-sw-registration");if(this.swRegistration)throw nn.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw nn.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw nn.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return ve(this,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return r=vX(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[p5],message_name:n[zY],message_time:n[VY],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function vX(t){switch(t){case wh.NOTIFICATION_CLICKED:return"notification_open";case wh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yX(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wX(t){var e,n;if(!t||!t.options)throw aT("App Configuration Object");if(!t.name)throw aT("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=Lr(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(!i[u])throw aT(u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function aT(t){return nn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _X="messaging";function bX(t){var e=t.getProvider("app").getImmediate(),n=wX(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!w5())throw nn.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new uX(o):new gX(o)}var EX={isSupported:w5};at.INTERNAL.registerComponent(new yi(_X,bX,"PUBLIC").setServiceProps(EX));function w5(){return self&&"ServiceWorkerGlobalScope"in self?TX():SX()}function SX(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function TX(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _5="firebasestorage.googleapis.com",b5="storageBucket",IX=2*60*1e3,CX=10*60*1e3,ir=function(t){Ye(e,t);function e(n,r){var i=t.call(this,uT(n),"Firebase Storage: "+r+" ("+uT(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return uT(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(im);function uT(t){return"storage/"+t}function $A(){var t="An unknown error occurred, please check the error payload for server response.";return new ir("unknown",t)}function xX(t){return new ir("object-not-found","Object '"+t+"' does not exist.")}function kX(t){return new ir("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AX(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ir("unauthenticated",t)}function RX(){return new ir("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function NX(t){return new ir("unauthorized","User does not have permission to access '"+t+"'.")}function OX(){return new ir("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function E5(){return new ir("canceled","User canceled the upload/download.")}function PX(t){return new ir("invalid-url","Invalid URL '"+t+"'.")}function DX(t){return new ir("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function LX(){return new ir("no-default-bucket","No default bucket found. Did you set the '"+b5+"' property when initializing the app?")}function S5(){return new ir("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function MX(){return new ir("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function FX(){return new ir("no-download-url","The given file does not have any download URLs.")}function gp(t){return new ir("invalid-argument",t)}function T5(){return new ir("app-deleted","The Firebase app was deleted.")}function I5(t){return new ir("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kv(t,e){return new ir("invalid-format","String does not match format '"+t+"': "+e)}function V0(t){throw new ir("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lT=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function C5(t,e){switch(t){case qo.RAW:return new lT(x5(e));case qo.BASE64:case qo.BASE64URL:return new lT(k5(t,e));case qo.DATA_URL:return new lT(BX(e),VX(e))}throw $A()}function x5(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function jX(t){var e;try{e=decodeURIComponent(t)}catch{throw Kv(qo.DATA_URL,"Malformed data URL.")}return x5(e)}function k5(t,e){switch(t){case qo.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Kv(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case qo.BASE64URL:{var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw Kv(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var u;try{u=UX(e)}catch{throw Kv(t,"Invalid character found")}for(var c=new Uint8Array(u.length),d=0;d<u.length;d++)c[d]=u.charCodeAt(d);return c}var A5=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kv(qo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=zX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function BX(t){var e=new A5(t);return e.base64?k5(qo.BASE64,e.rest):jX(e.rest)}function VX(t){var e=new A5(t);return e.contentType}function zX(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HX={STATE_CHANGED:"state_changed"},Ai={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cT(t){switch(t){case"running":case"pausing":case"canceling":return Ai.RUNNING;case"paused":return Ai.PAUSED;case"success":return Ai.SUCCESS;case"canceled":return Ai.CANCELED;case"error":return Ai.ERROR;default:return Ai.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ah;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ah||(ah={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WX=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ah.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=ah.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=ah.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw V0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw V0("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw V0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw V0("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();function qX(){return new WX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $X=function(){function t(){}return t.prototype.createConnection=function(){return qX()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $o=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw DX(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}var a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(V){V.path_=decodeURIComponent(V.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp("^https?://"+v+"/"+p+"/b/"+i+"/o"+y,"i"),b={bucket:1,path:3},E=n===_5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",S=new RegExp("^https?://"+E+"/"+i+"/"+I,"i"),k={bucket:1,path:2},C=[{regex:u,indices:c,postModify:o},{regex:w,indices:b,postModify:d},{regex:S,indices:k,postModify:d}],A=0;A<C.length;A++){var O=C[A],H=O.regex.exec(e);if(H){var D=H[O.indices.bucket],X=H[O.indices.path];X||(X=""),r=new t(D,X),O.postModify(r);break}}if(r==null)throw PX(e);return r},t}(),GX=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KX(t,e,n){var r=1,i=null,o=!1,a=0;function u(){return a===2}var c=!1;function d(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];c||(c=!0,e.apply(null,b))}function p(b){i=setTimeout(function(){i=null,t(v,u())},b)}function v(b){for(var E=[],I=1;I<arguments.length;I++)E[I-1]=arguments[I];if(!c){if(b){d.call.apply(d,Ct([null,b],E));return}var S=u()||o;if(S){d.call.apply(d,Ct([null,b],E));return}r<64&&(r*=2);var k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,p(k)}}var y=!1;function w(b){y||(y=!0,!c&&(i!==null?(b||(a=2),clearTimeout(i),p(0)):b||(a=1)))}return p(0),setTimeout(function(){o=!0,w(!0)},n),w}function YX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t){return t!==void 0}function QX(t){return typeof t=="function"}function JX(t){return typeof t=="object"&&!Array.isArray(t)}function FE(t){return typeof t=="string"||t instanceof String}function eD(t){return GA()&&t instanceof Blob}function GA(){return typeof Blob<"u"}function ZC(t,e,n,r){if(r<e)throw gp("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw gp("Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function R5(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZX=function(){function t(e,n,r,i,o,a,u,c,d,p,v){var y=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=u,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=d,this.pool_=v,this.promise_=new Promise(function(w,b){y.resolve_=w,y.reject_=b,y.start_()})}return t.prototype.start_=function(){var e=this;function n(i,o){if(o){i(!1,new z0(!1,null,!0));return}var a=e.pool_.createConnection();e.pendingConnection_=a;function u(c){var d=c.loaded,p=c.lengthComputable?c.total:-1;e.progressCallback_!==null&&e.progressCallback_(d,p)}e.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(){e.progressCallback_!==null&&a.removeUploadProgressListener(u),e.pendingConnection_=null;var c=a.getErrorCode()===ah.NO_ERROR,d=a.getStatus();if(!c||e.isRetryStatusCode_(d)){var p=a.getErrorCode()===ah.ABORT;i(!1,new z0(!1,null,p));return}var v=e.successCodes_.indexOf(d)!==-1;i(!0,new z0(v,a))})}function r(i,o){var a=e.resolve_,u=e.reject_,c=o.connection;if(o.wasSuccessCode)try{var d=e.callback_(c,c.getResponseText());XX(d)?a(d):a()}catch(v){u(v)}else if(c!==null){var p=$A();p.serverResponse=c.getResponseText(),e.errorCallback_?u(e.errorCallback_(c,p)):u(p)}else if(o.canceled){var p=e.appDelete_?T5():E5();u(p)}else{var p=OX();u(p)}}this.canceled_?r(!1,new z0(!1,null,!0)):this.backoffId_=KX(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o},t}(),z0=function(){function t(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}return t}();function eQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function tQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function rQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function iQ(t,e,n,r,i,o){var a=R5(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return nQ(c,e),eQ(c,n),tQ(c,o),rQ(c,r),new ZX(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sQ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=oQ();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(GA())return new Blob(t);throw new ir("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function aQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KA=function(){function t(e,n){var r=0,i="";eD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(eD(this.data_)){var r=this.data_,i=aQ(r,e,n);return i===null?null:new t(i)}else{var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(GA()){var r=e.map(function(c){return c instanceof t?c.data_:c});return new t(sQ.apply(null,r))}else{var i=e.map(function(c){return FE(c)?C5(qo.RAW,c).data:c.data_}),o=0;i.forEach(function(c){o+=c.byteLength});var a=new Uint8Array(o),u=0;return i.forEach(function(c){for(var d=0;d<c.length;d++)a[u++]=c[d]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){var e;try{e=JSON.parse(t)}catch{return null}return JX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function lQ(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function N5(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(t,e){return e}var Ci=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||cQ}return t}(),H0=null;function fQ(t){return!FE(t)||t.length<2?t:N5(t)}function UE(){if(H0)return H0;var t=[];t.push(new Ci("bucket")),t.push(new Ci("generation")),t.push(new Ci("metageneration")),t.push(new Ci("name","fullPath",!0));function e(o,a){return fQ(a)}var n=new Ci("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new Ci("size");return i.xform=r,t.push(i),t.push(new Ci("timeCreated")),t.push(new Ci("updated")),t.push(new Ci("md5Hash",null,!0)),t.push(new Ci("cacheControl",null,!0)),t.push(new Ci("contentDisposition",null,!0)),t.push(new Ci("contentEncoding",null,!0)),t.push(new Ci("contentLanguage",null,!0)),t.push(new Ci("contentType",null,!0)),t.push(new Ci("metadata","customMetadata",!0)),H0=t,H0}function hQ(t,e){function n(){var r=t.bucket,i=t.fullPath,o=new $o(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function dQ(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return hQ(r,t),r}function O5(t,e,n){var r=YA(e);if(r===null)return null;var i=r;return dQ(t,i,n)}function pQ(t,e,n){var r=YA(e);if(r===null||!FE(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),u=a.map(function(c){var d=t.bucket,p=t.fullPath,v="/b/"+o(d)+"/o/"+o(p),y=Cc(v,n),w=R5({alt:"media",token:c});return y+w});return u[0]}function XA(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tD="prefixes",nD="items";function mQ(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[tD])for(var i=0,o=n[tD];i<o.length;i++){var a=o[i],u=a.replace(/\/$/,""),c=t._makeStorageReference(new $o(e,u));r.prefixes.push(c)}if(n[nD])for(var d=0,p=n[nD];d<p.length;d++){var v=p[d],c=t._makeStorageReference(new $o(e,v.name));r.items.push(c)}return r}function gQ(t,e,n){var r=YA(n);if(r===null)return null;var i=r;return mQ(t,e,i)}var zu=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){if(!t)throw $A()}function jE(t,e){function n(r,i){var o=O5(t,i,e);return Ma(o!==null),o}return n}function vQ(t,e){function n(r,i){var o=gQ(t,e,i);return Ma(o!==null),o}return n}function yQ(t,e){function n(r,i){var o=O5(t,i,e);return Ma(o!==null),pQ(o,i,t.host)}return n}function _m(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=RX():i=AX():n.getStatus()===402?i=kX(t.bucket):n.getStatus()===403?i=NX(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function BE(t){var e=_m(t);function n(r,i){var o=e(r,i);return r.getStatus()===404&&(o=xX(t.path)),o.serverResponse=i.serverResponse,o}return n}function P5(t,e,n){var r=e.fullServerUrl(),i=Cc(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new zu(i,o,jE(t,n),a);return u.errorHandler=BE(e),u}function wQ(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),u=Cc(a,t.host),c="GET",d=t.maxOperationRetryTime,p=new zu(u,c,vQ(t,e.bucket),d);return p.urlParams=o,p.errorHandler=_m(e),p}function _Q(t,e,n){var r=e.fullServerUrl(),i=Cc(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new zu(i,o,yQ(t,n),a);return u.errorHandler=BE(e),u}function bQ(t,e,n,r){var i=e.fullServerUrl(),o=Cc(i,t.host),a="PATCH",u=XA(n,r),c={"Content-Type":"application/json; charset=utf-8"},d=t.maxOperationRetryTime,p=new zu(o,a,jE(t,r),d);return p.headers=c,p.body=u,p.errorHandler=BE(e),p}function EQ(t,e){var n=e.fullServerUrl(),r=Cc(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(c,d){}var u=new zu(r,i,a,o);return u.successCodes=[200,204],u.errorHandler=BE(e),u}function SQ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function D5(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=SQ(null,e)),r}function TQ(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){for(var C="",A=0;A<2;A++)C=C+Math.random().toString().slice(2);return C}var c=u();a["Content-Type"]="multipart/related; boundary="+c;var d=D5(e,r,i),p=XA(d,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+c+"--",w=KA.getBlob(v,r,y);if(w===null)throw S5();var b={name:d.fullPath},E=Cc(o,t.host),I="POST",S=t.maxUploadRetryTime,k=new zu(E,I,jE(t,n),S);return k.urlParams=b,k.headers=a,k.body=w.uploadData(),k.errorHandler=_m(e),k}var yb=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function QA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ma(!1)}var r=e||["active"];return Ma(!!n&&r.indexOf(n)!==-1),n}function IQ(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=D5(e,r,i),u={name:a.fullPath},c=Cc(o,t.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=XA(a,n),y=t.maxUploadRetryTime;function w(E){QA(E);var I;try{I=E.getResponseHeader("X-Goog-Upload-URL")}catch{Ma(!1)}return Ma(FE(I)),I}var b=new zu(c,d,w,y);return b.urlParams=u,b.headers=p,b.body=v,b.errorHandler=_m(e),b}function CQ(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(d){var p=QA(d,["active","final"]),v=null;try{v=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ma(!1)}v||Ma(!1);var y=Number(v);return Ma(!isNaN(y)),new yb(y,r.size(),p==="final")}var a="POST",u=t.maxUploadRetryTime,c=new zu(n,a,o,u);return c.headers=i,c.errorHandler=_m(e),c}var rD=256*1024;function xQ(t,e,n,r,i,o,a,u){var c=new yb(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw MX();var d=c.total-c.current,p=d;i>0&&(p=Math.min(p,i));var v=c.current,y=v+p,w=p===d?"upload, finalize":"upload",b={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":""+c.current},E=r.slice(v,y);if(E===null)throw S5();function I(A,O){var H=QA(A,["active","final"]),D=c.current+p,X=r.size(),V;return H==="final"?V=jE(e,o)(A,O):V=null,new yb(D,X,H==="final",V)}var S="POST",k=e.maxUploadRetryTime,C=new zu(n,S,I,k);return C.headers=b,C.body=E.uploadData(),C.progressCallback=u||null,C.errorHandler=_m(t),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kQ=function(){function t(e,n,r){var i=QX(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L5=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=UE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":e(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=IQ(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=CQ(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(u){u=u,e._request=void 0,e._updateProgress(u.current),e._needToFetchStatus=!1,u.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=rD*this._chunkMultiplier,r=new yb(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var u;try{u=xQ(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(d){e._error=d,e._transition("error");return}var c=e._ref.storage._makeRequest(u,o,a);e._request=c,c.getPromise().then(function(d){e._increaseMultiplier(),e._request=void 0,e._updateProgress(d.current),d.finalized?(e._metadata=d.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=rD*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=P5(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=TQ(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=E5(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=cT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var o=this,a=new kQ(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(cT(this._state)){case Ai.SUCCESS:np(this._resolve.bind(null,this.snapshot))();break;case Ai.CANCELED:case Ai.ERROR:var n=this._reject;np(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=cT(this._state);switch(n){case Ai.RUNNING:case Ai.PAUSED:e.next&&np(e.next.bind(e,this.snapshot))();break;case Ai.SUCCESS:e.complete&&np(e.complete.bind(e))();break;case Ai.CANCELED:case Ai.ERROR:e.error&&np(e.error.bind(e,this._error))();break;default:e.error&&np(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VE=function(){function t(e,n){this._service=e,n instanceof $o?this._location=n:this._location=$o.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new $o(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return N5(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=uQ(this._location.path);if(e===null)return null;var n=new $o(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw I5(e)},t}();function AQ(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new L5(t,new KA(e),n)}function RQ(t){var e={prefixes:[],items:[]};return M5(t,e).then(function(){return e})}function M5(t,e,n){return ve(this,void 0,void 0,function(){var r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return r={pageToken:n},[4,F5(t,r)];case 1:return i=u.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,M5(t,e,i.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function F5(t,e){return ve(this,void 0,void 0,function(){var n,r;return ge(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&ZC("options.maxResults",1,1e3,e.maxResults),n=e||{},r=wQ(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function NQ(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=P5(t.storage,t._location,UE()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function OQ(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=bQ(t.storage,t._location,e,UE()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function PQ(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=_Q(t.storage,t._location,UE()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw FX();return r})]}})})}function DQ(t){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=EQ(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function U5(t,e){var n=lQ(t._location.path,e),r=new $o(t._location.bucket,n);return new VE(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){return/^[A-Za-z]+:\/\//.test(t)}function LQ(t,e){return new VE(t,e)}function j5(t,e){if(t instanceof zE){var n=t;if(n._bucket==null)throw LX();var r=new VE(n,n._bucket);return e!=null?j5(r,e):r}else return e!==void 0?U5(t,e):t}function MQ(t,e){if(e&&ex(e)){if(t instanceof zE)return LQ(t,e);throw gp("To use ref(service, url), the first argument must be a Storage instance.")}else return j5(t,e)}function iD(t,e){var n=e==null?void 0:e[b5];return n==null?null:$o.makeFromBucketSpec(n,t)}function FQ(t,e,n,r){r===void 0&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken=typeof i=="string"?i:Nx(i,t.app.options.projectId))}var zE=function(){function t(e,n,r,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=_5,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IX,this._maxUploadRetryTime=CX,this._requests=new Set,o!=null?this._bucket=$o.makeFromBucketSpec(o,this._host):this._bucket=iD(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=$o.makeFromBucketSpec(this._url,e):this._bucket=iD(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){ZC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){ZC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new VE(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new GX(T5());var o=iQ(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},t.prototype.makeRequestWithTokens=function(e){return ve(this,void 0,void 0,function(){var n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(t,e,n){return t=Tt(t),AQ(t,e,n)}function jQ(t){return t=Tt(t),NQ(t)}function BQ(t,e){return t=Tt(t),OQ(t,e)}function VQ(t,e){return t=Tt(t),F5(t,e)}function zQ(t){return t=Tt(t),RQ(t)}function HQ(t){return t=Tt(t),PQ(t)}function WQ(t){return t=Tt(t),DQ(t)}function oD(t,e){return t=Tt(t),MQ(t,e)}function qQ(t,e){return U5(t,e)}function $Q(t,e,n,r){r===void 0&&(r={}),FQ(t,e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W0=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sD=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new W0(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new W0(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(u){return n(new W0(u,o,o._ref))}:a={next:n.next?function(u){return n.next(new W0(u,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),aD=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new Sy(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new Sy(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sy=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=qQ(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new sD(UQ(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=qo.RAW),this._throwIfRoot("putString");var i=C5(n,e),o=vt({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new sD(new L5(this._delegate,new KA(i.data,!0),o),this)},t.prototype.listAll=function(){var e=this;return zQ(this._delegate).then(function(n){return new aD(n,e.storage)})},t.prototype.list=function(e){var n=this;return VQ(this._delegate,e||void 0).then(function(r){return new aD(r,n.storage)})},t.prototype.getMetadata=function(){return jQ(this._delegate)},t.prototype.updateMetadata=function(e){return BQ(this._delegate,e)},t.prototype.getDownloadURL=function(){return HQ(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),WQ(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw I5(e)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GQ=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(ex(e))throw gp("ref() expected a child path but got a URL, use refFromURL instead.");return new Sy(oD(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!ex(e))throw gp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$o.makeFromUrl(e,this._delegate.host)}catch{throw gp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Sy(oD(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),$Q(this._delegate,e,n,r)},t}(),KQ="@firebase/storage",YQ="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XQ="storage";function QQ(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=new GQ(r,new zE(r,i,o,new $X,n,at.SDK_VERSION));return a}function JQ(t){var e={TaskState:Ai,TaskEvent:HX,StringFormat:qo,Storage:zE,Reference:Sy};t.INTERNAL.registerComponent(new yi(XQ,QQ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(KQ,YQ)}JQ(at);var ZQ="@firebase/performance",B5="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V5=B5,eJ="FB-PERF-TRACE-START",tJ="FB-PERF-TRACE-STOP",tx="FB-PERF-TRACE-MEASURE",z5="_wt_",H5="_fp",W5="_fcp",q5="_fid",$5="@firebase/performance/config",G5="@firebase/performance/configexpire",nJ="performance",K5="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr,rJ=(Wr={},Wr["trace started"]="Trace {$traceName} was started before.",Wr["trace stopped"]="Trace {$traceName} is not running.",Wr["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Wr["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Wr["no window"]="Window is not available.",Wr["no app id"]="App id is not available.",Wr["no project id"]="Project id is not available.",Wr["no api key"]="Api key is not available.",Wr["invalid cc log"]="Attempted to queue invalid cc event",Wr["FB not default"]="Performance can only start when Firebase app instance is the default one.",Wr["RC response not ok"]="RC response is not ok",Wr["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Wr["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Wr["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Wr["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Wr),hi=new ju(nJ,K5,rJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mu=new Eh(K5);Mu.logLevel=Lt.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fT,Y5,gi=function(){function t(e){if(this.window=e,!e)throw hi.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Mu.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Ny()?!0:(Mu.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var u=a[o];n(u)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return fT===void 0&&(fT=new t(Y5)),fT},t}();function iJ(t){Y5=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e){var n=t.length-e.length;if(n<0||n>1)throw hi.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hT,hr=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=uD("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=uD("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw hi.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw hi.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw hi.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return hT===void 0&&(hT=new t),hT},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X5;function oJ(){var t=hr.getInstance().installationsService.getId();return t.then(function(e){X5=e}),t}function JA(){return X5}function sJ(){var t=hr.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vp;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(vp||(vp={}));var aJ=["firebase_","google_","ga_"],uJ=new RegExp("^[a-zA-Z]\\w*$"),lJ=40,cJ=100;function fJ(){var t=gi.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Q5(){var t=gi.getInstance().document,e=t.visibilityState;switch(e){case"visible":return vp.VISIBLE;case"hidden":return vp.HIDDEN;default:return vp.UNKNOWN}}function hJ(){var t=gi.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function dJ(t){if(t.length===0||t.length>lJ)return!1;var e=aJ.some(function(n){return t.startsWith(n)});return!e&&!!t.match(uJ)}function pJ(t){return t.length!==0&&t.length<=cJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mJ="0.0.1",gJ={loggingEnabled:!0},vJ="FIREBASE_INSTALLATIONS_AUTH";function yJ(t){var e=wJ();return e?(lD(e),Promise.resolve()):EJ(t).then(lD).then(function(n){return _J(n)},function(){})}function wJ(){var t=gi.getInstance().localStorage;if(t){var e=t.getItem(G5);if(!(!e||!SJ(e))){var n=t.getItem($5);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function _J(t){var e=gi.getInstance().localStorage;!t||!e||(e.setItem($5,JSON.stringify(t)),e.setItem(G5,String(Date.now()+hr.getInstance().configTimeToLive*60*60*1e3)))}var bJ="Could not fetch config, will use default configs";function EJ(t){return sJ().then(function(e){var n=hr.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+hr.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:vJ+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:hr.getInstance().getAppId(),app_version:V5,sdk_version:mJ})});return fetch(i).then(function(o){if(o.ok)return o.json();throw hi.create("RC response not ok")})}).catch(function(){Mu.info(bJ)})}function lD(t){if(!t)return t;var e=hr.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=gJ.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=cD(e.tracesSamplingRate),e.logNetworkAfterSampling=cD(e.networkRequestsSamplingRate),t}function SJ(t){return Number(t)>Date.now()}function cD(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZA=1,dT;function J5(){return ZA=2,dT=dT||IJ(),dT}function TJ(){return ZA===3}function IJ(){return CJ().then(function(){return oJ()}).then(function(t){return yJ(t)}).then(function(){return fD()},function(){return fD()})}function CJ(){var t=gi.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function fD(){ZA=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eR=10*1e3,xJ=5.5*1e3,Z5=3,kJ=1e3,wb=Z5,fc=[],hD=!1;function AJ(){hD||(HE(xJ),hD=!0)}function HE(t){setTimeout(function(){if(wb!==0){if(!fc.length)return HE(eR);RJ()}},t)}function RJ(){var t=fc.splice(0,kJ),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:hr.getInstance().logSource,log_event:e};NJ(n,t).catch(function(){fc=Ct(Ct([],t),fc),wb--,Mu.info("Tries left: "+wb+"."),HE(eR)})}function NJ(t,e){return OJ(t).then(function(n){return n.ok||Mu.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=eR;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(fc=Ct(Ct([],e),fc),Mu.info("Retry transport request later.")),wb=Z5,HE(i)})}function OJ(t){var e=hr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function PJ(t){if(!t.eventTime||!t.message)throw hi.create("invalid cc log");fc=Ct(Ct([],fc),[t])}function DJ(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);PJ({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pT;function eU(t,e){pT||(pT=DJ(MJ)),pT(t,e)}function q0(t){var e=hr.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||gi.getInstance().requiredApisAvailable()&&(t.isAuto&&Q5()!==vp.VISIBLE||(TJ()?mT(t):J5().then(function(){return mT(t)},function(){return mT(t)})))}function mT(t){if(JA()){var e=hr.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return eU(t,1)},0)}}function LJ(t){var e=hr.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return eU(t,0)},0)}}function MJ(t,e){return e===0?FJ(t):UJ(t)}function FJ(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:tU(),network_request_metric:e};return JSON.stringify(n)}function UJ(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:tU(),trace_metric:e};return JSON.stringify(r)}function tU(){return{google_app_id:hr.getInstance().getAppId(),app_instance_id:JA(),web_app_info:{sdk_version:V5,page_url:gi.getInstance().getUrl(),service_worker_status:fJ(),visibility_state:Q5(),effective_connection_type:hJ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jJ=100,BJ="_",VJ=[H5,W5,q5];function zJ(t,e){return t.length===0||t.length>jJ?!1:e&&e.startsWith(z5)&&VJ.indexOf(t)>-1||!t.startsWith(BJ)}function HJ(t){var e=Math.floor(t);return e<t&&Mu.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yv=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=gi.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=eJ+"-"+this.randomId+"-"+this.name,this.traceStopMark=tJ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||tx+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw hi.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw hi.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),q0(this)},t.prototype.record=function(e,n,r){if(e<=0)throw hi.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw hi.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=vt({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}q0(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(zJ(e,this.name))this.counters[e]=HJ(n);else throw hi.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=dJ(e),i=pJ(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw hi.create("invalid attribute name",{attributeName:e});if(!i)throw hi.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return vt({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=gi.getInstance().getUrl();if(i){var o=new t(z5+i,!0),a=Math.floor(gi.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var u="first-paint",c="first-contentful-paint";if(n){var d=n.find(function(v){return v.name===u});d&&d.startTime&&o.putMetric(H5,Math.floor(d.startTime*1e3));var p=n.find(function(v){return v.name===c});p&&p.startTime&&o.putMetric(W5,Math.floor(p.startTime*1e3)),r&&o.putMetric(q5,Math.floor(r*1e3))}q0(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);q0(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=gi.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],u={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};LJ(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WJ=5e3;function pD(){JA()&&(setTimeout(function(){return $J()},0),setTimeout(function(){return qJ()},0),setTimeout(function(){return GJ()},0))}function qJ(){for(var t=gi.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];dD(i)}t.setupObserver("resource",dD)}function $J(){var t=gi.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Yv.createOobTrace(e,n),r=void 0},WJ);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),Yv.createOobTrace(e,n,i))})}else Yv.createOobTrace(e,n)}function GJ(){for(var t=gi.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];mD(i)}t.setupObserver("measure",mD)}function mD(t){var e=t.name;e.substring(0,tx.length)!==tx&&Yv.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KJ=function(){function t(e){this.app=e,gi.getInstance().requiredApisAvailable()&&Dx().then(function(n){n&&(AJ(),J5().then(pD,pD))}).catch(function(n){Mu.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new Yv(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return hr.getInstance().instrumentationEnabled},set:function(e){hr.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return hr.getInstance().dataCollectionEnabled},set:function(e){hr.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YJ="[DEFAULT]";function XJ(t){var e=function(n,r){if(n.name!==YJ)throw hi.create("FB not default");if(typeof window>"u")throw hi.create("no window");return iJ(window),hr.getInstance().firebaseAppInstance=n,hr.getInstance().installationsService=r,new KJ(n)};t.INTERNAL.registerComponent(new yi("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(ZQ,B5)}XJ(at);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QJ="firebase_id",JJ="origin",ZJ=60*1e3,eZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nU="https://www.googletagmanager.com/gtag/js",vi;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(vi||(vi={}));var nx;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(nx||(nx={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tZ(t,e,n,r,i){return ve(this,void 0,void 0,function(){var o,a;return ge(this,function(u){switch(u.label){case 0:return i&&i.global?(t(vi.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=u.sent(),a=vt(vt({},r),{send_to:o}),t(vi.EVENT,n,a),u.label=3;case 3:return[2]}})})}function nZ(t,e,n,r){return ve(this,void 0,void 0,function(){var i;return ge(this,function(o){switch(o.label){case 0:return r&&r.global?(t(vi.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(vi.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function rZ(t,e,n,r){return ve(this,void 0,void 0,function(){var i;return ge(this,function(o){switch(o.label){case 0:return r&&r.global?(t(vi.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(vi.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function iZ(t,e,n,r){return ve(this,void 0,void 0,function(){var i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)u=a[o],i["user_properties."+u]=n[u];return t(vi.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=d.sent(),t(vi.CONFIG,c,{update:!0,user_properties:n}),d.label=3;case 3:return[2]}})})}function oZ(t,e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr=new Eh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sZ(t,e){var n=document.createElement("script");n.src=nU+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function aZ(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function uZ(t,e,n,r,i,o){return ve(this,void 0,void 0,function(){var a,u,c,d;return ge(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=p.sent(),c=u.find(function(v){return v.measurementId===i}),c?[4,e[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return d=p.sent(),Gr.error(d),[3,8];case 8:return t(vi.CONFIG,i,o),[2]}})})}function lZ(t,e,n,r,i){return ve(this,void 0,void 0,function(){var o,a,u,c,d,p,v,y,w;return ge(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=b.sent(),c=function(E){var I=u.find(function(k){return k.measurementId===E}),S=I&&e[I.appId];if(S)o.push(S);else return o=[],"break"},d=0,p=a;d<p.length&&(v=p[d],y=c(v),y!=="break");d++);b.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return b.sent(),t(vi.EVENT,r,i||{}),[3,5];case 4:return w=b.sent(),Gr.error(w),[3,5];case 5:return[2]}})})}function cZ(t,e,n,r){function i(o,a,u){return ve(this,void 0,void 0,function(){var c;return ge(this,function(d){switch(d.label){case 0:return d.trys.push([0,6,,7]),o!==vi.EVENT?[3,2]:[4,lZ(t,e,n,a,u)];case 1:return d.sent(),[3,5];case 2:return o!==vi.CONFIG?[3,4]:[4,uZ(t,e,n,r,a,u)];case 3:return d.sent(),[3,5];case 4:t(vi.SET,a),d.label=5;case 5:return[3,7];case 6:return c=d.sent(),Gr.error(c),[3,7];case 7:return[2]}})})}return i}function fZ(t,e,n,r,i){var o=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=cZ(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function hZ(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(nU))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es,dZ=(Es={},Es["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Es["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Es["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Es["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Es["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Es["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Es["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Es["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Es["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Es),Yo=new ju("analytics","Analytics",dZ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pZ=30,mZ=1e3,gZ=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=mZ),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),rU=new gZ;function vZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function yZ(t){var e;return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return ge(this,function(d){switch(d.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:vZ(r)},o=eZ.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=d.sent(),!(a.status!==200&&a.status!==304))return[3,6];u="",d.label=2;case 2:return d.trys.push([2,4,,5]),[4,a.json()];case 3:return c=d.sent(),!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message),[3,5];case 4:return d.sent(),[3,5];case 5:throw Yo.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u});case 6:return[2,a.json()]}})})}function wZ(t,e,n){return e===void 0&&(e=rU),ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d=this;return ge(this,function(p){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Yo.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Yo.create("no-api-key")}return u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new EZ,setTimeout(function(){return ve(d,void 0,void 0,function(){return ge(this,function(v){return c.abort(),[2]})})},ZJ),[2,iU({appId:i,apiKey:o,measurementId:a},u,c,e)]})})}function iU(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=rU),ve(this,void 0,void 0,function(){var a,u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:a=t.appId,u=t.measurementId,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,_Z(n,i)];case 2:return w.sent(),[3,4];case 3:if(c=w.sent(),u)return Gr.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:u}];throw c;case 4:return w.trys.push([4,6,,7]),[4,yZ(t)];case 5:return d=w.sent(),r.deleteThrottleMetadata(a),[2,d];case 6:if(p=w.sent(),!bZ(p)){if(r.deleteThrottleMetadata(a),u)return Gr.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:u}];throw p}return v=Number(p.customData.httpStatus)===503?nC(o,r.intervalMillis,pZ):nC(o,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+v,backoffCount:o+1},r.setThrottleMetadata(a,y),Gr.debug("Calling attemptFetch again in "+v+" millis"),[2,iU(t,y,n,r)];case 7:return[2]}})})}function _Z(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Yo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bZ(t){if(!(t instanceof im)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var EZ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SZ(){return ve(this,void 0,void 0,function(){var t;return ge(this,function(e){switch(e.label){case 0:return Ny()?[3,1]:(Gr.warn(Yo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Dx()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Gr.warn(Yo.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function TZ(t,e,n,r,i,o){return ve(this,void 0,void 0,function(){var a,u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:return a=wZ(t),a.then(function(b){n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Gr.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+b.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(b){return Gr.error(b)}),e.push(a),u=SZ().then(function(b){if(b)return r.getId()}),[4,Promise.all([a,u])];case 1:return c=w.sent(),d=c[0],p=c[1],hZ()||sZ(o,d.measurementId),i("js",new Date),v=(y={},y[JJ]="firebase",y.update=!0,y),p!=null&&(v[QJ]=p),i(vi.CONFIG,d.measurementId,v),[2,d.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wu={},gD=[],vD={},b_="dataLayer",oU="gtag",yD,bv,rx=!1;function IZ(t){if(rx)throw Yo.create("already-initialized");t.dataLayerName&&(b_=t.dataLayerName),t.gtagName&&(oU=t.gtagName)}function CZ(){var t=[];if(Px()&&t.push("This is a browser extension environment."),kF()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Yo.create("invalid-analytics-context",{errorInfo:e});Gr.warn(n.message)}}function xZ(t,e){CZ();var n=t.options.appId;if(!n)throw Yo.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Gr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Yo.create("no-api-key");if(wu[n]!=null)throw Yo.create("already-exists",{id:n});if(!rx){aZ(b_);var r=fZ(wu,gD,vD,b_,oU),i=r.wrappedGtag,o=r.gtagCore;bv=i,yD=o,rx=!0}wu[n]=TZ(t,gD,vD,e,yD,b_);var a={app:t,logEvent:function(u,c,d){tZ(bv,wu[n],u,c,d).catch(function(p){return Gr.error(p)})},setCurrentScreen:function(u,c){nZ(bv,wu[n],u,c).catch(function(d){return Gr.error(d)})},setUserId:function(u,c){rZ(bv,wu[n],u,c).catch(function(d){return Gr.error(d)})},setUserProperties:function(u,c){iZ(bv,wu[n],u,c).catch(function(d){return Gr.error(d)})},setAnalyticsCollectionEnabled:function(u){oZ(wu[n],u).catch(function(c){return Gr.error(c)})},INTERNAL:{delete:function(){return delete wu[n],Promise.resolve()}}};return a}var kZ="@firebase/analytics",AZ="0.6.18",wD="analytics";function RZ(t){t.INTERNAL.registerComponent(new yi(wD,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return xZ(r,i)},"PUBLIC").setServiceProps({settings:IZ,EventName:nx,isSupported:NZ})),t.INTERNAL.registerComponent(new yi("analytics-internal",e,"PRIVATE")),t.registerVersion(kZ,AZ);function e(n){try{var r=n.getProvider(wD).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Yo.create("interop-component-reg-failed",{reason:i})}}}RZ(at);function NZ(){return ve(this,void 0,void 0,function(){var t;return ge(this,function(e){switch(e.label){case 0:if(Px())return[2,!1];if(!kF())return[2,!1];if(!Ny())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Dx()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OZ=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return ve(this,void 0,void 0,function(){var n,r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=u.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=u.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return u.sent(),[2,o]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi,PZ=(xi={},xi["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",xi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",xi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",xi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",xi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",xi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",xi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",xi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",xi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",xi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',xi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',xi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",xi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",xi),Go=new ju("remoteconfig","Remote Config",PZ);function DZ(t,e){return t instanceof im&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MZ=function(){function t(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return t.prototype.fetch=function(e){return ve(this,void 0,void 0,function(){var n,r,i,o,a,u,c,d,p,v,y,w,b,E,I,S,k,C,A;return ge(this,function(O){switch(O.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=O.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:LZ()},d={method:"POST",headers:u,body:JSON.stringify(c)},p=fetch(a,d),v=new Promise(function(H,D){e.signal.addEventListener(function(){var X=new Error("The operation was aborted.");X.name="AbortError",D(X)})}),O.label=2;case 2:return O.trys.push([2,5,,6]),[4,Promise.race([p,v])];case 3:return O.sent(),[4,p];case 4:return y=O.sent(),[3,6];case 5:throw w=O.sent(),b="fetch-client-network",w.name==="AbortError"&&(b="fetch-timeout"),Go.create(b,{originalErrorMessage:w.message});case 6:if(E=y.status,I=y.headers.get("ETag")||void 0,y.status!==200)return[3,11];C=void 0,O.label=7;case 7:return O.trys.push([7,9,,10]),[4,y.json()];case 8:return C=O.sent(),[3,10];case 9:throw A=O.sent(),Go.create("fetch-client-parse",{originalErrorMessage:A.message});case 10:S=C.entries,k=C.state,O.label=11;case 11:if(k==="INSTANCE_STATE_UNSPECIFIED"?E=500:k==="NO_CHANGE"?E=304:(k==="NO_TEMPLATE"||k==="EMPTY_CONFIG")&&(S={}),E!==304&&E!==200)throw Go.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:I,config:S}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FZ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UZ=!1,jZ="",_D=0,BZ=["1","true","t","yes","y","on"],gT=function(){function t(e,n){n===void 0&&(n=jZ),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?UZ:BZ.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return _D;var e=Number(this._value);return isNaN(e)&&(e=_D),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VZ=60*1e3,zZ=12*60*60*1e3,HZ=function(){function t(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:VZ,minimumFetchIntervalMillis:zZ},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Lt.DEBUG;break;case"silent":this._logger.logLevel=Lt.SILENT;break;default:this._logger.logLevel=Lt.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return ve(this,void 0,void 0,function(){var e,n,r,i=this;return ge(this,function(o){switch(o.label){case 0:e=new FZ,setTimeout(function(){return ve(i,void 0,void 0,function(){return ge(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=DZ(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return ve(this,void 0,void 0,function(){return ge(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return WZ(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new gT("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new gT("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new gT("static"))},t}();function WZ(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(vt(vt({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t,e){var n=t.target.error||void 0;return Go.create(e,{originalErrorMessage:n&&n.message})}var Hf="app_namespace_store",qZ="firebase_remote_config",$Z=1;function GZ(){return new Promise(function(t,e){var n=indexedDB.open(qZ,$Z);n.onerror=function(r){e(E_(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Hf,{keyPath:"compositeKey"})}}})}var KZ=function(){function t(e,n,r,i){i===void 0&&(i=GZ()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return ve(this,void 0,void 0,function(){var n,r=this;return ge(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Hf],"readonly"),c=u.objectStore(Hf),d=r.createCompositeKey(e);try{var p=c.get(d);p.onerror=function(v){a(E_(v,"storage-get"))},p.onsuccess=function(v){var y=v.target.result;o(y?y.value:void 0)}}catch(v){a(Go.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.set=function(e,n){return ve(this,void 0,void 0,function(){var r,i=this;return ge(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,u){var c=r.transaction([Hf],"readwrite"),d=c.objectStore(Hf),p=i.createCompositeKey(e);try{var v=d.put({compositeKey:p,value:n});v.onerror=function(y){u(E_(y,"storage-set"))},v.onsuccess=function(){a()}}catch(y){u(Go.create("storage-set",{originalErrorMessage:y&&y.message}))}})]}})})},t.prototype.delete=function(e){return ve(this,void 0,void 0,function(){var n,r=this;return ge(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Hf],"readwrite"),c=u.objectStore(Hf),d=r.createCompositeKey(e);try{var p=c.delete(d);p.onerror=function(v){a(E_(v,"storage-delete"))},p.onsuccess=function(){o()}}catch(v){a(Go.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YZ=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return ve(this,void 0,void 0,function(){var e,n,r,i,o,a;return ge(this,function(u){switch(u.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=u.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=u.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=u.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XZ(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Go.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QZ(t){if(!(t instanceof im)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var JZ=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return ve(this,void 0,void 0,function(){var o,a,u;return ge(this,function(c){switch(c.label){case 0:return[4,XZ(e.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,o];case 5:if(a=c.sent(),!QZ(a))throw a;return u={throttleEndTimeMillis:Date.now()+nC(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(u)];case 6:return c.sent(),[2,this.attemptFetch(e,u)];case 7:return[2]}})})},t}(),bD="@firebase/remote-config",ZZ="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eee(t){t.INTERNAL.registerComponent(new yi("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(bD,ZZ);function e(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Go.create("registration-window");var u=o.options,c=u.projectId,d=u.apiKey,p=u.appId;if(!c)throw Go.create("registration-project-id");if(!d)throw Go.create("registration-api-key");if(!p)throw Go.create("registration-app-id");i=i||"firebase";var v=new KZ(p,o.name,i),y=new YZ(v),w=new Eh(bD);w.logLevel=Lt.ERROR;var b=new MZ(a,t.SDK_VERSION,i,c,d,p),E=new JZ(b,v),I=new OZ(E,v,y,w),S=new HZ(o,I,y,v,w);return S.ensureInitialized(),S}}eee(at);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss,tee=(Ss={},Ss["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Ss["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Ss["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ss["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ss["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ss["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ss["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ss["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ss["recaptcha-error"]="ReCAPTCHA error.",Ss),wo=new ju("appCheck","AppCheck",tee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sU=new Map,nee={activated:!1,tokenObservers:[]},ree={enabled:!1};function Li(t){return sU.get(t)||nee}function Fa(t,e){sU.set(t,e)}function tR(){return ree}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aU="https://content-firebaseappcheck.googleapis.com/v1beta",iee="exchangeRecaptchaToken",oee="exchangeDebugToken",ED={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var see=function(){function t(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return ve(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Pr,[4,aee(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Pr,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function aee(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return self.grecaptcha}function uU(t){if(!Li(t).activated)throw wo.create("use-before-activation",{appName:t.name})}function uee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}function lee(t){return Fb.encodeString(JSON.stringify(t),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t,e){var n=t.url,r=t.body;return ve(this,void 0,void 0,function(){var i,o,a,u,c,d,p,v,y,w;return ge(this,function(b){switch(b.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},b.label=1;case 1:return b.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return u=b.sent(),[3,4];case 3:throw c=b.sent(),wo.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(u.status!==200)throw wo.create("fetch-status-error",{httpStatus:u.status});b.label=5;case 5:return b.trys.push([5,7,,8]),[4,u.json()];case 6:return d=b.sent(),[3,8];case 7:throw p=b.sent(),wo.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(v=d.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw wo.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+d.ttl)});return y=Number(v[1])*1e3,w=Date.now(),[2,{token:d.attestationToken,expireTimeMillis:w+y,issuedAtTimeMillis:w}]}})})}function cee(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:aU+"/projects/"+r+"/apps/"+i+":"+iee+"?key="+o,body:{recaptcha_token:e}}}function fee(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:aU+"/projects/"+r+"/apps/"+i+":"+oee+"?key="+o,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hee="firebase-app-check-database",dee=1,Ty="firebase-app-check-store",cU="debug-token",$0=null;function fU(){return $0||($0=new Promise(function(t,e){try{var n=indexedDB.open(hee,dee);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(wo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ty,{keyPath:"compositeKey"})}}}catch(r){e(wo.create("storage-open",{originalErrorMessage:r.message}))}}),$0)}function pee(t){return dU(pU(t))}function mee(t,e){return hU(pU(t),e)}function gee(t){return hU(cU,t)}function vee(){return dU(cU)}function hU(t,e){return ve(this,void 0,void 0,function(){var n,r,i,o;return ge(this,function(a){switch(a.label){case 0:return[4,fU()];case 1:return n=a.sent(),r=n.transaction(Ty,"readwrite"),i=r.objectStore(Ty),o=i.put({compositeKey:t,value:e}),[2,new Promise(function(u,c){o.onsuccess=function(d){u()},r.onerror=function(d){var p;c(wo.create("storage-set",{originalErrorMessage:(p=d.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function dU(t){return ve(this,void 0,void 0,function(){var e,n,r,i;return ge(this,function(o){switch(o.label){case 0:return[4,fU()];case 1:return e=o.sent(),n=e.transaction(Ty,"readonly"),r=n.objectStore(Ty),i=r.get(t),[2,new Promise(function(a,u){i.onsuccess=function(c){var d=c.target.result;a(d?d.value:void 0)},n.onerror=function(c){var d;u(wo.create("storage-get",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function pU(t){return t.options.appId+"-"+t.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WE=new Eh("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yee(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:if(!Ny())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,pee(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),WE.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function TD(t,e){return Ny()?mee(t,e).catch(function(n){WE.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function wee(){return ve(this,void 0,void 0,function(){var t,e;return ge(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,vee()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=uee(),gee(e).catch(function(r){return WE.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(){var t=tR();return t.enabled}function bee(){return ve(this,void 0,void 0,function(){var t;return ge(this,function(e){if(t=tR(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function Eee(){var t=xV();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=tR();e.enabled=!0;var n=new Pr;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(wee())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var See={error:"UNKNOWN_ERROR"};function _b(t,e,n){return n===void 0&&(n=!1),ve(this,void 0,void 0,function(){var r,i,o,a,u,c,d,p,v,y;return ge(this,function(w){switch(w.label){case 0:return uU(t),r=Li(t),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=w.sent(),a&&Iy(a)&&(i=a,Fa(t,vt(vt({},r),{token:i})),ID(t,{token:i.token})),w.label=2;case 2:return!n&&i&&Iy(i)?[2,{token:i.token}]:_ee()?(c=lU,d=fee,p=[t],[4,bee()]):[3,6];case 3:return[4,c.apply(void 0,[d.apply(void 0,p.concat([w.sent()])),e])];case 4:return u=w.sent(),[4,TD(t,u)];case 5:return w.sent(),Fa(t,vt(vt({},r),{token:u})),[2,{token:u.token}];case 6:return w.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=w.sent(),[3,9];case 8:return v=w.sent(),WE.error(v),o=v,[3,9];case 9:return i?[3,10]:(y=Iee(o),[3,12]);case 10:return y={token:i.token},Fa(t,vt(vt({},r),{token:i})),[4,TD(t,i)];case 11:w.sent(),w.label=12;case 12:return ID(t,y),[2,y]}})})}function mU(t,e,n,r,i){var o=Li(t),a={next:r,error:i,type:n},u=vt(vt({},o),{tokenObservers:Ct(Ct([],o.tokenObservers),[a])});if(!u.tokenRefresher){var c=Tee(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&Iy(o.token)){var d=o.token;Promise.resolve().then(function(){return r({token:d.token})}).catch(function(){})}else o.token==null&&o.cachedTokenPromise.then(function(p){p&&Iy(p)&&r({token:p.token})}).catch(function(){});Fa(t,u)}function nR(t,e){var n=Li(t),r=n.tokenObservers.filter(function(i){return i.next!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Fa(t,vt(vt({},n),{tokenObservers:r}))}function Tee(t,e){var n=this;return new see(function(){return ve(n,void 0,void 0,function(){var r,i;return ge(this,function(o){switch(o.label){case 0:return r=Li(t),r.token?[3,2]:[4,_b(t,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,_b(t,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Li(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},ED.RETRIAL_MIN_WAIT,ED.RETRIAL_MAX_WAIT)}function ID(t,e){for(var n=Li(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{o.type==="EXTERNAL"&&e.error!=null?o.error(e.error):o.next(e)}catch{}}}function Iy(t){return t.expireTimeMillis-Date.now()>0}function Iee(t){return{token:lee(See),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cee="https://www.google.com/recaptcha/api.js";function xee(t,e){var n=Li(t),r=new Pr;Fa(t,vt(vt({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=SD();return a?a.ready(function(){CD(t,e,a,i),r.resolve(a)}):Aee(function(){var u=SD();if(!u)throw new Error("no recaptcha");u.ready(function(){CD(t,e,u,i),r.resolve(u)})}),r.promise}function kee(t){return ve(this,void 0,void 0,function(){var e,n;return ge(this,function(r){switch(r.label){case 0:return uU(t),e=Li(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=Li(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function CD(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=Li(t);Fa(t,vt(vt({},o),{reCAPTCHAState:vt(vt({},o.reCAPTCHAState),{widgetId:i})}))}function Aee(t){var e=document.createElement("script");e.src=""+Cee,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ix=function(){function t(e){this._siteKey=e}return t.prototype.getToken=function(){return ve(this,void 0,void 0,function(){var e;return ge(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw wo.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,kee(this._app)];case 2:return e=n.sent(),[3,4];case 3:throw n.sent(),wo.create("recaptcha-error");case 4:return[2,lU(cee(this._app,e),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(e,n){this._app=e,this._platformLoggerProvider=n,xee(e,this._siteKey).catch(function(){})},t}(),ox=function(){function t(e){this._customProviderOptions=e}return t.prototype.getToken=function(){return ve(this,void 0,void 0,function(){var e,n,r;return ge(this,function(i){switch(i.label){case 0:if(!this._app)throw wo.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=i.sent(),n=NV(e.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,vt(vt({},e),{issuedAtTimeMillis:r})]}})})},t.prototype.initialize=function(e){this._app=e},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(t,e,n,r){var i=Li(t);if(i.activated)throw wo.create("already-activated",{appName:t.name});var o=vt(vt({},i),{activated:!0});o.cachedTokenPromise=yee(t).then(function(a){return a&&Iy(a)&&Fa(t,vt(vt({},Li(t)),{token:a})),a}),typeof e=="string"?o.provider=new ix(e):e instanceof ix||e instanceof ox?o.provider=e:o.provider=new ox({getToken:e.getToken}),o.isTokenAutoRefreshEnabled=r===void 0?t.automaticDataCollectionEnabled:r,Fa(t,o),o.provider.initialize(t,n)}function Nee(t,e){var n=Li(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Fa(t,vt(vt({},n),{isTokenAutoRefreshEnabled:e}))}function Oee(t,e,n){return ve(this,void 0,void 0,function(){var r;return ge(this,function(i){switch(i.label){case 0:return[4,_b(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function Pee(t,e,n,r,i){var o=function(){},a=function(){};return n.next!=null?o=n.next.bind(n):o=n,n.error!=null?a=n.error.bind(n):r&&(a=r),mU(t,e,"EXTERNAL",o,a),function(){return nR(t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(t,e){return{app:t,activate:function(n,r){return Ree(t,n,e,r)},setTokenAutoRefreshEnabled:function(n){return Nee(t,n)},getToken:function(n){return Oee(t,e,n)},onTokenChanged:function(n,r,i){return Pee(t,e,n,r)},INTERNAL:{delete:function(){for(var n=Li(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];nR(t,o.next)}return Promise.resolve()}}}}function Lee(t,e){return{getToken:function(n){return _b(t,e,n)},addTokenListener:function(n){return mU(t,e,"INTERNAL",n)},removeTokenListener:function(n){return nR(t,n)}}}var Mee="@firebase/app-check",Fee="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uee="appCheck",xD="app-check-internal";function jee(t){t.INTERNAL.registerComponent(new yi(Uee,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return Dee(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:ix,CustomProvider:ox}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(xD);i.initialize()})),t.INTERNAL.registerComponent(new yi(xD,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return Lee(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(Mee,Fee)}jee(at);Eee();var Bee="firebase",gU="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */at.registerVersion(Bee,gU,"app");at.SDK_VERSION=gU;var Vee="firebase",zee="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);at.registerVersion(Vee,zee);const Hee={apiKey:"AIzaSyC_K17PkVzYRdF0hGazuBGM303aggFae2g",authDomain:"mipu-9f72e.firebaseapp.com",projectId:"mipu-9f72e",storageBucket:"mipu-9f72e.appspot.com",messagingSenderId:"725415495634",appId:"1:725415495634:web:2dab347a297b2939cc2a0b",measurementId:"G-2RZGM0GQBX"},rR=at.initializeApp(Hee),qE=at.auth(rR),Nu=at.firestore(rR),vU=at.storage(rR),iR=t=>at.firestore.Timestamp.fromDate(t),$E=(t,e,n)=>{const[r,i]=J.useState(null),[o,a]=J.useState(null),u=J.useRef(e).current,c=J.useRef(n).current;return J.useEffect(()=>{let d=Nu.collection(t);u&&(d=d.where(...u)),c&&(d=d.orderBy(...c));const p=d.onSnapshot(v=>{let y=[];v.docs.forEach(w=>{y.push({...w.data(),id:w.id})}),i(y),a(null)},v=>{console.log(v),a("could not fetch the data")});return()=>p()},[t,u,c]),{documents:r,error:o}},yU=J.createContext(),Wee=(t,e)=>{switch(e.type){case"LOGIN":return{...t,user:e.payload};case"LOGOUT":return{...t,user:null};case"AUTH_IS_READY":return{user:e.payload,authIsReady:!0};default:return t}},qee=({children:t})=>{const[e,n]=J.useReducer(Wee,{user:null,authIsReady:!1});return J.useEffect(()=>{const r=qE.onAuthStateChanged(i=>{n({type:"AUTH_IS_READY",payload:i}),r()})},[]),console.log("AuthContext state:",e),ee.jsx(yU.Provider,{value:{...e,dispatch:n},children:t})},Zo=()=>{const t=J.useContext(yU);if(!t)throw Error("useAuthContext must be used inside an AuthContextProvider");return t};function $ee(t,e,n){J.useEffect(()=>{if(!document)return;const r=document.querySelector('script[src="'.concat(t,'"]'));if(r!=null&&r.dataset.loaded){e==null||e();return}const i=r||document.createElement("script");r||(i.src=t);const o=()=>{i.dataset.loaded="1",e==null||e()};i.addEventListener("load",o),i.addEventListener("error",n),r||document.head.append(i)},[])}function Gee(t){let{chartVersion:e="current",chartPackages:n=["corechart","controls"],chartLanguage:r="en",mapsApiKey:i}=t;const[o,a]=J.useState(null),[u,c]=J.useState(!1);return $ee("https://www.gstatic.com/charts/loader.js",()=>{const d=window==null?void 0:window.google;d&&(d.charts.load(e,{packages:n,language:r,mapsApiKey:i}),d.charts.setOnLoadCallback(()=>{a(d)}))},()=>{c(!0)}),[o,u]}function Kee(t){let{onLoad:e,onError:n,...r}=t;const[i,o]=Gee(r);return J.useEffect(()=>{i&&e&&e(i)},[i]),J.useEffect(()=>{o&&n&&n()},[o]),null}const wU={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}};let kD=0;const Yee=()=>(kD+=1,"reactgooglegraph-".concat(kD)),Xee=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],Qee=async function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((r,i)=>{const o="".concat(n.headers?"headers=".concat(n.headers):"headers=0"),a="".concat(n.query?"&tq=".concat(encodeURIComponent(n.query)):""),u="".concat(n.gid?"&gid=".concat(n.gid):""),c="".concat(n.sheet?"&sheet=".concat(n.sheet):""),d="".concat(n.access_token?"&access_token=".concat(n.access_token):""),p="".concat(o).concat(u).concat(c).concat(a).concat(d),v="".concat(e,"/gviz/tq?").concat(p);new t.visualization.Query(v).send(w=>{w.isError()?i("Error in query:  ".concat(w.getMessage()," ").concat(w.getDetailedMessage())):r(w.getDataTable())})})},{Provider:Jee,Consumer:Zee}=J.createContext(wU),ete=t=>{let{children:e,value:n}=t;return J.createElement(Jee,{value:n},e)},_U=t=>{let{render:e}=t;return J.createElement(Zee,null,n=>e(n))},tte="#CCCCCC";class nte extends J.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){const{google:e,googleChartWrapper:n}=this.props;window.removeEventListener("resize",this.onResize),e.visualization.events.removeAllListeners(n),n.getChartType()==="Timeline"&&n.getChart()&&n.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...e){super(...e),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{const{google:n,googleChartWrapper:r}=this.props;n.visualization.events.addListener(r,"select",()=>{const o=r.getChart().getSelection(),a=r.getDataTable();if(o.length===0||o[0].row||!a)return;const u=o[0].column,c=this.getColumnID(a,u);this.state.hiddenColumns.includes(c)?this.setState(d=>({...d,hiddenColumns:[...d.hiddenColumns.filter(p=>p!==c)]})):this.setState(d=>({...d,hiddenColumns:[...d.hiddenColumns,c]}))})},this.applyFormatters=(n,r)=>{const{google:i}=this.props;for(let o of r)switch(o.type){case"ArrowFormat":{new i.visualization.ArrowFormat(o.options).format(n,o.column);break}case"BarFormat":{new i.visualization.BarFormat(o.options).format(n,o.column);break}case"ColorFormat":{const a=new i.visualization.ColorFormat(o.options),{ranges:u}=o;for(let c of u)a.addRange(...c);a.format(n,o.column);break}case"DateFormat":{new i.visualization.DateFormat(o.options).format(n,o.column);break}case"NumberFormat":{new i.visualization.NumberFormat(o.options).format(n,o.column);break}case"PatternFormat":{new i.visualization.PatternFormat(o.options).format(n,o.column);break}}},this.getColumnID=(n,r)=>n.getColumnId(r)||n.getColumnLabel(r),this.draw=async n=>{let{data:r,diffdata:i,rows:o,columns:a,options:u,legend_toggle:c,legendToggle:d,chartType:p,formatters:v,spreadSheetUrl:y,spreadSheetQueryParameters:w}=n;const{google:b,googleChartWrapper:E}=this.props;let I,S=null;if(i){const H=b.visualization.arrayToDataTable(i.old),D=b.visualization.arrayToDataTable(i.new);S=b.visualization[p].prototype.computeDiff(H,D)}r?Array.isArray(r)?I=b.visualization.arrayToDataTable(r):I=new b.visualization.DataTable(r):o&&a?I=b.visualization.arrayToDataTable([a,...o]):y?I=await Qee(b,y,w):I=b.visualization.arrayToDataTable([]);const k=I.getNumberOfColumns(),C=Array(k).fill(0).map((H,D)=>{const X=this.getColumnID(I,D);return this.state.hiddenColumns.includes(X)?{label:I.getColumnLabel(D),type:I.getColumnType(D),calc:()=>null}:D}),A=E.getChart();E.getChartType()==="Timeline"&&A&&A.clearChart(),E.setChartType(p),E.setOptions(u||{});const O=new b.visualization.DataView(I);O.setColumns(C),E.setDataTable(O),E.draw(),this.props.googleChartDashboard!==null&&this.props.googleChartDashboard.draw(I),S&&(E.setDataTable(S),E.draw()),v&&(this.applyFormatters(I,v),E.setDataTable(I),E.draw()),(d===!0||c===!0)&&this.grayOutHiddenColumns({options:u})},this.grayOutHiddenColumns=n=>{let{options:r}=n;const{googleChartWrapper:i}=this.props,o=i.getDataTable();if(!o)return;const a=o.getNumberOfColumns();if(this.state.hiddenColumns.length>0===!1)return;const c=Array.from({length:a-1}).map((d,p)=>{const v=this.getColumnID(o,p+1);return this.state.hiddenColumns.includes(v)?tte:r&&r.colors?r.colors[p]:Xee[p]});i.setOptions({...r,colors:c}),i.draw()},this.onResize=()=>{const{googleChartWrapper:n}=this.props;n.draw()}}}class rte extends J.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){const{google:e,googleChartWrapper:n,googleChartDashboard:r}=this.props;return J.createElement(_U,{render:i=>J.createElement(nte,Object.assign({},i,{google:e,googleChartWrapper:n,googleChartDashboard:r}))})}}class ite extends J.Component{shouldComponentUpdate(){return!1}listenToEvents(e){let{chartEvents:n,google:r,googleChartWrapper:i}=e;if(n){r.visualization.events.removeAllListeners(i);for(let a of n){var o=this;const{eventName:u,callback:c}=a;r.visualization.events.addListener(i,u,function(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];c({chartWrapper:i,props:o.props,google:r,eventArgs:p})})}}}componentDidMount(){var e;const{google:n,googleChartWrapper:r}=this.props;this.listenToEvents({chartEvents:((e=this.propsFromContext)===null||e===void 0?void 0:e.chartEvents)||null,google:n,googleChartWrapper:r})}render(){return this.props,J.createElement(_U,{render:e=>(this.propsFromContext=e,null)})}constructor(e){super(e),this.propsFromContext=null}}let AD=0;class ote extends J.Component{componentDidMount(){const{options:e,google:n,chartType:r,chartWrapperParams:i,toolbarItems:o,getChartEditor:a,getChartWrapper:u}=this.props,c={chartType:r,options:e,containerId:this.getGraphID(),...i},d=new n.visualization.ChartWrapper(c);d.setOptions(e||{}),u&&u(d,n);const p=new n.visualization.Dashboard(this.dashboard_ref),v=this.addControls(d,p);o&&n.visualization.drawToolbar(this.toolbar_ref.current,o);let y=null;a&&(y=new n.visualization.ChartEditor,a({chartEditor:y,chartWrapper:d,google:n})),this.setState({googleChartEditor:y,googleChartControls:v,googleChartDashboard:p,googleChartWrapper:d,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper||!this.state.googleChartDashboard||!this.state.googleChartControls)return;const{controls:e}=this.props;if(e)for(let n=0;n<e.length;n+=1){const{controlType:r,options:i,controlWrapperParams:o}=e[n];o&&"state"in o&&this.state.googleChartControls[n].control.setState(o.state),this.state.googleChartControls[n].control.setOptions(i),this.state.googleChartControls[n].control.setControlType(r)}}shouldComponentUpdate(e,n){return this.state.isReady!==n.isReady||e.controls!==this.props.controls}render(){const{width:e,height:n,options:r,style:i}=this.props,o={height:n||r&&r.height,width:e||r&&r.width,...i};return this.props.render?J.createElement("div",{ref:this.dashboard_ref,style:o},J.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):J.createElement("div",{ref:this.dashboard_ref,style:o},this.renderControl(a=>{let{controlProp:u}=a;return u.controlPosition!=="bottom"}),this.renderChart(),this.renderControl(a=>{let{controlProp:u}=a;return u.controlPosition==="bottom"}),this.renderToolBar())}constructor(...e){var n;super(...e),n=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=J.createRef(),this.toolbar_ref=J.createRef(),this.getGraphID=()=>{const{graphID:r,graph_id:i}=this.props;let o;return!r&&!i?this.graphID?o=this.graphID:o=Yee():r&&!i?o=r:i&&!r?o=i:o=r,this.graphID=o,this.graphID},this.getControlID=(r,i)=>{AD+=1;let o;return typeof r>"u"?o="googlechart-control-".concat(i,"-").concat(AD):o=r,o},this.addControls=(r,i)=>{const{google:o,controls:a}=this.props,u=a?a.map((d,p)=>{const{controlID:v,controlType:y,options:w,controlWrapperParams:b}=d,E=this.getControlID(v,p);return{controlProp:d,control:new o.visualization.ControlWrapper({containerId:E,controlType:y,options:w,...b})}}):null;if(!u)return null;i.bind(u.map(d=>{let{control:p}=d;return p}),r);for(let d of u){const{control:p,controlProp:v}=d,{controlEvents:y=[]}=v;for(let w of y){var c=this;const{callback:b,eventName:E}=w;o.visualization.events.removeListener(p,E,b),o.visualization.events.addListener(p,E,function(){for(var I=arguments.length,S=new Array(I),k=0;k<I;k++)S[k]=arguments[k];b({chartWrapper:r,controlWrapper:p,props:c.props,google:o,eventArgs:S})})}}return u},this.renderChart=()=>{const{width:r,height:i,options:o,style:a,className:u,rootProps:c,google:d}=this.props,p={height:i||o&&o.height,width:r||o&&o.width,...a};return J.createElement("div",Object.assign({id:this.getGraphID(),style:p,className:u},c),this.state.isReady&&this.state.googleChartWrapper!==null?J.createElement(J.Fragment,null,J.createElement(rte,{googleChartWrapper:this.state.googleChartWrapper,google:d,googleChartDashboard:this.state.googleChartDashboard}),J.createElement(ite,{googleChartWrapper:this.state.googleChartWrapper,google:d})):null)},this.renderControl=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i=>!0;return n.state.isReady&&n.state.googleChartControls!==null?J.createElement(J.Fragment,null,n.state.googleChartControls.filter(i=>{let{controlProp:o,control:a}=i;return r({control:a,controlProp:o})}).map(i=>{let{control:o,controlProp:a}=i;return J.createElement("div",{key:o.getContainerId(),id:o.getContainerId()})})):null},this.renderToolBar=()=>this.props.toolbarItems?J.createElement("div",{ref:this.toolbar_ref}):null}}class bU extends J.Component{render(){const{chartLanguage:e,chartPackages:n,chartVersion:r,mapsApiKey:i,loader:o,errorElement:a}=this.props;return J.createElement(ete,{value:this.props},this.state.loadingStatus==="ready"&&this.state.google!==null?J.createElement(ote,Object.assign({},this.props,{google:this.state.google})):this.state.loadingStatus==="errored"&&a?a:o,J.createElement(Kee,{chartLanguage:e,chartPackages:n,chartVersion:r,mapsApiKey:i,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(e){const{controls:n,toolbarItems:r,getChartEditor:i}=this.props;return e&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!n||e.visualization.ChartWrapper)&&(!i||e.visualization.ChartEditor)&&(!r||e.visualization.drawToolbar)}constructor(...e){super(...e),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=n=>{if(this.props.onLoad&&this.props.onLoad(n),this.isFullyLoaded(n))this.onSuccess(n);else{const r=setInterval(()=>{const i=window.google;this._isMounted?i&&this.isFullyLoaded(i)&&(clearInterval(r),this.onSuccess(i)):clearInterval(r)},1e3)}},this.onSuccess=n=>{this.setState({loadingStatus:"ready",google:n})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}bU.defaultProps=wU;var RD;(function(t){t.annotation="annotation",t.annotationText="annotationText",t.certainty="certainty",t.emphasis="emphasis",t.interval="interval",t.scope="scope",t.style="style",t.tooltip="tooltip",t.domain="domain"})(RD||(RD={}));const ste=({projects:t})=>{const e=J.useMemo(()=>{if(!t)return[["Project Status","Count"],["Active Projects",0],["Completed Projects",0]];const r=t.length,i=t.filter(a=>!a.completed).length,o=r-i;return r&&(i/r*100).toFixed(1),r&&(o/r*100).toFixed(1),[["Project Status","Count"],[`Active Projects (${i})`,i],[`Completed Projects (${o})`,o]]},[t]),n={title:"",pieHole:.8,colors:["#36A2EB","#FFCE56"],fontName:"Arial",fontSize:14,titleTextStyle:{fontName:"Arial",fontSize:16,bold:!0},legendTextStyle:{fontName:"Arial",fontSize:12},pieSliceText:"label",pieSliceTextStyle:{fontName:"Arial",fontSize:12},tooltip:{trigger:"selection"}};return ee.jsx("div",{children:ee.jsx(bU,{chartType:"PieChart",data:e,options:n,width:"100%",height:"250px"})})},ate=()=>{const{documents:t,error:e}=$E("projects"),[n,r]=J.useState("Active"),{user:i}=Zo(),o=u=>{r(u)},a=J.useMemo(()=>t?t.filter(u=>{const c=u.completed||!1;switch(n){case"Active":return(u.createdBy.id===i.uid||u.assignedUsersList.some(d=>d.id===i.uid))&&!c;case"development":case"design":case"sales":case"marketing":return u.category===n&&!c;case"Completed":return c;default:return!0}}):[],[t,n,i.uid]);return ee.jsxs("div",{className:"dashboard w-[80%] pl-5 pages-margin",children:[e&&ee.jsx("p",{className:"error",children:e}),t&&ee.jsxs("div",{children:[ee.jsx(yV,{currentFilter:n,changeFilter:o}),ee.jsx(ste,{projects:t})]}),a&&ee.jsx(vV,{projects:a})]})};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function ute(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EU(t){var e=ute(t,"string");return Fu(e)=="symbol"?e:e+""}function Lv(t,e,n){return(e=EU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){Lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lte(t){if(Array.isArray(t))return t}function cte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,d=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function SU(t,e){if(t){if(typeof t=="string")return sx(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sx(t,e):void 0}}function fte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ou(t,e){return lte(t)||cte(t,e)||SU(t,e)||fte()}function hte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Hu(t,e){if(t==null)return{};var n,r,i=hte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var dte=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function pte(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,a=o===void 0?null:o,u=t.inputValue,c=t.menuIsOpen,d=t.onChange,p=t.onInputChange,v=t.onMenuClose,y=t.onMenuOpen,w=t.value,b=Hu(t,dte),E=J.useState(u!==void 0?u:n),I=Ou(E,2),S=I[0],k=I[1],C=J.useState(c!==void 0?c:i),A=Ou(C,2),O=A[0],H=A[1],D=J.useState(w!==void 0?w:a),X=Ou(D,2),V=X[0],oe=X[1],Ie=J.useCallback(function(pe,me){typeof d=="function"&&d(pe,me),oe(pe)},[d]),$=J.useCallback(function(pe,me){var Se;typeof p=="function"&&(Se=p(pe,me)),k(Se!==void 0?Se:pe)},[p]),te=J.useCallback(function(){typeof y=="function"&&y(),H(!0)},[y]),j=J.useCallback(function(){typeof v=="function"&&v(),H(!1)},[v]),he=u!==void 0?u:S,Ee=c!==void 0?c:O,re=w!==void 0?w:V;return pt(pt({},b),{},{inputValue:he,menuIsOpen:Ee,onChange:Ie,onInputChange:$,onMenuClose:j,onMenuOpen:te,value:re})}function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt.apply(null,arguments)}function mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EU(r.key),r)}}function gte(t,e,n){return OD(t.prototype,e),OD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ax(t,e)}function vte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bb(t)}function TU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!t})()}function yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wte(t,e){if(e&&(Fu(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yte(t)}function _te(t){var e=TU();return function(){var n,r=bb(t);if(e){var i=bb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wte(this,n)}}function bte(t){if(Array.isArray(t))return sx(t)}function Ete(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ste(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oR(t){return bte(t)||Ete(t)||SU(t)||Ste()}function Tte(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Ite(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Cte=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ite(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Tte(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),fi="-ms-",Eb="-moz-",Gt="-webkit-",IU="comm",sR="rule",aR="decl",xte="@import",CU="@keyframes",kte="@layer",Ate=Math.abs,GE=String.fromCharCode,Rte=Object.assign;function Nte(t,e){return $r(t,0)^45?(((e<<2^$r(t,0))<<2^$r(t,1))<<2^$r(t,2))<<2^$r(t,3):0}function xU(t){return t.trim()}function Ote(t,e){return(t=e.exec(t))?t[0]:t}function Kt(t,e,n){return t.replace(e,n)}function ux(t,e){return t.indexOf(e)}function $r(t,e){return t.charCodeAt(e)|0}function Cy(t,e,n){return t.slice(e,n)}function Aa(t){return t.length}function uR(t){return t.length}function G0(t,e){return e.push(t),t}function Pte(t,e){return t.map(e).join("")}var KE=1,Kp=1,kU=0,to=0,er=0,bm="";function YE(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:KE,column:Kp,length:a,return:""}}function Ev(t,e){return Rte(YE("",null,null,"",null,null,0),t,{length:-t.length},e)}function Dte(){return er}function Lte(){return er=to>0?$r(bm,--to):0,Kp--,er===10&&(Kp=1,KE--),er}function _o(){return er=to<kU?$r(bm,to++):0,Kp++,er===10&&(Kp=1,KE++),er}function Ua(){return $r(bm,to)}function S_(){return to}function aw(t,e){return Cy(bm,t,e)}function xy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AU(t){return KE=Kp=1,kU=Aa(bm=t),to=0,[]}function RU(t){return bm="",t}function T_(t){return xU(aw(to-1,lx(t===91?t+2:t===40?t+1:t)))}function Mte(t){for(;(er=Ua())&&er<33;)_o();return xy(t)>2||xy(er)>3?"":" "}function Fte(t,e){for(;--e&&_o()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return aw(t,S_()+(e<6&&Ua()==32&&_o()==32))}function lx(t){for(;_o();)switch(er){case t:return to;case 34:case 39:t!==34&&t!==39&&lx(er);break;case 40:t===41&&lx(t);break;case 92:_o();break}return to}function Ute(t,e){for(;_o()&&t+er!==57;)if(t+er===84&&Ua()===47)break;return"/*"+aw(e,to-1)+"*"+GE(t===47?t:_o())}function jte(t){for(;!xy(Ua());)_o();return aw(t,to)}function Bte(t){return RU(I_("",null,null,null,[""],t=AU(t),0,[0],t))}function I_(t,e,n,r,i,o,a,u,c){for(var d=0,p=0,v=a,y=0,w=0,b=0,E=1,I=1,S=1,k=0,C="",A=i,O=o,H=r,D=C;I;)switch(b=k,k=_o()){case 40:if(b!=108&&$r(D,v-1)==58){ux(D+=Kt(T_(k),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:D+=T_(k);break;case 9:case 10:case 13:case 32:D+=Mte(b);break;case 92:D+=Fte(S_()-1,7);continue;case 47:switch(Ua()){case 42:case 47:G0(Vte(Ute(_o(),S_()),e,n),c);break;default:D+="/"}break;case 123*E:u[d++]=Aa(D)*S;case 125*E:case 59:case 0:switch(k){case 0:case 125:I=0;case 59+p:S==-1&&(D=Kt(D,/\f/g,"")),w>0&&Aa(D)-v&&G0(w>32?DD(D+";",r,n,v-1):DD(Kt(D," ","")+";",r,n,v-2),c);break;case 59:D+=";";default:if(G0(H=PD(D,e,n,d,p,i,u,C,A=[],O=[],v),o),k===123)if(p===0)I_(D,e,H,H,A,o,v,u,O);else switch(y===99&&$r(D,3)===110?100:y){case 100:case 108:case 109:case 115:I_(t,H,H,r&&G0(PD(t,H,H,0,0,i,u,C,i,A=[],v),O),i,O,v,u,r?A:O);break;default:I_(D,H,H,H,[""],O,0,u,O)}}d=p=w=0,E=S=1,C=D="",v=a;break;case 58:v=1+Aa(D),w=b;default:if(E<1){if(k==123)--E;else if(k==125&&E++==0&&Lte()==125)continue}switch(D+=GE(k),k*E){case 38:S=p>0?1:(D+="\f",-1);break;case 44:u[d++]=(Aa(D)-1)*S,S=1;break;case 64:Ua()===45&&(D+=T_(_o())),y=Ua(),p=v=Aa(C=D+=jte(S_())),k++;break;case 45:b===45&&Aa(D)==2&&(E=0)}}return o}function PD(t,e,n,r,i,o,a,u,c,d,p){for(var v=i-1,y=i===0?o:[""],w=uR(y),b=0,E=0,I=0;b<r;++b)for(var S=0,k=Cy(t,v+1,v=Ate(E=a[b])),C=t;S<w;++S)(C=xU(E>0?y[S]+" "+k:Kt(k,/&\f/g,y[S])))&&(c[I++]=C);return YE(t,e,n,i===0?sR:u,c,d,p)}function Vte(t,e,n){return YE(t,e,n,IU,GE(Dte()),Cy(t,2,-2),0)}function DD(t,e,n,r){return YE(t,e,n,aR,Cy(t,0,r),Cy(t,r+1,-1),r)}function yp(t,e){for(var n="",r=uR(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function zte(t,e,n,r){switch(t.type){case kte:if(t.children.length)break;case xte:case aR:return t.return=t.return||t.value;case IU:return"";case CU:return t.return=t.value+"{"+yp(t.children,r)+"}";case sR:t.value=t.props.join(",")}return Aa(n=yp(t.children,r))?t.return=t.value+"{"+n+"}":""}function Hte(t){var e=uR(t);return function(n,r,i,o){for(var a="",u=0;u<e;u++)a+=t[u](n,r,i,o)||"";return a}}function Wte(t){return function(e){e.root||(e=e.return)&&t(e)}}function qte(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var $te=function(e,n,r){for(var i=0,o=0;i=o,o=Ua(),i===38&&o===12&&(n[r]=1),!xy(o);)_o();return aw(e,to)},Gte=function(e,n){var r=-1,i=44;do switch(xy(i)){case 0:i===38&&Ua()===12&&(n[r]=1),e[r]+=$te(to-1,n,r);break;case 2:e[r]+=T_(i);break;case 4:if(i===44){e[++r]=Ua()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=GE(i)}while(i=_o());return e},Kte=function(e,n){return RU(Gte(AU(e),n))},LD=new WeakMap,Yte=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!LD.get(r))&&!i){LD.set(e,!0);for(var o=[],a=Kte(n,o),u=r.props,c=0,d=0;c<a.length;c++)for(var p=0;p<u.length;p++,d++)e.props[d]=o[c]?a[c].replace(/&\f/g,u[p]):u[p]+" "+a[c]}}},Xte=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function NU(t,e){switch(Nte(t,e)){case 5103:return Gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Gt+t+Eb+t+fi+t+t;case 6828:case 4268:return Gt+t+fi+t+t;case 6165:return Gt+t+fi+"flex-"+t+t;case 5187:return Gt+t+Kt(t,/(\w+).+(:[^]+)/,Gt+"box-$1$2"+fi+"flex-$1$2")+t;case 5443:return Gt+t+fi+"flex-item-"+Kt(t,/flex-|-self/,"")+t;case 4675:return Gt+t+fi+"flex-line-pack"+Kt(t,/align-content|flex-|-self/,"")+t;case 5548:return Gt+t+fi+Kt(t,"shrink","negative")+t;case 5292:return Gt+t+fi+Kt(t,"basis","preferred-size")+t;case 6060:return Gt+"box-"+Kt(t,"-grow","")+Gt+t+fi+Kt(t,"grow","positive")+t;case 4554:return Gt+Kt(t,/([^-])(transform)/g,"$1"+Gt+"$2")+t;case 6187:return Kt(Kt(Kt(t,/(zoom-|grab)/,Gt+"$1"),/(image-set)/,Gt+"$1"),t,"")+t;case 5495:case 3959:return Kt(t,/(image-set\([^]*)/,Gt+"$1$`$1");case 4968:return Kt(Kt(t,/(.+:)(flex-)?(.*)/,Gt+"box-pack:$3"+fi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gt+t+t;case 4095:case 3583:case 4068:case 2532:return Kt(t,/(.+)-inline(.+)/,Gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Aa(t)-1-e>6)switch($r(t,e+1)){case 109:if($r(t,e+4)!==45)break;case 102:return Kt(t,/(.+:)(.+)-([^]+)/,"$1"+Gt+"$2-$3$1"+Eb+($r(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ux(t,"stretch")?NU(Kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if($r(t,e+1)!==115)break;case 6444:switch($r(t,Aa(t)-3-(~ux(t,"!important")&&10))){case 107:return Kt(t,":",":"+Gt)+t;case 101:return Kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gt+($r(t,14)===45?"inline-":"")+"box$3$1"+Gt+"$2$3$1"+fi+"$2box$3")+t}break;case 5936:switch($r(t,e+11)){case 114:return Gt+t+fi+Kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Gt+t+fi+Kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Gt+t+fi+Kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Gt+t+fi+t+t}return t}var Qte=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case aR:e.return=NU(e.value,e.length);break;case CU:return yp([Ev(e,{value:Kt(e.value,"@","@"+Gt)})],i);case sR:if(e.length)return Pte(e.props,function(o){switch(Ote(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yp([Ev(e,{props:[Kt(o,/:(read-\w+)/,":"+Eb+"$1")]})],i);case"::placeholder":return yp([Ev(e,{props:[Kt(o,/:(plac\w+)/,":"+Gt+"input-$1")]}),Ev(e,{props:[Kt(o,/:(plac\w+)/,":"+Eb+"$1")]}),Ev(e,{props:[Kt(o,/:(plac\w+)/,fi+"input-$1")]})],i)}return""})}},Jte=[Qte],Zte=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var I=E.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||Jte,o={},a,u=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var I=E.getAttribute("data-emotion").split(" "),S=1;S<I.length;S++)o[I[S]]=!0;u.push(E)});var c,d=[Yte,Xte];{var p,v=[zte,Wte(function(E){p.insert(E)})],y=Hte(d.concat(i,v)),w=function(I){return yp(Bte(I),y)};c=function(I,S,k,C){p=k,w(I?I+"{"+S.styles+"}":S.styles),C&&(b.inserted[S.name]=!0)}}var b={key:n,sheet:new Cte({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:c};return b.sheet.hydrate(u),b},vT={exports:{}},Yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MD;function ene(){if(MD)return Yt;MD=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,E=t?Symbol.for("react.block"):60121,I=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function C(O){if(typeof O=="object"&&O!==null){var H=O.$$typeof;switch(H){case e:switch(O=O.type,O){case c:case d:case r:case o:case i:case v:return O;default:switch(O=O&&O.$$typeof,O){case u:case p:case b:case w:case a:return O;default:return H}}case n:return H}}}function A(O){return C(O)===d}return Yt.AsyncMode=c,Yt.ConcurrentMode=d,Yt.ContextConsumer=u,Yt.ContextProvider=a,Yt.Element=e,Yt.ForwardRef=p,Yt.Fragment=r,Yt.Lazy=b,Yt.Memo=w,Yt.Portal=n,Yt.Profiler=o,Yt.StrictMode=i,Yt.Suspense=v,Yt.isAsyncMode=function(O){return A(O)||C(O)===c},Yt.isConcurrentMode=A,Yt.isContextConsumer=function(O){return C(O)===u},Yt.isContextProvider=function(O){return C(O)===a},Yt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Yt.isForwardRef=function(O){return C(O)===p},Yt.isFragment=function(O){return C(O)===r},Yt.isLazy=function(O){return C(O)===b},Yt.isMemo=function(O){return C(O)===w},Yt.isPortal=function(O){return C(O)===n},Yt.isProfiler=function(O){return C(O)===o},Yt.isStrictMode=function(O){return C(O)===i},Yt.isSuspense=function(O){return C(O)===v},Yt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===d||O===o||O===i||O===v||O===y||typeof O=="object"&&O!==null&&(O.$$typeof===b||O.$$typeof===w||O.$$typeof===a||O.$$typeof===u||O.$$typeof===p||O.$$typeof===I||O.$$typeof===S||O.$$typeof===k||O.$$typeof===E)},Yt.typeOf=C,Yt}var FD;function tne(){return FD||(FD=1,vT.exports=ene()),vT.exports}var yT,UD;function nne(){if(UD)return yT;UD=1;var t=tne(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function a(b){return t.isMemo(b)?i:o[b.$$typeof]||e}var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,y=Object.prototype;function w(b,E,I){if(typeof E!="string"){if(y){var S=v(E);S&&S!==y&&w(b,S,I)}var k=c(E);d&&(k=k.concat(d(E)));for(var C=a(b),A=a(E),O=0;O<k.length;++O){var H=k[O];if(!n[H]&&!(I&&I[H])&&!(A&&A[H])&&!(C&&C[H])){var D=p(E,H);try{u(b,H,D)}catch{}}}}return b}return yT=w,yT}nne();var rne=!0;function ine(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var OU=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||rne===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},one=function(e,n,r){OU(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function sne(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ane={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},une=/[A-Z]|^ms/g,lne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PU=function(e){return e.charCodeAt(1)===45},jD=function(e){return e!=null&&typeof e!="boolean"},wT=qte(function(t){return PU(t)?t:t.replace(une,"-$&").toLowerCase()}),BD=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(lne,function(r,i,o){return Ra={name:i,styles:o,next:Ra},i})}return ane[e]!==1&&!PU(e)&&typeof n=="number"&&n!==0?n+"px":n};function ky(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ra={name:i.name,styles:i.styles,next:Ra},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)Ra={name:a.name,styles:a.styles,next:Ra},a=a.next;var u=o.styles+";";return u}return cne(t,e,n)}case"function":{if(t!==void 0){var c=Ra,d=n(t);return Ra=c,ky(t,e,d)}break}}var p=n;return p}function cne(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ky(t,e,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var u=a;jD(u)&&(r+=wT(o)+":"+BD(o,u)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var c=0;c<a.length;c++)jD(a[c])&&(r+=wT(o)+":"+BD(o,a[c])+";");else{var d=ky(t,e,a);switch(o){case"animation":case"animationName":{r+=wT(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var VD=/label:\s*([^\s;{]+)\s*(;|$)/g,Ra;function DU(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ra=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=ky(n,e,o);else{var a=o;i+=a[0]}for(var u=1;u<t.length;u++)if(i+=ky(n,e,t[u]),r){var c=o;i+=c[u]}VD.lastIndex=0;for(var d="",p;(p=VD.exec(i))!==null;)d+="-"+p[1];var v=sne(i)+d;return{name:v,styles:i,next:Ra}}var fne=function(e){return e()},hne=wN.useInsertionEffect?wN.useInsertionEffect:!1,dne=hne||fne,LU=J.createContext(typeof HTMLElement<"u"?Zte({key:"css"}):null);LU.Provider;var pne=function(e){return J.forwardRef(function(n,r){var i=J.useContext(LU);return e(n,i,r)})},mne=J.createContext({}),lR={}.hasOwnProperty,cx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gne=function(e,n){var r={};for(var i in n)lR.call(n,i)&&(r[i]=n[i]);return r[cx]=e,r},vne=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return OU(n,r,i),dne(function(){return one(n,r,i)}),null},yne=pne(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[cx],o=[r],a="";typeof t.className=="string"?a=ine(e.registered,o,t.className):t.className!=null&&(a=t.className+" ");var u=DU(o,void 0,J.useContext(mne));a+=e.key+"-"+u.name;var c={};for(var d in t)lR.call(t,d)&&d!=="css"&&d!==cx&&(c[d]=t[d]);return c.className=a,n&&(c.ref=n),J.createElement(J.Fragment,null,J.createElement(vne,{cache:e,serialized:u,isStringTag:typeof i=="string"}),J.createElement(i,c))}),wne=yne,dt=function(e,n){var r=arguments;if(n==null||!lR.call(n,"css"))return J.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=wne,o[1]=gne(e,n);for(var a=2;a<i;a++)o[a]=r[a];return J.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(dt);function cR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return DU(e)}function _ne(){var t=cR.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function bne(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Ene=Math.min,Sne=Math.max,Sb=Math.round,K0=Math.floor,Tb=t=>({x:t,y:t});function Tne(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function XE(){return typeof window<"u"}function MU(t){return UU(t)?(t.nodeName||"").toLowerCase():"#document"}function Uu(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function FU(t){var e;return(e=(UU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function UU(t){return XE()?t instanceof Node||t instanceof Uu(t).Node:!1}function Ine(t){return XE()?t instanceof Element||t instanceof Uu(t).Element:!1}function fR(t){return XE()?t instanceof HTMLElement||t instanceof Uu(t).HTMLElement:!1}function zD(t){return!XE()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Uu(t).ShadowRoot}function jU(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=hR(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Cne(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xne(t){return["html","body","#document"].includes(MU(t))}function hR(t){return Uu(t).getComputedStyle(t)}function kne(t){if(MU(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zD(t)&&t.host||FU(t);return zD(e)?e.host:e}function BU(t){const e=kne(t);return xne(e)?t.ownerDocument?t.ownerDocument.body:t.body:fR(e)&&jU(e)?e:BU(e)}function Ib(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=BU(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=Uu(i);if(o){const u=fx(a);return e.concat(a,a.visualViewport||[],jU(i)?i:[],u&&n?Ib(u):[])}return e.concat(i,Ib(i,[],n))}function fx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ane(t){const e=hR(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=fR(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,u=Sb(n)!==o||Sb(r)!==a;return u&&(n=o,r=a),{width:n,height:r,$:u}}function dR(t){return Ine(t)?t:t.contextElement}function HD(t){const e=dR(t);if(!fR(e))return Tb(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=Ane(e);let a=(o?Sb(n.width):n.width)/r,u=(o?Sb(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const Rne=Tb(0);function Nne(t){const e=Uu(t);return!Cne()||!e.visualViewport?Rne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function One(t,e,n){return!1}function WD(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),o=dR(t);let a=Tb(1);e&&(a=HD(t));const u=One()?Nne(o):Tb(0);let c=(i.left+u.x)/a.x,d=(i.top+u.y)/a.y,p=i.width/a.x,v=i.height/a.y;if(o){const y=Uu(o),w=r;let b=y,E=fx(b);for(;E&&r&&w!==b;){const I=HD(E),S=E.getBoundingClientRect(),k=hR(E),C=S.left+(E.clientLeft+parseFloat(k.paddingLeft))*I.x,A=S.top+(E.clientTop+parseFloat(k.paddingTop))*I.y;c*=I.x,d*=I.y,p*=I.x,v*=I.y,c+=C,d+=A,b=Uu(E),E=fx(b)}}return Tne({width:p,height:v,x:c,y:d})}function Pne(t,e){let n=null,r;const i=FU(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const{left:d,top:p,width:v,height:y}=t.getBoundingClientRect();if(u||e(),!v||!y)return;const w=K0(p),b=K0(i.clientWidth-(d+v)),E=K0(i.clientHeight-(p+y)),I=K0(d),k={rootMargin:-w+"px "+-b+"px "+-E+"px "+-I+"px",threshold:Sne(0,Ene(1,c))||1};let C=!0;function A(O){const H=O[0].intersectionRatio;if(H!==c){if(!C)return a();H?a(!1,H):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(A,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,k)}n.observe(t)}return a(!0),o}function Dne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=dR(t),p=i||o?[...d?Ib(d):[],...Ib(e)]:[];p.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const v=d&&u?Pne(d,n):null;let y=-1,w=null;a&&(w=new ResizeObserver(S=>{let[k]=S;k&&k.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(e)})),n()}),d&&!c&&w.observe(d),w.observe(e));let b,E=c?WD(t):null;c&&I();function I(){const S=WD(t);E&&(S.x!==E.x||S.y!==E.y||S.width!==E.width||S.height!==E.height)&&n(),E=S,b=requestAnimationFrame(I)}return n(),()=>{var S;p.forEach(k=>{i&&k.removeEventListener("scroll",n),o&&k.removeEventListener("resize",n)}),v==null||v(),(S=w)==null||S.disconnect(),w=null,c&&cancelAnimationFrame(b)}}var hx=J.useLayoutEffect,Lne=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Cb=function(){};function Mne(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Fne(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&o.push("".concat(Mne(t,a)));return o.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var qD=function(e){return $ne(e)?e.filter(Boolean):Fu(e)==="object"&&e!==null?[e]:[]},VU=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Hu(e,Lne);return pt({},n)},jn=function(e,n,r){var i=e.cx,o=e.getStyles,a=e.getClassNames,u=e.className;return{css:o(n,e),className:i(r??{},a(n,e),u)}};function QE(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Une(t){return QE(t)?window.innerHeight:t.clientHeight}function zU(t){return QE(t)?window.pageYOffset:t.scrollTop}function xb(t,e){if(QE(t)){window.scrollTo(0,e);return}t.scrollTop=e}function jne(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Bne(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Y0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Cb,i=zU(t),o=e-i,a=10,u=0;function c(){u+=a;var d=Bne(u,i,o,n);xb(t,d),u<n?window.requestAnimationFrame(c):r(t)}c()}function $D(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?xb(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&xb(t,Math.max(e.offsetTop-i,0))}function Vne(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function GD(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function zne(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var HU=!1,Hne={get passive(){return HU=!0}},X0=typeof window<"u"?window:{};X0.addEventListener&&X0.removeEventListener&&(X0.addEventListener("p",Cb,Hne),X0.removeEventListener("p",Cb,!1));var Wne=HU;function qne(t){return t!=null}function $ne(t){return Array.isArray(t)}function Q0(t,e,n){return t?e:n}var Gne=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(e).filter(function(a){var u=Ou(a,1),c=u[0];return!r.includes(c)});return o.reduce(function(a,u){var c=Ou(u,2),d=c[0],p=c[1];return a[d]=p,a},{})},Kne=["children","innerProps"],Yne=["children","innerProps"];function Xne(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,a=t.isFixedPosition,u=t.controlHeight,c=jne(n),d={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return d;var p=c.getBoundingClientRect(),v=p.height,y=n.getBoundingClientRect(),w=y.bottom,b=y.height,E=y.top,I=n.offsetParent.getBoundingClientRect(),S=I.top,k=a?window.innerHeight:Une(c),C=zU(c),A=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),H=S-O,D=k-E,X=H+C,V=v-C-E,oe=w-k+C+A,Ie=C+E-O,$=160;switch(i){case"auto":case"bottom":if(D>=b)return{placement:"bottom",maxHeight:e};if(V>=b&&!a)return o&&Y0(c,oe,$),{placement:"bottom",maxHeight:e};if(!a&&V>=r||a&&D>=r){o&&Y0(c,oe,$);var te=a?D-A:V-A;return{placement:"bottom",maxHeight:te}}if(i==="auto"||a){var j=e,he=a?H:X;return he>=r&&(j=Math.min(he-A-u,e)),{placement:"top",maxHeight:j}}if(i==="bottom")return o&&xb(c,oe),{placement:"bottom",maxHeight:e};break;case"top":if(H>=b)return{placement:"top",maxHeight:e};if(X>=b&&!a)return o&&Y0(c,Ie,$),{placement:"top",maxHeight:e};if(!a&&X>=r||a&&H>=r){var Ee=e;return(!a&&X>=r||a&&H>=r)&&(Ee=a?H-O:X-O),o&&Y0(c,Ie,$),{placement:"top",maxHeight:Ee}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function Qne(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var WU=function(e){return e==="auto"?"bottom":e},Jne=function(e,n){var r,i=e.placement,o=e.theme,a=o.borderRadius,u=o.spacing,c=o.colors;return pt((r={label:"menu"},Lv(r,Qne(i),"100%"),Lv(r,"position","absolute"),Lv(r,"width","100%"),Lv(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},qU=J.createContext(null),Zne=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,a=e.menuPosition,u=e.menuShouldScrollIntoView,c=e.theme,d=J.useContext(qU)||{},p=d.setPortalPlacement,v=J.useRef(null),y=J.useState(i),w=Ou(y,2),b=w[0],E=w[1],I=J.useState(null),S=Ou(I,2),k=S[0],C=S[1],A=c.spacing.controlHeight;return hx(function(){var O=v.current;if(O){var H=a==="fixed",D=u&&!H,X=Xne({maxHeight:i,menuEl:O,minHeight:r,placement:o,shouldScroll:D,isFixedPosition:H,controlHeight:A});E(X.maxHeight),C(X.placement),p==null||p(X.placement)}},[i,o,a,u,r,p,A]),n({ref:v,placerProps:pt(pt({},e),{},{placement:k||WU(o),maxHeight:b})})},ere=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return dt("div",gt({},jn(e,"menu",{menu:!0}),{ref:r},i),n)},tre=ere,nre=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return pt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},rre=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,o=e.isMulti;return dt("div",gt({},jn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},$U=function(e,n){var r=e.theme,i=r.spacing.baseUnit,o=r.colors;return pt({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},ire=$U,ore=$U,sre=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,o=Hu(e,Kne);return dt("div",gt({},jn(pt(pt({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},are=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,o=Hu(e,Yne);return dt("div",gt({},jn(pt(pt({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},ure=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},lre=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,a=e.menuPlacement,u=e.menuPosition,c=J.useRef(null),d=J.useRef(null),p=J.useState(WU(a)),v=Ou(p,2),y=v[0],w=v[1],b=J.useMemo(function(){return{setPortalPlacement:w}},[]),E=J.useState(null),I=Ou(E,2),S=I[0],k=I[1],C=J.useCallback(function(){if(i){var D=Vne(i),X=u==="fixed"?0:window.pageYOffset,V=D[y]+X;(V!==(S==null?void 0:S.offset)||D.left!==(S==null?void 0:S.rect.left)||D.width!==(S==null?void 0:S.rect.width))&&k({offset:V,rect:D})}},[i,u,y,S==null?void 0:S.offset,S==null?void 0:S.rect.left,S==null?void 0:S.rect.width]);hx(function(){C()},[C]);var A=J.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&c.current&&(d.current=Dne(i,c.current,C,{elementResize:"ResizeObserver"in window}))},[i,C]);hx(function(){A()},[A]);var O=J.useCallback(function(D){c.current=D,A()},[A]);if(!n&&u!=="fixed"||!S)return null;var H=dt("div",gt({ref:O},jn(pt(pt({},e),{},{offset:S.offset,position:u,rect:S.rect}),"menuPortal",{"menu-portal":!0}),o),r);return dt(qU.Provider,{value:b},n?gV.createPortal(H,n):H)},cre=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},fre=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,o=e.isRtl;return dt("div",gt({},jn(e,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},hre=function(e,n){var r=e.theme.spacing,i=e.isMulti,o=e.hasValue,a=e.selectProps.controlShouldRenderValue;return pt({alignItems:"center",display:i&&o&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},dre=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,o=e.hasValue;return dt("div",gt({},jn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},pre=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},mre=function(e){var n=e.children,r=e.innerProps;return dt("div",gt({},jn(e,"indicatorsContainer",{indicators:!0}),r),n)},KD,gre=["size"],vre=["innerProps","isRtl","size"],yre={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},GU=function(e){var n=e.size,r=Hu(e,gre);return dt("svg",gt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:yre},r))},pR=function(e){return dt(GU,gt({size:20},e),dt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},KU=function(e){return dt(GU,gt({size:20},e),dt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},YU=function(e,n){var r=e.isFocused,i=e.theme,o=i.spacing.baseUnit,a=i.colors;return pt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:o*2,":hover":{color:r?a.neutral80:a.neutral40}})},wre=YU,_re=function(e){var n=e.children,r=e.innerProps;return dt("div",gt({},jn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||dt(KU,null))},bre=YU,Ere=function(e){var n=e.children,r=e.innerProps;return dt("div",gt({},jn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||dt(pR,null))},Sre=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing.baseUnit,a=i.colors;return pt({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2})},Tre=function(e){var n=e.innerProps;return dt("span",gt({},n,jn(e,"indicatorSeparator",{"indicator-separator":!0})))},Ire=_ne(KD||(KD=bne([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Cre=function(e,n){var r=e.isFocused,i=e.size,o=e.theme,a=o.colors,u=o.spacing.baseUnit;return pt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:u*2})},_T=function(e){var n=e.delay,r=e.offset;return dt("span",{css:cR({animation:"".concat(Ire," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},xre=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,o=i===void 0?4:i,a=Hu(e,vre);return dt("div",gt({},jn(pt(pt({},a),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),dt(_T,{delay:0,offset:r}),dt(_T,{delay:160,offset:!0}),dt(_T,{delay:320,offset:!r}))},kre=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.theme,a=o.colors,u=o.borderRadius,c=o.spacing;return pt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},Are=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.innerRef,a=e.innerProps,u=e.menuIsOpen;return dt("div",gt({ref:o},jn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":u}),a,{"aria-disabled":r||void 0}),n)},Rre=Are,Nre=["data"],Ore=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Pre=function(e){var n=e.children,r=e.cx,i=e.getStyles,o=e.getClassNames,a=e.Heading,u=e.headingProps,c=e.innerProps,d=e.label,p=e.theme,v=e.selectProps;return dt("div",gt({},jn(e,"group",{group:!0}),c),dt(a,gt({},u,{selectProps:v,theme:p,getStyles:i,getClassNames:o,cx:r}),d),dt("div",null,n))},Dre=function(e,n){var r=e.theme,i=r.colors,o=r.spacing;return pt({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},Lre=function(e){var n=VU(e);n.data;var r=Hu(n,Nre);return dt("div",gt({},jn(e,"groupHeading",{"group-heading":!0}),r))},Mre=Pre,Fre=["innerRef","isDisabled","isHidden","inputClassName"],Ure=function(e,n){var r=e.isDisabled,i=e.value,o=e.theme,a=o.spacing,u=o.colors;return pt(pt({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},jre),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:u.neutral80})},XU={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},jre={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":pt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},XU)},Bre=function(e){return pt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},XU)},Vre=function(e){var n=e.cx,r=e.value,i=VU(e),o=i.innerRef,a=i.isDisabled,u=i.isHidden,c=i.inputClassName,d=Hu(i,Fre);return dt("div",gt({},jn(e,"input",{"input-container":!0}),{"data-value":r||""}),dt("input",gt({className:n({input:!0},c),ref:o,style:Bre(u),disabled:a},d)))},zre=Vre,Hre=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,a=r.colors;return pt({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},Wre=function(e,n){var r=e.theme,i=r.borderRadius,o=r.colors,a=e.cropWithEllipsis;return pt({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},qre=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,a=r.colors,u=e.isFocused;return pt({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:u?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},QU=function(e){var n=e.children,r=e.innerProps;return dt("div",r,n)},$re=QU,Gre=QU;function Kre(t){var e=t.children,n=t.innerProps;return dt("div",gt({role:"button"},n),e||dt(pR,{size:14}))}var Yre=function(e){var n=e.children,r=e.components,i=e.data,o=e.innerProps,a=e.isDisabled,u=e.removeProps,c=e.selectProps,d=r.Container,p=r.Label,v=r.Remove;return dt(d,{data:i,innerProps:pt(pt({},jn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),o),selectProps:c},dt(p,{data:i,innerProps:pt({},jn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),dt(v,{data:i,innerProps:pt(pt({},jn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:c}))},Xre=Yre,Qre=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.isSelected,a=e.theme,u=a.spacing,c=a.colors;return pt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?c.primary:i?c.primary25:"transparent",color:r?c.neutral20:o?c.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?c.primary:c.primary50}})},Jre=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.isSelected,a=e.innerRef,u=e.innerProps;return dt("div",gt({},jn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:a,"aria-disabled":r},u),n)},Zre=Jre,eie=function(e,n){var r=e.theme,i=r.spacing,o=r.colors;return pt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},tie=function(e){var n=e.children,r=e.innerProps;return dt("div",gt({},jn(e,"placeholder",{placeholder:!0}),r),n)},nie=tie,rie=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing,a=i.colors;return pt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},iie=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return dt("div",gt({},jn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},oie=iie,sie={ClearIndicator:Ere,Control:Rre,DropdownIndicator:_re,DownChevron:KU,CrossIcon:pR,Group:Mre,GroupHeading:Lre,IndicatorsContainer:mre,IndicatorSeparator:Tre,Input:zre,LoadingIndicator:xre,Menu:tre,MenuList:rre,MenuPortal:lre,LoadingMessage:are,NoOptionsMessage:sre,MultiValue:Xre,MultiValueContainer:$re,MultiValueLabel:Gre,MultiValueRemove:Kre,Option:Zre,Placeholder:nie,SelectContainer:fre,SingleValue:oie,ValueContainer:dre},aie=function(e){return pt(pt({},sie),e.components)},YD=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function uie(t,e){return!!(t===e||YD(t)&&YD(e))}function lie(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!uie(t[n],e[n]))return!1;return!0}function cie(t,e){e===void 0&&(e=lie);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var fie={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},hie=function(e){return dt("span",gt({css:fie},e))},XD=hie,die={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,o=e.context,a=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,o=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,o=e.label,a=o===void 0?"":o,u=e.selectValue,c=e.isDisabled,d=e.isSelected,p=e.isAppleDevice,v=function(E,I){return E&&E.length?"".concat(E.indexOf(I)+1," of ").concat(E.length):""};if(n==="value"&&u)return"value ".concat(a," focused, ").concat(v(u,r),".");if(n==="menu"&&p){var y=c?" disabled":"",w="".concat(d?" selected":"").concat(y);return"".concat(a).concat(w,", ").concat(v(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},pie=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,a=e.isFocused,u=e.selectValue,c=e.selectProps,d=e.id,p=e.isAppleDevice,v=c.ariaLiveMessages,y=c.getOptionLabel,w=c.inputValue,b=c.isMulti,E=c.isOptionDisabled,I=c.isSearchable,S=c.menuIsOpen,k=c.options,C=c.screenReaderStatus,A=c.tabSelectsValue,O=c.isLoading,H=c["aria-label"],D=c["aria-live"],X=J.useMemo(function(){return pt(pt({},die),v||{})},[v]),V=J.useMemo(function(){var he="";if(n&&X.onChange){var Ee=n.option,re=n.options,pe=n.removedValue,me=n.removedValues,Se=n.value,G=function(M){return Array.isArray(M)?null:M},W=pe||Ee||G(Se),ae=W?y(W):"",de=re||me||void 0,_e=de?de.map(y):[],le=pt({isDisabled:W&&E(W,u),label:ae,labels:_e},n);he=X.onChange(le)}return he},[n,X,E,u,y]),oe=J.useMemo(function(){var he="",Ee=r||i,re=!!(r&&u&&u.includes(r));if(Ee&&X.onFocus){var pe={focused:Ee,label:y(Ee),isDisabled:E(Ee,u),isSelected:re,options:o,context:Ee===r?"menu":"value",selectValue:u,isAppleDevice:p};he=X.onFocus(pe)}return he},[r,i,y,E,X,o,u,p]),Ie=J.useMemo(function(){var he="";if(S&&k.length&&!O&&X.onFilter){var Ee=C({count:o.length});he=X.onFilter({inputValue:w,resultsMessage:Ee})}return he},[o,w,S,X,k,C,O]),$=(n==null?void 0:n.action)==="initial-input-focus",te=J.useMemo(function(){var he="";if(X.guidance){var Ee=i?"value":S?"menu":"input";he=X.guidance({"aria-label":H,context:Ee,isDisabled:r&&E(r,u),isMulti:b,isSearchable:I,tabSelectsValue:A,isInitialFocus:$})}return he},[H,r,i,b,E,I,S,X,u,A,$]),j=dt(J.Fragment,null,dt("span",{id:"aria-selection"},V),dt("span",{id:"aria-focused"},oe),dt("span",{id:"aria-results"},Ie),dt("span",{id:"aria-guidance"},te));return dt(J.Fragment,null,dt(XD,{id:d},$&&j),dt(XD,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!$&&j))},mie=pie,dx=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],gie=new RegExp("["+dx.map(function(t){return t.letters}).join("")+"]","g"),JU={};for(var bT=0;bT<dx.length;bT++)for(var ET=dx[bT],ST=0;ST<ET.letters.length;ST++)JU[ET.letters[ST]]=ET.base;var ZU=function(e){return e.replace(gie,function(n){return JU[n]})},vie=cie(ZU),QD=function(e){return e.replace(/^\s+|\s+$/g,"")},yie=function(e){return"".concat(e.label," ").concat(e.value)},wie=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=pt({ignoreCase:!0,ignoreAccents:!0,stringify:yie,trim:!0,matchFrom:"any"},e),o=i.ignoreCase,a=i.ignoreAccents,u=i.stringify,c=i.trim,d=i.matchFrom,p=c?QD(r):r,v=c?QD(u(n)):u(n);return o&&(p=p.toLowerCase(),v=v.toLowerCase()),a&&(p=vie(p),v=ZU(v)),d==="start"?v.substr(0,p.length)===p:v.indexOf(p)>-1}},_ie=["innerRef"];function bie(t){var e=t.innerRef,n=Hu(t,_ie),r=Gne(n,"onExited","in","enter","exit","appear");return dt("input",gt({ref:e},r,{css:cR({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Eie=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Sie(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,a=J.useRef(!1),u=J.useRef(!1),c=J.useRef(0),d=J.useRef(null),p=J.useCallback(function(I,S){if(d.current!==null){var k=d.current,C=k.scrollTop,A=k.scrollHeight,O=k.clientHeight,H=d.current,D=S>0,X=A-O-C,V=!1;X>S&&a.current&&(r&&r(I),a.current=!1),D&&u.current&&(o&&o(I),u.current=!1),D&&S>X?(n&&!a.current&&n(I),H.scrollTop=A,V=!0,a.current=!0):!D&&-S>C&&(i&&!u.current&&i(I),H.scrollTop=0,V=!0,u.current=!0),V&&Eie(I)}},[n,r,i,o]),v=J.useCallback(function(I){p(I,I.deltaY)},[p]),y=J.useCallback(function(I){c.current=I.changedTouches[0].clientY},[]),w=J.useCallback(function(I){var S=c.current-I.changedTouches[0].clientY;p(I,S)},[p]),b=J.useCallback(function(I){if(I){var S=Wne?{passive:!1}:!1;I.addEventListener("wheel",v,S),I.addEventListener("touchstart",y,S),I.addEventListener("touchmove",w,S)}},[w,y,v]),E=J.useCallback(function(I){I&&(I.removeEventListener("wheel",v,!1),I.removeEventListener("touchstart",y,!1),I.removeEventListener("touchmove",w,!1))},[w,y,v]);return J.useEffect(function(){if(e){var I=d.current;return b(I),function(){E(I)}}},[e,b,E]),function(I){d.current=I}}var JD=["boxSizing","height","overflow","paddingRight","position"],ZD={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function eL(t){t.cancelable&&t.preventDefault()}function tL(t){t.stopPropagation()}function nL(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function rL(){return"ontouchstart"in window||navigator.maxTouchPoints}var iL=!!(typeof window<"u"&&window.document&&window.document.createElement),Sv=0,rp={capture:!1,passive:!1};function Tie(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=J.useRef({}),o=J.useRef(null),a=J.useCallback(function(c){if(iL){var d=document.body,p=d&&d.style;if(r&&JD.forEach(function(b){var E=p&&p[b];i.current[b]=E}),r&&Sv<1){var v=parseInt(i.current.paddingRight,10)||0,y=document.body?document.body.clientWidth:0,w=window.innerWidth-y+v||0;Object.keys(ZD).forEach(function(b){var E=ZD[b];p&&(p[b]=E)}),p&&(p.paddingRight="".concat(w,"px"))}d&&rL()&&(d.addEventListener("touchmove",eL,rp),c&&(c.addEventListener("touchstart",nL,rp),c.addEventListener("touchmove",tL,rp))),Sv+=1}},[r]),u=J.useCallback(function(c){if(iL){var d=document.body,p=d&&d.style;Sv=Math.max(Sv-1,0),r&&Sv<1&&JD.forEach(function(v){var y=i.current[v];p&&(p[v]=y)}),d&&rL()&&(d.removeEventListener("touchmove",eL,rp),c&&(c.removeEventListener("touchstart",nL,rp),c.removeEventListener("touchmove",tL,rp)))}},[r]);return J.useEffect(function(){if(e){var c=o.current;return a(c),function(){u(c)}}},[e,a,u]),function(c){o.current=c}}var Iie=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Cie={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function xie(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,a=t.onBottomLeave,u=t.onTopArrive,c=t.onTopLeave,d=Sie({isEnabled:i,onBottomArrive:o,onBottomLeave:a,onTopArrive:u,onTopLeave:c}),p=Tie({isEnabled:n}),v=function(w){d(w),p(w)};return dt(J.Fragment,null,n&&dt("div",{onClick:Iie,css:Cie}),e(v))}var kie={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Aie=function(e){var n=e.name,r=e.onFocus;return dt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:kie,value:"",onChange:function(){}})},Rie=Aie;function mR(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Nie(){return mR(/^iPhone/i)}function ej(){return mR(/^Mac/i)}function Oie(){return mR(/^iPad/i)||ej()&&navigator.maxTouchPoints>1}function Pie(){return Nie()||Oie()}function Die(){return ej()||Pie()}var Lie=function(e){return e.label},Mie=function(e){return e.label},Fie=function(e){return e.value},Uie=function(e){return!!e.isDisabled},jie={clearIndicator:bre,container:cre,control:kre,dropdownIndicator:wre,group:Ore,groupHeading:Dre,indicatorsContainer:pre,indicatorSeparator:Sre,input:Ure,loadingIndicator:Cre,loadingMessage:ore,menu:Jne,menuList:nre,menuPortal:ure,multiValue:Hre,multiValueLabel:Wre,multiValueRemove:qre,noOptionsMessage:ire,option:Qre,placeholder:eie,singleValue:rie,valueContainer:hre},Bie={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Vie=4,tj=4,zie=38,Hie=tj*2,Wie={baseUnit:tj,controlHeight:zie,menuGutter:Hie},TT={borderRadius:Vie,colors:Bie,spacing:Wie},qie={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:GD(),captureMenuScroll:!GD(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:wie(),formatGroupLabel:Lie,getOptionLabel:Mie,getOptionValue:Fie,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Uie,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!zne(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function oL(t,e,n,r){var i=ij(t,e,n),o=oj(t,e,n),a=rj(t,e),u=kb(t,e);return{type:"option",data:e,isDisabled:i,isSelected:o,label:a,value:u,index:r}}function C_(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,u){return oL(t,a,e,u)}).filter(function(a){return aL(t,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=oL(t,n,e,r);return aL(t,o)?o:void 0}).filter(qne)}function nj(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,oR(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function sL(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,oR(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function $ie(t,e){return nj(C_(t,e))}function aL(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,o=e.isSelected,a=e.label,u=e.value;return(!aj(t)||!o)&&sj(t,{label:a,value:u,data:i},r)}function Gie(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=e.indexOf(n);if(o>-1)return n;if(i<e.length)return e[i]}return null}function Kie(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var IT=function(e,n){var r,i=(r=e.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},rj=function(e,n){return e.getOptionLabel(n)},kb=function(e,n){return e.getOptionValue(n)};function ij(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function oj(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=kb(t,e);return n.some(function(i){return kb(t,i)===r})}function sj(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var aj=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Yie=1,uj=function(t){vte(n,t);var e=_te(n);function n(r){var i;if(mte(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=Die(),i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,d){var p=i.props,v=p.onChange,y=p.name;d.name=y,i.ariaOnChange(c,d),v(c,d)},i.setValue=function(c,d,p){var v=i.props,y=v.closeMenuOnSelect,w=v.isMulti,b=v.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:b}),y&&(i.setState({inputIsHiddenAfterUpdate:!w}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:d,option:p})},i.selectOption=function(c){var d=i.props,p=d.blurInputOnSelect,v=d.isMulti,y=d.name,w=i.state.selectValue,b=v&&i.isOptionSelected(c,w),E=i.isOptionDisabled(c,w);if(b){var I=i.getOptionValue(c);i.setValue(w.filter(function(S){return i.getOptionValue(S)!==I}),"deselect-option",c)}else if(!E)v?i.setValue([].concat(oR(w),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:y});return}p&&i.blurInput()},i.removeValue=function(c){var d=i.props.isMulti,p=i.state.selectValue,v=i.getOptionValue(c),y=p.filter(function(b){return i.getOptionValue(b)!==v}),w=Q0(d,y,y[0]||null);i.onChange(w,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(Q0(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,d=i.state.selectValue,p=d[d.length-1],v=d.slice(0,d.length-1),y=Q0(c,v,v[0]||null);p&&i.onChange(y,{action:"pop-value",removedValue:p})},i.getFocusedOptionId=function(c){return IT(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return sL(C_(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return Fne.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(c){return rj(i.props,c)},i.getOptionValue=function(c){return kb(i.props,c)},i.getStyles=function(c,d){var p=i.props.unstyled,v=jie[c](d,p);v.boxSizing="border-box";var y=i.props.styles[c];return y?y(v,d):v},i.getClassNames=function(c,d){var p,v;return(p=(v=i.props.classNames)[c])===null||p===void 0?void 0:p.call(v,d)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return aie(i.props)},i.buildCategorizedOptions=function(){return C_(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return nj(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,d){i.setState({ariaSelection:pt({value:c},d)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var d=i.props,p=d.isMulti,v=d.menuIsOpen;i.focusInput(),v?(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&QE(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var d=c.touches,p=d&&d.item(0);p&&(i.initialTouchX=p.clientX,i.initialTouchY=p.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var d=c.touches,p=d&&d.item(0);if(p){var v=Math.abs(p.clientX-i.initialTouchX),y=Math.abs(p.clientY-i.initialTouchY),w=5;i.userIsDragging=v>w||y>w}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var d=i.props.inputValue,p=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(p,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var d=i.getFocusableOptions(),p=d.indexOf(c);i.setState({focusedOption:c,focusedOptionId:p>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return aj(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var d=i.props,p=d.isMulti,v=d.backspaceRemovesValue,y=d.escapeClearsValue,w=d.inputValue,b=d.isClearable,E=d.isDisabled,I=d.menuIsOpen,S=d.onKeyDown,k=d.tabSelectsValue,C=d.openMenuOnFocus,A=i.state,O=A.focusedOption,H=A.focusedValue,D=A.selectValue;if(!E&&!(typeof S=="function"&&(S(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!p||w)return;i.focusValue("previous");break;case"ArrowRight":if(!p||w)return;i.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(H)i.removeValue(H);else{if(!v)return;p?i.popValue():b&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!I||!k||!O||C&&i.isOptionSelected(O,D))return;i.selectOption(O);break;case"Enter":if(c.keyCode===229)break;if(I){if(!O||i.isComposing)return;i.selectOption(O);break}return;case"Escape":I?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:w}),i.onMenuClose()):b&&y&&i.clearValue();break;case" ":if(w)return;if(!I){i.openMenu("first");break}if(!O)return;i.selectOption(O);break;case"ArrowUp":I?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":I?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!I)return;i.focusOption("pageup");break;case"PageDown":if(!I)return;i.focusOption("pagedown");break;case"Home":if(!I)return;i.focusOption("first");break;case"End":if(!I)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Yie),i.state.selectValue=qD(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),u=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=a[u],i.state.focusedOptionId=IT(o,a[u])}return i}return gte(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&$D(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isDisabled,u=o.menuIsOpen,c=this.state.isFocused;(c&&!a&&i.isDisabled||c&&u&&!i.menuIsOpen)&&this.focusInput(),c&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&($D(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,a=this.state,u=a.selectValue,c=a.isFocused,d=this.buildFocusableOptions(),p=i==="first"?0:d.length-1;if(!this.props.isMulti){var v=d.indexOf(u[0]);v>-1&&(p=v)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[p],focusedOptionId:this.getFocusedOptionId(d[p])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,a=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=a.indexOf(u);u||(c=-1);var d=a.length-1,p=-1;if(a.length){switch(i){case"previous":c===0?p=0:c===-1?p=d:p=c-1;break;case"next":c>-1&&c<d&&(p=c+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:a[p]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,a=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var c=0,d=u.indexOf(a);a||(d=-1),i==="up"?c=d>0?d-1:u.length-1:i==="down"?c=(d+1)%u.length:i==="pageup"?(c=d-o,c<0&&(c=0)):i==="pagedown"?(c=d+o,c>u.length-1&&(c=u.length-1)):i==="last"&&(c=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(TT):pt(pt({},TT),this.props.theme):TT}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,a=this.getStyles,u=this.getClassNames,c=this.getValue,d=this.selectOption,p=this.setValue,v=this.props,y=v.isMulti,w=v.isRtl,b=v.options,E=this.hasValue();return{clearValue:i,cx:o,getStyles:a,getClassNames:u,getValue:c,hasValue:E,isMulti:y,isRtl:w,options:b,selectOption:d,selectProps:v,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,a=i.isMulti;return o===void 0?a:o}},{key:"isOptionDisabled",value:function(i,o){return ij(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return oj(this.props,i,o)}},{key:"filterOption",value:function(i,o){return sj(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:a,selectValue:u})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,a=i.isSearchable,u=i.inputId,c=i.inputValue,d=i.tabIndex,p=i.form,v=i.menuIsOpen,y=i.required,w=this.getComponents(),b=w.Input,E=this.state,I=E.inputIsHidden,S=E.ariaSelection,k=this.commonProps,C=u||this.getElementId("input"),A=pt(pt(pt({"aria-autocomplete":"list","aria-expanded":v,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":y,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},v&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(S==null?void 0:S.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?J.createElement(b,gt({},k,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:o,isHidden:I,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:p,type:"text",value:c},A)):J.createElement(bie,gt({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Cb,onFocus:this.onInputFocus,disabled:o,tabIndex:d,inputMode:"none",form:p,value:""},A))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),a=o.MultiValue,u=o.MultiValueContainer,c=o.MultiValueLabel,d=o.MultiValueRemove,p=o.SingleValue,v=o.Placeholder,y=this.commonProps,w=this.props,b=w.controlShouldRenderValue,E=w.isDisabled,I=w.isMulti,S=w.inputValue,k=w.placeholder,C=this.state,A=C.selectValue,O=C.focusedValue,H=C.isFocused;if(!this.hasValue()||!b)return S?null:J.createElement(v,gt({},y,{key:"placeholder",isDisabled:E,isFocused:H,innerProps:{id:this.getElementId("placeholder")}}),k);if(I)return A.map(function(X,V){var oe=X===O,Ie="".concat(i.getOptionLabel(X),"-").concat(i.getOptionValue(X));return J.createElement(a,gt({},y,{components:{Container:u,Label:c,Remove:d},isFocused:oe,isDisabled:E,key:Ie,index:V,removeProps:{onClick:function(){return i.removeValue(X)},onTouchEnd:function(){return i.removeValue(X)},onMouseDown:function(te){te.preventDefault()}},data:X}),i.formatOptionLabel(X,"value"))});if(S)return null;var D=A[0];return J.createElement(p,gt({},y,{data:D,isDisabled:E}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,a=this.commonProps,u=this.props,c=u.isDisabled,d=u.isLoading,p=this.state.isFocused;if(!this.isClearable()||!o||c||!this.hasValue()||d)return null;var v={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return J.createElement(o,gt({},a,{innerProps:v,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,a=this.commonProps,u=this.props,c=u.isDisabled,d=u.isLoading,p=this.state.isFocused;if(!o||!d)return null;var v={"aria-hidden":"true"};return J.createElement(o,gt({},a,{innerProps:v,isDisabled:c,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,a=i.IndicatorSeparator;if(!o||!a)return null;var u=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return J.createElement(a,gt({},u,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var a=this.commonProps,u=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return J.createElement(o,gt({},a,{innerProps:d,isDisabled:u,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),a=o.Group,u=o.GroupHeading,c=o.Menu,d=o.MenuList,p=o.MenuPortal,v=o.LoadingMessage,y=o.NoOptionsMessage,w=o.Option,b=this.commonProps,E=this.state.focusedOption,I=this.props,S=I.captureMenuScroll,k=I.inputValue,C=I.isLoading,A=I.loadingMessage,O=I.minMenuHeight,H=I.maxMenuHeight,D=I.menuIsOpen,X=I.menuPlacement,V=I.menuPosition,oe=I.menuPortalTarget,Ie=I.menuShouldBlockScroll,$=I.menuShouldScrollIntoView,te=I.noOptionsMessage,j=I.onMenuScrollToTop,he=I.onMenuScrollToBottom;if(!D)return null;var Ee=function(ae,de){var _e=ae.type,le=ae.data,B=ae.isDisabled,M=ae.isSelected,se=ae.label,ie=ae.value,Q=E===le,Z=B?void 0:function(){return i.onOptionHover(le)},Ce=B?void 0:function(){return i.selectOption(le)},F="".concat(i.getElementId("option"),"-").concat(de),Te={id:F,onClick:Ce,onMouseMove:Z,onMouseOver:Z,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:M};return J.createElement(w,gt({},b,{innerProps:Te,data:le,isDisabled:B,isSelected:M,key:F,label:se,type:_e,value:ie,isFocused:Q,innerRef:Q?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(ae.data,"menu"))},re;if(this.hasOptions())re=this.getCategorizedOptions().map(function(W){if(W.type==="group"){var ae=W.data,de=W.options,_e=W.index,le="".concat(i.getElementId("group"),"-").concat(_e),B="".concat(le,"-heading");return J.createElement(a,gt({},b,{key:le,data:ae,options:de,Heading:u,headingProps:{id:B,data:W.data},label:i.formatGroupLabel(W.data)}),W.options.map(function(M){return Ee(M,"".concat(_e,"-").concat(M.index))}))}else if(W.type==="option")return Ee(W,"".concat(W.index))});else if(C){var pe=A({inputValue:k});if(pe===null)return null;re=J.createElement(v,b,pe)}else{var me=te({inputValue:k});if(me===null)return null;re=J.createElement(y,b,me)}var Se={minMenuHeight:O,maxMenuHeight:H,menuPlacement:X,menuPosition:V,menuShouldScrollIntoView:$},G=J.createElement(Zne,gt({},b,Se),function(W){var ae=W.ref,de=W.placerProps,_e=de.placement,le=de.maxHeight;return J.createElement(c,gt({},b,Se,{innerRef:ae,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:C,placement:_e}),J.createElement(xie,{captureEnabled:S,onTopArrive:j,onBottomArrive:he,lockEnabled:Ie},function(B){return J.createElement(d,gt({},b,{innerRef:function(se){i.getMenuListRef(se),B(se)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:i.getElementId("listbox")},isLoading:C,maxHeight:le,focusedOption:E}),re)}))});return oe||V==="fixed"?J.createElement(p,gt({},b,{appendTo:oe,controlElement:this.controlRef,menuPlacement:X,menuPosition:V}),G):G}},{key:"renderFormField",value:function(){var i=this,o=this.props,a=o.delimiter,u=o.isDisabled,c=o.isMulti,d=o.name,p=o.required,v=this.state.selectValue;if(p&&!this.hasValue()&&!u)return J.createElement(Rie,{name:d,onFocus:this.onValueInputFocus});if(!(!d||u))if(c)if(a){var y=v.map(function(E){return i.getOptionValue(E)}).join(a);return J.createElement("input",{name:d,type:"hidden",value:y})}else{var w=v.length>0?v.map(function(E,I){return J.createElement("input",{key:"i-".concat(I),name:d,type:"hidden",value:i.getOptionValue(E)})}):J.createElement("input",{name:d,type:"hidden",value:""});return J.createElement("div",null,w)}else{var b=v[0]?this.getOptionValue(v[0]):"";return J.createElement("input",{name:d,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,a=o.ariaSelection,u=o.focusedOption,c=o.focusedValue,d=o.isFocused,p=o.selectValue,v=this.getFocusableOptions();return J.createElement(mie,gt({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:u,focusedValue:c,isFocused:d,selectValue:p,focusableOptions:v,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,a=i.IndicatorsContainer,u=i.SelectContainer,c=i.ValueContainer,d=this.props,p=d.className,v=d.id,y=d.isDisabled,w=d.menuIsOpen,b=this.state.isFocused,E=this.commonProps=this.getCommonProps();return J.createElement(u,gt({},E,{className:p,innerProps:{id:v,onKeyDown:this.onKeyDown},isDisabled:y,isFocused:b}),this.renderLiveRegion(),J.createElement(o,gt({},E,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:y,isFocused:b,menuIsOpen:w}),J.createElement(c,gt({},E,{isDisabled:y}),this.renderPlaceholderOrValue(),this.renderInput()),J.createElement(a,gt({},E,{isDisabled:y}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a=o.prevProps,u=o.clearFocusValueOnUpdate,c=o.inputIsHiddenAfterUpdate,d=o.ariaSelection,p=o.isFocused,v=o.prevWasFocused,y=o.instancePrefix,w=i.options,b=i.value,E=i.menuIsOpen,I=i.inputValue,S=i.isMulti,k=qD(b),C={};if(a&&(b!==a.value||w!==a.options||E!==a.menuIsOpen||I!==a.inputValue)){var A=E?$ie(i,k):[],O=E?sL(C_(i,k),"".concat(y,"-option")):[],H=u?Gie(o,k):null,D=Kie(o,A),X=IT(O,D);C={selectValue:k,focusedOption:D,focusedOptionId:X,focusableOptionsWithIds:O,focusedValue:H,clearFocusValueOnUpdate:!1}}var V=c!=null&&i!==a?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},oe=d,Ie=p&&v;return p&&!Ie&&(oe={value:Q0(S,k,k[0]||null),options:k,action:"initial-input-focus"},Ie=!v),(d==null?void 0:d.action)==="initial-input-focus"&&(oe=null),pt(pt(pt({},C),V),{},{prevProps:i,ariaSelection:oe,prevWasFocused:Ie})}}]),n}(J.Component);uj.defaultProps=qie;var Xie=J.forwardRef(function(t,e){var n=pte(t);return J.createElement(uj,gt({ref:e},n))}),Ab=Xie;let Qie={document:null,isPending:!1,error:null,success:null};const Jie=(t,e)=>{switch(e.type){case"IS_PENDING":return{isPending:!0,document:null,success:!1,error:null};case"ADDED_DOCUMENT":return{isPending:!1,document:e.payload,success:!0,error:null};case"DELETED_DOCUMENT":return{isPending:!1,document:null,success:!0,error:null};case"UPDATED_DOCUMENT":return{isPending:!1,document:e.payload,success:!0,error:null};case"ERROR":return{isPending:!1,document:null,success:!1,error:e.payload};default:return t}},JE=t=>{const[e,n]=J.useReducer(Jie,Qie),[r,i]=J.useState(!1),o=Nu.collection(t),a=p=>{r||n(p)},u=async p=>{n({type:"IS_PENDING"});try{const v=iR(new Date),y=await o.add({...p,createdAt:v});console.log(y),a({type:"ADDED_DOCUMENT",payload:y})}catch(v){a({type:"ERROR",payload:v.message})}},c=async p=>{n({type:"IS_PENDING"});try{await o.doc(p).delete(),a({type:"DELETED_DOCUMENT"})}catch{a({type:"ERROR",payload:"could not delete"})}},d=async(p,v)=>{n({type:"IS_PENDING"});try{const y=await o.doc(p).update(v);return a({type:"UPDATED_DOCUMENT",payload:y}),y}catch(y){return a({type:"ERROR",payload:y.message}),null}};return J.useEffect(()=>()=>i(!0),[]),{addDocument:u,deleteDocument:c,updateDocument:d,response:e}},gR="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20preserveAspectRatio='xMidYMid'%20width='200'%20height='200'%20style='shape-rendering:%20auto;%20display:%20block;%20background:%20transparent;'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3ccircle%20fill='%23e5e4e2'%20r='10'%20cy='50'%20cx='84'%3e%3canimate%20begin='0s'%20keySplines='0%200.5%200.5%201'%20values='10;0'%20keyTimes='0;1'%20calcMode='spline'%20dur='0.5208333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='0s'%20values='%23e5e4e2;%23b2beb5;%23a9a9a9;%23d3d3d3;%23e5e4e2'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='discrete'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='fill'%3e%3c/animate%3e%3c/circle%3e%3ccircle%20fill='%23e5e4e2'%20r='10'%20cy='50'%20cx='16'%3e%3canimate%20begin='0s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='0;0;10;10;10'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='0s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='16;16;16;50;84'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='cx'%3e%3c/animate%3e%3c/circle%3e%3ccircle%20fill='%23d3d3d3'%20r='10'%20cy='50'%20cx='50'%3e%3canimate%20begin='-0.5208333333333333s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='0;0;10;10;10'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='-0.5208333333333333s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='16;16;16;50;84'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='cx'%3e%3c/animate%3e%3c/circle%3e%3ccircle%20fill='%23a9a9a9'%20r='10'%20cy='50'%20cx='84'%3e%3canimate%20begin='-1.0416666666666665s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='0;0;10;10;10'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='-1.0416666666666665s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='16;16;16;50;84'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='cx'%3e%3c/animate%3e%3c/circle%3e%3ccircle%20fill='%23b2beb5'%20r='10'%20cy='50'%20cx='16'%3e%3canimate%20begin='-1.5624999999999998s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='0;0;10;10;10'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='r'%3e%3c/animate%3e%3canimate%20begin='-1.5624999999999998s'%20keySplines='0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201;0%200.5%200.5%201'%20values='16;16;16;50;84'%20keyTimes='0;0.25;0.5;0.75;1'%20calcMode='spline'%20dur='2.083333333333333s'%20repeatCount='indefinite'%20attributeName='cx'%3e%3c/animate%3e%3c/circle%3e%3cg%3e%3c/g%3e%3c/g%3e%3c!--%20[ldio]%20generated%20by%20https://loading.io%20--%3e%3c/svg%3e";console.log(iR);const Zie=[{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"sconstruction",label:"Construction"},{value:"Monitoring & Evaluation",label:"Monitoring & Evaluation"}];function eoe(){const t=Db(),{addDocument:e,isPending:n,response:r}=JE("projects"),{documents:i}=$E("users"),[o,a]=J.useState([]),{user:u}=Zo(),[c,d]=J.useState(""),[p,v]=J.useState(""),[y,w]=J.useState(""),[b,E]=J.useState(""),[I,S]=J.useState([]),[k,C]=J.useState(null),[A,O]=J.useState(!1);J.useEffect(()=>{if(i){const D=i.map(X=>({value:X,label:X.displayName}));a(D)}},[i]);const H=async D=>{if(D.preventDefault(),!b){C("you have to choose category");return}if(I.length<1){C("you have to assign users");return}C(null),O(!0);const X={displayName:u.displayName,photoURL:u.photoURL,id:u.uid},V=I.map(Ie=>({displayName:Ie.value.displayName,photoURL:Ie.value.photoURL,id:Ie.value.id})),oe={name:c,details:p,category:b.value,dueDate:iR(new Date(y)),comments:[],createdBy:X,assignedUsersList:V,tasks:[]};await e(oe),r.error||t("/"),O(!1)};return ee.jsx("div",{className:"create-form pl-5 pages-margin",children:ee.jsxs("form",{onSubmit:H,children:[ee.jsxs("label",{children:[ee.jsx("span",{children:"Project Name:"}),ee.jsx("input",{type:"text",required:!0,onChange:D=>d(D.target.value),value:c})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Project Details:"}),ee.jsx("textarea",{type:"text",required:!0,onChange:D=>v(D.target.value),value:p})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Due date::"}),ee.jsx("input",{type:"date",onChange:D=>w(D.target.value),value:y})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Project category:"}),ee.jsx(Ab,{options:Zie,onChange:D=>E(D)})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Assign to:"}),ee.jsx(Ab,{options:o,onChange:D=>S(D),isMulti:!0})]}),!n&&ee.jsx("button",{className:"btn",children:"Add project"}),k&&ee.jsx("p",{className:"error",children:k}),n&&A&&ee.jsx("div",{className:"loading-modal",children:ee.jsx("img",{src:gR,alt:"Loading",className:"loading-gif"})})]})})}const vR=()=>{const[t,e]=J.useState(!1),[n,r]=J.useState(null),[i,o]=J.useState(!1),{dispatch:a,user:u}=Zo(),c=async()=>{r(null),o(!0);try{const{uid:d}=u;await Nu.collection("users").doc(d).update({online:!1}),await qE.signOut(),a({type:"LOGOUT"}),t||(o(!1),r(null))}catch(d){t||(r(d.message),o(!1))}};return J.useEffect(()=>()=>e(!0),[]),{logout:c,error:n,isPending:i}},toe=24*60*60*1e3,noe=()=>{const[t,e]=J.useState(!1),[n,r]=J.useState(null),[i,o]=J.useState(!1),{dispatch:a}=Zo(),{logout:u}=vR();let c;const d=()=>{clearTimeout(c),c=setTimeout(()=>{u()},toe)},p=async(v,y)=>{r(null),o(!0);try{const w=await qE.signInWithEmailAndPassword(v,y);await Nu.collection("users").doc(w.user.uid).update({online:!0}),a({type:"LOGIN",payload:w.user}),t||(o(!1),r(null),d(),window.addEventListener("mousemove",d),window.addEventListener("keydown",d))}catch{t||(r("Invalid email or password. Please try again."),o(!1))}};return J.useEffect(()=>()=>{e(!0),clearTimeout(c),window.removeEventListener("mousemove",d),window.removeEventListener("keydown",d)},[]),{login:p,isPending:i,error:n}};function roe(){const[t,e]=J.useState(""),[n,r]=J.useState(""),{login:i,isPending:o,error:a}=noe(),u=c=>{c.preventDefault(),i(t,n)};return ee.jsxs("div",{className:`app-container w-full ${o?"blurred":""}`,children:[ee.jsxs("form",{className:"bg-white rounded-xl  p-10 mx-auto w-[700px] ",onSubmit:u,children:[ee.jsx("div",{className:"text-3xl font-bold",children:"SIGN IN AS ADMIN"}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Email:"}),ee.jsx("input",{required:!0,type:"email",value:t,onChange:c=>e(c.target.value)})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Password:"}),ee.jsx("input",{required:!0,type:"password",value:n,onChange:c=>r(c.target.value)})]}),!o&&ee.jsx("button",{className:"btn",children:"LOG IN"}),a&&ee.jsx("div",{className:"error",children:a})]}),o&&ee.jsx("div",{className:"loading-modal",children:ee.jsx("img",{src:gR,alt:"Loading",className:"loading-gif"})})]})}const ioe=()=>{const[t,e]=J.useState(!1),[n,r]=J.useState(null),[i,o]=J.useState(!1),{dispatch:a}=Zo(),u=async(c,d,p,v)=>{r(null),o(!0);try{const y=await qE.createUserWithEmailAndPassword(c,d);if(!y)throw new Error("Could not complete signup");const w=`thumbnails/${y.user.uid}/${v.name}`,E=await(await vU.ref(w).put(v)).ref.getDownloadURL();await y.user.updateProfile({displayName:p,photoURL:E}),await Nu.collection("users").doc(y.user.uid).set({online:!0,displayName:p,photoURL:E}),a({type:"LOGIN",payload:y.user}),t||(o(!1),r(null))}catch(y){t||(r(y.message),o(!1))}};return J.useEffect(()=>()=>e(!0),[]),{signup:u,error:n,isPending:i}};function ooe(){const[t,e]=J.useState(""),[n,r]=J.useState(""),[i,o]=J.useState(""),[a,u]=J.useState(null),[c,d]=J.useState(""),{signup:p,isPending:v,error:y}=ioe(),w=E=>{E.preventDefault(),p(t,n,i,a)},b=E=>{u(null);let I=E.target.files[0];if(!I){d("Please select a file");return}if(!I.type.includes("image")){d("Selected file must be an image");return}if(I.size>3e6){d("Image file size must be less than 3MB");return}d(null),u(I)};return ee.jsxs("form",{className:"auth-form",onSubmit:w,children:[ee.jsx("h2",{children:"Signup"}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Email:"}),ee.jsx("input",{required:!0,type:"email",value:t,onChange:E=>e(E.target.value)})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Password:"}),ee.jsx("input",{required:!0,type:"password",value:n,onChange:E=>r(E.target.value)})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Full Name:"}),ee.jsx("input",{required:!0,type:"text",value:i,onChange:E=>o(E.target.value)})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Profile Picture:"}),ee.jsx("input",{required:!0,type:"file",accept:"image/*",capture:"camera",onChange:b}),c&&ee.jsx("div",{className:"error",children:c})]}),!v&&ee.jsx("button",{className:"btn",children:"Sign up"}),v&&ee.jsx("button",{className:"btn",disabled:!0,children:"Loading..."}),y&&ee.jsx("div",{className:"error",children:y})]})}function soe(t,e){const[n,r]=J.useState(null),[i,o]=J.useState(null);return J.useEffect(()=>{const u=Nu.collection(t).doc(e).onSnapshot(c=>{c.data()?(r({...c.data(),id:c.id}),o(null)):o("invalid document id")},c=>{console.log(c.message),o("cant get the document")});return()=>u()},[t,e]),{document:n,error:i}}const uL="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='mdi:tick-outline'%3e%3cpath%20id='Vector'%20d='M16.4833%201.83337L20%205.35004L7.03333%2018.3334L0%2011.2917L3.51667%207.77504L7.03333%2011.2917L16.4833%201.83337ZM16.4833%204.16671L7.03333%2013.6334L3.51667%2010.1584L2.34167%2011.2917L7.03333%2015.975L17.6583%205.35004L16.4833%204.16671Z'%20fill='%2333B06F'/%3e%3c/g%3e%3c/svg%3e";function aoe({project:t}){const{updateDocument:e}=JE("projects"),{user:n}=Zo(),{documents:r}=$E("users");Db();const[i,o]=J.useState(t.location||null),[a,u]=J.useState({lat:"",lng:""}),[c,d]=J.useState(!1),[p,v]=J.useState(null),[y,w]=J.useState([]),[b,E]=J.useState([]),I=t.completed,S=async O=>{O.preventDefault(),d(!0),v(null);const H={lat:parseFloat(a.lat),lng:parseFloat(a.lng)};if(isNaN(H.lat)||isNaN(H.lng)){v("Invalid latitude or longitude."),d(!1);return}o(H),await e(t.id,{location:H}),d(!1)},k=O=>{const{name:H,value:D}=O.target;u(X=>({...X,[H]:D}))};J.useEffect(()=>{if(r){const O=t.assignedUsersList.map(D=>D.id),H=r.filter(D=>!O.includes(D.id)).map(D=>({value:D,label:D.displayName}));w(H)}},[r,t.assignedUsersList]);const C=async O=>{O.preventDefault(),await e(t.id,{completed:!0})},A=async O=>{if(O.preventDefault(),b.length===0){v("No users selected.");return}const H=b.map(oe=>({displayName:oe.value.displayName,photoURL:oe.value.photoURL,id:oe.value.id})),D=[...t.assignedUsersList,...H];await e(t.id,{assignedUsersList:D}),E([]),v(null);const X=D.map(oe=>oe.id),V=r.filter(oe=>!X.includes(oe.id)).map(oe=>({value:oe,label:oe.displayName}));w(V)};return ee.jsxs("div",{className:"project-summary",children:[ee.jsxs("h2",{className:"project-title",children:["Project Name: ",t.name]}),ee.jsxs("p",{className:"by",children:["By: ",t.createdBy.displayName]}),ee.jsxs("p",{className:"due-date",children:["Project due by ",t.dueDate.toDate().toDateString()]}),ee.jsxs("p",{className:"details",children:["Details: ",t.details]}),ee.jsx("h4",{children:"Project is Assigned to:"}),ee.jsx("div",{className:"assigned-users",children:t.assignedUsersList.map(O=>ee.jsx("div",{children:ee.jsx(Ep,{src:O.photoURL})},O.id))}),ee.jsxs("div",{className:"location-input",children:[p&&ee.jsx("p",{className:"error",children:p}),i&&ee.jsxs("p",{className:"location",children:["Location: Lat ",i.lat,", Lng ",i.lng]})]}),ee.jsx("div",{className:"",children:ee.jsx("div",{className:"manual-location-input",children:ee.jsxs("form",{onSubmit:S,children:[ee.jsxs("label",{children:[ee.jsx("span",{children:"Latitude:"}),ee.jsx("input",{type:"text",name:"lat",value:a.lat,onChange:k})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Longitude:"}),ee.jsx("input",{type:"text",name:"lng",value:a.lng,onChange:k})]}),ee.jsxs("div",{className:"gap-8 flex",children:[ee.jsx("button",{className:"btn",type:"submit",disabled:c,children:c?"Updating Location...":"Set Location"}),I&&ee.jsxs("div",{className:"complete",children:[ee.jsx("img",{src:uL,alt:"complete"}),ee.jsx("span",{children:"Completed"})]})]})]})})}),ee.jsxs("div",{className:"add-users mt-4",children:[ee.jsx("div",{className:"text-xl",children:"Add More Users:"}),ee.jsx(Ab,{options:y,onChange:O=>E(O),isMulti:!0}),ee.jsx("button",{className:"btn",onClick:A,children:"Add Users"}),p&&ee.jsx("p",{className:"error",children:p})]}),!I&&n.uid===t.createdBy.id&&ee.jsx("button",{className:"btn",onClick:C,children:"Mark project as complete"}),I&&ee.jsxs("div",{className:"complete",children:[ee.jsx("img",{src:uL,alt:"complete"}),ee.jsx("span",{children:"Completed"})]})]})}var uoe=Object.defineProperty,loe=Object.defineProperties,coe=Object.getOwnPropertyDescriptors,lL=Object.getOwnPropertySymbols,foe=Object.prototype.hasOwnProperty,hoe=Object.prototype.propertyIsEnumerable,px=(t,e,n)=>e in t?uoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nt=(t,e)=>{for(var n in e||(e={}))foe.call(e,n)&&px(t,n,e[n]);if(lL)for(var n of lL(e))hoe.call(e,n)&&px(t,n,e[n]);return t},wc=(t,e)=>loe(t,coe(e)),Ne=(t,e,n)=>px(t,typeof e!="symbol"?e+"":e,n),J0=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{u(n.next(c))}catch(d){i(d)}},a=c=>{try{u(n.throw(c))}catch(d){i(d)}},u=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,a);u((n=n.apply(t,e)).next())});class Rb{constructor(e){Ne(this,"rootKey"),this.rootKey=e}}const doe=Object.seal({});class Oe extends Rb{constructor(e){super(e),Ne(this,"root"),this.root=new Array}prepForXml(e){var n;e.stack.push(this);const r=this.root.map(i=>i instanceof Rb?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:r.length?r.length===1&&((n=r[0])!=null&&n._attr)?r[0]:r:doe}}addChildElement(e){return this.root.push(e),this}}class ZE extends Oe{prepForXml(e){const n=super.prepForXml(e);if(n&&(typeof n[this.rootKey]!="object"||Object.keys(n[this.rootKey]).length))return n}}class Ze extends Rb{constructor(e){super("_attr"),Ne(this,"xmlKeys"),this.root=e}prepForXml(e){const n={};return Object.entries(this.root).forEach(([r,i])=>{if(i!==void 0){const o=this.xmlKeys&&this.xmlKeys[r]||r;n[o]=i}}),{_attr:n}}}class Em extends Rb{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:r})=>r!==void 0).reduce((r,{key:i,value:o})=>wc(Nt({},r),{[i]:o}),{})}}}class qn extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CT={},Z0={exports:{}},cL;function wR(){if(cL)return Z0.exports;cL=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(O,H,D){return Function.prototype.apply.call(O,H,D)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(A){console&&console.warn&&console.warn(A)}var i=Number.isNaN||function(O){return O!==O};function o(){o.init.call(this)}Z0.exports=o,Z0.exports.once=S,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function u(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");a=A}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function c(A){return A._maxListeners===void 0?o.defaultMaxListeners:A._maxListeners}o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(O){for(var H=[],D=1;D<arguments.length;D++)H.push(arguments[D]);var X=O==="error",V=this._events;if(V!==void 0)X=X&&V.error===void 0;else if(!X)return!1;if(X){var oe;if(H.length>0&&(oe=H[0]),oe instanceof Error)throw oe;var Ie=new Error("Unhandled error."+(oe?" ("+oe.message+")":""));throw Ie.context=oe,Ie}var $=V[O];if($===void 0)return!1;if(typeof $=="function")e($,this,H);else for(var te=$.length,j=b($,te),D=0;D<te;++D)e(j[D],this,H);return!0};function d(A,O,H,D){var X,V,oe;if(u(H),V=A._events,V===void 0?(V=A._events=Object.create(null),A._eventsCount=0):(V.newListener!==void 0&&(A.emit("newListener",O,H.listener?H.listener:H),V=A._events),oe=V[O]),oe===void 0)oe=V[O]=H,++A._eventsCount;else if(typeof oe=="function"?oe=V[O]=D?[H,oe]:[oe,H]:D?oe.unshift(H):oe.push(H),X=c(A),X>0&&oe.length>X&&!oe.warned){oe.warned=!0;var Ie=new Error("Possible EventEmitter memory leak detected. "+oe.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ie.name="MaxListenersExceededWarning",Ie.emitter=A,Ie.type=O,Ie.count=oe.length,r(Ie)}return A}o.prototype.addListener=function(O,H){return d(this,O,H,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(O,H){return d(this,O,H,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(A,O,H){var D={fired:!1,wrapFn:void 0,target:A,type:O,listener:H},X=p.bind(D);return X.listener=H,D.wrapFn=X,X}o.prototype.once=function(O,H){return u(H),this.on(O,v(this,O,H)),this},o.prototype.prependOnceListener=function(O,H){return u(H),this.prependListener(O,v(this,O,H)),this},o.prototype.removeListener=function(O,H){var D,X,V,oe,Ie;if(u(H),X=this._events,X===void 0)return this;if(D=X[O],D===void 0)return this;if(D===H||D.listener===H)--this._eventsCount===0?this._events=Object.create(null):(delete X[O],X.removeListener&&this.emit("removeListener",O,D.listener||H));else if(typeof D!="function"){for(V=-1,oe=D.length-1;oe>=0;oe--)if(D[oe]===H||D[oe].listener===H){Ie=D[oe].listener,V=oe;break}if(V<0)return this;V===0?D.shift():E(D,V),D.length===1&&(X[O]=D[0]),X.removeListener!==void 0&&this.emit("removeListener",O,Ie||H)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(O){var H,D,X;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[O]),this;if(arguments.length===0){var V=Object.keys(D),oe;for(X=0;X<V.length;++X)oe=V[X],oe!=="removeListener"&&this.removeAllListeners(oe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(H=D[O],typeof H=="function")this.removeListener(O,H);else if(H!==void 0)for(X=H.length-1;X>=0;X--)this.removeListener(O,H[X]);return this};function y(A,O,H){var D=A._events;if(D===void 0)return[];var X=D[O];return X===void 0?[]:typeof X=="function"?H?[X.listener||X]:[X]:H?I(X):b(X,X.length)}o.prototype.listeners=function(O){return y(this,O,!0)},o.prototype.rawListeners=function(O){return y(this,O,!1)},o.listenerCount=function(A,O){return typeof A.listenerCount=="function"?A.listenerCount(O):w.call(A,O)},o.prototype.listenerCount=w;function w(A){var O=this._events;if(O!==void 0){var H=O[A];if(typeof H=="function")return 1;if(H!==void 0)return H.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(A,O){for(var H=new Array(O),D=0;D<O;++D)H[D]=A[D];return H}function E(A,O){for(;O+1<A.length;O++)A[O]=A[O+1];A.pop()}function I(A){for(var O=new Array(A.length),H=0;H<O.length;++H)O[H]=A[H].listener||A[H];return O}function S(A,O){return new Promise(function(H,D){function X(oe){A.removeListener(O,V),D(oe)}function V(){typeof A.removeListener=="function"&&A.removeListener("error",X),H([].slice.call(arguments))}C(A,O,V,{once:!0}),O!=="error"&&k(A,X,{once:!0})})}function k(A,O,H){typeof A.on=="function"&&C(A,"error",O,H)}function C(A,O,H,D){if(typeof A.on=="function")D.once?A.once(O,H):A.on(O,H);else if(typeof A.addEventListener=="function")A.addEventListener(O,function X(V){D.once&&A.removeEventListener(O,X),H(V)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return Z0.exports}var e_={exports:{}},fL;function xc(){return fL||(fL=1,typeof Object.create=="function"?e_.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e_.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),e_.exports}function poe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lj={exports:{}},$n=lj.exports={},Ia,Ca;function mx(){throw new Error("setTimeout has not been defined")}function gx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ia=setTimeout:Ia=mx}catch{Ia=mx}try{typeof clearTimeout=="function"?Ca=clearTimeout:Ca=gx}catch{Ca=gx}})();function cj(t){if(Ia===setTimeout)return setTimeout(t,0);if((Ia===mx||!Ia)&&setTimeout)return Ia=setTimeout,setTimeout(t,0);try{return Ia(t,0)}catch{try{return Ia.call(null,t,0)}catch{return Ia.call(this,t,0)}}}function moe(t){if(Ca===clearTimeout)return clearTimeout(t);if((Ca===gx||!Ca)&&clearTimeout)return Ca=clearTimeout,clearTimeout(t);try{return Ca(t)}catch{try{return Ca.call(null,t)}catch{return Ca.call(this,t)}}}var Cu=[],wp=!1,Zf,x_=-1;function goe(){!wp||!Zf||(wp=!1,Zf.length?Cu=Zf.concat(Cu):x_=-1,Cu.length&&fj())}function fj(){if(!wp){var t=cj(goe);wp=!0;for(var e=Cu.length;e;){for(Zf=Cu,Cu=[];++x_<e;)Zf&&Zf[x_].run();x_=-1,e=Cu.length}Zf=null,wp=!1,moe(t)}}$n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Cu.push(new hj(t,e)),Cu.length===1&&!wp&&cj(fj)};function hj(t,e){this.fun=t,this.array=e}hj.prototype.run=function(){this.fun.apply(null,this.array)};$n.title="browser";$n.browser=!0;$n.env={};$n.argv=[];$n.version="";$n.versions={};function Wu(){}$n.on=Wu;$n.addListener=Wu;$n.once=Wu;$n.off=Wu;$n.removeListener=Wu;$n.removeAllListeners=Wu;$n.emit=Wu;$n.prependListener=Wu;$n.prependOnceListener=Wu;$n.listeners=function(t){return[]};$n.binding=function(t){throw new Error("process.binding is not supported")};$n.cwd=function(){return"/"};$n.chdir=function(t){throw new Error("process.chdir is not supported")};$n.umask=function(){return 0};var voe=lj.exports;const kt=poe(voe);var xT,hL;function dj(){return hL||(hL=1,xT=wR().EventEmitter),xT}var kT={},Tv={},dL;function yoe(){if(dL)return Tv;dL=1,Tv.byteLength=u,Tv.toByteArray=d,Tv.fromByteArray=y;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(w){var b=w.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=w.indexOf("=");E===-1&&(E=b);var I=E===b?0:4-E%4;return[E,I]}function u(w){var b=a(w),E=b[0],I=b[1];return(E+I)*3/4-I}function c(w,b,E){return(b+E)*3/4-E}function d(w){var b,E=a(w),I=E[0],S=E[1],k=new n(c(w,I,S)),C=0,A=S>0?I-4:I,O;for(O=0;O<A;O+=4)b=e[w.charCodeAt(O)]<<18|e[w.charCodeAt(O+1)]<<12|e[w.charCodeAt(O+2)]<<6|e[w.charCodeAt(O+3)],k[C++]=b>>16&255,k[C++]=b>>8&255,k[C++]=b&255;return S===2&&(b=e[w.charCodeAt(O)]<<2|e[w.charCodeAt(O+1)]>>4,k[C++]=b&255),S===1&&(b=e[w.charCodeAt(O)]<<10|e[w.charCodeAt(O+1)]<<4|e[w.charCodeAt(O+2)]>>2,k[C++]=b>>8&255,k[C++]=b&255),k}function p(w){return t[w>>18&63]+t[w>>12&63]+t[w>>6&63]+t[w&63]}function v(w,b,E){for(var I,S=[],k=b;k<E;k+=3)I=(w[k]<<16&16711680)+(w[k+1]<<8&65280)+(w[k+2]&255),S.push(p(I));return S.join("")}function y(w){for(var b,E=w.length,I=E%3,S=[],k=16383,C=0,A=E-I;C<A;C+=k)S.push(v(w,C,C+k>A?A:C+k));return I===1?(b=w[E-1],S.push(t[b>>2]+t[b<<4&63]+"==")):I===2&&(b=(w[E-2]<<8)+w[E-1],S.push(t[b>>10]+t[b>>4&63]+t[b<<2&63]+"=")),S.join("")}return Tv}var t_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var pL;function woe(){return pL||(pL=1,t_.read=function(t,e,n,r,i){var o,a,u=i*8-r-1,c=(1<<u)-1,d=c>>1,p=-7,v=n?i-1:0,y=n?-1:1,w=t[e+v];for(v+=y,o=w&(1<<-p)-1,w>>=-p,p+=u;p>0;o=o*256+t[e+v],v+=y,p-=8);for(a=o&(1<<-p)-1,o>>=-p,p+=r;p>0;a=a*256+t[e+v],v+=y,p-=8);if(o===0)o=1-d;else{if(o===c)return a?NaN:(w?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-d}return(w?-1:1)*a*Math.pow(2,o-r)},t_.write=function(t,e,n,r,i,o){var a,u,c,d=o*8-i-1,p=(1<<d)-1,v=p>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:o-1,b=r?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=p):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+v>=1?e+=y/c:e+=y*Math.pow(2,1-v),e*c>=2&&(a++,c/=2),a+v>=p?(u=0,a=p):a+v>=1?(u=(e*c-1)*Math.pow(2,i),a=a+v):(u=e*Math.pow(2,v-1)*Math.pow(2,i),a=0));i>=8;t[n+w]=u&255,w+=b,u/=256,i-=8);for(a=a<<i|u,d+=i;d>0;t[n+w]=a&255,w+=b,a/=256,d-=8);t[n+w-b]|=E*128}),t_}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var mL;function e1(){return mL||(mL=1,function(t){var e=yoe(),n=woe(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=k,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var z=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(z,x),z.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function a(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');var x=new Uint8Array(z);return Object.setPrototypeOf(x,u.prototype),x}function u(z,x,R){if(typeof z=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(z)}return c(z,x,R)}u.poolSize=8192;function c(z,x,R){if(typeof z=="string")return y(z,x);if(ArrayBuffer.isView(z))return b(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Ce(z,ArrayBuffer)||z&&Ce(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(z,SharedArrayBuffer)||z&&Ce(z.buffer,SharedArrayBuffer)))return E(z,x,R);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=z.valueOf&&z.valueOf();if(U!=null&&U!==z)return u.from(U,x,R);var ne=I(z);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return u.from(z[Symbol.toPrimitive]("string"),x,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}u.from=function(z,x,R){return c(z,x,R)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function d(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function p(z,x,R){return d(z),z<=0?a(z):x!==void 0?typeof R=="string"?a(z).fill(x,R):a(z).fill(x):a(z)}u.alloc=function(z,x,R){return p(z,x,R)};function v(z){return d(z),a(z<0?0:S(z)|0)}u.allocUnsafe=function(z){return v(z)},u.allocUnsafeSlow=function(z){return v(z)};function y(z,x){if((typeof x!="string"||x==="")&&(x="utf8"),!u.isEncoding(x))throw new TypeError("Unknown encoding: "+x);var R=C(z,x)|0,U=a(R),ne=U.write(z,x);return ne!==R&&(U=U.slice(0,ne)),U}function w(z){for(var x=z.length<0?0:S(z.length)|0,R=a(x),U=0;U<x;U+=1)R[U]=z[U]&255;return R}function b(z){if(Ce(z,Uint8Array)){var x=new Uint8Array(z);return E(x.buffer,x.byteOffset,x.byteLength)}return w(z)}function E(z,x,R){if(x<0||z.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<x+(R||0))throw new RangeError('"length" is outside of buffer bounds');var U;return x===void 0&&R===void 0?U=new Uint8Array(z):R===void 0?U=new Uint8Array(z,x):U=new Uint8Array(z,x,R),Object.setPrototypeOf(U,u.prototype),U}function I(z){if(u.isBuffer(z)){var x=S(z.length)|0,R=a(x);return R.length===0||z.copy(R,0,0,x),R}if(z.length!==void 0)return typeof z.length!="number"||F(z.length)?a(0):w(z);if(z.type==="Buffer"&&Array.isArray(z.data))return w(z.data)}function S(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function k(z){return+z!=z&&(z=0),u.alloc(+z)}u.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==u.prototype},u.compare=function(x,R){if(Ce(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),Ce(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),!u.isBuffer(x)||!u.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===R)return 0;for(var U=x.length,ne=R.length,ye=0,ue=Math.min(U,ne);ye<ue;++ye)if(x[ye]!==R[ye]){U=x[ye],ne=R[ye];break}return U<ne?-1:ne<U?1:0},u.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(x,R){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return u.alloc(0);var U;if(R===void 0)for(R=0,U=0;U<x.length;++U)R+=x[U].length;var ne=u.allocUnsafe(R),ye=0;for(U=0;U<x.length;++U){var ue=x[U];if(Ce(ue,Uint8Array))ye+ue.length>ne.length?u.from(ue).copy(ne,ye):Uint8Array.prototype.set.call(ne,ue,ye);else if(u.isBuffer(ue))ue.copy(ne,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=ue.length}return ne};function C(z,x){if(u.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Ce(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var R=z.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&R===0)return 0;for(var ne=!1;;)switch(x){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return M(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return Q(z).length;default:if(ne)return U?-1:M(z).length;x=(""+x).toLowerCase(),ne=!0}}u.byteLength=C;function A(z,x,R){var U=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,x>>>=0,R<=x))return"";for(z||(z="utf8");;)switch(z){case"hex":return me(this,x,R);case"utf8":case"utf-8":return j(this,x,R);case"ascii":return re(this,x,R);case"latin1":case"binary":return pe(this,x,R);case"base64":return te(this,x,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,x,R);default:if(U)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),U=!0}}u.prototype._isBuffer=!0;function O(z,x,R){var U=z[x];z[x]=z[R],z[R]=U}u.prototype.swap16=function(){var x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<x;R+=2)O(this,R,R+1);return this},u.prototype.swap32=function(){var x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<x;R+=4)O(this,R,R+3),O(this,R+1,R+2);return this},u.prototype.swap64=function(){var x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<x;R+=8)O(this,R,R+7),O(this,R+1,R+6),O(this,R+2,R+5),O(this,R+3,R+4);return this},u.prototype.toString=function(){var x=this.length;return x===0?"":arguments.length===0?j(this,0,x):A.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(x){if(!u.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:u.compare(this,x)===0},u.prototype.inspect=function(){var x="",R=t.INSPECT_MAX_BYTES;return x=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(x+=" ... "),"<Buffer "+x+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(x,R,U,ne,ye){if(Ce(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),!u.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(R===void 0&&(R=0),U===void 0&&(U=x?x.length:0),ne===void 0&&(ne=0),ye===void 0&&(ye=this.length),R<0||U>x.length||ne<0||ye>this.length)throw new RangeError("out of range index");if(ne>=ye&&R>=U)return 0;if(ne>=ye)return-1;if(R>=U)return 1;if(R>>>=0,U>>>=0,ne>>>=0,ye>>>=0,this===x)return 0;for(var ue=ye-ne,De=U-R,Pe=Math.min(ue,De),Me=this.slice(ne,ye),$e=x.slice(R,U),et=0;et<Pe;++et)if(Me[et]!==$e[et]){ue=Me[et],De=$e[et];break}return ue<De?-1:De<ue?1:0};function H(z,x,R,U,ne){if(z.length===0)return-1;if(typeof R=="string"?(U=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,F(R)&&(R=ne?0:z.length-1),R<0&&(R=z.length+R),R>=z.length){if(ne)return-1;R=z.length-1}else if(R<0)if(ne)R=0;else return-1;if(typeof x=="string"&&(x=u.from(x,U)),u.isBuffer(x))return x.length===0?-1:D(z,x,R,U,ne);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(z,x,R):Uint8Array.prototype.lastIndexOf.call(z,x,R):D(z,[x],R,U,ne);throw new TypeError("val must be string, number or Buffer")}function D(z,x,R,U,ne){var ye=1,ue=z.length,De=x.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(z.length<2||x.length<2)return-1;ye=2,ue/=2,De/=2,R/=2}function Pe(Pt,Fr){return ye===1?Pt[Fr]:Pt.readUInt16BE(Fr*ye)}var Me;if(ne){var $e=-1;for(Me=R;Me<ue;Me++)if(Pe(z,Me)===Pe(x,$e===-1?0:Me-$e)){if($e===-1&&($e=Me),Me-$e+1===De)return $e*ye}else $e!==-1&&(Me-=Me-$e),$e=-1}else for(R+De>ue&&(R=ue-De),Me=R;Me>=0;Me--){for(var et=!0,ct=0;ct<De;ct++)if(Pe(z,Me+ct)!==Pe(x,ct)){et=!1;break}if(et)return Me}return-1}u.prototype.includes=function(x,R,U){return this.indexOf(x,R,U)!==-1},u.prototype.indexOf=function(x,R,U){return H(this,x,R,U,!0)},u.prototype.lastIndexOf=function(x,R,U){return H(this,x,R,U,!1)};function X(z,x,R,U){R=Number(R)||0;var ne=z.length-R;U?(U=Number(U),U>ne&&(U=ne)):U=ne;var ye=x.length;U>ye/2&&(U=ye/2);for(var ue=0;ue<U;++ue){var De=parseInt(x.substr(ue*2,2),16);if(F(De))return ue;z[R+ue]=De}return ue}function V(z,x,R,U){return Z(M(x,z.length-R),z,R,U)}function oe(z,x,R,U){return Z(se(x),z,R,U)}function Ie(z,x,R,U){return Z(Q(x),z,R,U)}function $(z,x,R,U){return Z(ie(x,z.length-R),z,R,U)}u.prototype.write=function(x,R,U,ne){if(R===void 0)ne="utf8",U=this.length,R=0;else if(U===void 0&&typeof R=="string")ne=R,U=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(U)?(U=U>>>0,ne===void 0&&(ne="utf8")):(ne=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-R;if((U===void 0||U>ye)&&(U=ye),x.length>0&&(U<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");for(var ue=!1;;)switch(ne){case"hex":return X(this,x,R,U);case"utf8":case"utf-8":return V(this,x,R,U);case"ascii":case"latin1":case"binary":return oe(this,x,R,U);case"base64":return Ie(this,x,R,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,x,R,U);default:if(ue)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ue=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(z,x,R){return x===0&&R===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(x,R))}function j(z,x,R){R=Math.min(z.length,R);for(var U=[],ne=x;ne<R;){var ye=z[ne],ue=null,De=ye>239?4:ye>223?3:ye>191?2:1;if(ne+De<=R){var Pe,Me,$e,et;switch(De){case 1:ye<128&&(ue=ye);break;case 2:Pe=z[ne+1],(Pe&192)===128&&(et=(ye&31)<<6|Pe&63,et>127&&(ue=et));break;case 3:Pe=z[ne+1],Me=z[ne+2],(Pe&192)===128&&(Me&192)===128&&(et=(ye&15)<<12|(Pe&63)<<6|Me&63,et>2047&&(et<55296||et>57343)&&(ue=et));break;case 4:Pe=z[ne+1],Me=z[ne+2],$e=z[ne+3],(Pe&192)===128&&(Me&192)===128&&($e&192)===128&&(et=(ye&15)<<18|(Pe&63)<<12|(Me&63)<<6|$e&63,et>65535&&et<1114112&&(ue=et))}}ue===null?(ue=65533,De=1):ue>65535&&(ue-=65536,U.push(ue>>>10&1023|55296),ue=56320|ue&1023),U.push(ue),ne+=De}return Ee(U)}var he=4096;function Ee(z){var x=z.length;if(x<=he)return String.fromCharCode.apply(String,z);for(var R="",U=0;U<x;)R+=String.fromCharCode.apply(String,z.slice(U,U+=he));return R}function re(z,x,R){var U="";R=Math.min(z.length,R);for(var ne=x;ne<R;++ne)U+=String.fromCharCode(z[ne]&127);return U}function pe(z,x,R){var U="";R=Math.min(z.length,R);for(var ne=x;ne<R;++ne)U+=String.fromCharCode(z[ne]);return U}function me(z,x,R){var U=z.length;(!x||x<0)&&(x=0),(!R||R<0||R>U)&&(R=U);for(var ne="",ye=x;ye<R;++ye)ne+=Te[z[ye]];return ne}function Se(z,x,R){for(var U=z.slice(x,R),ne="",ye=0;ye<U.length-1;ye+=2)ne+=String.fromCharCode(U[ye]+U[ye+1]*256);return ne}u.prototype.slice=function(x,R){var U=this.length;x=~~x,R=R===void 0?U:~~R,x<0?(x+=U,x<0&&(x=0)):x>U&&(x=U),R<0?(R+=U,R<0&&(R=0)):R>U&&(R=U),R<x&&(R=x);var ne=this.subarray(x,R);return Object.setPrototypeOf(ne,u.prototype),ne};function G(z,x,R){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+x>R)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(x,R,U){x=x>>>0,R=R>>>0,U||G(x,R,this.length);for(var ne=this[x],ye=1,ue=0;++ue<R&&(ye*=256);)ne+=this[x+ue]*ye;return ne},u.prototype.readUintBE=u.prototype.readUIntBE=function(x,R,U){x=x>>>0,R=R>>>0,U||G(x,R,this.length);for(var ne=this[x+--R],ye=1;R>0&&(ye*=256);)ne+=this[x+--R]*ye;return ne},u.prototype.readUint8=u.prototype.readUInt8=function(x,R){return x=x>>>0,R||G(x,1,this.length),this[x]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(x,R){return x=x>>>0,R||G(x,2,this.length),this[x]|this[x+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(x,R){return x=x>>>0,R||G(x,2,this.length),this[x]<<8|this[x+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(x,R){return x=x>>>0,R||G(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(x,R){return x=x>>>0,R||G(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},u.prototype.readIntLE=function(x,R,U){x=x>>>0,R=R>>>0,U||G(x,R,this.length);for(var ne=this[x],ye=1,ue=0;++ue<R&&(ye*=256);)ne+=this[x+ue]*ye;return ye*=128,ne>=ye&&(ne-=Math.pow(2,8*R)),ne},u.prototype.readIntBE=function(x,R,U){x=x>>>0,R=R>>>0,U||G(x,R,this.length);for(var ne=R,ye=1,ue=this[x+--ne];ne>0&&(ye*=256);)ue+=this[x+--ne]*ye;return ye*=128,ue>=ye&&(ue-=Math.pow(2,8*R)),ue},u.prototype.readInt8=function(x,R){return x=x>>>0,R||G(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},u.prototype.readInt16LE=function(x,R){x=x>>>0,R||G(x,2,this.length);var U=this[x]|this[x+1]<<8;return U&32768?U|4294901760:U},u.prototype.readInt16BE=function(x,R){x=x>>>0,R||G(x,2,this.length);var U=this[x+1]|this[x]<<8;return U&32768?U|4294901760:U},u.prototype.readInt32LE=function(x,R){return x=x>>>0,R||G(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},u.prototype.readInt32BE=function(x,R){return x=x>>>0,R||G(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},u.prototype.readFloatLE=function(x,R){return x=x>>>0,R||G(x,4,this.length),n.read(this,x,!0,23,4)},u.prototype.readFloatBE=function(x,R){return x=x>>>0,R||G(x,4,this.length),n.read(this,x,!1,23,4)},u.prototype.readDoubleLE=function(x,R){return x=x>>>0,R||G(x,8,this.length),n.read(this,x,!0,52,8)},u.prototype.readDoubleBE=function(x,R){return x=x>>>0,R||G(x,8,this.length),n.read(this,x,!1,52,8)};function W(z,x,R,U,ne,ye){if(!u.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>ne||x<ye)throw new RangeError('"value" argument is out of bounds');if(R+U>z.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(x,R,U,ne){if(x=+x,R=R>>>0,U=U>>>0,!ne){var ye=Math.pow(2,8*U)-1;W(this,x,R,U,ye,0)}var ue=1,De=0;for(this[R]=x&255;++De<U&&(ue*=256);)this[R+De]=x/ue&255;return R+U},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(x,R,U,ne){if(x=+x,R=R>>>0,U=U>>>0,!ne){var ye=Math.pow(2,8*U)-1;W(this,x,R,U,ye,0)}var ue=U-1,De=1;for(this[R+ue]=x&255;--ue>=0&&(De*=256);)this[R+ue]=x/De&255;return R+U},u.prototype.writeUint8=u.prototype.writeUInt8=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,1,255,0),this[R]=x&255,R+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,2,65535,0),this[R]=x&255,this[R+1]=x>>>8,R+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,2,65535,0),this[R]=x>>>8,this[R+1]=x&255,R+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,4,4294967295,0),this[R+3]=x>>>24,this[R+2]=x>>>16,this[R+1]=x>>>8,this[R]=x&255,R+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,4,4294967295,0),this[R]=x>>>24,this[R+1]=x>>>16,this[R+2]=x>>>8,this[R+3]=x&255,R+4},u.prototype.writeIntLE=function(x,R,U,ne){if(x=+x,R=R>>>0,!ne){var ye=Math.pow(2,8*U-1);W(this,x,R,U,ye-1,-ye)}var ue=0,De=1,Pe=0;for(this[R]=x&255;++ue<U&&(De*=256);)x<0&&Pe===0&&this[R+ue-1]!==0&&(Pe=1),this[R+ue]=(x/De>>0)-Pe&255;return R+U},u.prototype.writeIntBE=function(x,R,U,ne){if(x=+x,R=R>>>0,!ne){var ye=Math.pow(2,8*U-1);W(this,x,R,U,ye-1,-ye)}var ue=U-1,De=1,Pe=0;for(this[R+ue]=x&255;--ue>=0&&(De*=256);)x<0&&Pe===0&&this[R+ue+1]!==0&&(Pe=1),this[R+ue]=(x/De>>0)-Pe&255;return R+U},u.prototype.writeInt8=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,1,127,-128),x<0&&(x=255+x+1),this[R]=x&255,R+1},u.prototype.writeInt16LE=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,2,32767,-32768),this[R]=x&255,this[R+1]=x>>>8,R+2},u.prototype.writeInt16BE=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,2,32767,-32768),this[R]=x>>>8,this[R+1]=x&255,R+2},u.prototype.writeInt32LE=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,4,2147483647,-2147483648),this[R]=x&255,this[R+1]=x>>>8,this[R+2]=x>>>16,this[R+3]=x>>>24,R+4},u.prototype.writeInt32BE=function(x,R,U){return x=+x,R=R>>>0,U||W(this,x,R,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[R]=x>>>24,this[R+1]=x>>>16,this[R+2]=x>>>8,this[R+3]=x&255,R+4};function ae(z,x,R,U,ne,ye){if(R+U>z.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function de(z,x,R,U,ne){return x=+x,R=R>>>0,ne||ae(z,x,R,4),n.write(z,x,R,U,23,4),R+4}u.prototype.writeFloatLE=function(x,R,U){return de(this,x,R,!0,U)},u.prototype.writeFloatBE=function(x,R,U){return de(this,x,R,!1,U)};function _e(z,x,R,U,ne){return x=+x,R=R>>>0,ne||ae(z,x,R,8),n.write(z,x,R,U,52,8),R+8}u.prototype.writeDoubleLE=function(x,R,U){return _e(this,x,R,!0,U)},u.prototype.writeDoubleBE=function(x,R,U){return _e(this,x,R,!1,U)},u.prototype.copy=function(x,R,U,ne){if(!u.isBuffer(x))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&ne!==0&&(ne=this.length),R>=x.length&&(R=x.length),R||(R=0),ne>0&&ne<U&&(ne=U),ne===U||x.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),x.length-R<ne-U&&(ne=x.length-R+U);var ye=ne-U;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,U,ne):Uint8Array.prototype.set.call(x,this.subarray(U,ne),R),ye},u.prototype.fill=function(x,R,U,ne){if(typeof x=="string"){if(typeof R=="string"?(ne=R,R=0,U=this.length):typeof U=="string"&&(ne=U,U=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!u.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(x.length===1){var ye=x.charCodeAt(0);(ne==="utf8"&&ye<128||ne==="latin1")&&(x=ye)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(R<0||this.length<R||this.length<U)throw new RangeError("Out of range index");if(U<=R)return this;R=R>>>0,U=U===void 0?this.length:U>>>0,x||(x=0);var ue;if(typeof x=="number")for(ue=R;ue<U;++ue)this[ue]=x;else{var De=u.isBuffer(x)?x:u.from(x,ne),Pe=De.length;if(Pe===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(ue=0;ue<U-R;++ue)this[ue+R]=De[ue%Pe]}return this};var le=/[^+/0-9A-Za-z-_]/g;function B(z){if(z=z.split("=")[0],z=z.trim().replace(le,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function M(z,x){x=x||1/0;for(var R,U=z.length,ne=null,ye=[],ue=0;ue<U;++ue){if(R=z.charCodeAt(ue),R>55295&&R<57344){if(!ne){if(R>56319){(x-=3)>-1&&ye.push(239,191,189);continue}else if(ue+1===U){(x-=3)>-1&&ye.push(239,191,189);continue}ne=R;continue}if(R<56320){(x-=3)>-1&&ye.push(239,191,189),ne=R;continue}R=(ne-55296<<10|R-56320)+65536}else ne&&(x-=3)>-1&&ye.push(239,191,189);if(ne=null,R<128){if((x-=1)<0)break;ye.push(R)}else if(R<2048){if((x-=2)<0)break;ye.push(R>>6|192,R&63|128)}else if(R<65536){if((x-=3)<0)break;ye.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((x-=4)<0)break;ye.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ye}function se(z){for(var x=[],R=0;R<z.length;++R)x.push(z.charCodeAt(R)&255);return x}function ie(z,x){for(var R,U,ne,ye=[],ue=0;ue<z.length&&!((x-=2)<0);++ue)R=z.charCodeAt(ue),U=R>>8,ne=R%256,ye.push(ne),ye.push(U);return ye}function Q(z){return e.toByteArray(B(z))}function Z(z,x,R,U){for(var ne=0;ne<U&&!(ne+R>=x.length||ne>=z.length);++ne)x[ne+R]=z[ne];return ne}function Ce(z,x){return z instanceof x||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===x.name}function F(z){return z!==z}var Te=function(){for(var z="0123456789abcdef",x=new Array(256),R=0;R<16;++R)for(var U=R*16,ne=0;ne<16;++ne)x[U+ne]=z[R]+z[ne];return x}()}(kT)),kT}var AT={},RT={},NT,gL;function pj(){return gL||(gL=1,NT=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),NT}var OT,vL;function _R(){if(vL)return OT;vL=1;var t=pj();return OT=function(){return t()&&!!Symbol.toStringTag},OT}var PT,yL;function _oe(){return yL||(yL=1,PT=Error),PT}var DT,wL;function boe(){return wL||(wL=1,DT=EvalError),DT}var LT,_L;function Eoe(){return _L||(_L=1,LT=RangeError),LT}var MT,bL;function Soe(){return bL||(bL=1,MT=ReferenceError),MT}var FT,EL;function mj(){return EL||(EL=1,FT=SyntaxError),FT}var UT,SL;function t1(){return SL||(SL=1,UT=TypeError),UT}var jT,TL;function Toe(){return TL||(TL=1,jT=URIError),jT}var BT,IL;function Ioe(){if(IL)return BT;IL=1;var t=typeof Symbol<"u"&&Symbol,e=pj();return BT=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},BT}var VT,CL;function Coe(){if(CL)return VT;CL=1;var t={__proto__:null,foo:{}},e=Object;return VT=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof e)},VT}var zT,xL;function xoe(){if(xL)return zT;xL=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,d){for(var p=[],v=0;v<c.length;v+=1)p[v]=c[v];for(var y=0;y<d.length;y+=1)p[y+c.length]=d[y];return p},o=function(c,d){for(var p=[],v=d,y=0;v<c.length;v+=1,y+=1)p[y]=c[v];return p},a=function(u,c){for(var d="",p=0;p<u.length;p+=1)d+=u[p],p+1<u.length&&(d+=c);return d};return zT=function(c){var d=this;if(typeof d!="function"||e.apply(d)!==r)throw new TypeError(t+d);for(var p=o(arguments,1),v,y=function(){if(this instanceof v){var S=d.apply(this,i(p,arguments));return Object(S)===S?S:this}return d.apply(c,i(p,arguments))},w=n(0,d.length-p.length),b=[],E=0;E<w;E++)b[E]="$"+E;if(v=Function("binder","return function ("+a(b,",")+"){ return binder.apply(this,arguments); }")(y),d.prototype){var I=function(){};I.prototype=d.prototype,v.prototype=new I,I.prototype=null}return v},zT}var HT,kL;function bR(){if(kL)return HT;kL=1;var t=xoe();return HT=Function.prototype.bind||t,HT}var WT,AL;function koe(){if(AL)return WT;AL=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=bR();return WT=n.call(t,e),WT}var qT,RL;function uw(){if(RL)return qT;RL=1;var t,e=_oe(),n=boe(),r=Eoe(),i=Soe(),o=mj(),a=t1(),u=Toe(),c=Function,d=function(re){try{return c('"use strict"; return ('+re+").constructor;")()}catch{}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch{p=null}var v=function(){throw new a},y=p?function(){try{return arguments.callee,v}catch{try{return p(arguments,"callee").get}catch{return v}}}():v,w=Ioe()(),b=Coe()(),E=Object.getPrototypeOf||(b?function(re){return re.__proto__}:null),I={},S=typeof Uint8Array>"u"||!E?t:E(Uint8Array),k={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":w&&E?E([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w&&E?E(E([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!w||!E?t:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":r,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!w||!E?t:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w&&E?E(""[Symbol.iterator]()):t,"%Symbol%":w?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":y,"%TypedArray%":S,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(E)try{null.error}catch(re){var C=E(E(re));k["%Error.prototype%"]=C}var A=function re(pe){var me;if(pe==="%AsyncFunction%")me=d("async function () {}");else if(pe==="%GeneratorFunction%")me=d("function* () {}");else if(pe==="%AsyncGeneratorFunction%")me=d("async function* () {}");else if(pe==="%AsyncGenerator%"){var Se=re("%AsyncGeneratorFunction%");Se&&(me=Se.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var G=re("%AsyncGenerator%");G&&E&&(me=E(G.prototype))}return k[pe]=me,me},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},H=bR(),D=koe(),X=H.call(Function.call,Array.prototype.concat),V=H.call(Function.apply,Array.prototype.splice),oe=H.call(Function.call,String.prototype.replace),Ie=H.call(Function.call,String.prototype.slice),$=H.call(Function.call,RegExp.prototype.exec),te=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,he=function(pe){var me=Ie(pe,0,1),Se=Ie(pe,-1);if(me==="%"&&Se!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Se==="%"&&me!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var G=[];return oe(pe,te,function(W,ae,de,_e){G[G.length]=de?oe(_e,j,"$1"):ae||W}),G},Ee=function(pe,me){var Se=pe,G;if(D(O,Se)&&(G=O[Se],Se="%"+G[0]+"%"),D(k,Se)){var W=k[Se];if(W===I&&(W=A(Se)),typeof W>"u"&&!me)throw new a("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:G,name:Se,value:W}}throw new o("intrinsic "+pe+" does not exist!")};return qT=function(pe,me){if(typeof pe!="string"||pe.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof me!="boolean")throw new a('"allowMissing" argument must be a boolean');if($(/^%?[^%]*%?$/,pe)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Se=he(pe),G=Se.length>0?Se[0]:"",W=Ee("%"+G+"%",me),ae=W.name,de=W.value,_e=!1,le=W.alias;le&&(G=le[0],V(Se,X([0,1],le)));for(var B=1,M=!0;B<Se.length;B+=1){var se=Se[B],ie=Ie(se,0,1),Q=Ie(se,-1);if((ie==='"'||ie==="'"||ie==="`"||Q==='"'||Q==="'"||Q==="`")&&ie!==Q)throw new o("property names with quotes must have matching quotes");if((se==="constructor"||!M)&&(_e=!0),G+="."+se,ae="%"+G+"%",D(k,ae))de=k[ae];else if(de!=null){if(!(se in de)){if(!me)throw new a("base intrinsic for "+pe+" exists, but the property is not available.");return}if(p&&B+1>=Se.length){var Z=p(de,se);M=!!Z,M&&"get"in Z&&!("originalValue"in Z.get)?de=Z.get:de=de[se]}else M=D(de,se),de=de[se];M&&!_e&&(k[ae]=de)}}return de},qT}var $T={exports:{}},GT,NL;function ER(){if(NL)return GT;NL=1;var t=uw(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return GT=e,GT}var KT,OL;function SR(){if(OL)return KT;OL=1;var t=uw(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return KT=e,KT}var YT,PL;function Aoe(){if(PL)return YT;PL=1;var t=ER(),e=mj(),n=t1(),r=SR();return YT=function(o,a,u){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,v=arguments.length>6?arguments[6]:!1,y=!!r&&r(o,a);if(t)t(o,a,{configurable:p===null&&y?y.configurable:!p,enumerable:c===null&&y?y.enumerable:!c,value:u,writable:d===null&&y?y.writable:!d});else if(v||!c&&!d&&!p)o[a]=u;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},YT}var XT,DL;function Roe(){if(DL)return XT;DL=1;var t=ER(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},XT=e,XT}var QT,LL;function Noe(){if(LL)return QT;LL=1;var t=uw(),e=Aoe(),n=Roe()(),r=SR(),i=t1(),o=t("%Math.floor%");return QT=function(u,c){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||o(c)!==c)throw new i("`length` must be a positive 32-bit integer");var d=arguments.length>2&&!!arguments[2],p=!0,v=!0;if("length"in u&&r){var y=r(u,"length");y&&!y.configurable&&(p=!1),y&&!y.writable&&(v=!1)}return(p||v||!d)&&(n?e(u,"length",c,!0,!0):e(u,"length",c)),u},QT}var ML;function gj(){return ML||(ML=1,function(t){var e=bR(),n=uw(),r=Noe(),i=t1(),o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),u=n("%Reflect.apply%",!0)||e.call(a,o),c=ER(),d=n("%Math.max%");t.exports=function(y){if(typeof y!="function")throw new i("a function is required");var w=u(e,a,arguments);return r(w,1+d(0,y.length-(arguments.length-1)),!0)};var p=function(){return u(e,o,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p}($T)),$T.exports}var JT,FL;function vj(){if(FL)return JT;FL=1;var t=uw(),e=gj(),n=e(t("String.prototype.indexOf"));return JT=function(i,o){var a=t(i,!!o);return typeof a=="function"&&n(i,".prototype.")>-1?e(a):a},JT}var ZT,UL;function Ooe(){if(UL)return ZT;UL=1;var t=_R()(),e=vj(),n=e("Object.prototype.toString"),r=function(u){return t&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:n(u)==="[object Arguments]"},i=function(u){return r(u)?!0:u!==null&&typeof u=="object"&&typeof u.length=="number"&&u.length>=0&&n(u)!=="[object Array]"&&n(u.callee)==="[object Function]"},o=function(){return r(arguments)}();return r.isLegacyArguments=i,ZT=o?r:i,ZT}var eI,jL;function Poe(){if(jL)return eI;jL=1;var t=Object.prototype.toString,e=Function.prototype.toString,n=/^\s*(?:function)?\*/,r=_R()(),i=Object.getPrototypeOf,o=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},a;return eI=function(c){if(typeof c!="function")return!1;if(n.test(e.call(c)))return!0;if(!r){var d=t.call(c);return d==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var p=o();a=p?i(p):!1}return i(c)===a},eI}var tI,BL;function Doe(){if(BL)return tI;BL=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(k){k!==r&&(e=null)}else e=null;var i=/^\s*class\b/,o=function(C){try{var A=t.call(C);return i.test(A)}catch{return!1}},a=function(C){try{return o(C)?!1:(t.call(C),!0)}catch{return!1}},u=Object.prototype.toString,c="[object Object]",d="[object Function]",p="[object GeneratorFunction]",v="[object HTMLAllCollection]",y="[object HTML document.all class]",w="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,E=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var S=document.all;u.call(S)===u.call(document.all)&&(I=function(C){if((E||!C)&&(typeof C>"u"||typeof C=="object"))try{var A=u.call(C);return(A===v||A===y||A===w||A===c)&&C("")==null}catch{}return!1})}return tI=e?function(C){if(I(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;try{e(C,null,n)}catch(A){if(A!==r)return!1}return!o(C)&&a(C)}:function(C){if(I(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;if(b)return a(C);if(o(C))return!1;var A=u.call(C);return A!==d&&A!==p&&!/^\[object HTML/.test(A)?!1:a(C)},tI}var nI,VL;function Loe(){if(VL)return nI;VL=1;var t=Doe(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(c,d,p){for(var v=0,y=c.length;v<y;v++)n.call(c,v)&&(p==null?d(c[v],v,c):d.call(p,c[v],v,c))},i=function(c,d,p){for(var v=0,y=c.length;v<y;v++)p==null?d(c.charAt(v),v,c):d.call(p,c.charAt(v),v,c)},o=function(c,d,p){for(var v in c)n.call(c,v)&&(p==null?d(c[v],v,c):d.call(p,c[v],v,c))},a=function(c,d,p){if(!t(d))throw new TypeError("iterator must be a function");var v;arguments.length>=3&&(v=p),e.call(c)==="[object Array]"?r(c,d,v):typeof c=="string"?i(c,d,v):o(c,d,v)};return nI=a,nI}var rI,zL;function Moe(){return zL||(zL=1,rI=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),rI}var iI,HL;function Foe(){if(HL)return iI;HL=1;var t=Moe(),e=typeof globalThis>"u"?Oa:globalThis;return iI=function(){for(var r=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(r[r.length]=t[i]);return r},iI}var oI,WL;function yj(){if(WL)return oI;WL=1;var t=Loe(),e=Foe(),n=gj(),r=vj(),i=SR(),o=r("Object.prototype.toString"),a=_R()(),u=typeof globalThis>"u"?Oa:globalThis,c=e(),d=r("String.prototype.slice"),p=Object.getPrototypeOf,v=r("Array.prototype.indexOf",!0)||function(I,S){for(var k=0;k<I.length;k+=1)if(I[k]===S)return k;return-1},y={__proto__:null};a&&i&&p?t(c,function(E){var I=new u[E];if(Symbol.toStringTag in I){var S=p(I),k=i(S,Symbol.toStringTag);if(!k){var C=p(S);k=i(C,Symbol.toStringTag)}y["$"+E]=n(k.get)}}):t(c,function(E){var I=new u[E],S=I.slice||I.set;S&&(y["$"+E]=n(S))});var w=function(I){var S=!1;return t(y,function(k,C){if(!S)try{"$"+k(I)===C&&(S=d(C,1))}catch{}}),S},b=function(I){var S=!1;return t(y,function(k,C){if(!S)try{k(I),S=d(C,1)}catch{}}),S};return oI=function(I){if(!I||typeof I!="object")return!1;if(!a){var S=d(o(I),8,-1);return v(c,S)>-1?S:S!=="Object"?!1:b(I)}return i?w(I):null},oI}var sI,qL;function Uoe(){if(qL)return sI;qL=1;var t=yj();return sI=function(n){return!!t(n)},sI}var $L;function joe(){return $L||($L=1,function(t){var e=Ooe(),n=Poe(),r=yj(),i=Uoe();function o(U){return U.call.bind(U)}var a=typeof BigInt<"u",u=typeof Symbol<"u",c=o(Object.prototype.toString),d=o(Number.prototype.valueOf),p=o(String.prototype.valueOf),v=o(Boolean.prototype.valueOf);if(a)var y=o(BigInt.prototype.valueOf);if(u)var w=o(Symbol.prototype.valueOf);function b(U,ne){if(typeof U!="object")return!1;try{return ne(U),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=i;function E(U){return typeof Promise<"u"&&U instanceof Promise||U!==null&&typeof U=="object"&&typeof U.then=="function"&&typeof U.catch=="function"}t.isPromise=E;function I(U){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(U):i(U)||ae(U)}t.isArrayBufferView=I;function S(U){return r(U)==="Uint8Array"}t.isUint8Array=S;function k(U){return r(U)==="Uint8ClampedArray"}t.isUint8ClampedArray=k;function C(U){return r(U)==="Uint16Array"}t.isUint16Array=C;function A(U){return r(U)==="Uint32Array"}t.isUint32Array=A;function O(U){return r(U)==="Int8Array"}t.isInt8Array=O;function H(U){return r(U)==="Int16Array"}t.isInt16Array=H;function D(U){return r(U)==="Int32Array"}t.isInt32Array=D;function X(U){return r(U)==="Float32Array"}t.isFloat32Array=X;function V(U){return r(U)==="Float64Array"}t.isFloat64Array=V;function oe(U){return r(U)==="BigInt64Array"}t.isBigInt64Array=oe;function Ie(U){return r(U)==="BigUint64Array"}t.isBigUint64Array=Ie;function $(U){return c(U)==="[object Map]"}$.working=typeof Map<"u"&&$(new Map);function te(U){return typeof Map>"u"?!1:$.working?$(U):U instanceof Map}t.isMap=te;function j(U){return c(U)==="[object Set]"}j.working=typeof Set<"u"&&j(new Set);function he(U){return typeof Set>"u"?!1:j.working?j(U):U instanceof Set}t.isSet=he;function Ee(U){return c(U)==="[object WeakMap]"}Ee.working=typeof WeakMap<"u"&&Ee(new WeakMap);function re(U){return typeof WeakMap>"u"?!1:Ee.working?Ee(U):U instanceof WeakMap}t.isWeakMap=re;function pe(U){return c(U)==="[object WeakSet]"}pe.working=typeof WeakSet<"u"&&pe(new WeakSet);function me(U){return pe(U)}t.isWeakSet=me;function Se(U){return c(U)==="[object ArrayBuffer]"}Se.working=typeof ArrayBuffer<"u"&&Se(new ArrayBuffer);function G(U){return typeof ArrayBuffer>"u"?!1:Se.working?Se(U):U instanceof ArrayBuffer}t.isArrayBuffer=G;function W(U){return c(U)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function ae(U){return typeof DataView>"u"?!1:W.working?W(U):U instanceof DataView}t.isDataView=ae;var de=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function _e(U){return c(U)==="[object SharedArrayBuffer]"}function le(U){return typeof de>"u"?!1:(typeof _e.working>"u"&&(_e.working=_e(new de)),_e.working?_e(U):U instanceof de)}t.isSharedArrayBuffer=le;function B(U){return c(U)==="[object AsyncFunction]"}t.isAsyncFunction=B;function M(U){return c(U)==="[object Map Iterator]"}t.isMapIterator=M;function se(U){return c(U)==="[object Set Iterator]"}t.isSetIterator=se;function ie(U){return c(U)==="[object Generator]"}t.isGeneratorObject=ie;function Q(U){return c(U)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Q;function Z(U){return b(U,d)}t.isNumberObject=Z;function Ce(U){return b(U,p)}t.isStringObject=Ce;function F(U){return b(U,v)}t.isBooleanObject=F;function Te(U){return a&&b(U,y)}t.isBigIntObject=Te;function z(U){return u&&b(U,w)}t.isSymbolObject=z;function x(U){return Z(U)||Ce(U)||F(U)||Te(U)||z(U)}t.isBoxedPrimitive=x;function R(U){return typeof Uint8Array<"u"&&(G(U)||le(U))}t.isAnyArrayBuffer=R,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(U){Object.defineProperty(t,U,{enumerable:!1,value:function(){throw new Error(U+" is not supported in userland")}})})}(RT)),RT}var aI,GL;function Boe(){return GL||(GL=1,aI=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),aI}var KL;function wj(){return KL||(KL=1,function(t){var e=Object.getOwnPropertyDescriptors||function(ae){for(var de=Object.keys(ae),_e={},le=0;le<de.length;le++)_e[de[le]]=Object.getOwnPropertyDescriptor(ae,de[le]);return _e},n=/%[sdj%]/g;t.format=function(W){if(!O(W)){for(var ae=[],de=0;de<arguments.length;de++)ae.push(a(arguments[de]));return ae.join(" ")}for(var de=1,_e=arguments,le=_e.length,B=String(W).replace(n,function(se){if(se==="%%")return"%";if(de>=le)return se;switch(se){case"%s":return String(_e[de++]);case"%d":return Number(_e[de++]);case"%j":try{return JSON.stringify(_e[de++])}catch{return"[Circular]"}default:return se}}),M=_e[de];de<le;M=_e[++de])k(M)||!V(M)?B+=" "+M:B+=" "+a(M);return B},t.deprecate=function(W,ae){if(typeof kt<"u"&&kt.noDeprecation===!0)return W;if(typeof kt>"u")return function(){return t.deprecate(W,ae).apply(this,arguments)};var de=!1;function _e(){if(!de){if(kt.throwDeprecation)throw new Error(ae);kt.traceDeprecation?console.trace(ae):console.error(ae),de=!0}return W.apply(this,arguments)}return _e};var r={},i=/^$/;if(kt.env.NODE_DEBUG){var o=kt.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}t.debuglog=function(W){if(W=W.toUpperCase(),!r[W])if(i.test(W)){var ae=kt.pid;r[W]=function(){var de=t.format.apply(t,arguments);console.error("%s %d: %s",W,ae,de)}}else r[W]=function(){};return r[W]};function a(W,ae){var de={seen:[],stylize:c};return arguments.length>=3&&(de.depth=arguments[2]),arguments.length>=4&&(de.colors=arguments[3]),S(ae)?de.showHidden=ae:ae&&t._extend(de,ae),D(de.showHidden)&&(de.showHidden=!1),D(de.depth)&&(de.depth=2),D(de.colors)&&(de.colors=!1),D(de.customInspect)&&(de.customInspect=!0),de.colors&&(de.stylize=u),p(de,W,de.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(W,ae){var de=a.styles[ae];return de?"\x1B["+a.colors[de][0]+"m"+W+"\x1B["+a.colors[de][1]+"m":W}function c(W,ae){return W}function d(W){var ae={};return W.forEach(function(de,_e){ae[de]=!0}),ae}function p(W,ae,de){if(W.customInspect&&ae&&$(ae.inspect)&&ae.inspect!==t.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var _e=ae.inspect(de,W);return O(_e)||(_e=p(W,_e,de)),_e}var le=v(W,ae);if(le)return le;var B=Object.keys(ae),M=d(B);if(W.showHidden&&(B=Object.getOwnPropertyNames(ae)),Ie(ae)&&(B.indexOf("message")>=0||B.indexOf("description")>=0))return y(ae);if(B.length===0){if($(ae)){var se=ae.name?": "+ae.name:"";return W.stylize("[Function"+se+"]","special")}if(X(ae))return W.stylize(RegExp.prototype.toString.call(ae),"regexp");if(oe(ae))return W.stylize(Date.prototype.toString.call(ae),"date");if(Ie(ae))return y(ae)}var ie="",Q=!1,Z=["{","}"];if(I(ae)&&(Q=!0,Z=["[","]"]),$(ae)){var Ce=ae.name?": "+ae.name:"";ie=" [Function"+Ce+"]"}if(X(ae)&&(ie=" "+RegExp.prototype.toString.call(ae)),oe(ae)&&(ie=" "+Date.prototype.toUTCString.call(ae)),Ie(ae)&&(ie=" "+y(ae)),B.length===0&&(!Q||ae.length==0))return Z[0]+ie+Z[1];if(de<0)return X(ae)?W.stylize(RegExp.prototype.toString.call(ae),"regexp"):W.stylize("[Object]","special");W.seen.push(ae);var F;return Q?F=w(W,ae,de,M,B):F=B.map(function(Te){return b(W,ae,de,M,Te,Q)}),W.seen.pop(),E(F,ie,Z)}function v(W,ae){if(D(ae))return W.stylize("undefined","undefined");if(O(ae)){var de="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(de,"string")}if(A(ae))return W.stylize(""+ae,"number");if(S(ae))return W.stylize(""+ae,"boolean");if(k(ae))return W.stylize("null","null")}function y(W){return"["+Error.prototype.toString.call(W)+"]"}function w(W,ae,de,_e,le){for(var B=[],M=0,se=ae.length;M<se;++M)pe(ae,String(M))?B.push(b(W,ae,de,_e,String(M),!0)):B.push("");return le.forEach(function(ie){ie.match(/^\d+$/)||B.push(b(W,ae,de,_e,ie,!0))}),B}function b(W,ae,de,_e,le,B){var M,se,ie;if(ie=Object.getOwnPropertyDescriptor(ae,le)||{value:ae[le]},ie.get?ie.set?se=W.stylize("[Getter/Setter]","special"):se=W.stylize("[Getter]","special"):ie.set&&(se=W.stylize("[Setter]","special")),pe(_e,le)||(M="["+le+"]"),se||(W.seen.indexOf(ie.value)<0?(k(de)?se=p(W,ie.value,null):se=p(W,ie.value,de-1),se.indexOf(`
`)>-1&&(B?se=se.split(`
`).map(function(Q){return"  "+Q}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):se=W.stylize("[Circular]","special")),D(M)){if(B&&le.match(/^\d+$/))return se;M=JSON.stringify(""+le),M.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.slice(1,-1),M=W.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=W.stylize(M,"string"))}return M+": "+se}function E(W,ae,de){var _e=W.reduce(function(le,B){return B.indexOf(`
`)>=0,le+B.replace(/\u001b\[\d\d?m/g,"").length+1},0);return _e>60?de[0]+(ae===""?"":ae+`
 `)+" "+W.join(`,
  `)+" "+de[1]:de[0]+ae+" "+W.join(", ")+" "+de[1]}t.types=joe();function I(W){return Array.isArray(W)}t.isArray=I;function S(W){return typeof W=="boolean"}t.isBoolean=S;function k(W){return W===null}t.isNull=k;function C(W){return W==null}t.isNullOrUndefined=C;function A(W){return typeof W=="number"}t.isNumber=A;function O(W){return typeof W=="string"}t.isString=O;function H(W){return typeof W=="symbol"}t.isSymbol=H;function D(W){return W===void 0}t.isUndefined=D;function X(W){return V(W)&&j(W)==="[object RegExp]"}t.isRegExp=X,t.types.isRegExp=X;function V(W){return typeof W=="object"&&W!==null}t.isObject=V;function oe(W){return V(W)&&j(W)==="[object Date]"}t.isDate=oe,t.types.isDate=oe;function Ie(W){return V(W)&&(j(W)==="[object Error]"||W instanceof Error)}t.isError=Ie,t.types.isNativeError=Ie;function $(W){return typeof W=="function"}t.isFunction=$;function te(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||typeof W>"u"}t.isPrimitive=te,t.isBuffer=Boe();function j(W){return Object.prototype.toString.call(W)}function he(W){return W<10?"0"+W.toString(10):W.toString(10)}var Ee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function re(){var W=new Date,ae=[he(W.getHours()),he(W.getMinutes()),he(W.getSeconds())].join(":");return[W.getDate(),Ee[W.getMonth()],ae].join(" ")}t.log=function(){console.log("%s - %s",re(),t.format.apply(t,arguments))},t.inherits=xc(),t._extend=function(W,ae){if(!ae||!V(ae))return W;for(var de=Object.keys(ae),_e=de.length;_e--;)W[de[_e]]=ae[de[_e]];return W};function pe(W,ae){return Object.prototype.hasOwnProperty.call(W,ae)}var me=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(ae){if(typeof ae!="function")throw new TypeError('The "original" argument must be of type Function');if(me&&ae[me]){var de=ae[me];if(typeof de!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(de,me,{value:de,enumerable:!1,writable:!1,configurable:!0}),de}function de(){for(var _e,le,B=new Promise(function(ie,Q){_e=ie,le=Q}),M=[],se=0;se<arguments.length;se++)M.push(arguments[se]);M.push(function(ie,Q){ie?le(ie):_e(Q)});try{ae.apply(this,M)}catch(ie){le(ie)}return B}return Object.setPrototypeOf(de,Object.getPrototypeOf(ae)),me&&Object.defineProperty(de,me,{value:de,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(de,e(ae))},t.promisify.custom=me;function Se(W,ae){if(!W){var de=new Error("Promise was rejected with a falsy value");de.reason=W,W=de}return ae(W)}function G(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');function ae(){for(var de=[],_e=0;_e<arguments.length;_e++)de.push(arguments[_e]);var le=de.pop();if(typeof le!="function")throw new TypeError("The last argument must be of type Function");var B=this,M=function(){return le.apply(B,arguments)};W.apply(this,de).then(function(se){kt.nextTick(M.bind(null,null,se))},function(se){kt.nextTick(Se.bind(null,se,M))})}return Object.setPrototypeOf(ae,Object.getPrototypeOf(W)),Object.defineProperties(ae,e(W)),ae}t.callbackify=G}(AT)),AT}var uI,YL;function Voe(){if(YL)return uI;YL=1;function t(y,w){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(y);w&&(E=E.filter(function(I){return Object.getOwnPropertyDescriptor(y,I).enumerable})),b.push.apply(b,E)}return b}function e(y){for(var w=1;w<arguments.length;w++){var b=arguments[w]!=null?arguments[w]:{};w%2?t(Object(b),!0).forEach(function(E){n(y,E,b[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):t(Object(b)).forEach(function(E){Object.defineProperty(y,E,Object.getOwnPropertyDescriptor(b,E))})}return y}function n(y,w,b){return w in y?Object.defineProperty(y,w,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[w]=b,y}function r(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function i(y,w){for(var b=0;b<w.length;b++){var E=w[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}function o(y,w,b){return i(y.prototype,w),y}var a=e1(),u=a.Buffer,c=wj(),d=c.inspect,p=d&&d.custom||"inspect";function v(y,w,b){u.prototype.copy.call(y,w,b)}return uI=function(){function y(){r(this,y),this.head=null,this.tail=null,this.length=0}return o(y,[{key:"push",value:function(b){var E={data:b,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(b){var E={data:b,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var E=this.head,I=""+E.data;E=E.next;)I+=b+E.data;return I}},{key:"concat",value:function(b){if(this.length===0)return u.alloc(0);for(var E=u.allocUnsafe(b>>>0),I=this.head,S=0;I;)v(I.data,E,S),S+=I.data.length,I=I.next;return E}},{key:"consume",value:function(b,E){var I;return b<this.head.data.length?(I=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?I=this.shift():I=E?this._getString(b):this._getBuffer(b),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var E=this.head,I=1,S=E.data;for(b-=S.length;E=E.next;){var k=E.data,C=b>k.length?k.length:b;if(C===k.length?S+=k:S+=k.slice(0,b),b-=C,b===0){C===k.length?(++I,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=k.slice(C));break}++I}return this.length-=I,S}},{key:"_getBuffer",value:function(b){var E=u.allocUnsafe(b),I=this.head,S=1;for(I.data.copy(E),b-=I.data.length;I=I.next;){var k=I.data,C=b>k.length?k.length:b;if(k.copy(E,E.length-b,0,C),b-=C,b===0){C===k.length?(++S,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=k.slice(C));break}++S}return this.length-=S,E}},{key:p,value:function(b,E){return d(this,e({},E,{depth:0,customInspect:!1}))}}]),y}(),uI}var lI,XL;function _j(){if(XL)return lI;XL=1;function t(a,u){var c=this,d=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return d||p?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,kt.nextTick(i,this,a)):kt.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(v){!u&&v?c._writableState?c._writableState.errorEmitted?kt.nextTick(n,c):(c._writableState.errorEmitted=!0,kt.nextTick(e,c,v)):kt.nextTick(e,c,v):u?(kt.nextTick(n,c),u(v)):kt.nextTick(n,c)}),this)}function e(a,u){i(a,u),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,u){a.emit("error",u)}function o(a,u){var c=a._readableState,d=a._writableState;c&&c.autoDestroy||d&&d.autoDestroy?a.destroy(u):a.emit("error",u)}return lI={destroy:t,undestroy:r,errorOrDestroy:o},lI}var cI={},QL;function Sm(){if(QL)return cI;QL=1;function t(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c}var e={};function n(u,c,d){d||(d=Error);function p(y,w,b){return typeof c=="string"?c:c(y,w,b)}var v=function(y){t(w,y);function w(b,E,I){return y.call(this,p(b,E,I))||this}return w}(d);v.prototype.name=d.name,v.prototype.code=u,e[u]=v}function r(u,c){if(Array.isArray(u)){var d=u.length;return u=u.map(function(p){return String(p)}),d>2?"one of ".concat(c," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}else return"of ".concat(c," ").concat(String(u))}function i(u,c,d){return u.substr(0,c.length)===c}function o(u,c,d){return(d===void 0||d>u.length)&&(d=u.length),u.substring(d-c.length,d)===c}function a(u,c,d){return typeof d!="number"&&(d=0),d+c.length>u.length?!1:u.indexOf(c,d)!==-1}return n("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(u,c,d){var p;typeof c=="string"&&i(c,"not ")?(p="must not be",c=c.replace(/^not /,"")):p="must be";var v;if(o(u," argument"))v="The ".concat(u," ").concat(p," ").concat(r(c,"type"));else{var y=a(u,".")?"property":"argument";v='The "'.concat(u,'" ').concat(y," ").concat(p," ").concat(r(c,"type"))}return v+=". Received type ".concat(typeof d),v},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),cI.codes=e,cI}var fI,JL;function bj(){if(JL)return fI;JL=1;var t=Sm().codes.ERR_INVALID_OPT_VALUE;function e(r,i,o){return r.highWaterMark!=null?r.highWaterMark:i?r[o]:null}function n(r,i,o,a){var u=e(i,a,o);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var c=a?o:"highWaterMark";throw new t(c,u)}return Math.floor(u)}return r.objectMode?16:16*1024}return fI={getHighWaterMark:n},fI}var hI,ZL;function zoe(){if(ZL)return hI;ZL=1,hI=t;function t(n,r){if(e("noDeprecation"))return n;var i=!1;function o(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return o}function e(n){try{if(!Oa.localStorage)return!1}catch{return!1}var r=Oa.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return hI}var dI,eM;function Ej(){if(eM)return dI;eM=1,dI=X;function t(le){var B=this;this.next=null,this.entry=null,this.finish=function(){_e(B,le)}}var e;X.WritableState=H;var n={deprecate:zoe()},r=dj(),i=e1().Buffer,o=Oa.Uint8Array||function(){};function a(le){return i.from(le)}function u(le){return i.isBuffer(le)||le instanceof o}var c=_j(),d=bj(),p=d.getHighWaterMark,v=Sm().codes,y=v.ERR_INVALID_ARG_TYPE,w=v.ERR_METHOD_NOT_IMPLEMENTED,b=v.ERR_MULTIPLE_CALLBACK,E=v.ERR_STREAM_CANNOT_PIPE,I=v.ERR_STREAM_DESTROYED,S=v.ERR_STREAM_NULL_VALUES,k=v.ERR_STREAM_WRITE_AFTER_END,C=v.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;xc()(X,r);function O(){}function H(le,B,M){e=e||Yp(),le=le||{},typeof M!="boolean"&&(M=B instanceof e),this.objectMode=!!le.objectMode,M&&(this.objectMode=this.objectMode||!!le.writableObjectMode),this.highWaterMark=p(this,le,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var se=le.decodeStrings===!1;this.decodeStrings=!se,this.defaultEncoding=le.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){Ee(B,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=le.emitClose!==!1,this.autoDestroy=!!le.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}H.prototype.getBuffer=function(){for(var B=this.bufferedRequest,M=[];B;)M.push(B),B=B.next;return M},function(){try{Object.defineProperty(H.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(B){return D.call(this,B)?!0:this!==X?!1:B&&B._writableState instanceof H}})):D=function(B){return B instanceof this};function X(le){e=e||Yp();var B=this instanceof e;if(!B&&!D.call(X,this))return new X(le);this._writableState=new H(le,this,B),this.writable=!0,le&&(typeof le.write=="function"&&(this._write=le.write),typeof le.writev=="function"&&(this._writev=le.writev),typeof le.destroy=="function"&&(this._destroy=le.destroy),typeof le.final=="function"&&(this._final=le.final)),r.call(this)}X.prototype.pipe=function(){A(this,new E)};function V(le,B){var M=new k;A(le,M),kt.nextTick(B,M)}function oe(le,B,M,se){var ie;return M===null?ie=new S:typeof M!="string"&&!B.objectMode&&(ie=new y("chunk",["string","Buffer"],M)),ie?(A(le,ie),kt.nextTick(se,ie),!1):!0}X.prototype.write=function(le,B,M){var se=this._writableState,ie=!1,Q=!se.objectMode&&u(le);return Q&&!i.isBuffer(le)&&(le=a(le)),typeof B=="function"&&(M=B,B=null),Q?B="buffer":B||(B=se.defaultEncoding),typeof M!="function"&&(M=O),se.ending?V(this,M):(Q||oe(this,se,le,M))&&(se.pendingcb++,ie=$(this,se,Q,le,B,M)),ie},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var le=this._writableState;le.corked&&(le.corked--,!le.writing&&!le.corked&&!le.bufferProcessing&&le.bufferedRequest&&me(this,le))},X.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new C(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ie(le,B,M){return!le.objectMode&&le.decodeStrings!==!1&&typeof B=="string"&&(B=i.from(B,M)),B}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function $(le,B,M,se,ie,Q){if(!M){var Z=Ie(B,se,ie);se!==Z&&(M=!0,ie="buffer",se=Z)}var Ce=B.objectMode?1:se.length;B.length+=Ce;var F=B.length<B.highWaterMark;if(F||(B.needDrain=!0),B.writing||B.corked){var Te=B.lastBufferedRequest;B.lastBufferedRequest={chunk:se,encoding:ie,isBuf:M,callback:Q,next:null},Te?Te.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else te(le,B,!1,Ce,se,ie,Q);return F}function te(le,B,M,se,ie,Q,Z){B.writelen=se,B.writecb=Z,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new I("write")):M?le._writev(ie,B.onwrite):le._write(ie,Q,B.onwrite),B.sync=!1}function j(le,B,M,se,ie){--B.pendingcb,M?(kt.nextTick(ie,se),kt.nextTick(ae,le,B),le._writableState.errorEmitted=!0,A(le,se)):(ie(se),le._writableState.errorEmitted=!0,A(le,se),ae(le,B))}function he(le){le.writing=!1,le.writecb=null,le.length-=le.writelen,le.writelen=0}function Ee(le,B){var M=le._writableState,se=M.sync,ie=M.writecb;if(typeof ie!="function")throw new b;if(he(M),B)j(le,M,se,B,ie);else{var Q=Se(M)||le.destroyed;!Q&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&me(le,M),se?kt.nextTick(re,le,M,Q,ie):re(le,M,Q,ie)}}function re(le,B,M,se){M||pe(le,B),B.pendingcb--,se(),ae(le,B)}function pe(le,B){B.length===0&&B.needDrain&&(B.needDrain=!1,le.emit("drain"))}function me(le,B){B.bufferProcessing=!0;var M=B.bufferedRequest;if(le._writev&&M&&M.next){var se=B.bufferedRequestCount,ie=new Array(se),Q=B.corkedRequestsFree;Q.entry=M;for(var Z=0,Ce=!0;M;)ie[Z]=M,M.isBuf||(Ce=!1),M=M.next,Z+=1;ie.allBuffers=Ce,te(le,B,!0,B.length,ie,"",Q.finish),B.pendingcb++,B.lastBufferedRequest=null,Q.next?(B.corkedRequestsFree=Q.next,Q.next=null):B.corkedRequestsFree=new t(B),B.bufferedRequestCount=0}else{for(;M;){var F=M.chunk,Te=M.encoding,z=M.callback,x=B.objectMode?1:F.length;if(te(le,B,!1,x,F,Te,z),M=M.next,B.bufferedRequestCount--,B.writing)break}M===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=M,B.bufferProcessing=!1}X.prototype._write=function(le,B,M){M(new w("_write()"))},X.prototype._writev=null,X.prototype.end=function(le,B,M){var se=this._writableState;return typeof le=="function"?(M=le,le=null,B=null):typeof B=="function"&&(M=B,B=null),le!=null&&this.write(le,B),se.corked&&(se.corked=1,this.uncork()),se.ending||de(this,se,M),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Se(le){return le.ending&&le.length===0&&le.bufferedRequest===null&&!le.finished&&!le.writing}function G(le,B){le._final(function(M){B.pendingcb--,M&&A(le,M),B.prefinished=!0,le.emit("prefinish"),ae(le,B)})}function W(le,B){!B.prefinished&&!B.finalCalled&&(typeof le._final=="function"&&!B.destroyed?(B.pendingcb++,B.finalCalled=!0,kt.nextTick(G,le,B)):(B.prefinished=!0,le.emit("prefinish")))}function ae(le,B){var M=Se(B);if(M&&(W(le,B),B.pendingcb===0&&(B.finished=!0,le.emit("finish"),B.autoDestroy))){var se=le._readableState;(!se||se.autoDestroy&&se.endEmitted)&&le.destroy()}return M}function de(le,B,M){B.ending=!0,ae(le,B),M&&(B.finished?kt.nextTick(M):le.once("finish",M)),B.ended=!0,le.writable=!1}function _e(le,B,M){var se=le.entry;for(le.entry=null;se;){var ie=se.callback;B.pendingcb--,ie(M),se=se.next}B.corkedRequestsFree.next=le}return Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),X.prototype.destroy=c.destroy,X.prototype._undestroy=c.undestroy,X.prototype._destroy=function(le,B){B(le)},dI}var pI,tM;function Yp(){if(tM)return pI;tM=1;var t=Object.keys||function(d){var p=[];for(var v in d)p.push(v);return p};pI=a;var e=Sj(),n=Ej();xc()(a,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var o=r[i];a.prototype[o]||(a.prototype[o]=n.prototype[o])}function a(d){if(!(this instanceof a))return new a(d);e.call(this,d),n.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||kt.nextTick(c,this)}function c(d){d.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),pI}var mI={},n_={exports:{}},nM;function Hoe(){return nM||(nM=1,function(t,e){var n=e1(),r=n.Buffer;function i(a,u){for(var c in a)u[c]=a[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(a,u,c){return r(a,u,c)}i(r,o),o.from=function(a,u,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,u,c)},o.alloc=function(a,u,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var d=r(a);return u!==void 0?typeof c=="string"?d.fill(u,c):d.fill(u):d.fill(0),d},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}}(n_,n_.exports)),n_.exports}var rM;function vx(){if(rM)return mI;rM=1;var t=Hoe().Buffer,e=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(S){if(!S)return"utf8";for(var k;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(k)return;S=(""+S).toLowerCase(),k=!0}}function r(S){var k=n(S);if(typeof k!="string"&&(t.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return k||S}mI.StringDecoder=i;function i(S){this.encoding=r(S);var k;switch(this.encoding){case"utf16le":this.text=v,this.end=y,k=4;break;case"utf8":this.fillLast=c,k=4;break;case"base64":this.text=w,this.end=b,k=3;break;default:this.write=E,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(k)}i.prototype.write=function(S){if(S.length===0)return"";var k,C;if(this.lastNeed){if(k=this.fillLast(S),k===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<S.length?k?k+this.text(S,C):this.text(S,C):k||""},i.prototype.end=p,i.prototype.text=d,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function o(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function a(S,k,C){var A=k.length-1;if(A<C)return 0;var O=o(k[A]);return O>=0?(O>0&&(S.lastNeed=O-1),O):--A<C||O===-2?0:(O=o(k[A]),O>=0?(O>0&&(S.lastNeed=O-2),O):--A<C||O===-2?0:(O=o(k[A]),O>=0?(O>0&&(O===2?O=0:S.lastNeed=O-3),O):0))}function u(S,k,C){if((k[0]&192)!==128)return S.lastNeed=0,"�";if(S.lastNeed>1&&k.length>1){if((k[1]&192)!==128)return S.lastNeed=1,"�";if(S.lastNeed>2&&k.length>2&&(k[2]&192)!==128)return S.lastNeed=2,"�"}}function c(S){var k=this.lastTotal-this.lastNeed,C=u(this,S);if(C!==void 0)return C;if(this.lastNeed<=S.length)return S.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,k,0,S.length),this.lastNeed-=S.length}function d(S,k){var C=a(this,S,k);if(!this.lastNeed)return S.toString("utf8",k);this.lastTotal=C;var A=S.length-(C-this.lastNeed);return S.copy(this.lastChar,0,A),S.toString("utf8",k,A)}function p(S){var k=S&&S.length?this.write(S):"";return this.lastNeed?k+"�":k}function v(S,k){if((S.length-k)%2===0){var C=S.toString("utf16le",k);if(C){var A=C.charCodeAt(C.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",k,S.length-1)}function y(S){var k=S&&S.length?this.write(S):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,C)}return k}function w(S,k){var C=(S.length-k)%3;return C===0?S.toString("base64",k):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",k,S.length-C))}function b(S){var k=S&&S.length?this.write(S):"";return this.lastNeed?k+this.lastChar.toString("base64",0,3-this.lastNeed):k}function E(S){return S.toString(this.encoding)}function I(S){return S&&S.length?this.write(S):""}return mI}var gI,iM;function TR(){if(iM)return gI;iM=1;var t=Sm().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var a=!1;return function(){if(!a){a=!0;for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];o.apply(this,c)}}}function n(){}function r(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,u){if(typeof a=="function")return i(o,null,a);a||(a={}),u=e(u||n);var c=a.readable||a.readable!==!1&&o.readable,d=a.writable||a.writable!==!1&&o.writable,p=function(){o.writable||y()},v=o._writableState&&o._writableState.finished,y=function(){d=!1,v=!0,c||u.call(o)},w=o._readableState&&o._readableState.endEmitted,b=function(){c=!1,w=!0,d||u.call(o)},E=function(C){u.call(o,C)},I=function(){var C;if(c&&!w)return(!o._readableState||!o._readableState.ended)&&(C=new t),u.call(o,C);if(d&&!v)return(!o._writableState||!o._writableState.ended)&&(C=new t),u.call(o,C)},S=function(){o.req.on("finish",y)};return r(o)?(o.on("complete",y),o.on("abort",I),o.req?S():o.on("request",S)):d&&!o._writableState&&(o.on("end",p),o.on("close",p)),o.on("end",b),o.on("finish",y),a.error!==!1&&o.on("error",E),o.on("close",I),function(){o.removeListener("complete",y),o.removeListener("abort",I),o.removeListener("request",S),o.req&&o.req.removeListener("finish",y),o.removeListener("end",p),o.removeListener("close",p),o.removeListener("finish",y),o.removeListener("end",b),o.removeListener("error",E),o.removeListener("close",I)}}return gI=i,gI}var vI,oM;function Woe(){if(oM)return vI;oM=1;var t;function e(S,k,C){return k in S?Object.defineProperty(S,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[k]=C,S}var n=TR(),r=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),a=Symbol("ended"),u=Symbol("lastPromise"),c=Symbol("handlePromise"),d=Symbol("stream");function p(S,k){return{value:S,done:k}}function v(S){var k=S[r];if(k!==null){var C=S[d].read();C!==null&&(S[u]=null,S[r]=null,S[i]=null,k(p(C,!1)))}}function y(S){kt.nextTick(v,S)}function w(S,k){return function(C,A){S.then(function(){if(k[a]){C(p(void 0,!0));return}k[c](C,A)},A)}}var b=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[d]},next:function(){var k=this,C=this[o];if(C!==null)return Promise.reject(C);if(this[a])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise(function(D,X){kt.nextTick(function(){k[o]?X(k[o]):D(p(void 0,!0))})});var A=this[u],O;if(A)O=new Promise(w(A,this));else{var H=this[d].read();if(H!==null)return Promise.resolve(p(H,!1));O=new Promise(this[c])}return this[u]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var k=this;return new Promise(function(C,A){k[d].destroy(null,function(O){if(O){A(O);return}C(p(void 0,!0))})})}),t),b),I=function(k){var C,A=Object.create(E,(C={},e(C,d,{value:k,writable:!0}),e(C,r,{value:null,writable:!0}),e(C,i,{value:null,writable:!0}),e(C,o,{value:null,writable:!0}),e(C,a,{value:k._readableState.endEmitted,writable:!0}),e(C,c,{value:function(H,D){var X=A[d].read();X?(A[u]=null,A[r]=null,A[i]=null,H(p(X,!1))):(A[r]=H,A[i]=D)},writable:!0}),C));return A[u]=null,n(k,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=A[i];H!==null&&(A[u]=null,A[r]=null,A[i]=null,H(O)),A[o]=O;return}var D=A[r];D!==null&&(A[u]=null,A[r]=null,A[i]=null,D(p(void 0,!0))),A[a]=!0}),k.on("readable",y.bind(null,A)),A};return vI=I,vI}var yI,sM;function qoe(){return sM||(sM=1,yI=function(){throw new Error("Readable.from is not available in the browser")}),yI}var wI,aM;function Sj(){if(aM)return wI;aM=1,wI=V;var t;V.ReadableState=X,wR().EventEmitter;var e=function(Z,Ce){return Z.listeners(Ce).length},n=dj(),r=e1().Buffer,i=Oa.Uint8Array||function(){};function o(Q){return r.from(Q)}function a(Q){return r.isBuffer(Q)||Q instanceof i}var u=wj(),c;u&&u.debuglog?c=u.debuglog("stream"):c=function(){};var d=Voe(),p=_j(),v=bj(),y=v.getHighWaterMark,w=Sm().codes,b=w.ERR_INVALID_ARG_TYPE,E=w.ERR_STREAM_PUSH_AFTER_EOF,I=w.ERR_METHOD_NOT_IMPLEMENTED,S=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,k,C,A;xc()(V,n);var O=p.errorOrDestroy,H=["error","close","destroy","pause","resume"];function D(Q,Z,Ce){if(typeof Q.prependListener=="function")return Q.prependListener(Z,Ce);!Q._events||!Q._events[Z]?Q.on(Z,Ce):Array.isArray(Q._events[Z])?Q._events[Z].unshift(Ce):Q._events[Z]=[Ce,Q._events[Z]]}function X(Q,Z,Ce){t=t||Yp(),Q=Q||{},typeof Ce!="boolean"&&(Ce=Z instanceof t),this.objectMode=!!Q.objectMode,Ce&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=y(this,Q,"readableHighWaterMark",Ce),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(k||(k=vx().StringDecoder),this.decoder=new k(Q.encoding),this.encoding=Q.encoding)}function V(Q){if(t=t||Yp(),!(this instanceof V))return new V(Q);var Z=this instanceof t;this._readableState=new X(Q,this,Z),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),n.call(this)}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),V.prototype.destroy=p.destroy,V.prototype._undestroy=p.undestroy,V.prototype._destroy=function(Q,Z){Z(Q)},V.prototype.push=function(Q,Z){var Ce=this._readableState,F;return Ce.objectMode?F=!0:typeof Q=="string"&&(Z=Z||Ce.defaultEncoding,Z!==Ce.encoding&&(Q=r.from(Q,Z),Z=""),F=!0),oe(this,Q,Z,!1,F)},V.prototype.unshift=function(Q){return oe(this,Q,null,!0,!1)};function oe(Q,Z,Ce,F,Te){c("readableAddChunk",Z);var z=Q._readableState;if(Z===null)z.reading=!1,Ee(Q,z);else{var x;if(Te||(x=$(z,Z)),x)O(Q,x);else if(z.objectMode||Z&&Z.length>0)if(typeof Z!="string"&&!z.objectMode&&Object.getPrototypeOf(Z)!==r.prototype&&(Z=o(Z)),F)z.endEmitted?O(Q,new S):Ie(Q,z,Z,!0);else if(z.ended)O(Q,new E);else{if(z.destroyed)return!1;z.reading=!1,z.decoder&&!Ce?(Z=z.decoder.write(Z),z.objectMode||Z.length!==0?Ie(Q,z,Z,!1):me(Q,z)):Ie(Q,z,Z,!1)}else F||(z.reading=!1,me(Q,z))}return!z.ended&&(z.length<z.highWaterMark||z.length===0)}function Ie(Q,Z,Ce,F){Z.flowing&&Z.length===0&&!Z.sync?(Z.awaitDrain=0,Q.emit("data",Ce)):(Z.length+=Z.objectMode?1:Ce.length,F?Z.buffer.unshift(Ce):Z.buffer.push(Ce),Z.needReadable&&re(Q)),me(Q,Z)}function $(Q,Z){var Ce;return!a(Z)&&typeof Z!="string"&&Z!==void 0&&!Q.objectMode&&(Ce=new b("chunk",["string","Buffer","Uint8Array"],Z)),Ce}V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(Q){k||(k=vx().StringDecoder);var Z=new k(Q);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ce=this._readableState.buffer.head,F="";Ce!==null;)F+=Z.write(Ce.data),Ce=Ce.next;return this._readableState.buffer.clear(),F!==""&&this._readableState.buffer.push(F),this._readableState.length=F.length,this};var te=1073741824;function j(Q){return Q>=te?Q=te:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function he(Q,Z){return Q<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:Q!==Q?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(Q>Z.highWaterMark&&(Z.highWaterMark=j(Q)),Q<=Z.length?Q:Z.ended?Z.length:(Z.needReadable=!0,0))}V.prototype.read=function(Q){c("read",Q),Q=parseInt(Q,10);var Z=this._readableState,Ce=Q;if(Q!==0&&(Z.emittedReadable=!1),Q===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return c("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?M(this):re(this),null;if(Q=he(Q,Z),Q===0&&Z.ended)return Z.length===0&&M(this),null;var F=Z.needReadable;c("need readable",F),(Z.length===0||Z.length-Q<Z.highWaterMark)&&(F=!0,c("length less than watermark",F)),Z.ended||Z.reading?(F=!1,c("reading or ended",F)):F&&(c("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(Q=he(Ce,Z)));var Te;return Q>0?Te=B(Q,Z):Te=null,Te===null?(Z.needReadable=Z.length<=Z.highWaterMark,Q=0):(Z.length-=Q,Z.awaitDrain=0),Z.length===0&&(Z.ended||(Z.needReadable=!0),Ce!==Q&&Z.ended&&M(this)),Te!==null&&this.emit("data",Te),Te};function Ee(Q,Z){if(c("onEofChunk"),!Z.ended){if(Z.decoder){var Ce=Z.decoder.end();Ce&&Ce.length&&(Z.buffer.push(Ce),Z.length+=Z.objectMode?1:Ce.length)}Z.ended=!0,Z.sync?re(Q):(Z.needReadable=!1,Z.emittedReadable||(Z.emittedReadable=!0,pe(Q)))}}function re(Q){var Z=Q._readableState;c("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(c("emitReadable",Z.flowing),Z.emittedReadable=!0,kt.nextTick(pe,Q))}function pe(Q){var Z=Q._readableState;c("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&(Z.length||Z.ended)&&(Q.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,le(Q)}function me(Q,Z){Z.readingMore||(Z.readingMore=!0,kt.nextTick(Se,Q,Z))}function Se(Q,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0);){var Ce=Z.length;if(c("maybeReadMore read 0"),Q.read(0),Ce===Z.length)break}Z.readingMore=!1}V.prototype._read=function(Q){O(this,new I("_read()"))},V.prototype.pipe=function(Q,Z){var Ce=this,F=this._readableState;switch(F.pipesCount){case 0:F.pipes=Q;break;case 1:F.pipes=[F.pipes,Q];break;default:F.pipes.push(Q);break}F.pipesCount+=1,c("pipe count=%d opts=%j",F.pipesCount,Z);var Te=(!Z||Z.end!==!1)&&Q!==kt.stdout&&Q!==kt.stderr,z=Te?R:$e;F.endEmitted?kt.nextTick(z):Ce.once("end",z),Q.on("unpipe",x);function x(et,ct){c("onunpipe"),et===Ce&&ct&&ct.hasUnpiped===!1&&(ct.hasUnpiped=!0,ye())}function R(){c("onend"),Q.end()}var U=G(Ce);Q.on("drain",U);var ne=!1;function ye(){c("cleanup"),Q.removeListener("close",Pe),Q.removeListener("finish",Me),Q.removeListener("drain",U),Q.removeListener("error",De),Q.removeListener("unpipe",x),Ce.removeListener("end",R),Ce.removeListener("end",$e),Ce.removeListener("data",ue),ne=!0,F.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&U()}Ce.on("data",ue);function ue(et){c("ondata");var ct=Q.write(et);c("dest.write",ct),ct===!1&&((F.pipesCount===1&&F.pipes===Q||F.pipesCount>1&&ie(F.pipes,Q)!==-1)&&!ne&&(c("false write response, pause",F.awaitDrain),F.awaitDrain++),Ce.pause())}function De(et){c("onerror",et),$e(),Q.removeListener("error",De),e(Q,"error")===0&&O(Q,et)}D(Q,"error",De);function Pe(){Q.removeListener("finish",Me),$e()}Q.once("close",Pe);function Me(){c("onfinish"),Q.removeListener("close",Pe),$e()}Q.once("finish",Me);function $e(){c("unpipe"),Ce.unpipe(Q)}return Q.emit("pipe",Ce),F.flowing||(c("pipe resume"),Ce.resume()),Q};function G(Q){return function(){var Ce=Q._readableState;c("pipeOnDrain",Ce.awaitDrain),Ce.awaitDrain&&Ce.awaitDrain--,Ce.awaitDrain===0&&e(Q,"data")&&(Ce.flowing=!0,le(Q))}}V.prototype.unpipe=function(Q){var Z=this._readableState,Ce={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return Q&&Q!==Z.pipes?this:(Q||(Q=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,Q&&Q.emit("unpipe",this,Ce),this);if(!Q){var F=Z.pipes,Te=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var z=0;z<Te;z++)F[z].emit("unpipe",this,{hasUnpiped:!1});return this}var x=ie(Z.pipes,Q);return x===-1?this:(Z.pipes.splice(x,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),Q.emit("unpipe",this,Ce),this)},V.prototype.on=function(Q,Z){var Ce=n.prototype.on.call(this,Q,Z),F=this._readableState;return Q==="data"?(F.readableListening=this.listenerCount("readable")>0,F.flowing!==!1&&this.resume()):Q==="readable"&&!F.endEmitted&&!F.readableListening&&(F.readableListening=F.needReadable=!0,F.flowing=!1,F.emittedReadable=!1,c("on readable",F.length,F.reading),F.length?re(this):F.reading||kt.nextTick(ae,this)),Ce},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(Q,Z){var Ce=n.prototype.removeListener.call(this,Q,Z);return Q==="readable"&&kt.nextTick(W,this),Ce},V.prototype.removeAllListeners=function(Q){var Z=n.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&kt.nextTick(W,this),Z};function W(Q){var Z=Q._readableState;Z.readableListening=Q.listenerCount("readable")>0,Z.resumeScheduled&&!Z.paused?Z.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function ae(Q){c("readable nexttick read 0"),Q.read(0)}V.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(c("resume"),Q.flowing=!Q.readableListening,de(this,Q)),Q.paused=!1,this};function de(Q,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,kt.nextTick(_e,Q,Z))}function _e(Q,Z){c("resume",Z.reading),Z.reading||Q.read(0),Z.resumeScheduled=!1,Q.emit("resume"),le(Q),Z.flowing&&!Z.reading&&Q.read(0)}V.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function le(Q){var Z=Q._readableState;for(c("flow",Z.flowing);Z.flowing&&Q.read()!==null;);}V.prototype.wrap=function(Q){var Z=this,Ce=this._readableState,F=!1;Q.on("end",function(){if(c("wrapped end"),Ce.decoder&&!Ce.ended){var x=Ce.decoder.end();x&&x.length&&Z.push(x)}Z.push(null)}),Q.on("data",function(x){if(c("wrapped data"),Ce.decoder&&(x=Ce.decoder.write(x)),!(Ce.objectMode&&x==null)&&!(!Ce.objectMode&&(!x||!x.length))){var R=Z.push(x);R||(F=!0,Q.pause())}});for(var Te in Q)this[Te]===void 0&&typeof Q[Te]=="function"&&(this[Te]=function(R){return function(){return Q[R].apply(Q,arguments)}}(Te));for(var z=0;z<H.length;z++)Q.on(H[z],this.emit.bind(this,H[z]));return this._read=function(x){c("wrapped _read",x),F&&(F=!1,Q.resume())},this},typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=Woe()),C(this)}),Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Z){this._readableState&&(this._readableState.flowing=Z)}}),V._fromList=B,Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function B(Q,Z){if(Z.length===0)return null;var Ce;return Z.objectMode?Ce=Z.buffer.shift():!Q||Q>=Z.length?(Z.decoder?Ce=Z.buffer.join(""):Z.buffer.length===1?Ce=Z.buffer.first():Ce=Z.buffer.concat(Z.length),Z.buffer.clear()):Ce=Z.buffer.consume(Q,Z.decoder),Ce}function M(Q){var Z=Q._readableState;c("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,kt.nextTick(se,Z,Q))}function se(Q,Z){if(c("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,Z.readable=!1,Z.emit("end"),Q.autoDestroy)){var Ce=Z._writableState;(!Ce||Ce.autoDestroy&&Ce.finished)&&Z.destroy()}}typeof Symbol=="function"&&(V.from=function(Q,Z){return A===void 0&&(A=qoe()),A(V,Q,Z)});function ie(Q,Z){for(var Ce=0,F=Q.length;Ce<F;Ce++)if(Q[Ce]===Z)return Ce;return-1}return wI}var _I,uM;function Tj(){if(uM)return _I;uM=1,_I=u;var t=Sm().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,o=Yp();xc()(u,o);function a(p,v){var y=this._transformState;y.transforming=!1;var w=y.writecb;if(w===null)return this.emit("error",new n);y.writechunk=null,y.writecb=null,v!=null&&this.push(v),w(p);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function u(p){if(!(this instanceof u))return new u(p);o.call(this,p),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",c)}function c(){var p=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(v,y){d(p,v,y)}):d(this,null,null)}u.prototype.push=function(p,v){return this._transformState.needTransform=!1,o.prototype.push.call(this,p,v)},u.prototype._transform=function(p,v,y){y(new e("_transform()"))},u.prototype._write=function(p,v,y){var w=this._transformState;if(w.writecb=y,w.writechunk=p,w.writeencoding=v,!w.transforming){var b=this._readableState;(w.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},u.prototype._read=function(p){var v=this._transformState;v.writechunk!==null&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},u.prototype._destroy=function(p,v){o.prototype._destroy.call(this,p,function(y){v(y)})};function d(p,v,y){if(v)return p.emit("error",v);if(y!=null&&p.push(y),p._writableState.length)throw new i;if(p._transformState.transforming)throw new r;return p.push(null)}return _I}var bI,lM;function $oe(){if(lM)return bI;lM=1,bI=e;var t=Tj();xc()(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,r,i){i(null,n)},bI}var EI,cM;function Goe(){if(cM)return EI;cM=1;var t;function e(y){var w=!1;return function(){w||(w=!0,y.apply(void 0,arguments))}}var n=Sm().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function o(y){if(y)throw y}function a(y){return y.setHeader&&typeof y.abort=="function"}function u(y,w,b,E){E=e(E);var I=!1;y.on("close",function(){I=!0}),t===void 0&&(t=TR()),t(y,{readable:w,writable:b},function(k){if(k)return E(k);I=!0,E()});var S=!1;return function(k){if(!I&&!S){if(S=!0,a(y))return y.abort();if(typeof y.destroy=="function")return y.destroy();E(k||new i("pipe"))}}}function c(y){y()}function d(y,w){return y.pipe(w)}function p(y){return!y.length||typeof y[y.length-1]!="function"?o:y.pop()}function v(){for(var y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];var E=p(w);if(Array.isArray(w[0])&&(w=w[0]),w.length<2)throw new r("streams");var I,S=w.map(function(k,C){var A=C<w.length-1,O=C>0;return u(k,A,O,function(H){I||(I=H),H&&S.forEach(c),!A&&(S.forEach(c),E(I))})});return w.reduce(d)}return EI=v,EI}var SI,fM;function IR(){if(fM)return SI;fM=1,SI=n;var t=wR().EventEmitter,e=xc();e(n,t),n.Readable=Sj(),n.Writable=Ej(),n.Duplex=Yp(),n.Transform=Tj(),n.PassThrough=$oe(),n.finished=TR(),n.pipeline=Goe(),n.Stream=n;function n(){t.call(this)}return n.prototype.pipe=function(r,i){var o=this;function a(w){r.writable&&r.write(w)===!1&&o.pause&&o.pause()}o.on("data",a);function u(){o.readable&&o.resume&&o.resume()}r.on("drain",u),!r._isStdio&&(!i||i.end!==!1)&&(o.on("end",d),o.on("close",p));var c=!1;function d(){c||(c=!0,r.end())}function p(){c||(c=!0,typeof r.destroy=="function"&&r.destroy())}function v(w){if(y(),t.listenerCount(this,"error")===0)throw w}o.on("error",v),r.on("error",v);function y(){o.removeListener("data",a),r.removeListener("drain",u),o.removeListener("end",d),o.removeListener("close",p),o.removeListener("error",v),r.removeListener("error",v),o.removeListener("end",y),o.removeListener("close",y),r.removeListener("close",y)}return o.on("end",y),o.on("close",y),r.on("close",y),r.emit("pipe",o),r},SI}var hM;function Koe(){return hM||(hM=1,function(t){(function(e){e.parser=function(B,M){return new r(B,M)},e.SAXParser=r,e.SAXStream=p,e.createStream=d,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(B,M){if(!(this instanceof r))return new r(B,M);var se=this;o(se),se.q=se.c="",se.bufferCheckPosition=e.MAX_BUFFER_LENGTH,se.opt=M||{},se.opt.lowercase=se.opt.lowercase||se.opt.lowercasetags,se.looseCase=se.opt.lowercase?"toLowerCase":"toUpperCase",se.tags=[],se.closed=se.closedRoot=se.sawRoot=!1,se.tag=se.error=null,se.strict=!!B,se.noscript=!!(B||se.opt.noscript),se.state=V.BEGIN,se.strictEntities=se.opt.strictEntities,se.ENTITIES=se.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),se.attribList=[],se.opt.xmlns&&(se.ns=Object.create(E)),se.trackPosition=se.opt.position!==!1,se.trackPosition&&(se.position=se.line=se.column=0),Ie(se,"onready")}Object.create||(Object.create=function(B){function M(){}M.prototype=B;var se=new M;return se}),Object.keys||(Object.keys=function(B){var M=[];for(var se in B)B.hasOwnProperty(se)&&M.push(se);return M});function i(B){for(var M=Math.max(e.MAX_BUFFER_LENGTH,10),se=0,ie=0,Q=n.length;ie<Q;ie++){var Z=B[n[ie]].length;if(Z>M)switch(n[ie]){case"textNode":te(B);break;case"cdata":$(B,"oncdata",B.cdata),B.cdata="";break;case"script":$(B,"onscript",B.script),B.script="";break;default:he(B,"Max buffer length exceeded: "+n[ie])}se=Math.max(se,Z)}var Ce=e.MAX_BUFFER_LENGTH-se;B.bufferCheckPosition=Ce+B.position}function o(B){for(var M=0,se=n.length;M<se;M++)B[n[M]]=""}function a(B){te(B),B.cdata!==""&&($(B,"oncdata",B.cdata),B.cdata=""),B.script!==""&&($(B,"onscript",B.script),B.script="")}r.prototype={end:function(){Ee(this)},write:le,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var u;try{u=IR().Stream}catch{u=function(){}}var c=e.EVENTS.filter(function(B){return B!=="error"&&B!=="end"});function d(B,M){return new p(B,M)}function p(B,M){if(!(this instanceof p))return new p(B,M);u.apply(this),this._parser=new r(B,M),this.writable=!0,this.readable=!0;var se=this;this._parser.onend=function(){se.emit("end")},this._parser.onerror=function(ie){se.emit("error",ie),se._parser.error=null},this._decoder=null,c.forEach(function(ie){Object.defineProperty(se,"on"+ie,{get:function(){return se._parser["on"+ie]},set:function(Q){if(!Q)return se.removeAllListeners(ie),se._parser["on"+ie]=Q,Q;se.on(ie,Q)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(u.prototype,{constructor:{value:p}}),p.prototype.write=function(B){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(B)){if(!this._decoder){var M=vx().StringDecoder;this._decoder=new M("utf8")}B=this._decoder.write(B)}return this._parser.write(B.toString()),this.emit("data",B),!0},p.prototype.end=function(B){return B&&B.length&&this.write(B),this._parser.end(),!0},p.prototype.on=function(B,M){var se=this;return!se._parser["on"+B]&&c.indexOf(B)!==-1&&(se._parser["on"+B]=function(){var ie=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ie.splice(0,0,B),se.emit.apply(se,ie)}),u.prototype.on.call(se,B,M)};var v="[CDATA[",y="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",E={xml:w,xmlns:b},I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,k=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function A(B){return B===" "||B===`
`||B==="\r"||B==="	"}function O(B){return B==='"'||B==="'"}function H(B){return B===">"||A(B)}function D(B,M){return B.test(M)}function X(B,M){return!D(B,M)}var V=0;e.STATE={BEGIN:V++,BEGIN_WHITESPACE:V++,TEXT:V++,TEXT_ENTITY:V++,OPEN_WAKA:V++,SGML_DECL:V++,SGML_DECL_QUOTED:V++,DOCTYPE:V++,DOCTYPE_QUOTED:V++,DOCTYPE_DTD:V++,DOCTYPE_DTD_QUOTED:V++,COMMENT_STARTING:V++,COMMENT:V++,COMMENT_ENDING:V++,COMMENT_ENDED:V++,CDATA:V++,CDATA_ENDING:V++,CDATA_ENDING_2:V++,PROC_INST:V++,PROC_INST_BODY:V++,PROC_INST_ENDING:V++,OPEN_TAG:V++,OPEN_TAG_SLASH:V++,ATTRIB:V++,ATTRIB_NAME:V++,ATTRIB_NAME_SAW_WHITE:V++,ATTRIB_VALUE:V++,ATTRIB_VALUE_QUOTED:V++,ATTRIB_VALUE_CLOSED:V++,ATTRIB_VALUE_UNQUOTED:V++,ATTRIB_VALUE_ENTITY_Q:V++,ATTRIB_VALUE_ENTITY_U:V++,CLOSE_TAG:V++,CLOSE_TAG_SAW_WHITE:V++,SCRIPT:V++,SCRIPT_ENDING:V++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(B){var M=e.ENTITIES[B],se=typeof M=="number"?String.fromCharCode(M):M;e.ENTITIES[B]=se});for(var oe in e.STATE)e.STATE[e.STATE[oe]]=oe;V=e.STATE;function Ie(B,M,se){B[M]&&B[M](se)}function $(B,M,se){B.textNode&&te(B),Ie(B,M,se)}function te(B){B.textNode=j(B.opt,B.textNode),B.textNode&&Ie(B,"ontext",B.textNode),B.textNode=""}function j(B,M){return B.trim&&(M=M.trim()),B.normalize&&(M=M.replace(/\s+/g," ")),M}function he(B,M){return te(B),B.trackPosition&&(M+=`
Line: `+B.line+`
Column: `+B.column+`
Char: `+B.c),M=new Error(M),B.error=M,Ie(B,"onerror",M),B}function Ee(B){return B.sawRoot&&!B.closedRoot&&re(B,"Unclosed root tag"),B.state!==V.BEGIN&&B.state!==V.BEGIN_WHITESPACE&&B.state!==V.TEXT&&he(B,"Unexpected end"),te(B),B.c="",B.closed=!0,Ie(B,"onend"),r.call(B,B.strict,B.opt),B}function re(B,M){if(typeof B!="object"||!(B instanceof r))throw new Error("bad call to strictFail");B.strict&&he(B,M)}function pe(B){B.strict||(B.tagName=B.tagName[B.looseCase]());var M=B.tags[B.tags.length-1]||B,se=B.tag={name:B.tagName,attributes:{}};B.opt.xmlns&&(se.ns=M.ns),B.attribList.length=0,$(B,"onopentagstart",se)}function me(B,M){var se=B.indexOf(":"),ie=se<0?["",B]:B.split(":"),Q=ie[0],Z=ie[1];return M&&B==="xmlns"&&(Q="xmlns",Z=""),{prefix:Q,local:Z}}function Se(B){if(B.strict||(B.attribName=B.attribName[B.looseCase]()),B.attribList.indexOf(B.attribName)!==-1||B.tag.attributes.hasOwnProperty(B.attribName)){B.attribName=B.attribValue="";return}if(B.opt.xmlns){var M=me(B.attribName,!0),se=M.prefix,ie=M.local;if(se==="xmlns")if(ie==="xml"&&B.attribValue!==w)re(B,"xml: prefix must be bound to "+w+`
Actual: `+B.attribValue);else if(ie==="xmlns"&&B.attribValue!==b)re(B,"xmlns: prefix must be bound to "+b+`
Actual: `+B.attribValue);else{var Q=B.tag,Z=B.tags[B.tags.length-1]||B;Q.ns===Z.ns&&(Q.ns=Object.create(Z.ns)),Q.ns[ie]=B.attribValue}B.attribList.push([B.attribName,B.attribValue])}else B.tag.attributes[B.attribName]=B.attribValue,$(B,"onattribute",{name:B.attribName,value:B.attribValue});B.attribName=B.attribValue=""}function G(B,M){if(B.opt.xmlns){var se=B.tag,ie=me(B.tagName);se.prefix=ie.prefix,se.local=ie.local,se.uri=se.ns[ie.prefix]||"",se.prefix&&!se.uri&&(re(B,"Unbound namespace prefix: "+JSON.stringify(B.tagName)),se.uri=ie.prefix);var Q=B.tags[B.tags.length-1]||B;se.ns&&Q.ns!==se.ns&&Object.keys(se.ns).forEach(function(ue){$(B,"onopennamespace",{prefix:ue,uri:se.ns[ue]})});for(var Z=0,Ce=B.attribList.length;Z<Ce;Z++){var F=B.attribList[Z],Te=F[0],z=F[1],x=me(Te,!0),R=x.prefix,U=x.local,ne=R===""?"":se.ns[R]||"",ye={name:Te,value:z,prefix:R,local:U,uri:ne};R&&R!=="xmlns"&&!ne&&(re(B,"Unbound namespace prefix: "+JSON.stringify(R)),ye.uri=R),B.tag.attributes[Te]=ye,$(B,"onattribute",ye)}B.attribList.length=0}B.tag.isSelfClosing=!!M,B.sawRoot=!0,B.tags.push(B.tag),$(B,"onopentag",B.tag),M||(!B.noscript&&B.tagName.toLowerCase()==="script"?B.state=V.SCRIPT:B.state=V.TEXT,B.tag=null,B.tagName=""),B.attribName=B.attribValue="",B.attribList.length=0}function W(B){if(!B.tagName){re(B,"Weird empty close tag."),B.textNode+="</>",B.state=V.TEXT;return}if(B.script){if(B.tagName!=="script"){B.script+="</"+B.tagName+">",B.tagName="",B.state=V.SCRIPT;return}$(B,"onscript",B.script),B.script=""}var M=B.tags.length,se=B.tagName;B.strict||(se=se[B.looseCase]());for(var ie=se;M--;){var Q=B.tags[M];if(Q.name!==ie)re(B,"Unexpected close tag");else break}if(M<0){re(B,"Unmatched closing tag: "+B.tagName),B.textNode+="</"+B.tagName+">",B.state=V.TEXT;return}B.tagName=se;for(var Z=B.tags.length;Z-- >M;){var Ce=B.tag=B.tags.pop();B.tagName=B.tag.name,$(B,"onclosetag",B.tagName);var F={};for(var Te in Ce.ns)F[Te]=Ce.ns[Te];var z=B.tags[B.tags.length-1]||B;B.opt.xmlns&&Ce.ns!==z.ns&&Object.keys(Ce.ns).forEach(function(x){var R=Ce.ns[x];$(B,"onclosenamespace",{prefix:x,uri:R})})}M===0&&(B.closedRoot=!0),B.tagName=B.attribValue=B.attribName="",B.attribList.length=0,B.state=V.TEXT}function ae(B){var M=B.entity,se=M.toLowerCase(),ie,Q="";return B.ENTITIES[M]?B.ENTITIES[M]:B.ENTITIES[se]?B.ENTITIES[se]:(M=se,M.charAt(0)==="#"&&(M.charAt(1)==="x"?(M=M.slice(2),ie=parseInt(M,16),Q=ie.toString(16)):(M=M.slice(1),ie=parseInt(M,10),Q=ie.toString(10))),M=M.replace(/^0+/,""),isNaN(ie)||Q.toLowerCase()!==M?(re(B,"Invalid character entity"),"&"+B.entity+";"):String.fromCodePoint(ie))}function de(B,M){M==="<"?(B.state=V.OPEN_WAKA,B.startTagPosition=B.position):A(M)||(re(B,"Non-whitespace before first tag."),B.textNode=M,B.state=V.TEXT)}function _e(B,M){var se="";return M<B.length&&(se=B.charAt(M)),se}function le(B){var M=this;if(this.error)throw this.error;if(M.closed)return he(M,"Cannot write after close. Assign an onready handler.");if(B===null)return Ee(M);typeof B=="object"&&(B=B.toString());for(var se=0,ie="";ie=_e(B,se++),M.c=ie,!!ie;)switch(M.trackPosition&&(M.position++,ie===`
`?(M.line++,M.column=0):M.column++),M.state){case V.BEGIN:if(M.state=V.BEGIN_WHITESPACE,ie==="\uFEFF")continue;de(M,ie);continue;case V.BEGIN_WHITESPACE:de(M,ie);continue;case V.TEXT:if(M.sawRoot&&!M.closedRoot){for(var Q=se-1;ie&&ie!=="<"&&ie!=="&";)ie=_e(B,se++),ie&&M.trackPosition&&(M.position++,ie===`
`?(M.line++,M.column=0):M.column++);M.textNode+=B.substring(Q,se-1)}ie==="<"&&!(M.sawRoot&&M.closedRoot&&!M.strict)?(M.state=V.OPEN_WAKA,M.startTagPosition=M.position):(!A(ie)&&(!M.sawRoot||M.closedRoot)&&re(M,"Text data outside of root node."),ie==="&"?M.state=V.TEXT_ENTITY:M.textNode+=ie);continue;case V.SCRIPT:ie==="<"?M.state=V.SCRIPT_ENDING:M.script+=ie;continue;case V.SCRIPT_ENDING:ie==="/"?M.state=V.CLOSE_TAG:(M.script+="<"+ie,M.state=V.SCRIPT);continue;case V.OPEN_WAKA:if(ie==="!")M.state=V.SGML_DECL,M.sgmlDecl="";else if(!A(ie))if(D(I,ie))M.state=V.OPEN_TAG,M.tagName=ie;else if(ie==="/")M.state=V.CLOSE_TAG,M.tagName="";else if(ie==="?")M.state=V.PROC_INST,M.procInstName=M.procInstBody="";else{if(re(M,"Unencoded <"),M.startTagPosition+1<M.position){var Z=M.position-M.startTagPosition;ie=new Array(Z).join(" ")+ie}M.textNode+="<"+ie,M.state=V.TEXT}continue;case V.SGML_DECL:(M.sgmlDecl+ie).toUpperCase()===v?($(M,"onopencdata"),M.state=V.CDATA,M.sgmlDecl="",M.cdata=""):M.sgmlDecl+ie==="--"?(M.state=V.COMMENT,M.comment="",M.sgmlDecl=""):(M.sgmlDecl+ie).toUpperCase()===y?(M.state=V.DOCTYPE,(M.doctype||M.sawRoot)&&re(M,"Inappropriately located doctype declaration"),M.doctype="",M.sgmlDecl=""):ie===">"?($(M,"onsgmldeclaration",M.sgmlDecl),M.sgmlDecl="",M.state=V.TEXT):(O(ie)&&(M.state=V.SGML_DECL_QUOTED),M.sgmlDecl+=ie);continue;case V.SGML_DECL_QUOTED:ie===M.q&&(M.state=V.SGML_DECL,M.q=""),M.sgmlDecl+=ie;continue;case V.DOCTYPE:ie===">"?(M.state=V.TEXT,$(M,"ondoctype",M.doctype),M.doctype=!0):(M.doctype+=ie,ie==="["?M.state=V.DOCTYPE_DTD:O(ie)&&(M.state=V.DOCTYPE_QUOTED,M.q=ie));continue;case V.DOCTYPE_QUOTED:M.doctype+=ie,ie===M.q&&(M.q="",M.state=V.DOCTYPE);continue;case V.DOCTYPE_DTD:M.doctype+=ie,ie==="]"?M.state=V.DOCTYPE:O(ie)&&(M.state=V.DOCTYPE_DTD_QUOTED,M.q=ie);continue;case V.DOCTYPE_DTD_QUOTED:M.doctype+=ie,ie===M.q&&(M.state=V.DOCTYPE_DTD,M.q="");continue;case V.COMMENT:ie==="-"?M.state=V.COMMENT_ENDING:M.comment+=ie;continue;case V.COMMENT_ENDING:ie==="-"?(M.state=V.COMMENT_ENDED,M.comment=j(M.opt,M.comment),M.comment&&$(M,"oncomment",M.comment),M.comment=""):(M.comment+="-"+ie,M.state=V.COMMENT);continue;case V.COMMENT_ENDED:ie!==">"?(re(M,"Malformed comment"),M.comment+="--"+ie,M.state=V.COMMENT):M.state=V.TEXT;continue;case V.CDATA:ie==="]"?M.state=V.CDATA_ENDING:M.cdata+=ie;continue;case V.CDATA_ENDING:ie==="]"?M.state=V.CDATA_ENDING_2:(M.cdata+="]"+ie,M.state=V.CDATA);continue;case V.CDATA_ENDING_2:ie===">"?(M.cdata&&$(M,"oncdata",M.cdata),$(M,"onclosecdata"),M.cdata="",M.state=V.TEXT):ie==="]"?M.cdata+="]":(M.cdata+="]]"+ie,M.state=V.CDATA);continue;case V.PROC_INST:ie==="?"?M.state=V.PROC_INST_ENDING:A(ie)?M.state=V.PROC_INST_BODY:M.procInstName+=ie;continue;case V.PROC_INST_BODY:if(!M.procInstBody&&A(ie))continue;ie==="?"?M.state=V.PROC_INST_ENDING:M.procInstBody+=ie;continue;case V.PROC_INST_ENDING:ie===">"?($(M,"onprocessinginstruction",{name:M.procInstName,body:M.procInstBody}),M.procInstName=M.procInstBody="",M.state=V.TEXT):(M.procInstBody+="?"+ie,M.state=V.PROC_INST_BODY);continue;case V.OPEN_TAG:D(S,ie)?M.tagName+=ie:(pe(M),ie===">"?G(M):ie==="/"?M.state=V.OPEN_TAG_SLASH:(A(ie)||re(M,"Invalid character in tag name"),M.state=V.ATTRIB));continue;case V.OPEN_TAG_SLASH:ie===">"?(G(M,!0),W(M)):(re(M,"Forward-slash in opening tag not followed by >"),M.state=V.ATTRIB);continue;case V.ATTRIB:if(A(ie))continue;ie===">"?G(M):ie==="/"?M.state=V.OPEN_TAG_SLASH:D(I,ie)?(M.attribName=ie,M.attribValue="",M.state=V.ATTRIB_NAME):re(M,"Invalid attribute name");continue;case V.ATTRIB_NAME:ie==="="?M.state=V.ATTRIB_VALUE:ie===">"?(re(M,"Attribute without value"),M.attribValue=M.attribName,Se(M),G(M)):A(ie)?M.state=V.ATTRIB_NAME_SAW_WHITE:D(S,ie)?M.attribName+=ie:re(M,"Invalid attribute name");continue;case V.ATTRIB_NAME_SAW_WHITE:if(ie==="=")M.state=V.ATTRIB_VALUE;else{if(A(ie))continue;re(M,"Attribute without value"),M.tag.attributes[M.attribName]="",M.attribValue="",$(M,"onattribute",{name:M.attribName,value:""}),M.attribName="",ie===">"?G(M):D(I,ie)?(M.attribName=ie,M.state=V.ATTRIB_NAME):(re(M,"Invalid attribute name"),M.state=V.ATTRIB)}continue;case V.ATTRIB_VALUE:if(A(ie))continue;O(ie)?(M.q=ie,M.state=V.ATTRIB_VALUE_QUOTED):(re(M,"Unquoted attribute value"),M.state=V.ATTRIB_VALUE_UNQUOTED,M.attribValue=ie);continue;case V.ATTRIB_VALUE_QUOTED:if(ie!==M.q){ie==="&"?M.state=V.ATTRIB_VALUE_ENTITY_Q:M.attribValue+=ie;continue}Se(M),M.q="",M.state=V.ATTRIB_VALUE_CLOSED;continue;case V.ATTRIB_VALUE_CLOSED:A(ie)?M.state=V.ATTRIB:ie===">"?G(M):ie==="/"?M.state=V.OPEN_TAG_SLASH:D(I,ie)?(re(M,"No whitespace between attributes"),M.attribName=ie,M.attribValue="",M.state=V.ATTRIB_NAME):re(M,"Invalid attribute name");continue;case V.ATTRIB_VALUE_UNQUOTED:if(!H(ie)){ie==="&"?M.state=V.ATTRIB_VALUE_ENTITY_U:M.attribValue+=ie;continue}Se(M),ie===">"?G(M):M.state=V.ATTRIB;continue;case V.CLOSE_TAG:if(M.tagName)ie===">"?W(M):D(S,ie)?M.tagName+=ie:M.script?(M.script+="</"+M.tagName,M.tagName="",M.state=V.SCRIPT):(A(ie)||re(M,"Invalid tagname in closing tag"),M.state=V.CLOSE_TAG_SAW_WHITE);else{if(A(ie))continue;X(I,ie)?M.script?(M.script+="</"+ie,M.state=V.SCRIPT):re(M,"Invalid tagname in closing tag."):M.tagName=ie}continue;case V.CLOSE_TAG_SAW_WHITE:if(A(ie))continue;ie===">"?W(M):re(M,"Invalid characters in closing tag");continue;case V.TEXT_ENTITY:case V.ATTRIB_VALUE_ENTITY_Q:case V.ATTRIB_VALUE_ENTITY_U:var Ce,F;switch(M.state){case V.TEXT_ENTITY:Ce=V.TEXT,F="textNode";break;case V.ATTRIB_VALUE_ENTITY_Q:Ce=V.ATTRIB_VALUE_QUOTED,F="attribValue";break;case V.ATTRIB_VALUE_ENTITY_U:Ce=V.ATTRIB_VALUE_UNQUOTED,F="attribValue";break}ie===";"?(M[F]+=ae(M),M.entity="",M.state=Ce):D(M.entity.length?C:k,ie)?M.entity+=ie:(re(M,"Invalid character in entity name"),M[F]+="&"+M.entity+ie,M.entity="",M.state=Ce);continue;default:throw new Error(M,"Unknown state: "+M.state)}return M.position>=M.bufferCheckPosition&&i(M),M}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var B=String.fromCharCode,M=Math.floor,se=function(){var ie=16384,Q=[],Z,Ce,F=-1,Te=arguments.length;if(!Te)return"";for(var z="";++F<Te;){var x=Number(arguments[F]);if(!isFinite(x)||x<0||x>1114111||M(x)!==x)throw RangeError("Invalid code point: "+x);x<=65535?Q.push(x):(x-=65536,Z=(x>>10)+55296,Ce=x%1024+56320,Q.push(Z,Ce)),(F+1===Te||Q.length>ie)&&(z+=B.apply(null,Q),Q.length=0)}return z};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:se,configurable:!0,writable:!0}):String.fromCodePoint=se}()})(t)}(CT)),CT}var TI,dM;function CR(){return dM||(dM=1,TI={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),TI}var II,pM;function xR(){if(pM)return II;pM=1;var t=CR().isArray;return II={copyOptions:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},ensureFlagExists:function(e,n){(!(e in n)||typeof n[e]!="boolean")&&(n[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,n){(!(e+"Key"in n)||typeof n[e+"Key"]!="string")&&(n[e+"Key"]=n.compact?"_"+e:e)},checkFnExists:function(e,n){return e+"Fn"in n}},II}var CI,mM;function Ij(){if(mM)return CI;mM=1;var t=Koe(),e=xR(),n=CR().isArray,r,i;function o(S){return r=e.copyOptions(S),e.ensureFlagExists("ignoreDeclaration",r),e.ensureFlagExists("ignoreInstruction",r),e.ensureFlagExists("ignoreAttributes",r),e.ensureFlagExists("ignoreText",r),e.ensureFlagExists("ignoreComment",r),e.ensureFlagExists("ignoreCdata",r),e.ensureFlagExists("ignoreDoctype",r),e.ensureFlagExists("compact",r),e.ensureFlagExists("alwaysChildren",r),e.ensureFlagExists("addParent",r),e.ensureFlagExists("trim",r),e.ensureFlagExists("nativeType",r),e.ensureFlagExists("nativeTypeAttributes",r),e.ensureFlagExists("sanitize",r),e.ensureFlagExists("instructionHasAttributes",r),e.ensureFlagExists("captureSpacesBetweenElements",r),e.ensureAlwaysArrayExists(r),e.ensureKeyExists("declaration",r),e.ensureKeyExists("instruction",r),e.ensureKeyExists("attributes",r),e.ensureKeyExists("text",r),e.ensureKeyExists("comment",r),e.ensureKeyExists("cdata",r),e.ensureKeyExists("doctype",r),e.ensureKeyExists("type",r),e.ensureKeyExists("name",r),e.ensureKeyExists("elements",r),e.ensureKeyExists("parent",r),e.checkFnExists("doctype",r),e.checkFnExists("instruction",r),e.checkFnExists("cdata",r),e.checkFnExists("comment",r),e.checkFnExists("text",r),e.checkFnExists("instructionName",r),e.checkFnExists("elementName",r),e.checkFnExists("attributeName",r),e.checkFnExists("attributeValue",r),e.checkFnExists("attributes",r),r}function a(S){var k=Number(S);if(!isNaN(k))return k;var C=S.toLowerCase();return C==="true"?!0:C==="false"?!1:S}function u(S,k){var C;if(r.compact){if(!i[r[S+"Key"]]&&(n(r.alwaysArray)?r.alwaysArray.indexOf(r[S+"Key"])!==-1:r.alwaysArray)&&(i[r[S+"Key"]]=[]),i[r[S+"Key"]]&&!n(i[r[S+"Key"]])&&(i[r[S+"Key"]]=[i[r[S+"Key"]]]),S+"Fn"in r&&typeof k=="string"&&(k=r[S+"Fn"](k,i)),S==="instruction"&&("instructionFn"in r||"instructionNameFn"in r)){for(C in k)if(k.hasOwnProperty(C))if("instructionFn"in r)k[C]=r.instructionFn(k[C],C,i);else{var A=k[C];delete k[C],k[r.instructionNameFn(C,A,i)]=A}}n(i[r[S+"Key"]])?i[r[S+"Key"]].push(k):i[r[S+"Key"]]=k}else{i[r.elementsKey]||(i[r.elementsKey]=[]);var O={};if(O[r.typeKey]=S,S==="instruction"){for(C in k)if(k.hasOwnProperty(C))break;O[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(C,k,i):C,r.instructionHasAttributes?(O[r.attributesKey]=k[C][r.attributesKey],"instructionFn"in r&&(O[r.attributesKey]=r.instructionFn(O[r.attributesKey],C,i))):("instructionFn"in r&&(k[C]=r.instructionFn(k[C],C,i)),O[r.instructionKey]=k[C])}else S+"Fn"in r&&(k=r[S+"Fn"](k,i)),O[r[S+"Key"]]=k;r.addParent&&(O[r.parentKey]=i),i[r.elementsKey].push(O)}}function c(S){if("attributesFn"in r&&S&&(S=r.attributesFn(S,i)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&S){var k;for(k in S)if(S.hasOwnProperty(k)&&(r.trim&&(S[k]=S[k].trim()),r.nativeTypeAttributes&&(S[k]=a(S[k])),"attributeValueFn"in r&&(S[k]=r.attributeValueFn(S[k],k,i)),"attributeNameFn"in r)){var C=S[k];delete S[k],S[r.attributeNameFn(k,S[k],i)]=C}}return S}function d(S){var k={};if(S.body&&(S.name.toLowerCase()==="xml"||r.instructionHasAttributes)){for(var C=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,A;(A=C.exec(S.body))!==null;)k[A[1]]=A[2]||A[3]||A[4];k=c(k)}if(S.name.toLowerCase()==="xml"){if(r.ignoreDeclaration)return;i[r.declarationKey]={},Object.keys(k).length&&(i[r.declarationKey][r.attributesKey]=k),r.addParent&&(i[r.declarationKey][r.parentKey]=i)}else{if(r.ignoreInstruction)return;r.trim&&(S.body=S.body.trim());var O={};r.instructionHasAttributes&&Object.keys(k).length?(O[S.name]={},O[S.name][r.attributesKey]=k):O[S.name]=S.body,u("instruction",O)}}function p(S,k){var C;if(typeof S=="object"&&(k=S.attributes,S=S.name),k=c(k),"elementNameFn"in r&&(S=r.elementNameFn(S,i)),r.compact){if(C={},!r.ignoreAttributes&&k&&Object.keys(k).length){C[r.attributesKey]={};var A;for(A in k)k.hasOwnProperty(A)&&(C[r.attributesKey][A]=k[A])}!(S in i)&&(n(r.alwaysArray)?r.alwaysArray.indexOf(S)!==-1:r.alwaysArray)&&(i[S]=[]),i[S]&&!n(i[S])&&(i[S]=[i[S]]),n(i[S])?i[S].push(C):i[S]=C}else i[r.elementsKey]||(i[r.elementsKey]=[]),C={},C[r.typeKey]="element",C[r.nameKey]=S,!r.ignoreAttributes&&k&&Object.keys(k).length&&(C[r.attributesKey]=k),r.alwaysChildren&&(C[r.elementsKey]=[]),i[r.elementsKey].push(C);C[r.parentKey]=i,i=C}function v(S){r.ignoreText||!S.trim()&&!r.captureSpacesBetweenElements||(r.trim&&(S=S.trim()),r.nativeType&&(S=a(S)),r.sanitize&&(S=S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),u("text",S))}function y(S){r.ignoreComment||(r.trim&&(S=S.trim()),u("comment",S))}function w(S){var k=i[r.parentKey];r.addParent||delete i[r.parentKey],i=k}function b(S){r.ignoreCdata||(r.trim&&(S=S.trim()),u("cdata",S))}function E(S){r.ignoreDoctype||(S=S.replace(/^ /,""),r.trim&&(S=S.trim()),u("doctype",S))}function I(S){S.note=S}return CI=function(S,k){var C=t.parser(!0,{}),A={};if(i=A,r=o(k),C.opt={strictEntities:!0},C.onopentag=p,C.ontext=v,C.oncomment=y,C.onclosetag=w,C.onerror=I,C.oncdata=b,C.ondoctype=E,C.onprocessinginstruction=d,C.write(S).close(),A[r.elementsKey]){var O=A[r.elementsKey];delete A[r.elementsKey],A[r.elementsKey]=O,delete A.text}return A},CI}var xI,gM;function Yoe(){if(gM)return xI;gM=1;var t=xR(),e=Ij();function n(r){var i=t.copyOptions(r);return t.ensureSpacesExists(i),i}return xI=function(r,i){var o,a,u,c;return o=n(i),a=e(r,o),c="compact"in o&&o.compact?"_parent":"parent","addParent"in o&&o.addParent?u=JSON.stringify(a,function(d,p){return d===c?"_":p},o.spaces):u=JSON.stringify(a,null,o.spaces),u.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},xI}var kI,vM;function Cj(){if(vM)return kI;vM=1;var t=xR(),e=CR().isArray,n,r;function i(C){var A=t.copyOptions(C);return t.ensureFlagExists("ignoreDeclaration",A),t.ensureFlagExists("ignoreInstruction",A),t.ensureFlagExists("ignoreAttributes",A),t.ensureFlagExists("ignoreText",A),t.ensureFlagExists("ignoreComment",A),t.ensureFlagExists("ignoreCdata",A),t.ensureFlagExists("ignoreDoctype",A),t.ensureFlagExists("compact",A),t.ensureFlagExists("indentText",A),t.ensureFlagExists("indentCdata",A),t.ensureFlagExists("indentAttributes",A),t.ensureFlagExists("indentInstruction",A),t.ensureFlagExists("fullTagEmptyElement",A),t.ensureFlagExists("noQuotesForNativeAttributes",A),t.ensureSpacesExists(A),typeof A.spaces=="number"&&(A.spaces=Array(A.spaces+1).join(" ")),t.ensureKeyExists("declaration",A),t.ensureKeyExists("instruction",A),t.ensureKeyExists("attributes",A),t.ensureKeyExists("text",A),t.ensureKeyExists("comment",A),t.ensureKeyExists("cdata",A),t.ensureKeyExists("doctype",A),t.ensureKeyExists("type",A),t.ensureKeyExists("name",A),t.ensureKeyExists("elements",A),t.checkFnExists("doctype",A),t.checkFnExists("instruction",A),t.checkFnExists("cdata",A),t.checkFnExists("comment",A),t.checkFnExists("text",A),t.checkFnExists("instructionName",A),t.checkFnExists("elementName",A),t.checkFnExists("attributeName",A),t.checkFnExists("attributeValue",A),t.checkFnExists("attributes",A),t.checkFnExists("fullTagEmptyElement",A),A}function o(C,A,O){return(!O&&C.spaces?`
`:"")+Array(A+1).join(C.spaces)}function a(C,A,O){if(A.ignoreAttributes)return"";"attributesFn"in A&&(C=A.attributesFn(C,r,n));var H,D,X,V,oe=[];for(H in C)C.hasOwnProperty(H)&&C[H]!==null&&C[H]!==void 0&&(V=A.noQuotesForNativeAttributes&&typeof C[H]!="string"?"":'"',D=""+C[H],D=D.replace(/"/g,"&quot;"),X="attributeNameFn"in A?A.attributeNameFn(H,D,r,n):H,oe.push(A.spaces&&A.indentAttributes?o(A,O+1,!1):" "),oe.push(X+"="+V+("attributeValueFn"in A?A.attributeValueFn(D,H,r,n):D)+V));return C&&Object.keys(C).length&&A.spaces&&A.indentAttributes&&oe.push(o(A,O,!1)),oe.join("")}function u(C,A,O){return n=C,r="xml",A.ignoreDeclaration?"":"<?xml"+a(C[A.attributesKey],A,O)+"?>"}function c(C,A,O){if(A.ignoreInstruction)return"";var H;for(H in C)if(C.hasOwnProperty(H))break;var D="instructionNameFn"in A?A.instructionNameFn(H,C[H],r,n):H;if(typeof C[H]=="object")return n=C,r=D,"<?"+D+a(C[H][A.attributesKey],A,O)+"?>";var X=C[H]?C[H]:"";return"instructionFn"in A&&(X=A.instructionFn(X,H,r,n)),"<?"+D+(X?" "+X:"")+"?>"}function d(C,A){return A.ignoreComment?"":"<!--"+("commentFn"in A?A.commentFn(C,r,n):C)+"-->"}function p(C,A){return A.ignoreCdata?"":"<![CDATA["+("cdataFn"in A?A.cdataFn(C,r,n):C.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function v(C,A){return A.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in A?A.doctypeFn(C,r,n):C)+">"}function y(C,A){return A.ignoreText?"":(C=""+C,C=C.replace(/&amp;/g,"&"),C=C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in A?A.textFn(C,r,n):C)}function w(C,A){var O;if(C.elements&&C.elements.length)for(O=0;O<C.elements.length;++O)switch(C.elements[O][A.typeKey]){case"text":if(A.indentText)return!0;break;case"cdata":if(A.indentCdata)return!0;break;case"instruction":if(A.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function b(C,A,O){n=C,r=C.name;var H=[],D="elementNameFn"in A?A.elementNameFn(C.name,C):C.name;H.push("<"+D),C[A.attributesKey]&&H.push(a(C[A.attributesKey],A,O));var X=C[A.elementsKey]&&C[A.elementsKey].length||C[A.attributesKey]&&C[A.attributesKey]["xml:space"]==="preserve";return X||("fullTagEmptyElementFn"in A?X=A.fullTagEmptyElementFn(C.name,C):X=A.fullTagEmptyElement),X?(H.push(">"),C[A.elementsKey]&&C[A.elementsKey].length&&(H.push(E(C[A.elementsKey],A,O+1)),n=C,r=C.name),H.push(A.spaces&&w(C,A)?`
`+Array(O+1).join(A.spaces):""),H.push("</"+D+">")):H.push("/>"),H.join("")}function E(C,A,O,H){return C.reduce(function(D,X){var V=o(A,O,H&&!D);switch(X.type){case"element":return D+V+b(X,A,O);case"comment":return D+V+d(X[A.commentKey],A);case"doctype":return D+V+v(X[A.doctypeKey],A);case"cdata":return D+(A.indentCdata?V:"")+p(X[A.cdataKey],A);case"text":return D+(A.indentText?V:"")+y(X[A.textKey],A);case"instruction":var oe={};return oe[X[A.nameKey]]=X[A.attributesKey]?X:X[A.instructionKey],D+(A.indentInstruction?V:"")+c(oe,A,O)}},"")}function I(C,A,O){var H;for(H in C)if(C.hasOwnProperty(H))switch(H){case A.parentKey:case A.attributesKey:break;case A.textKey:if(A.indentText||O)return!0;break;case A.cdataKey:if(A.indentCdata||O)return!0;break;case A.instructionKey:if(A.indentInstruction||O)return!0;break;case A.doctypeKey:case A.commentKey:return!0;default:return!0}return!1}function S(C,A,O,H,D){n=C,r=A;var X="elementNameFn"in O?O.elementNameFn(A,C):A;if(typeof C>"u"||C===null||C==="")return"fullTagEmptyElementFn"in O&&O.fullTagEmptyElementFn(A,C)||O.fullTagEmptyElement?"<"+X+"></"+X+">":"<"+X+"/>";var V=[];if(A){if(V.push("<"+X),typeof C!="object")return V.push(">"+y(C,O)+"</"+X+">"),V.join("");C[O.attributesKey]&&V.push(a(C[O.attributesKey],O,H));var oe=I(C,O,!0)||C[O.attributesKey]&&C[O.attributesKey]["xml:space"]==="preserve";if(oe||("fullTagEmptyElementFn"in O?oe=O.fullTagEmptyElementFn(A,C):oe=O.fullTagEmptyElement),oe)V.push(">");else return V.push("/>"),V.join("")}return V.push(k(C,O,H+1,!1)),n=C,r=A,A&&V.push((D?o(O,H,!1):"")+"</"+X+">"),V.join("")}function k(C,A,O,H){var D,X,V,oe=[];for(X in C)if(C.hasOwnProperty(X))for(V=e(C[X])?C[X]:[C[X]],D=0;D<V.length;++D){switch(X){case A.declarationKey:oe.push(u(V[D],A,O));break;case A.instructionKey:oe.push((A.indentInstruction?o(A,O,H):"")+c(V[D],A,O));break;case A.attributesKey:case A.parentKey:break;case A.textKey:oe.push((A.indentText?o(A,O,H):"")+y(V[D],A));break;case A.cdataKey:oe.push((A.indentCdata?o(A,O,H):"")+p(V[D],A));break;case A.doctypeKey:oe.push(o(A,O,H)+v(V[D],A));break;case A.commentKey:oe.push(o(A,O,H)+d(V[D],A));break;default:oe.push(o(A,O,H)+S(V[D],X,A,O,I(V[D],A)))}H=H&&!oe.length}return oe.join("")}return kI=function(C,A){A=i(A);var O=[];return n=C,r="_root_",A.compact?O.push(k(C,A,0,!0)):(C[A.declarationKey]&&O.push(u(C[A.declarationKey],A,0)),C[A.elementsKey]&&C[A.elementsKey].length&&O.push(E(C[A.elementsKey],A,0,!O.length))),O.join("")},kI}var AI,yM;function Xoe(){if(yM)return AI;yM=1;var t=Cj();return AI=function(e,n){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return t(r,n)},AI}var RI,wM;function Qoe(){if(wM)return RI;wM=1;var t=Ij(),e=Yoe(),n=Cj(),r=Xoe();return RI={xml2js:t,xml2json:e,js2xml:n,json2xml:r},RI}var xj=Qoe();const kR=t=>{switch(t.type){case void 0:case"element":const e=new Zoe(t.name,t.attributes),n=t.elements||[];for(const r of n){const i=kR(r);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class Joe extends Ze{}class Zoe extends Oe{static fromXmlString(e){const n=xj.xml2js(e,{compact:!1});return kR(n)}constructor(e,n){super(e),n&&this.root.push(new Joe(n))}push(e){this.root.push(e)}}class ese extends Oe{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class kj extends Oe{constructor(e,n){super(e),n&&(this.root=n.root)}}const no=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},n1=t=>{const e=no(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},Aj=(t,e)=>{const n=e*2;if(t.length!==n||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${n} digit hex value`);return t},_M=t=>Aj(t,1),Rj=t=>{const e=t.slice(-2),n=t.substring(0,t.length-2);return`${Number(n)}${e}`},Nj=t=>{const e=Rj(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Xp=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return Aj(e,3)},eh=t=>typeof t=="string"?Rj(t):no(t),tse=t=>typeof t=="string"?Nj(t):n1(t),xs=t=>typeof t=="string"?Nj(t):n1(t),nse=n1,rse=n1,ise=t=>t.toISOString();class Be extends Oe{constructor(e,n=!0){super(e),n!==!0&&this.root.push(new qn({val:n}))}}class NI extends Oe{constructor(e,n){super(e),this.root.push(new qn({val:tse(n)}))}}class _p extends Oe{constructor(e,n){super(e),this.root.push(new qn({val:n}))}}const Iv=(t,e)=>new rr({name:t,attributes:{value:{key:"w:val",value:e}}});class Xv extends Oe{constructor(e,n){super(e),this.root.push(new qn({val:n}))}}class Uf extends Oe{constructor(e,n){super(e),this.root.push(n)}}class rr extends Oe{constructor({name:e,attributes:n,children:r}){super(e),n&&this.root.push(new Em(n)),r&&this.root.push(...r)}}const Sa={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class ose extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class sse extends Oe{constructor(e){super("w:jc"),this.root.push(new ose({val:e}))}}class Fn extends Oe{constructor(e,{color:n,size:r,space:i,style:o}){super(e),this.root.push(new ase({style:o,color:n===void 0?void 0:Xp(n),size:r===void 0?void 0:nse(r),space:i===void 0?void 0:rse(i)}))}}class ase extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const AR={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class use extends ZE{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Fn("w:top",e.top)),e.bottom&&this.root.push(new Fn("w:bottom",e.bottom)),e.left&&this.root.push(new Fn("w:left",e.left)),e.right&&this.root.push(new Fn("w:right",e.right))}}class lse extends Oe{constructor(){super("w:pBdr");const e=new Fn("w:bottom",{color:"auto",space:1,style:AR.SINGLE,size:6});this.root.push(e)}}class cse extends Oe{constructor({start:e,end:n,left:r,right:i,hanging:o,firstLine:a}){super("w:ind"),this.root.push(new Em({start:{key:"w:start",value:e===void 0?void 0:eh(e)},end:{key:"w:end",value:n===void 0?void 0:eh(n)},left:{key:"w:left",value:r===void 0?void 0:eh(r)},right:{key:"w:right",value:i===void 0?void 0:eh(i)},hanging:{key:"w:hanging",value:o===void 0?void 0:xs(o)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:xs(a)}}))}}let fse=class extends Oe{constructor(){super("w:br")}};const RR={BEGIN:"begin",END:"end",SEPARATE:"separate"};class NR extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class r_ extends Oe{constructor(e){super("w:fldChar"),this.root.push(new NR({type:RR.BEGIN,dirty:e}))}}class i_ extends Oe{constructor(e){super("w:fldChar"),this.root.push(new NR({type:RR.SEPARATE,dirty:e}))}}class o_ extends Oe{constructor(e){super("w:fldChar"),this.root.push(new NR({type:RR.END,dirty:e}))}}const Qp={DEFAULT:"default",PRESERVE:"preserve"};class Jp extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{space:"xml:space"})}}class hse extends Oe{constructor(){super("w:instrText"),this.root.push(new Jp({space:Qp.PRESERVE})),this.root.push("PAGE")}}class dse extends Oe{constructor(){super("w:instrText"),this.root.push(new Jp({space:Qp.PRESERVE})),this.root.push("NUMPAGES")}}class pse extends Oe{constructor(){super("w:instrText"),this.root.push(new Jp({space:Qp.PRESERVE})),this.root.push("SECTIONPAGES")}}class mse extends Oe{constructor(){super("w:instrText"),this.root.push(new Jp({space:Qp.PRESERVE})),this.root.push("SECTION")}}class gse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Oj extends Oe{constructor({fill:e,color:n,type:r}){super("w:shd"),this.root.push(new gse({fill:e===void 0?void 0:Xp(e),color:n===void 0?void 0:Xp(n),type:r}))}}class vse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const yse={DOT:"dot"};class wse extends Oe{constructor(e){super("w:em"),this.root.push(new qn({val:e}))}}class _se extends wse{constructor(e=yse.DOT){super(e)}}class bse extends Oe{constructor(e){super("w:spacing"),this.root.push(new qn({val:eh(e)}))}}class Ese extends Oe{constructor(e){super("w:color"),this.root.push(new qn({val:Xp(e)}))}}class Sse extends Oe{constructor(e){super("w:highlight"),this.root.push(new qn({val:e}))}}class Tse extends Oe{constructor(e){super("w:highlightCs"),this.root.push(new qn({val:e}))}}const Ise=t=>new rr({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class bM extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class OI extends Oe{constructor(e,n){if(super("w:rFonts"),typeof e=="string"){const r=e;this.root.push(new bM({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:n}))}else{const r=e;this.root.push(new bM(r))}}}let Pj=class extends Oe{constructor(e){super("w:vertAlign"),this.root.push(new qn({val:e}))}};class Cse extends Pj{constructor(){super("superscript")}}class xse extends Pj{constructor(){super("subscript")}}const Dj={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class kse extends Oe{constructor(e=Dj.SINGLE,n){super("w:u"),this.root.push(new qn({val:e,color:n===void 0?void 0:Xp(n)}))}}class Lh extends ZE{constructor(e){var n,r;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new Be("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new Be("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Be("w:bCs",(n=e.boldComplexScript)!=null?n:e.bold)),e.italics!==void 0&&this.push(new Be("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Be("w:iCs",(r=e.italicsComplexScript)!=null?r:e.italics)),e.underline&&this.push(new kse(e.underline.type,e.underline.color)),e.effect&&this.push(new _p("w:effect",e.effect)),e.emphasisMark&&this.push(new _se(e.emphasisMark.type)),e.color&&this.push(new Ese(e.color)),e.kern&&this.push(new NI("w:kern",e.kern)),e.position&&this.push(new _p("w:position",e.position)),e.size!==void 0&&this.push(new NI("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new NI("w:szCs",i)),e.rightToLeft!==void 0&&this.push(new Be("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new Be("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Be("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Be("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Be("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new xse),e.superScript&&this.push(new Cse),e.style&&this.push(new _p("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new OI(e.font)):"name"in e.font?this.push(new OI(e.font.name,e.font.hint)):this.push(new OI(e.font))),e.highlight&&this.push(new Sse(e.highlight));const o=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;o&&this.push(new Tse(o)),e.characterSpacing&&this.push(new bse(e.characterSpacing)),e.emboss!==void 0&&this.push(new Be("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Be("w:imprint",e.imprint)),e.shading&&this.push(new Oj(e.shading)),e.revision&&this.push(new Ase(e.revision)),e.border&&this.push(new Fn("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new Be("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Be("w:vanish",e.vanish)),e.specVanish&&this.push(new Be("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new Xv("w:w",e.scale)),e.language&&this.push(Ise(e.language)),e.math&&this.push(new Be("w:oMath",e.math))}push(e){this.root.push(e)}}class Ase extends Oe{constructor(e){super("w:rPrChange"),this.root.push(new vse({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Lh(e))}}class EM extends Oe{constructor(e){var n;super("w:t"),typeof e=="string"?(this.root.push(new Jp({space:Qp.PRESERVE})),this.root.push(e)):(this.root.push(new Jp({space:(n=e.space)!=null?n:Qp.DEFAULT})),this.root.push(e.text))}}const s_={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class lw extends Oe{constructor(e){if(super("w:r"),Ne(this,"properties"),this.properties=new Lh(e),this.root.push(this.properties),e.break)for(let n=0;n<e.break;n++)this.root.push(new fse);if(e.children)for(const n of e.children){if(typeof n=="string"){switch(n){case s_.CURRENT:this.root.push(new r_),this.root.push(new hse),this.root.push(new i_),this.root.push(new o_);break;case s_.TOTAL_PAGES:this.root.push(new r_),this.root.push(new dse),this.root.push(new i_),this.root.push(new o_);break;case s_.TOTAL_PAGES_IN_SECTION:this.root.push(new r_),this.root.push(new pse),this.root.push(new i_),this.root.push(new o_);break;case s_.CURRENT_SECTION:this.root.push(new r_),this.root.push(new mse),this.root.push(new i_),this.root.push(new o_);break;default:this.root.push(new EM(n));break}continue}this.root.push(n)}else e.text!==void 0&&this.root.push(new EM(e.text))}}class tc extends lw{constructor(e){super(typeof e=="string"?{text:e}:e)}}var PI={},ln={},DI,SM;function cw(){if(SM)return DI;SM=1,DI=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},DI}var TM;function qa(){if(TM)return ln;TM=1;var t=cw(),e=xc();ln.inherits=e;function n($,te){return($.charCodeAt(te)&64512)!==55296||te<0||te+1>=$.length?!1:($.charCodeAt(te+1)&64512)===56320}function r($,te){if(Array.isArray($))return $.slice();if(!$)return[];var j=[];if(typeof $=="string")if(te){if(te==="hex")for($=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0&&($="0"+$),Ee=0;Ee<$.length;Ee+=2)j.push(parseInt($[Ee]+$[Ee+1],16))}else for(var he=0,Ee=0;Ee<$.length;Ee++){var re=$.charCodeAt(Ee);re<128?j[he++]=re:re<2048?(j[he++]=re>>6|192,j[he++]=re&63|128):n($,Ee)?(re=65536+((re&1023)<<10)+($.charCodeAt(++Ee)&1023),j[he++]=re>>18|240,j[he++]=re>>12&63|128,j[he++]=re>>6&63|128,j[he++]=re&63|128):(j[he++]=re>>12|224,j[he++]=re>>6&63|128,j[he++]=re&63|128)}else for(Ee=0;Ee<$.length;Ee++)j[Ee]=$[Ee]|0;return j}ln.toArray=r;function i($){for(var te="",j=0;j<$.length;j++)te+=u($[j].toString(16));return te}ln.toHex=i;function o($){var te=$>>>24|$>>>8&65280|$<<8&16711680|($&255)<<24;return te>>>0}ln.htonl=o;function a($,te){for(var j="",he=0;he<$.length;he++){var Ee=$[he];te==="little"&&(Ee=o(Ee)),j+=c(Ee.toString(16))}return j}ln.toHex32=a;function u($){return $.length===1?"0"+$:$}ln.zero2=u;function c($){return $.length===7?"0"+$:$.length===6?"00"+$:$.length===5?"000"+$:$.length===4?"0000"+$:$.length===3?"00000"+$:$.length===2?"000000"+$:$.length===1?"0000000"+$:$}ln.zero8=c;function d($,te,j,he){var Ee=j-te;t(Ee%4===0);for(var re=new Array(Ee/4),pe=0,me=te;pe<re.length;pe++,me+=4){var Se;he==="big"?Se=$[me]<<24|$[me+1]<<16|$[me+2]<<8|$[me+3]:Se=$[me+3]<<24|$[me+2]<<16|$[me+1]<<8|$[me],re[pe]=Se>>>0}return re}ln.join32=d;function p($,te){for(var j=new Array($.length*4),he=0,Ee=0;he<$.length;he++,Ee+=4){var re=$[he];te==="big"?(j[Ee]=re>>>24,j[Ee+1]=re>>>16&255,j[Ee+2]=re>>>8&255,j[Ee+3]=re&255):(j[Ee+3]=re>>>24,j[Ee+2]=re>>>16&255,j[Ee+1]=re>>>8&255,j[Ee]=re&255)}return j}ln.split32=p;function v($,te){return $>>>te|$<<32-te}ln.rotr32=v;function y($,te){return $<<te|$>>>32-te}ln.rotl32=y;function w($,te){return $+te>>>0}ln.sum32=w;function b($,te,j){return $+te+j>>>0}ln.sum32_3=b;function E($,te,j,he){return $+te+j+he>>>0}ln.sum32_4=E;function I($,te,j,he,Ee){return $+te+j+he+Ee>>>0}ln.sum32_5=I;function S($,te,j,he){var Ee=$[te],re=$[te+1],pe=he+re>>>0,me=(pe<he?1:0)+j+Ee;$[te]=me>>>0,$[te+1]=pe}ln.sum64=S;function k($,te,j,he){var Ee=te+he>>>0,re=(Ee<te?1:0)+$+j;return re>>>0}ln.sum64_hi=k;function C($,te,j,he){var Ee=te+he;return Ee>>>0}ln.sum64_lo=C;function A($,te,j,he,Ee,re,pe,me){var Se=0,G=te;G=G+he>>>0,Se+=G<te?1:0,G=G+re>>>0,Se+=G<re?1:0,G=G+me>>>0,Se+=G<me?1:0;var W=$+j+Ee+pe+Se;return W>>>0}ln.sum64_4_hi=A;function O($,te,j,he,Ee,re,pe,me){var Se=te+he+re+me;return Se>>>0}ln.sum64_4_lo=O;function H($,te,j,he,Ee,re,pe,me,Se,G){var W=0,ae=te;ae=ae+he>>>0,W+=ae<te?1:0,ae=ae+re>>>0,W+=ae<re?1:0,ae=ae+me>>>0,W+=ae<me?1:0,ae=ae+G>>>0,W+=ae<G?1:0;var de=$+j+Ee+pe+Se+W;return de>>>0}ln.sum64_5_hi=H;function D($,te,j,he,Ee,re,pe,me,Se,G){var W=te+he+re+me+G;return W>>>0}ln.sum64_5_lo=D;function X($,te,j){var he=te<<32-j|$>>>j;return he>>>0}ln.rotr64_hi=X;function V($,te,j){var he=$<<32-j|te>>>j;return he>>>0}ln.rotr64_lo=V;function oe($,te,j){return $>>>j}ln.shr64_hi=oe;function Ie($,te,j){var he=$<<32-j|te>>>j;return he>>>0}return ln.shr64_lo=Ie,ln}var LI={},IM;function fw(){if(IM)return LI;IM=1;var t=qa(),e=cw();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return LI.BlockHash=n,n.prototype.update=function(i,o){if(i=t.toArray(i,o),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var u=0;u<i.length;u+=this._delta32)this._update(i,u,u+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,o=this._delta8,a=o-(i+this.padLength)%o,u=new Array(a+this.padLength);u[0]=128;for(var c=1;c<a;c++)u[c]=0;if(i<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)u[c++]=0;u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=i>>>24&255,u[c++]=i>>>16&255,u[c++]=i>>>8&255,u[c++]=i&255}else for(u[c++]=i&255,u[c++]=i>>>8&255,u[c++]=i>>>16&255,u[c++]=i>>>24&255,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,d=8;d<this.padLength;d++)u[c++]=0;return u},LI}var jf={},Ea={},CM;function Lj(){if(CM)return Ea;CM=1;var t=qa(),e=t.rotr32;function n(p,v,y,w){if(p===0)return r(v,y,w);if(p===1||p===3)return o(v,y,w);if(p===2)return i(v,y,w)}Ea.ft_1=n;function r(p,v,y){return p&v^~p&y}Ea.ch32=r;function i(p,v,y){return p&v^p&y^v&y}Ea.maj32=i;function o(p,v,y){return p^v^y}Ea.p32=o;function a(p){return e(p,2)^e(p,13)^e(p,22)}Ea.s0_256=a;function u(p){return e(p,6)^e(p,11)^e(p,25)}Ea.s1_256=u;function c(p){return e(p,7)^e(p,18)^p>>>3}Ea.g0_256=c;function d(p){return e(p,17)^e(p,19)^p>>>10}return Ea.g1_256=d,Ea}var MI,xM;function Rse(){if(xM)return MI;xM=1;var t=qa(),e=fw(),n=Lj(),r=t.rotl32,i=t.sum32,o=t.sum32_5,a=n.ft_1,u=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(d,u),MI=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(v,y){for(var w=this.W,b=0;b<16;b++)w[b]=v[y+b];for(;b<w.length;b++)w[b]=r(w[b-3]^w[b-8]^w[b-14]^w[b-16],1);var E=this.h[0],I=this.h[1],S=this.h[2],k=this.h[3],C=this.h[4];for(b=0;b<w.length;b++){var A=~~(b/20),O=o(r(E,5),a(A,I,S,k),C,w[b],c[A]);C=k,k=S,S=r(I,30),I=E,E=O}this.h[0]=i(this.h[0],E),this.h[1]=i(this.h[1],I),this.h[2]=i(this.h[2],S),this.h[3]=i(this.h[3],k),this.h[4]=i(this.h[4],C)},d.prototype._digest=function(v){return v==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},MI}var FI,kM;function Mj(){if(kM)return FI;kM=1;var t=qa(),e=fw(),n=Lj(),r=cw(),i=t.sum32,o=t.sum32_4,a=t.sum32_5,u=n.ch32,c=n.maj32,d=n.s0_256,p=n.s1_256,v=n.g0_256,y=n.g1_256,w=e.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;w.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}return t.inherits(E,w),FI=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(S,k){for(var C=this.W,A=0;A<16;A++)C[A]=S[k+A];for(;A<C.length;A++)C[A]=o(y(C[A-2]),C[A-7],v(C[A-15]),C[A-16]);var O=this.h[0],H=this.h[1],D=this.h[2],X=this.h[3],V=this.h[4],oe=this.h[5],Ie=this.h[6],$=this.h[7];for(r(this.k.length===C.length),A=0;A<C.length;A++){var te=a($,p(V),u(V,oe,Ie),this.k[A],C[A]),j=i(d(O),c(O,H,D));$=Ie,Ie=oe,oe=V,V=i(X,te),X=D,D=H,H=O,O=i(te,j)}this.h[0]=i(this.h[0],O),this.h[1]=i(this.h[1],H),this.h[2]=i(this.h[2],D),this.h[3]=i(this.h[3],X),this.h[4]=i(this.h[4],V),this.h[5]=i(this.h[5],oe),this.h[6]=i(this.h[6],Ie),this.h[7]=i(this.h[7],$)},E.prototype._digest=function(S){return S==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},FI}var UI,AM;function Nse(){if(AM)return UI;AM=1;var t=qa(),e=Mj();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),UI=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},UI}var jI,RM;function Fj(){if(RM)return jI;RM=1;var t=qa(),e=fw(),n=cw(),r=t.rotr64_hi,i=t.rotr64_lo,o=t.shr64_hi,a=t.shr64_lo,u=t.sum64,c=t.sum64_hi,d=t.sum64_lo,p=t.sum64_4_hi,v=t.sum64_4_lo,y=t.sum64_5_hi,w=t.sum64_5_lo,b=e.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}t.inherits(I,b),jI=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(j,he){for(var Ee=this.W,re=0;re<32;re++)Ee[re]=j[he+re];for(;re<Ee.length;re+=2){var pe=Ie(Ee[re-4],Ee[re-3]),me=$(Ee[re-4],Ee[re-3]),Se=Ee[re-14],G=Ee[re-13],W=V(Ee[re-30],Ee[re-29]),ae=oe(Ee[re-30],Ee[re-29]),de=Ee[re-32],_e=Ee[re-31];Ee[re]=p(pe,me,Se,G,W,ae,de,_e),Ee[re+1]=v(pe,me,Se,G,W,ae,de,_e)}},I.prototype._update=function(j,he){this._prepareBlock(j,he);var Ee=this.W,re=this.h[0],pe=this.h[1],me=this.h[2],Se=this.h[3],G=this.h[4],W=this.h[5],ae=this.h[6],de=this.h[7],_e=this.h[8],le=this.h[9],B=this.h[10],M=this.h[11],se=this.h[12],ie=this.h[13],Q=this.h[14],Z=this.h[15];n(this.k.length===Ee.length);for(var Ce=0;Ce<Ee.length;Ce+=2){var F=Q,Te=Z,z=D(_e,le),x=X(_e,le),R=S(_e,le,B,M,se),U=k(_e,le,B,M,se,ie),ne=this.k[Ce],ye=this.k[Ce+1],ue=Ee[Ce],De=Ee[Ce+1],Pe=y(F,Te,z,x,R,U,ne,ye,ue,De),Me=w(F,Te,z,x,R,U,ne,ye,ue,De);F=O(re,pe),Te=H(re,pe),z=C(re,pe,me,Se,G),x=A(re,pe,me,Se,G,W);var $e=c(F,Te,z,x),et=d(F,Te,z,x);Q=se,Z=ie,se=B,ie=M,B=_e,M=le,_e=c(ae,de,Pe,Me),le=d(de,de,Pe,Me),ae=G,de=W,G=me,W=Se,me=re,Se=pe,re=c(Pe,Me,$e,et),pe=d(Pe,Me,$e,et)}u(this.h,0,re,pe),u(this.h,2,me,Se),u(this.h,4,G,W),u(this.h,6,ae,de),u(this.h,8,_e,le),u(this.h,10,B,M),u(this.h,12,se,ie),u(this.h,14,Q,Z)},I.prototype._digest=function(j){return j==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function S(te,j,he,Ee,re){var pe=te&he^~te&re;return pe<0&&(pe+=4294967296),pe}function k(te,j,he,Ee,re,pe){var me=j&Ee^~j&pe;return me<0&&(me+=4294967296),me}function C(te,j,he,Ee,re){var pe=te&he^te&re^he&re;return pe<0&&(pe+=4294967296),pe}function A(te,j,he,Ee,re,pe){var me=j&Ee^j&pe^Ee&pe;return me<0&&(me+=4294967296),me}function O(te,j){var he=r(te,j,28),Ee=r(j,te,2),re=r(j,te,7),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function H(te,j){var he=i(te,j,28),Ee=i(j,te,2),re=i(j,te,7),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function D(te,j){var he=r(te,j,14),Ee=r(te,j,18),re=r(j,te,9),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function X(te,j){var he=i(te,j,14),Ee=i(te,j,18),re=i(j,te,9),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function V(te,j){var he=r(te,j,1),Ee=r(te,j,8),re=o(te,j,7),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function oe(te,j){var he=i(te,j,1),Ee=i(te,j,8),re=a(te,j,7),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function Ie(te,j){var he=r(te,j,19),Ee=r(j,te,29),re=o(te,j,6),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}function $(te,j){var he=i(te,j,19),Ee=i(j,te,29),re=a(te,j,6),pe=he^Ee^re;return pe<0&&(pe+=4294967296),pe}return jI}var BI,NM;function Ose(){if(NM)return BI;NM=1;var t=qa(),e=Fj();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),BI=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},BI}var OM;function Pse(){return OM||(OM=1,jf.sha1=Rse(),jf.sha224=Nse(),jf.sha256=Mj(),jf.sha384=Ose(),jf.sha512=Fj()),jf}var VI={},PM;function Dse(){if(PM)return VI;PM=1;var t=qa(),e=fw(),n=t.rotl32,r=t.sum32,i=t.sum32_3,o=t.sum32_4,a=e.BlockHash;function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(u,a),VI.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(I,S){for(var k=this.h[0],C=this.h[1],A=this.h[2],O=this.h[3],H=this.h[4],D=k,X=C,V=A,oe=O,Ie=H,$=0;$<80;$++){var te=r(n(o(k,c($,C,A,O),I[v[$]+S],d($)),w[$]),H);k=H,H=O,O=n(A,10),A=C,C=te,te=r(n(o(D,c(79-$,X,V,oe),I[y[$]+S],p($)),b[$]),Ie),D=Ie,Ie=oe,oe=n(V,10),V=X,X=te}te=i(this.h[1],A,oe),this.h[1]=i(this.h[2],O,Ie),this.h[2]=i(this.h[3],H,D),this.h[3]=i(this.h[4],k,X),this.h[4]=i(this.h[0],C,V),this.h[0]=te},u.prototype._digest=function(I){return I==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(E,I,S,k){return E<=15?I^S^k:E<=31?I&S|~I&k:E<=47?(I|~S)^k:E<=63?I&k|S&~k:I^(S|~k)}function d(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function p(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return VI}var zI,DM;function Lse(){if(DM)return zI;DM=1;var t=qa(),e=cw();function n(r,i,o){if(!(this instanceof n))return new n(r,i,o);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,o))}return zI=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var o=i.length;o<this.blockSize;o++)i.push(0);for(o=0;o<i.length;o++)i[o]^=54;for(this.inner=new this.Hash().update(i),o=0;o<i.length;o++)i[o]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,o){return this.inner.update(i,o),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},zI}var LM;function Mse(){return LM||(LM=1,function(t){var e=t;e.utils=qa(),e.common=fw(),e.sha=Pse(),e.ripemd=Dse(),e.hmac=Lse(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(PI)),PI}var Fse=Mse();const Use=yR(Fse);let jse="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Bse=(t,e=21)=>(n=e)=>{let r="",i=n|0;for(;i--;)r+=t[Math.random()*t.length|0];return r},Vse=(t=21)=>{let e="",n=t|0;for(;n--;)e+=jse[Math.random()*64|0];return e};const Ts=t=>Math.floor(t*72*20),r1=(t=0)=>{let e=t;return()=>++e},zse=()=>r1(),Hse=()=>r1(1),Wse=()=>r1(),qse=()=>r1(),$se=()=>Vse().toLowerCase(),MM=t=>Use.sha1().update(t instanceof ArrayBuffer?new Uint8Array(t):t).digest("hex"),Cv=t=>Bse("1234567890abcdef",t)(),Gse=()=>`${Cv(8)}-${Cv(4)}-${Cv(4)}-${Cv(4)}-${Cv(12)}`,Kse={CHARACTER:"character",COLUMN:"column",INSIDE_MARGIN:"insideMargin",LEFT_MARGIN:"leftMargin",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",RIGHT_MARGIN:"rightMargin"},Yse={BOTTOM_MARGIN:"bottomMargin",INSIDE_MARGIN:"insideMargin",LINE:"line",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",PARAGRAPH:"paragraph",TOP_MARGIN:"topMargin"};class Xse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{x:"x",y:"y"})}}class Qse extends Oe{constructor(){super("wp:simplePos"),this.root.push(new Xse({x:0,y:0}))}}class Uj extends Oe{constructor(e){super("wp:align"),this.root.push(e)}}class jj extends Oe{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class Jse extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class Zse extends Oe{constructor(e){if(super("wp:positionH"),this.root.push(new Jse({relativeFrom:e.relative||Kse.PAGE})),e.align)this.root.push(new Uj(e.align));else if(e.offset!==void 0)this.root.push(new jj(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class eae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class tae extends Oe{constructor(e){if(super("wp:positionV"),this.root.push(new eae({relativeFrom:e.relative||Yse.PAGE})),e.align)this.root.push(new Uj(e.align));else if(e.offset!==void 0)this.root.push(new jj(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class nae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{uri:"uri"})}}const rae=t=>new rr({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${t.fileName}}`}}}),iae=t=>new rr({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[rae(t)]}),oae=t=>new rr({name:"a:extLst",children:[iae(t)]}),sae=t=>new rr({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${t.type==="svg"?t.fallback.fileName:t.fileName}}`},cstate:{key:"cstate",value:"none"}},children:t.type==="svg"?[oae(t)]:[]});class aae extends Oe{constructor(){super("a:srcRect")}}class uae extends Oe{constructor(){super("a:fillRect")}}class lae extends Oe{constructor(){super("a:stretch"),this.root.push(new uae)}}class cae extends Oe{constructor(e){super("pic:blipFill"),this.root.push(sae(e)),this.root.push(new aae),this.root.push(new lae)}}class fae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class hae extends Oe{constructor(){super("a:picLocks"),this.root.push(new fae({noChangeAspect:1,noChangeArrowheads:1}))}}class dae extends Oe{constructor(){super("pic:cNvPicPr"),this.root.push(new hae)}}const Bj=(t,e)=>new rr({name:"a:hlinkClick",attributes:wc(Nt({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class pae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class mae extends Oe{constructor(){super("pic:cNvPr"),this.root.push(new pae({id:0,name:"",descr:""}))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const r=e.stack[n];if(r instanceof OR){this.root.push(Bj(r.linkId,!1));break}}return super.prepForXml(e)}}class gae extends Oe{constructor(){super("pic:nvPicPr"),this.root.push(new mae),this.root.push(new dae)}}class vae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class yae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class wae extends Oe{constructor(e,n){super("a:ext"),Ne(this,"attributes"),this.attributes=new yae({cx:e,cy:n}),this.root.push(this.attributes)}}class _ae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{x:"x",y:"y"})}}class bae extends Oe{constructor(){super("a:off"),this.root.push(new _ae({x:0,y:0}))}}class Eae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class Sae extends Oe{constructor(e){var n,r;super("a:xfrm"),Ne(this,"extents"),this.root.push(new Eae({flipVertical:(n=e.flip)==null?void 0:n.vertical,flipHorizontal:(r=e.flip)==null?void 0:r.horizontal,rotation:e.rotation})),this.extents=new wae(e.emus.x,e.emus.y),this.root.push(new bae),this.root.push(this.extents)}}const Vj=()=>new rr({name:"a:noFill"}),Tae=t=>new rr({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),Iae=t=>new rr({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),FM=t=>new rr({name:"a:solidFill",children:[t.type==="rgb"?Tae(t):Iae(t)]}),Cae=t=>new rr({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?Vj():t.solidFillType==="rgb"?FM({type:"rgb",value:t.value}):FM({type:"scheme",value:t.value})]});class xae extends Oe{constructor(){super("a:avLst")}}class kae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{prst:"prst"})}}class Aae extends Oe{constructor(){super("a:prstGeom"),this.root.push(new kae({prst:"rect"})),this.root.push(new xae)}}class Rae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{bwMode:"bwMode"})}}class Nae extends Oe{constructor({outline:e,transform:n}){super("pic:spPr"),Ne(this,"form"),this.root.push(new Rae({bwMode:"auto"})),this.form=new Sae(n),this.root.push(this.form),this.root.push(new Aae),e&&(this.root.push(Vj()),this.root.push(Cae(e)))}}class Oae extends Oe{constructor({mediaData:e,transform:n,outline:r}){super("pic:pic"),this.root.push(new vae({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new gae),this.root.push(new cae(e)),this.root.push(new Nae({transform:n,outline:r}))}}class Pae extends Oe{constructor({mediaData:e,transform:n,outline:r}){super("a:graphicData"),Ne(this,"pic"),this.root.push(new nae({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new Oae({mediaData:e,transform:n,outline:r}),this.root.push(this.pic)}}class Dae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{a:"xmlns:a"})}}class zj extends Oe{constructor({mediaData:e,transform:n,outline:r}){super("a:graphic"),Ne(this,"data"),this.root.push(new Dae({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new Pae({mediaData:e,transform:n,outline:r}),this.root.push(this.data)}}const a_={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},Lae={BOTH_SIDES:"bothSides",LEFT:"left",RIGHT:"right",LARGEST:"largest"};class UM extends Oe{constructor(){super("wp:wrapNone")}}class Mae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class Fae extends Oe{constructor(e,n={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new Mae({wrapText:e.side||Lae.BOTH_SIDES,distT:n.top,distB:n.bottom,distL:n.left,distR:n.right}))}}class Uae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class jae extends Oe{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new Uae({distT:e.top,distB:e.bottom}))}}class Bae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class Vae extends Oe{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new Bae({distT:e.top,distB:e.bottom}))}}class Hj extends Oe{constructor({name:e,description:n,title:r}={name:"",description:"",title:""}){super("wp:docPr"),Ne(this,"docPropertiesUniqueNumericId",Wse()),this.root.push(new Em({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:n},title:{key:"title",value:r}}))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const r=e.stack[n];if(r instanceof OR){this.root.push(Bj(r.linkId,!0));break}}return super.prepForXml(e)}}const Wj=({top:t,right:e,bottom:n,left:r})=>new rr({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:n},left:{key:"l",value:r}}});class zae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class qj extends Oe{constructor(e,n){super("wp:extent"),Ne(this,"attributes"),this.attributes=new zae({cx:e,cy:n}),this.root.push(this.attributes)}}class Hae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class Wae extends Oe{constructor(){super("a:graphicFrameLocks"),this.root.push(new Hae({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class $j extends Oe{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new Wae)}}class qae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class $ae extends Oe{constructor({mediaData:e,transform:n,drawingOptions:r}){super("wp:anchor");const i=Nt({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},r.floating);if(this.root.push(new qae({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:n.emus.y})),this.root.push(new Qse),this.root.push(new Zse(i.horizontalPosition)),this.root.push(new tae(i.verticalPosition)),this.root.push(new qj(n.emus.x,n.emus.y)),this.root.push(Wj({top:0,right:0,bottom:0,left:0})),r.floating!==void 0&&r.floating.wrap!==void 0)switch(r.floating.wrap.type){case a_.SQUARE:this.root.push(new Fae(r.floating.wrap,r.floating.margins));break;case a_.TIGHT:this.root.push(new jae(r.floating.margins));break;case a_.TOP_AND_BOTTOM:this.root.push(new Vae(r.floating.margins));break;case a_.NONE:default:this.root.push(new UM)}else this.root.push(new UM);this.root.push(new Hj(r.docProperties)),this.root.push(new $j),this.root.push(new zj({mediaData:e,transform:n,outline:r.outline}))}}const Gae=({mediaData:t,transform:e,docProperties:n,outline:r})=>{var i,o,a,u;return new rr({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new qj(e.emus.x,e.emus.y),Wj(r?{top:((i=r.width)!=null?i:9525)*2,right:((o=r.width)!=null?o:9525)*2,bottom:((a=r.width)!=null?a:9525)*2,left:((u=r.width)!=null?u:9525)*2}:{top:0,right:0,bottom:0,left:0}),new Hj(n),new $j,new zj({mediaData:t,transform:e,outline:r})]})};class Kae extends Oe{constructor(e,n={}){super("w:drawing"),n.floating?this.root.push(new $ae({mediaData:e,transform:e.transformation,drawingOptions:n})):this.root.push(Gae({mediaData:e,transform:e.transformation,docProperties:n.docProperties,outline:n.outline}))}}const Yae=t=>{if(typeof atob=="function"){const e=";base64,",n=t.indexOf(e),r=n===-1?0:n+e.length;return new Uint8Array(atob(t.substring(r)).split("").map(i=>i.charCodeAt(0)))}else{const e=require("buffer");return new e.Buffer(t,"base64")}},Xae=t=>typeof t=="string"?Yae(t):t,HI=(t,e)=>({data:Xae(t.data),fileName:e,transformation:{pixels:{x:Math.round(t.transformation.width),y:Math.round(t.transformation.height)},emus:{x:Math.round(t.transformation.width*9525),y:Math.round(t.transformation.height*9525)},flip:t.transformation.flip,rotation:t.transformation.rotation?t.transformation.rotation*6e4:void 0}});class Qae extends lw{constructor(e){super({}),Ne(this,"imageData");const r=`${MM(e.data)}.${e.type}`;this.imageData=e.type==="svg"?wc(Nt({type:e.type},HI(e,r)),{fallback:Nt({type:e.fallback.type},HI(wc(Nt({},e.fallback),{transformation:e.transformation}),`${MM(e.fallback.data)}.${e.fallback.type}`))}):Nt({type:e.type},HI(e,r));const i=new Kae(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(i)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}}class Jae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class Zae extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class eue extends Oe{constructor({id:e,initials:n,author:r,date:i=new Date,children:o}){super("w:comment"),this.root.push(new Jae({id:e,initials:n,author:r,date:i.toISOString()}));for(const a of o)this.root.push(a)}}class tue extends Oe{constructor({children:e}){super("w:comments"),this.root.push(new Zae({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const n of e)this.root.push(new eue(n))}}class nue extends Oe{constructor(){super("w:pageBreakBefore")}}const yx={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class rue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutoSpacing"})}}class iue extends Oe{constructor(e){super("w:spacing"),this.root.push(new rue(e))}}const oue={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let u_=class extends Oe{constructor(e){super("w:pStyle"),this.root.push(new qn({val:e}))}};class sue extends Oe{constructor(e){super("w:tabs");for(const n of e)this.root.push(new uue(n))}}const jM={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class aue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class uue extends Oe{constructor({type:e,position:n,leader:r}){super("w:tab"),this.root.push(new aue({val:e,pos:n,leader:r}))}}class WI extends Oe{constructor(e,n){super("w:numPr"),this.root.push(new lue(n)),this.root.push(new cue(e))}}class lue extends Oe{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new qn({val:e}))}}class cue extends Oe{constructor(e){super("w:numId"),this.root.push(new qn({val:typeof e=="string"?`{${e}}`:e}))}}class fue extends Oe{constructor(){super(...arguments),Ne(this,"fileChild",Symbol())}}class hue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const due={EXTERNAL:"External"};class pue extends Oe{constructor(e,n,r,i){super("Relationship"),this.root.push(new hue({id:e,type:n,target:r,targetMode:i}))}}class mue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class OR extends Oe{constructor(e,n,r){super("w:hyperlink"),Ne(this,"linkId"),this.linkId=n;const i={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},o=new mue(i);this.root.push(o),e.forEach(a=>{this.root.push(a)})}}class gue extends Oe{constructor(e){super("w:externalHyperlink"),this.options=e}}class vue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class yue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{id:"w:id"})}}class wue{constructor(e){Ne(this,"bookmarkUniqueNumericId",qse()),Ne(this,"start"),Ne(this,"children"),Ne(this,"end");const n=this.bookmarkUniqueNumericId();this.start=new _ue(e.id,n),this.children=e.children,this.end=new bue(n)}}class _ue extends Oe{constructor(e,n){super("w:bookmarkStart");const r=new vue({name:e,id:n});this.root.push(r)}}class bue extends Oe{constructor(e){super("w:bookmarkEnd");const n=new yue({id:e});this.root.push(n)}}class Eue extends Oe{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new qn({val:e}))}}class Sue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{verticalAlign:"w:val"})}}class Tue extends Oe{constructor(e){super("w:vAlign"),this.root.push(new Sue({verticalAlign:e}))}}class Iue extends Oe{constructor({space:e,count:n,separate:r,equalWidth:i,children:o}){super("w:cols"),this.root.push(new Em({space:{key:"w:space",value:e===void 0?void 0:xs(e)},count:{key:"w:num",value:n===void 0?void 0:no(n)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:i}})),!i&&o&&o.forEach(a=>this.addChildElement(a))}}class Cue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class xue extends Oe{constructor(e,n,r){super("w:docGrid"),this.root.push(new Cue({type:r,linePitch:no(e),charSpace:n?no(n):void 0}))}}const bp={DEFAULT:"default",FIRST:"first",EVEN:"even"};class kue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const BM={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class qI extends Oe{constructor(e,n){super(e),this.root.push(new kue({type:n.type||bp.DEFAULT,id:`rId${n.id}`}))}}const Aue=({countBy:t,start:e,restart:n,distance:r})=>new rr({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:no(t)},start:{key:"w:start",value:e===void 0?void 0:no(e)},restart:{key:"w:restart",value:n},distance:{key:"w:distance",value:r===void 0?void 0:xs(r)}}});class VM extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class Rue extends ZE{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new VM({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new VM({})),e.pageBorderTop&&this.root.push(new Fn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Fn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Fn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Fn("w:right",e.pageBorderRight))}}class Nue extends Oe{constructor(e,n,r,i,o,a,u){super("w:pgMar"),this.root.push(new Em({top:{key:"w:top",value:eh(e)},right:{key:"w:right",value:xs(n)},bottom:{key:"w:bottom",value:eh(r)},left:{key:"w:left",value:xs(i)},header:{key:"w:header",value:xs(o)},footer:{key:"w:footer",value:xs(a)},gutter:{key:"w:gutter",value:xs(u)}}))}}class Oue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Pue extends Oe{constructor({start:e,formatType:n,separator:r}){super("w:pgNumType"),this.root.push(new Oue({start:e===void 0?void 0:no(e),formatType:n,separator:r}))}}const Gj={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class Due extends Oe{constructor(e,n,r){super("w:pgSz");const i=r===Gj.LANDSCAPE,o=xs(e),a=xs(n);this.root.push(new Em({width:{key:"w:w",value:i?a:o},height:{key:"w:h",value:i?o:a},orientation:{key:"w:orient",value:r}}))}}class Lue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class Mue extends Oe{constructor(e){super("w:textDirection"),this.root.push(new Lue({val:e}))}}class Fue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class Uue extends Oe{constructor(e){super("w:type"),this.root.push(new Fue({val:e}))}}const Bf={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},$I={WIDTH:11906,HEIGHT:16838,ORIENTATION:Gj.PORTRAIT};class jue extends Oe{constructor({page:{size:{width:e=$I.WIDTH,height:n=$I.HEIGHT,orientation:r=$I.ORIENTATION}={},margin:{top:i=Bf.TOP,right:o=Bf.RIGHT,bottom:a=Bf.BOTTOM,left:u=Bf.LEFT,header:c=Bf.HEADER,footer:d=Bf.FOOTER,gutter:p=Bf.GUTTER}={},pageNumbers:v={},borders:y,textDirection:w}={},grid:{linePitch:b=360,charSpace:E,type:I}={},headerWrapperGroup:S={},footerWrapperGroup:k={},lineNumbers:C,titlePage:A,verticalAlign:O,column:H,type:D}={}){super("w:sectPr"),this.addHeaderFooterGroup(BM.HEADER,S),this.addHeaderFooterGroup(BM.FOOTER,k),D&&this.root.push(new Uue(D)),this.root.push(new Due(e,n,r)),this.root.push(new Nue(i,o,a,u,c,d,p)),y&&this.root.push(new Rue(y)),C&&this.root.push(Aue(C)),this.root.push(new Pue(v)),H&&this.root.push(new Iue(H)),O&&this.root.push(new Tue(O)),A!==void 0&&this.root.push(new Be("w:titlePg",A)),w&&this.root.push(new Mue(w)),this.root.push(new xue(b,E,I))}addHeaderFooterGroup(e,n){n.default&&this.root.push(new qI(e,{type:bp.DEFAULT,id:n.default.View.ReferenceId})),n.first&&this.root.push(new qI(e,{type:bp.FIRST,id:n.first.View.ReferenceId})),n.even&&this.root.push(new qI(e,{type:bp.EVEN,id:n.even.View.ReferenceId}))}}class Bue extends Oe{constructor(){super("w:body"),Ne(this,"sections",[])}addSection(e){const n=this.sections.pop();this.root.push(this.createSectionParagraph(n)),this.sections.push(new jue(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const n=new xa({}),r=new Zp({});return r.push(e),n.addChildElement(r),n}}const zM={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class i1 extends Ze{constructor(e,n){super(Nt({Ignorable:n},Object.fromEntries(e.map(r=>[r,zM[r]])))),Ne(this,"xmlKeys",Nt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(zM).map(r=>[r,`xmlns:${r}`]))))}}class Vue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class zue extends Oe{constructor(e){super("w:background"),this.root.push(new Vue({color:e.color===void 0?void 0:Xp(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:_M(e.themeShade),themeTint:e.themeTint===void 0?void 0:_M(e.themeTint)}))}}class Hue extends Oe{constructor(e){super("w:document"),Ne(this,"body"),this.root.push(new i1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Bue,e.background&&this.root.push(new zue(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class Wue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns"})}}class Tm extends Oe{constructor(){super("Relationships"),this.root.push(new Wue({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,n,r,i){const o=new pue(`rId${e}`,n,r,i);return this.root.push(o),o}get RelationshipCount(){return this.root.length-1}}class Kj{constructor(e){Ne(this,"document"),Ne(this,"relationships"),this.document=new Hue(e),this.relationships=new Tm}get View(){return this.document}get Relationships(){return this.relationships}}class que extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class $ue extends Oe{constructor(){super("w:wordWrap"),this.root.push(new que({val:0}))}}const Gue=t=>{var e,n;return new rr({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(n=t.space)==null?void 0:n.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Zp extends ZE{constructor(e){var n,r;if(super("w:pPr"),Ne(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new u_(e.heading)),e.bullet&&this.push(new u_("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new u_("ListParagraph"))),e.style&&this.push(new u_(e.style)),e.keepNext!==void 0&&this.push(new Be("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Be("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new nue),e.frame&&this.push(Gue(e.frame)),e.widowControl!==void 0&&this.push(new Be("w:widowControl",e.widowControl)),e.bullet&&this.push(new WI(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(n=e.numbering.instance)!=null?n:0}),this.push(new WI(`${e.numbering.reference}-${(r=e.numbering.instance)!=null?r:0}`,e.numbering.level))):e.numbering===!1&&this.push(new WI(0,0)),e.border&&this.push(new use(e.border)),e.thematicBreak&&this.push(new lse),e.shading&&this.push(new Oj(e.shading)),e.wordWrap&&this.push(new $ue),e.overflowPunctuation&&this.push(new Be("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:jM.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:jM.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new sue(i)),e.bidirectional!==void 0&&this.push(new Be("w:bidi",e.bidirectional)),e.spacing&&this.push(new iue(e.spacing)),e.indent&&this.push(new cse(e.indent)),e.contextualSpacing!==void 0&&this.push(new Be("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new sse(e.alignment)),e.outlineLevel!==void 0&&this.push(new Eue(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Be("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Be("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Lh(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Kj)for(const n of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(n.reference,n.instance);return super.prepForXml(e)}}class xa extends fue{constructor(e){if(super("w:p"),Ne(this,"properties"),typeof e=="string")return this.properties=new Zp({}),this.root.push(this.properties),this.root.push(new tc(e)),this;if(this.properties=new Zp(e),this.root.push(this.properties),e.text&&this.root.push(new tc(e.text)),e.children)for(const n of e.children){if(n instanceof wue){this.root.push(n.start);for(const r of n.children)this.root.push(r);this.root.push(n.end);continue}this.root.push(n)}}prepForXml(e){for(const n of this.root)if(n instanceof gue){const r=this.root.indexOf(n),i=new OR(n.options.children,$se());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",n.options.link,due.EXTERNAL),this.root[r]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const ip={style:AR.NONE,size:0,color:"auto"},op={style:AR.SINGLE,size:4,color:"auto"};class Kue extends Oe{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Fn("w:top",e.top)):this.root.push(new Fn("w:top",op)),e.left?this.root.push(new Fn("w:left",e.left)):this.root.push(new Fn("w:left",op)),e.bottom?this.root.push(new Fn("w:bottom",e.bottom)):this.root.push(new Fn("w:bottom",op)),e.right?this.root.push(new Fn("w:right",e.right)):this.root.push(new Fn("w:right",op)),e.insideHorizontal?this.root.push(new Fn("w:insideH",e.insideHorizontal)):this.root.push(new Fn("w:insideH",op)),e.insideVertical?this.root.push(new Fn("w:insideV",e.insideVertical)):this.root.push(new Fn("w:insideV",op))}}Ne(Kue,"NONE",{top:ip,bottom:ip,left:ip,right:ip,insideHorizontal:ip,insideVertical:ip});class Yue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Xue extends Oe{constructor(){super("Properties"),this.root.push(new Yue({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class Que extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns"})}}class Jue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class _u extends Oe{constructor(e,n){super("Default"),this.root.push(new Jue({contentType:e,extension:n}))}}class Zue extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class zo extends Oe{constructor(e,n){super("Override"),this.root.push(new Zue({contentType:e,partName:n}))}}class ele extends Oe{constructor(){super("Types"),this.root.push(new Que({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new _u("image/png","png")),this.root.push(new _u("image/jpeg","jpeg")),this.root.push(new _u("image/jpeg","jpg")),this.root.push(new _u("image/bmp","bmp")),this.root.push(new _u("image/gif","gif")),this.root.push(new _u("image/svg+xml","svg")),this.root.push(new _u("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new _u("application/xml","xml")),this.root.push(new _u("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new zo("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new zo("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class tle extends Oe{constructor(e){super("cp:coreProperties"),this.root.push(new i1(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Uf("dc:title",e.title)),e.subject&&this.root.push(new Uf("dc:subject",e.subject)),e.creator&&this.root.push(new Uf("dc:creator",e.creator)),e.keywords&&this.root.push(new Uf("cp:keywords",e.keywords)),e.description&&this.root.push(new Uf("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Uf("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Uf("cp:revision",String(e.revision))),this.root.push(new HM("dcterms:created")),this.root.push(new HM("dcterms:modified"))}}class nle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"xsi:type"})}}class HM extends Oe{constructor(e){super(e),this.root.push(new nle({type:"dcterms:W3CDTF"})),this.root.push(ise(new Date))}}class rle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class ile extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class ole extends Oe{constructor(e,n){super("property"),this.root.push(new ile({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:n.name})),this.root.push(new sle(n.value))}}class sle extends Oe{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class ale extends Oe{constructor(e){super("Properties"),Ne(this,"nextId"),Ne(this,"properties",[]),this.root.push(new rle({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const n of e)this.addCustomProperty(n)}prepForXml(e){return this.properties.forEach(n=>this.root.push(n)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new ole(this.nextId++,e))}}const l_=({id:t,fontKey:e,subsetted:n},r)=>new rr({name:r,attributes:Nt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...n?[new Be("w:subsetted",n)]:[]]}),ule=({name:t,altName:e,panose1:n,charset:r,family:i,notTrueType:o,pitch:a,sig:u,embedRegular:c,embedBold:d,embedItalic:p,embedBoldItalic:v})=>new rr({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Iv("w:altName",e)]:[],...n?[Iv("w:panose1",n)]:[],...r?[Iv("w:charset",r)]:[],...i?[Iv("w:family",i)]:[],...o?[new Be("w:notTrueType",o)]:[],...a?[Iv("w:pitch",a)]:[],...u?[new rr({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:u.usb0},usb1:{key:"w:usb1",value:u.usb1},usb2:{key:"w:usb2",value:u.usb2},usb3:{key:"w:usb3",value:u.usb3},csb0:{key:"w:csb0",value:u.csb0},csb1:{key:"w:csb1",value:u.csb1}}})]:[],...c?[l_(c,"w:embedRegular")]:[],...d?[l_(d,"w:embedBold")]:[],...p?[l_(p,"w:embedItalic")]:[],...v?[l_(v,"w:embedBoldItalic")]:[]]}),lle=({name:t,index:e,fontKey:n,characterSet:r})=>ule({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:r,family:"auto",pitch:"variable",embedRegular:{fontKey:n,id:`rId${e}`}}),cle=t=>new rr({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,n)=>lle({name:e.name,index:n+1,fontKey:e.fontKey}))});class fle{constructor(e){Ne(this,"fontTable"),Ne(this,"relationships"),Ne(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(n=>wc(Nt({},n),{fontKey:Gse()})),this.fontTable=cle(this.fontOptionsWithKey),this.relationships=new Tm;for(let n=0;n<e.length;n++)this.relationships.createRelationship(n+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[n].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class hle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let dle=class extends kj{constructor(e,n){super("w:ftr",n),Ne(this,"refId"),this.refId=e,n||this.root.push(new hle({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class ple{constructor(e,n,r){Ne(this,"footer"),Ne(this,"relationships"),this.media=e,this.footer=new dle(n,r),this.relationships=new Tm}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class mle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class gle extends Oe{constructor(){super("w:footnoteRef")}}class vle extends lw{constructor(){super({style:"FootnoteReference"}),this.root.push(new gle)}}const WM={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class GI extends Oe{constructor(e){super("w:footnote"),this.root.push(new mle({type:e.type,id:e.id}));for(let n=0;n<e.children.length;n++){const r=e.children[n];n===0&&r.addRunToFront(new vle),this.root.push(r)}}}class yle extends Oe{constructor(){super("w:continuationSeparator")}}class wle extends lw{constructor(){super({}),this.root.push(new yle)}}class _le extends Oe{constructor(){super("w:separator")}}class ble extends lw{constructor(){super({}),this.root.push(new _le)}}class Ele extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Sle extends Oe{constructor(){super("w:footnotes"),this.root.push(new Ele({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new GI({id:-1,type:WM.SEPERATOR,children:[new xa({spacing:{after:0,line:240,lineRule:yx.AUTO},children:[new ble]})]});this.root.push(e);const n=new GI({id:0,type:WM.CONTINUATION_SEPERATOR,children:[new xa({spacing:{after:0,line:240,lineRule:yx.AUTO},children:[new wle]})]});this.root.push(n)}createFootNote(e,n){const r=new GI({id:e,children:n});this.root.push(r)}}class Tle{constructor(){Ne(this,"footnotess"),Ne(this,"relationships"),this.footnotess=new Sle,this.relationships=new Tm}get View(){return this.footnotess}get Relationships(){return this.relationships}}class Ile extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let Cle=class extends kj{constructor(e,n){super("w:hdr",n),Ne(this,"refId"),this.refId=e,n||this.root.push(new Ile({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class xle{constructor(e,n,r){Ne(this,"header"),Ne(this,"relationships"),this.media=e,this.header=new Cle(n,r),this.relationships=new Tm}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class kle{constructor(){Ne(this,"map"),this.map=new Map}addImage(e,n){this.map.set(e,n)}get Array(){return Array.from(this.map.values())}}const bu={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class Ale extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Rle extends Oe{constructor(e){super("w:numFmt"),this.root.push(new qn({val:e}))}}class Nle extends Oe{constructor(e){super("w:lvlText"),this.root.push(new qn({val:e}))}}class Ole extends Oe{constructor(e){super("w:lvlJc"),this.root.push(new qn({val:e}))}}class Ple extends Oe{constructor(e){super("w:suff"),this.root.push(new qn({val:e}))}}class Dle extends Oe{constructor(){super("w:isLgl")}}class Lle extends Oe{constructor({level:e,format:n,text:r,alignment:i=Sa.START,start:o=1,style:a,suffix:u,isLegalNumberingStyle:c}){if(super("w:lvl"),Ne(this,"paragraphProperties"),Ne(this,"runProperties"),this.root.push(new Xv("w:start",no(o))),n&&this.root.push(new Rle(n)),u&&this.root.push(new Ple(u)),c&&this.root.push(new Dle),r&&this.root.push(new Nle(r)),this.root.push(new Ole(i)),this.paragraphProperties=new Zp(a&&a.paragraph),this.runProperties=new Lh(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ale({ilvl:no(e),tentative:1}))}}class Mle extends Lle{}class Fle extends Oe{constructor(e){super("w:multiLevelType"),this.root.push(new qn({val:e}))}}class Ule extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class qM extends Oe{constructor(e,n){super("w:abstractNum"),Ne(this,"id"),this.root.push(new Ule({abstractNumId:no(e),restartNumberingAfterBreak:0})),this.root.push(new Fle("hybridMultilevel")),this.id=e;for(const r of n)this.root.push(new Mle(r))}}class jle extends Oe{constructor(e){super("w:abstractNumId"),this.root.push(new qn({val:e}))}}class Ble extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{numId:"w:numId"})}}class $M extends Oe{constructor(e){if(super("w:num"),Ne(this,"numId"),Ne(this,"reference"),Ne(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new Ble({numId:no(e.numId)})),this.root.push(new jle(no(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const n of e.overrideLevels)this.root.push(new zle(n.num,n.start))}}class Vle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{ilvl:"w:ilvl"})}}class zle extends Oe{constructor(e,n){super("w:lvlOverride"),this.root.push(new Vle({ilvl:e})),n!==void 0&&this.root.push(new Wle(n))}}class Hle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class Wle extends Oe{constructor(e){super("w:startOverride"),this.root.push(new Hle({val:e}))}}class qle extends Oe{constructor(e){super("w:numbering"),Ne(this,"abstractNumberingMap",new Map),Ne(this,"concreteNumberingMap",new Map),Ne(this,"referenceConfigMap",new Map),Ne(this,"abstractNumUniqueNumericId",zse()),Ne(this,"concreteNumUniqueNumericId",Hse()),this.root.push(new i1(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const n=new qM(this.abstractNumUniqueNumericId(),[{level:0,format:bu.BULLET,text:"●",alignment:Sa.LEFT,style:{paragraph:{indent:{left:Ts(.5),hanging:Ts(.25)}}}},{level:1,format:bu.BULLET,text:"○",alignment:Sa.LEFT,style:{paragraph:{indent:{left:Ts(1),hanging:Ts(.25)}}}},{level:2,format:bu.BULLET,text:"■",alignment:Sa.LEFT,style:{paragraph:{indent:{left:2160,hanging:Ts(.25)}}}},{level:3,format:bu.BULLET,text:"●",alignment:Sa.LEFT,style:{paragraph:{indent:{left:2880,hanging:Ts(.25)}}}},{level:4,format:bu.BULLET,text:"○",alignment:Sa.LEFT,style:{paragraph:{indent:{left:3600,hanging:Ts(.25)}}}},{level:5,format:bu.BULLET,text:"■",alignment:Sa.LEFT,style:{paragraph:{indent:{left:4320,hanging:Ts(.25)}}}},{level:6,format:bu.BULLET,text:"●",alignment:Sa.LEFT,style:{paragraph:{indent:{left:5040,hanging:Ts(.25)}}}},{level:7,format:bu.BULLET,text:"●",alignment:Sa.LEFT,style:{paragraph:{indent:{left:5760,hanging:Ts(.25)}}}},{level:8,format:bu.BULLET,text:"●",alignment:Sa.LEFT,style:{paragraph:{indent:{left:6480,hanging:Ts(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new $M({numId:1,abstractNumId:n.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",n);for(const r of e.config)this.abstractNumberingMap.set(r.reference,new qM(this.abstractNumUniqueNumericId(),r.levels)),this.referenceConfigMap.set(r.reference,r.levels)}prepForXml(e){for(const n of this.abstractNumberingMap.values())this.root.push(n);for(const n of this.concreteNumberingMap.values())this.root.push(n);return super.prepForXml(e)}createConcreteNumberingInstance(e,n){const r=this.abstractNumberingMap.get(e);if(!r)return;const i=`${e}-${n}`;if(this.concreteNumberingMap.has(i))return;const o=this.referenceConfigMap.get(e),a=o&&o[0].start,u={numId:this.concreteNumUniqueNumericId(),abstractNumId:r.id,reference:e,instance:n,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new $M(u))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class $le extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Gle extends Oe{constructor(e){super("w:compatSetting"),this.root.push(new $le({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Kle extends Oe{constructor(e){super("w:compat"),e.version&&this.root.push(new Gle(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Be("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Be("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Be("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Be("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Be("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Be("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Be("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Be("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Be("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Be("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Be("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Be("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Be("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Be("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Be("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Be("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Be("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Be("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Be("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Be("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Be("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Be("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Be("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Be("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Be("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Be("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Be("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Be("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Be("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Be("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Be("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Be("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Be("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Be("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Be("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Be("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Be("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Be("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Be("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Be("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Be("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Be("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Be("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Be("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Be("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Be("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Be("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Be("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Be("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Be("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Be("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Be("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Be("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Be("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Be("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Be("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Be("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Be("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Be("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Be("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Be("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Be("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Be("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Be("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Be("w:cachedColBalance",e.cachedColumnBalance))}}class Yle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Xle extends Oe{constructor(e){var n,r,i,o,a,u,c,d;super("w:settings"),this.root.push(new Yle({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Be("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Be("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Be("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Be("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Xv("w:defaultTabStop",e.defaultTabStop)),((n=e.hyphenation)==null?void 0:n.autoHyphenation)!==void 0&&this.root.push(new Be("w:autoHyphenation",e.hyphenation.autoHyphenation)),((r=e.hyphenation)==null?void 0:r.hyphenationZone)!==void 0&&this.root.push(new Xv("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Xv("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((o=e.hyphenation)==null?void 0:o.doNotHyphenateCaps)!==void 0&&this.root.push(new Be("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new Kle(wc(Nt({},(a=e.compatibility)!=null?a:{}),{version:(d=(c=(u=e.compatibility)==null?void 0:u.version)!=null?c:e.compatibilityModeVersion)!=null?d:15})))}}class Yj extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{val:"w:val"})}}class Qle extends Oe{constructor(e){super("w:name"),this.root.push(new Yj({val:e}))}}class Jle extends Oe{constructor(e){super("w:uiPriority"),this.root.push(new Yj({val:no(e)}))}}class Zle extends Ze{constructor(){super(...arguments),Ne(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class Xj extends Oe{constructor(e,n){super("w:style"),this.root.push(new Zle(e)),n.name&&this.root.push(new Qle(n.name)),n.basedOn&&this.root.push(new _p("w:basedOn",n.basedOn)),n.next&&this.root.push(new _p("w:next",n.next)),n.link&&this.root.push(new _p("w:link",n.link)),n.uiPriority!==void 0&&this.root.push(new Jle(n.uiPriority)),n.semiHidden!==void 0&&this.root.push(new Be("w:semiHidden",n.semiHidden)),n.unhideWhenUsed!==void 0&&this.root.push(new Be("w:unhideWhenUsed",n.unhideWhenUsed)),n.quickFormat!==void 0&&this.root.push(new Be("w:qFormat",n.quickFormat))}}class o1 extends Xj{constructor(e){super({type:"paragraph",styleId:e.id},e),Ne(this,"paragraphProperties"),Ne(this,"runProperties"),this.paragraphProperties=new Zp(e.paragraph),this.runProperties=new Lh(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class s1 extends Xj{constructor(e){super({type:"character",styleId:e.id},Nt({uiPriority:99,unhideWhenUsed:!0},e)),Ne(this,"runProperties"),this.runProperties=new Lh(e.run),this.root.push(this.runProperties)}}class kc extends o1{constructor(e){super(Nt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class ece extends kc{constructor(e){super(Nt({id:"Title",name:"Title"},e))}}class tce extends kc{constructor(e){super(Nt({id:"Heading1",name:"Heading 1"},e))}}class nce extends kc{constructor(e){super(Nt({id:"Heading2",name:"Heading 2"},e))}}class rce extends kc{constructor(e){super(Nt({id:"Heading3",name:"Heading 3"},e))}}class ice extends kc{constructor(e){super(Nt({id:"Heading4",name:"Heading 4"},e))}}class oce extends kc{constructor(e){super(Nt({id:"Heading5",name:"Heading 5"},e))}}class sce extends kc{constructor(e){super(Nt({id:"Heading6",name:"Heading 6"},e))}}class ace extends kc{constructor(e){super(Nt({id:"Strong",name:"Strong"},e))}}class uce extends o1{constructor(e){super(Nt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class lce extends o1{constructor(e){super(Nt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:yx.AUTO}},run:{size:20}},e))}}class cce extends s1{constructor(e){super(Nt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class fce extends s1{constructor(e){super(Nt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class hce extends s1{constructor(e){super(Nt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Dj.SINGLE}}},e))}}class wx extends Oe{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const n of e.importedStyles)this.root.push(n);if(e.paragraphStyles)for(const n of e.paragraphStyles)this.root.push(new o1(n));if(e.characterStyles)for(const n of e.characterStyles)this.root.push(new s1(n))}}class dce extends Oe{constructor(e){super("w:pPrDefault"),this.root.push(new Zp(e))}}class pce extends Oe{constructor(e){super("w:rPrDefault"),this.root.push(new Lh(e))}}class mce extends Oe{constructor(e){super("w:docDefaults"),Ne(this,"runPropertiesDefaults"),Ne(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new pce(e.run),this.paragraphPropertiesDefaults=new dce(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class gce{newInstance(e){const n=xj.xml2js(e,{compact:!1});let r;for(const a of n.elements||[])a.name==="w:styles"&&(r=a);if(r===void 0)throw new Error("can not find styles element");const i=r.elements||[];return new wx({initialStyles:new ese(r.attributes),importedStyles:i.map(a=>kR(a))})}}class GM{newInstance(e={}){var n;return{initialStyles:new i1(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new mce((n=e.document)!=null?n:{}),new ece(Nt({run:{size:56}},e.title)),new tce(Nt({run:{color:"2E74B5",size:32}},e.heading1)),new nce(Nt({run:{color:"2E74B5",size:26}},e.heading2)),new rce(Nt({run:{color:"1F4D78",size:24}},e.heading3)),new ice(Nt({run:{color:"2E74B5",italics:!0}},e.heading4)),new oce(Nt({run:{color:"2E74B5"}},e.heading5)),new sce(Nt({run:{color:"1F4D78"}},e.heading6)),new ace(Nt({run:{bold:!0}},e.strong)),new uce(e.listParagraph||{}),new hce(e.hyperlink||{}),new cce(e.footnoteReference||{}),new lce(e.footnoteText||{}),new fce(e.footnoteTextChar||{})]}}}class vce{constructor(e){Ne(this,"currentRelationshipId",1),Ne(this,"documentWrapper"),Ne(this,"headers",[]),Ne(this,"footers",[]),Ne(this,"coreProperties"),Ne(this,"numbering"),Ne(this,"media"),Ne(this,"fileRelationships"),Ne(this,"footnotesWrapper"),Ne(this,"settings"),Ne(this,"contentTypes"),Ne(this,"customProperties"),Ne(this,"appProperties"),Ne(this,"styles"),Ne(this,"comments"),Ne(this,"fontWrapper");var n,r,i,o,a,u,c,d,p,v,y,w;if(this.coreProperties=new tle(wc(Nt({},e),{creator:(n=e.creator)!=null?n:"Un-named",revision:(r=e.revision)!=null?r:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new qle(e.numbering?e.numbering:{config:[]}),this.comments=new tue((o=e.comments)!=null?o:{children:[]}),this.fileRelationships=new Tm,this.customProperties=new ale((a=e.customProperties)!=null?a:[]),this.appProperties=new Xue,this.footnotesWrapper=new Tle,this.contentTypes=new ele,this.documentWrapper=new Kj({background:e.background}),this.settings=new Xle({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(u=e.features)==null?void 0:u.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(d=e.hyphenation)==null?void 0:d.autoHyphenation,hyphenationZone:(p=e.hyphenation)==null?void 0:p.hyphenationZone,consecutiveHyphenLimit:(v=e.hyphenation)==null?void 0:v.consecutiveHyphenLimit,doNotHyphenateCaps:(y=e.hyphenation)==null?void 0:y.doNotHyphenateCaps}}),this.media=new kle,e.externalStyles!==void 0){const b=new gce;this.styles=b.newInstance(e.externalStyles)}else if(e.styles){const E=new GM().newInstance(e.styles.default);this.styles=new wx(Nt(Nt({},E),e.styles))}else{const b=new GM;this.styles=new wx(b.newInstance())}this.addDefaultRelationships();for(const b of e.sections)this.addSection(b);if(e.footnotes)for(const b in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(b),e.footnotes[b].children);this.fontWrapper=new fle((w=e.fonts)!=null?w:[])}addSection({headers:e={},footers:n={},children:r,properties:i}){this.documentWrapper.View.Body.addSection(wc(Nt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:n.default?this.createFooter(n.default):void 0,first:n.first?this.createFooter(n.first):void 0,even:n.even?this.createFooter(n.even):void 0}}));for(const o of r)this.documentWrapper.View.add(o)}createHeader(e){const n=new xle(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addHeaderToDocument(n),n}createFooter(e){const n=new ple(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addFooterToDocument(n),n}addHeaderToDocument(e,n=bp.DEFAULT){this.headers.push({header:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,n=bp.DEFAULT){this.footers.push({footer:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var yce=IR();function c_(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var KI={exports:{}},KM;function wce(){return KM||(KM=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,o){function a(d,p){if(!i[d]){if(!r[d]){var v=typeof c_=="function"&&c_;if(!p&&v)return v(d,!0);if(u)return u(d,!0);var y=new Error("Cannot find module '"+d+"'");throw y.code="MODULE_NOT_FOUND",y}var w=i[d]={exports:{}};r[d][0].call(w.exports,function(b){var E=r[d][1][b];return a(E||b)},w,w.exports,n,r,i,o)}return i[d].exports}for(var u=typeof c_=="function"&&c_,c=0;c<o.length;c++)a(o[c]);return a}({1:[function(n,r,i){var o=n("./utils"),a=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var d,p,v,y,w,b,E,I=[],S=0,k=c.length,C=k,A=o.getTypeOf(c)!=="string";S<c.length;)C=k-S,v=A?(d=c[S++],p=S<k?c[S++]:0,S<k?c[S++]:0):(d=c.charCodeAt(S++),p=S<k?c.charCodeAt(S++):0,S<k?c.charCodeAt(S++):0),y=d>>2,w=(3&d)<<4|p>>4,b=1<C?(15&p)<<2|v>>6:64,E=2<C?63&v:64,I.push(u.charAt(y)+u.charAt(w)+u.charAt(b)+u.charAt(E));return I.join("")},i.decode=function(c){var d,p,v,y,w,b,E=0,I=0,S="data:";if(c.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var k,C=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===u.charAt(64)&&C--,c.charAt(c.length-2)===u.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=a.uint8array?new Uint8Array(0|C):new Array(0|C);E<c.length;)d=u.indexOf(c.charAt(E++))<<2|(y=u.indexOf(c.charAt(E++)))>>4,p=(15&y)<<4|(w=u.indexOf(c.charAt(E++)))>>2,v=(3&w)<<6|(b=u.indexOf(c.charAt(E++))),k[I++]=d,w!==64&&(k[I++]=p),b!==64&&(k[I++]=v);return k}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),a=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function d(p,v,y,w,b){this.compressedSize=p,this.uncompressedSize=v,this.crc32=y,this.compression=w,this.compressedContent=b}d.prototype={getContentWorker:function(){var p=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),v=this;return p.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(p,v,y){return p.pipe(new u).pipe(new c("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",v)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),a=function(){for(var u,c=[],d=0;d<256;d++){u=d;for(var p=0;p<8;p++)u=1&u?3988292384^u>>>1:u>>>1;c[d]=u}return c}();r.exports=function(u,c){return u!==void 0&&u.length?o.getTypeOf(u)!=="string"?function(d,p,v,y){var w=a,b=y+v;d^=-1;for(var E=y;E<b;E++)d=d>>>8^w[255&(d^p[E])];return-1^d}(0|c,u,u.length,0):function(d,p,v,y){var w=a,b=y+v;d^=-1;for(var E=y;E<b;E++)d=d>>>8^w[255&(d^p.charCodeAt(E))];return-1^d}(0|c,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),u=n("./utils"),c=n("./stream/GenericWorker"),d=o?"uint8array":"array";function p(v,y){c.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}i.magic="\b\0",u.inherits(p,c),p.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(d,v.data),!1)},p.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},i.compressWorker=function(v){return new p("Deflate",v)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(w,b){var E,I="";for(E=0;E<b;E++)I+=String.fromCharCode(255&w),w>>>=8;return I}function a(w,b,E,I,S,k){var C,A,O=w.file,H=w.compression,D=k!==d.utf8encode,X=u.transformTo("string",k(O.name)),V=u.transformTo("string",d.utf8encode(O.name)),oe=O.comment,Ie=u.transformTo("string",k(oe)),$=u.transformTo("string",d.utf8encode(oe)),te=V.length!==O.name.length,j=$.length!==oe.length,he="",Ee="",re="",pe=O.dir,me=O.date,Se={crc32:0,compressedSize:0,uncompressedSize:0};b&&!E||(Se.crc32=w.crc32,Se.compressedSize=w.compressedSize,Se.uncompressedSize=w.uncompressedSize);var G=0;b&&(G|=8),D||!te&&!j||(G|=2048);var W=0,ae=0;pe&&(W|=16),S==="UNIX"?(ae=798,W|=function(_e,le){var B=_e;return _e||(B=le?16893:33204),(65535&B)<<16}(O.unixPermissions,pe)):(ae=20,W|=function(_e){return 63&(_e||0)}(O.dosPermissions)),C=me.getUTCHours(),C<<=6,C|=me.getUTCMinutes(),C<<=5,C|=me.getUTCSeconds()/2,A=me.getUTCFullYear()-1980,A<<=4,A|=me.getUTCMonth()+1,A<<=5,A|=me.getUTCDate(),te&&(Ee=o(1,1)+o(p(X),4)+V,he+="up"+o(Ee.length,2)+Ee),j&&(re=o(1,1)+o(p(Ie),4)+$,he+="uc"+o(re.length,2)+re);var de="";return de+=`
\0`,de+=o(G,2),de+=H.magic,de+=o(C,2),de+=o(A,2),de+=o(Se.crc32,4),de+=o(Se.compressedSize,4),de+=o(Se.uncompressedSize,4),de+=o(X.length,2),de+=o(he.length,2),{fileRecord:v.LOCAL_FILE_HEADER+de+X+he,dirRecord:v.CENTRAL_FILE_HEADER+o(ae,2)+de+o(Ie.length,2)+"\0\0\0\0"+o(W,4)+o(I,4)+X+he+Ie}}var u=n("../utils"),c=n("../stream/GenericWorker"),d=n("../utf8"),p=n("../crc32"),v=n("../signature");function y(w,b,E,I){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=E,this.encodeFileName=I,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(y,c),y.prototype.push=function(w){var b=w.meta.percent||0,E=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,c.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:E?(b+100*(E-I-1))/E:100}}))},y.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var b=this.streamFiles&&!w.file.dir;if(b){var E=a(w,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(w){this.accumulate=!1;var b=this.streamFiles&&!w.file.dir,E=a(w,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),b)this.push({data:function(I){return v.DATA_DESCRIPTOR+o(I.crc32,4)+o(I.compressedSize,4)+o(I.uncompressedSize,4)}(w),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var w=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var E=this.bytesWritten-w,I=function(S,k,C,A,O){var H=u.transformTo("string",O(A));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(S,2)+o(S,2)+o(k,4)+o(C,4)+o(H.length,2)+H}(this.dirRecords.length,E,w,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(w){this._sources.push(w);var b=this;return w.on("data",function(E){b.processChunk(E)}),w.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),w.on("error",function(E){b.error(E)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(w){var b=this._sources;if(!c.prototype.error.call(this,w))return!1;for(var E=0;E<b.length;E++)try{b[E].error(w)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var w=this._sources,b=0;b<w.length;b++)w[b].lock()},r.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(u,c,d){var p=new a(c.streamFiles,d,c.platform,c.encodeFileName),v=0;try{u.forEach(function(y,w){v++;var b=function(k,C){var A=k||C,O=o[A];if(!O)throw new Error(A+" is not a valid compression method !");return O}(w.options.compression,c.compression),E=w.options.compressionOptions||c.compressionOptions||{},I=w.dir,S=w.date;w._compressWorker(b,E).withStreamInfo("file",{name:y,dir:I,date:S,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(p)}),p.entriesCount=v}catch(y){p.error(y)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var u in this)typeof this[u]!="function"&&(a[u]=this[u]);return a}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(a,u){return new o().loadAsync(a,u)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),a=n("./external"),u=n("./utf8"),c=n("./zipEntries"),d=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function v(y){return new a.Promise(function(w,b){var E=y.decompressed.getContentWorker().pipe(new d);E.on("error",function(I){b(I)}).on("end",function(){E.streamInfo.crc32!==y.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}r.exports=function(y,w){var b=this;return w=o.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),p.isNode&&p.isStream(y)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",y,!0,w.optimizedBinaryString,w.base64).then(function(E){var I=new c(w);return I.load(E),I}).then(function(E){var I=[a.Promise.resolve(E)],S=E.files;if(w.checkCRC32)for(var k=0;k<S.length;k++)I.push(v(S[k]));return a.Promise.all(I)}).then(function(E){for(var I=E.shift(),S=I.files,k=0;k<S.length;k++){var C=S[k],A=C.fileNameStr,O=o.resolve(C.fileNameStr);b.file(O,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:w.createFolders}),C.dir||(b.file(O).unsafeOriginalName=A)}return I.zipComment.length&&(b.comment=I.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),a=n("../stream/GenericWorker");function u(c,d){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}o.inherits(u,a),u.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(p){d.push({data:p,meta:{percent:0}})}).on("error",function(p){d.isPaused?this.generatedError=p:d.error(p)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},u.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function a(u,c,d){o.call(this,c),this._helper=u;var p=this;u.on("data",function(v,y){p.push(v)||p._helper.pause(),d&&d(y)}).on("error",function(v){p.emit("error",v)}).on("end",function(){p.push(null)})}n("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(O,H,D){var X,V=u.getTypeOf(H),oe=u.extend(D||{},p);oe.date=oe.date||new Date,oe.compression!==null&&(oe.compression=oe.compression.toUpperCase()),typeof oe.unixPermissions=="string"&&(oe.unixPermissions=parseInt(oe.unixPermissions,8)),oe.unixPermissions&&16384&oe.unixPermissions&&(oe.dir=!0),oe.dosPermissions&&16&oe.dosPermissions&&(oe.dir=!0),oe.dir&&(O=S(O)),oe.createFolders&&(X=I(O))&&k.call(this,X,!0);var Ie=V==="string"&&oe.binary===!1&&oe.base64===!1;D&&D.binary!==void 0||(oe.binary=!Ie),(H instanceof v&&H.uncompressedSize===0||oe.dir||!H||H.length===0)&&(oe.base64=!1,oe.binary=!0,H="",oe.compression="STORE",V="string");var $=null;$=H instanceof v||H instanceof c?H:b.isNode&&b.isStream(H)?new E(O,H):u.prepareContent(O,H,oe.binary,oe.optimizedBinaryString,oe.base64);var te=new y(O,$,oe);this.files[O]=te}var a=n("./utf8"),u=n("./utils"),c=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),p=n("./defaults"),v=n("./compressedObject"),y=n("./zipObject"),w=n("./generate"),b=n("./nodejsUtils"),E=n("./nodejs/NodejsStreamInputAdapter"),I=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var H=O.lastIndexOf("/");return 0<H?O.substring(0,H):""},S=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},k=function(O,H){return H=H!==void 0?H:p.createFolders,O=S(O),this.files[O]||o.call(this,O,null,{dir:!0,createFolders:H}),this.files[O]};function C(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var H,D,X;for(H in this.files)X=this.files[H],(D=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&O(D,X)},filter:function(O){var H=[];return this.forEach(function(D,X){O(D,X)&&H.push(X)}),H},file:function(O,H,D){if(arguments.length!==1)return O=this.root+O,o.call(this,O,H,D),this;if(C(O)){var X=O;return this.filter(function(oe,Ie){return!Ie.dir&&X.test(oe)})}var V=this.files[this.root+O];return V&&!V.dir?V:null},folder:function(O){if(!O)return this;if(C(O))return this.filter(function(V,oe){return oe.dir&&O.test(V)});var H=this.root+O,D=k.call(this,H),X=this.clone();return X.root=D.name,X},remove:function(O){O=this.root+O;var H=this.files[O];if(H||(O.slice(-1)!=="/"&&(O+="/"),H=this.files[O]),H&&!H.dir)delete this.files[O];else for(var D=this.filter(function(V,oe){return oe.name.slice(0,O.length)===O}),X=0;X<D.length;X++)delete this.files[D[X].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var H,D={};try{if((D=u.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");u.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var X=D.comment||this.comment||"";H=w.generateWorker(this,D,X)}catch(V){(H=new c("error")).error(V)}return new d(H,D.type||"string",D.mimeType)},generateAsync:function(O,H){return this.generateInternalStream(O).accumulate(H)},generateNodeStream:function(O,H){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(H)}};r.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function a(u){o.call(this,u);for(var c=0;c<this.data.length;c++)u[c]=255&u[c]}n("../utils").inherits(a,o),a.prototype.byteAt=function(u){return this.data[this.zero+u]},a.prototype.lastIndexOfSignature=function(u){for(var c=u.charCodeAt(0),d=u.charCodeAt(1),p=u.charCodeAt(2),v=u.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===d&&this.data[y+2]===p&&this.data[y+3]===v)return y-this.zero;return-1},a.prototype.readAndCheckSignature=function(u){var c=u.charCodeAt(0),d=u.charCodeAt(1),p=u.charCodeAt(2),v=u.charCodeAt(3),y=this.readData(4);return c===y[0]&&d===y[1]&&p===y[2]&&v===y[3]},a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function a(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var c,d=0;for(this.checkOffset(u),c=this.index+u-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=u,d},readString:function(u){return o.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function a(u){o.call(this,u)}n("../utils").inherits(a,o),a.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function a(u){o.call(this,u)}n("../utils").inherits(a,o),a.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},a.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},a.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},a.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function a(u){o.call(this,u)}n("../utils").inherits(a,o),a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),a=n("../support"),u=n("./ArrayReader"),c=n("./StringReader"),d=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(v){var y=o.getTypeOf(v);return o.checkSupport(y),y!=="string"||a.uint8array?y==="nodebuffer"?new d(v):a.uint8array?new p(o.transformTo("uint8array",v)):new u(o.transformTo("array",v)):new c(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),a=n("../utils");function u(c){o.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(u,o),u.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),a=n("../crc32");function u(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,o),u.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),a=n("./GenericWorker");function u(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}o.inherits(u,a),u.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}a.prototype.processChunk.call(this,c)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),a=n("./GenericWorker");function u(c){a.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(p){d.dataIsReady=!0,d.data=p,d.max=p&&p.length||0,d.type=o.getTypeOf(p),d.isPaused||d._tickAndRepeat()},function(p){d.error(p)})}o.inherits(u,a),u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,u){return this._listeners[a].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,u){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,u)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var u=this;return a.on("data",function(c){u.processChunk(c)}),a.on("end",function(){u.end()}),a.on("error",function(c){u.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,u){return this.extraStreamInfo[a]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),a=n("./ConvertWorker"),u=n("./GenericWorker"),c=n("../base64"),d=n("../support"),p=n("../external"),v=null;if(d.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(b,E){return new p.Promise(function(I,S){var k=[],C=b._internalType,A=b._outputType,O=b._mimeType;b.on("data",function(H,D){k.push(H),E&&E(D)}).on("error",function(H){k=[],S(H)}).on("end",function(){try{var H=function(D,X,V){switch(D){case"blob":return o.newBlob(o.transformTo("arraybuffer",X),V);case"base64":return c.encode(X);default:return o.transformTo(D,X)}}(A,function(D,X){var V,oe=0,Ie=null,$=0;for(V=0;V<X.length;V++)$+=X[V].length;switch(D){case"string":return X.join("");case"array":return Array.prototype.concat.apply([],X);case"uint8array":for(Ie=new Uint8Array($),V=0;V<X.length;V++)Ie.set(X[V],oe),oe+=X[V].length;return Ie;case"nodebuffer":return Buffer.concat(X);default:throw new Error("concat : unsupported type '"+D+"'")}}(C,k),O);I(H)}catch(D){S(D)}k=[]}).resume()})}function w(b,E,I){var S=E;switch(E){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=E,this._mimeType=I,o.checkSupport(S),this._worker=b.pipe(new a(S)),b.lock()}catch(k){this._worker=new u("error"),this._worker.error(k)}}w.prototype={accumulate:function(b){return y(this,b)},on:function(b,E){var I=this;return b==="data"?this._worker.on(b,function(S){E.call(I,S.data,S.meta)}):this._worker.on(b,function(){o.delay(E,arguments,I)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),a=n("./support"),u=n("./nodejsUtils"),c=n("./stream/GenericWorker"),d=new Array(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;d[254]=d[254]=1;function v(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}i.utf8encode=function(w){return a.nodebuffer?u.newBufferFrom(w,"utf-8"):function(b){var E,I,S,k,C,A=b.length,O=0;for(k=0;k<A;k++)(64512&(I=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(S=b.charCodeAt(k+1)))==56320&&(I=65536+(I-55296<<10)+(S-56320),k++),O+=I<128?1:I<2048?2:I<65536?3:4;for(E=a.uint8array?new Uint8Array(O):new Array(O),k=C=0;C<O;k++)(64512&(I=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(S=b.charCodeAt(k+1)))==56320&&(I=65536+(I-55296<<10)+(S-56320),k++),I<128?E[C++]=I:(I<2048?E[C++]=192|I>>>6:(I<65536?E[C++]=224|I>>>12:(E[C++]=240|I>>>18,E[C++]=128|I>>>12&63),E[C++]=128|I>>>6&63),E[C++]=128|63&I);return E}(w)},i.utf8decode=function(w){return a.nodebuffer?o.transformTo("nodebuffer",w).toString("utf-8"):function(b){var E,I,S,k,C=b.length,A=new Array(2*C);for(E=I=0;E<C;)if((S=b[E++])<128)A[I++]=S;else if(4<(k=d[S]))A[I++]=65533,E+=k-1;else{for(S&=k===2?31:k===3?15:7;1<k&&E<C;)S=S<<6|63&b[E++],k--;1<k?A[I++]=65533:S<65536?A[I++]=S:(S-=65536,A[I++]=55296|S>>10&1023,A[I++]=56320|1023&S)}return A.length!==I&&(A.subarray?A=A.subarray(0,I):A.length=I),o.applyFromCharCode(A)}(w=o.transformTo(a.uint8array?"uint8array":"array",w))},o.inherits(v,c),v.prototype.processChunk=function(w){var b=o.transformTo(a.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var E=b;(b=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),b.set(E,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var I=function(k,C){var A;for((C=C||k.length)>k.length&&(C=k.length),A=C-1;0<=A&&(192&k[A])==128;)A--;return A<0||A===0?C:A+d[k[A]]>C?A:C}(b),S=b;I!==b.length&&(a.uint8array?(S=b.subarray(0,I),this.leftOver=b.subarray(I,b.length)):(S=b.slice(0,I),this.leftOver=b.slice(I,b.length))),this.push({data:i.utf8decode(S),meta:w.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=v,o.inherits(y,c),y.prototype.processChunk=function(w){this.push({data:i.utf8encode(w.data),meta:w.meta})},i.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),a=n("./base64"),u=n("./nodejsUtils"),c=n("./external");function d(E){return E}function p(E,I){for(var S=0;S<E.length;++S)I[S]=255&E.charCodeAt(S);return I}n("setimmediate"),i.newBlob=function(E,I){i.checkSupport("blob");try{return new Blob([E],{type:I})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(E),S.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(E,I,S){var k=[],C=0,A=E.length;if(A<=S)return String.fromCharCode.apply(null,E);for(;C<A;)I==="array"||I==="nodebuffer"?k.push(String.fromCharCode.apply(null,E.slice(C,Math.min(C+S,A)))):k.push(String.fromCharCode.apply(null,E.subarray(C,Math.min(C+S,A)))),C+=S;return k.join("")},stringifyByChar:function(E){for(var I="",S=0;S<E.length;S++)I+=String.fromCharCode(E[S]);return I},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function y(E){var I=65536,S=i.getTypeOf(E),k=!0;if(S==="uint8array"?k=v.applyCanBeUsed.uint8array:S==="nodebuffer"&&(k=v.applyCanBeUsed.nodebuffer),k)for(;1<I;)try{return v.stringifyByChunk(E,S,I)}catch{I=Math.floor(I/2)}return v.stringifyByChar(E)}function w(E,I){for(var S=0;S<E.length;S++)I[S]=E[S];return I}i.applyFromCharCode=y;var b={};b.string={string:d,array:function(E){return p(E,new Array(E.length))},arraybuffer:function(E){return b.string.uint8array(E).buffer},uint8array:function(E){return p(E,new Uint8Array(E.length))},nodebuffer:function(E){return p(E,u.allocBuffer(E.length))}},b.array={string:y,array:d,arraybuffer:function(E){return new Uint8Array(E).buffer},uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return u.newBufferFrom(E)}},b.arraybuffer={string:function(E){return y(new Uint8Array(E))},array:function(E){return w(new Uint8Array(E),new Array(E.byteLength))},arraybuffer:d,uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return u.newBufferFrom(new Uint8Array(E))}},b.uint8array={string:y,array:function(E){return w(E,new Array(E.length))},arraybuffer:function(E){return E.buffer},uint8array:d,nodebuffer:function(E){return u.newBufferFrom(E)}},b.nodebuffer={string:y,array:function(E){return w(E,new Array(E.length))},arraybuffer:function(E){return b.nodebuffer.uint8array(E).buffer},uint8array:function(E){return w(E,new Uint8Array(E.length))},nodebuffer:d},i.transformTo=function(E,I){if(I=I||"",!E)return I;i.checkSupport(E);var S=i.getTypeOf(I);return b[S][E](I)},i.resolve=function(E){for(var I=E.split("/"),S=[],k=0;k<I.length;k++){var C=I[k];C==="."||C===""&&k!==0&&k!==I.length-1||(C===".."?S.pop():S.push(C))}return S.join("/")},i.getTypeOf=function(E){return typeof E=="string"?"string":Object.prototype.toString.call(E)==="[object Array]"?"array":o.nodebuffer&&u.isBuffer(E)?"nodebuffer":o.uint8array&&E instanceof Uint8Array?"uint8array":o.arraybuffer&&E instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(E){if(!o[E.toLowerCase()])throw new Error(E+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(E){var I,S,k="";for(S=0;S<(E||"").length;S++)k+="\\x"+((I=E.charCodeAt(S))<16?"0":"")+I.toString(16).toUpperCase();return k},i.delay=function(E,I,S){setImmediate(function(){E.apply(S||null,I||[])})},i.inherits=function(E,I){function S(){}S.prototype=I.prototype,E.prototype=new S},i.extend=function(){var E,I,S={};for(E=0;E<arguments.length;E++)for(I in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],I)&&S[I]===void 0&&(S[I]=arguments[E][I]);return S},i.prepareContent=function(E,I,S,k,C){return c.Promise.resolve(I).then(function(A){return o.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new c.Promise(function(O,H){var D=new FileReader;D.onload=function(X){O(X.target.result)},D.onerror=function(X){H(X.target.error)},D.readAsArrayBuffer(A)}):A}).then(function(A){var O=i.getTypeOf(A);return O?(O==="arraybuffer"?A=i.transformTo("uint8array",A):O==="string"&&(C?A=a.decode(A):S&&k!==!0&&(A=function(H){return p(H,o.uint8array?new Uint8Array(H.length):new Array(H.length))}(A))),A):c.Promise.reject(new Error("Can't read the data of '"+E+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),a=n("./utils"),u=n("./signature"),c=n("./zipEntry"),d=n("./support");function p(v){this.files=[],this.loadOptions=v}p.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(y)+", expected "+a.pretty(v)+")")}},isSignature:function(v,y){var w=this.reader.index;this.reader.setIndex(v);var b=this.reader.readString(4)===y;return this.reader.setIndex(w),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=d.uint8array?"uint8array":"array",w=a.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,w,b=this.zip64EndOfCentralSize-44;0<b;)v=this.reader.readInt(2),y=this.reader.readInt(4),w=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(v=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var b=y-w;if(0<b)this.isSignature(y,u.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(v){this.reader=o(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),a=n("./utils"),u=n("./compressedObject"),c=n("./crc32"),d=n("./utf8"),p=n("./compressions"),v=n("./support");function y(w,b){this.options=w,this.loadOptions=b}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var b,E;if(w.skip(22),this.fileNameLength=w.readInt(2),E=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(I){for(var S in p)if(Object.prototype.hasOwnProperty.call(p,S)&&p[S].magic===I)return p[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,b,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var b=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(b),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var b,E,I,S=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<S;)b=w.readInt(2),E=w.readInt(2),I=w.readData(E),this.extraFields[b]={id:b,length:E,value:I};w.setIndex(S)},handleUTF8:function(){var w=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var E=a.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var S=a.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var b=o(w.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:d.utf8decode(b.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var b=o(w.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:d.utf8decode(b.readData(w.length-5))}return null}},r.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(b,E,I){this.name=b,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=E,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var a=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),c=n("./utf8"),d=n("./compressedObject"),p=n("./stream/GenericWorker");o.prototype={internalStream:function(b){var E=null,I="string";try{if(!b)throw new Error("No output type specified.");var S=(I=b.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),E=this._decompressWorker();var k=!this._dataBinary;k&&!S&&(E=E.pipe(new c.Utf8EncodeWorker)),!k&&S&&(E=E.pipe(new c.Utf8DecodeWorker))}catch(C){(E=new p("error")).error(C)}return new a(E,I,"")},async:function(b,E){return this.internalStream(b).accumulate(E)},nodeStream:function(b,E){return this.internalStream(b||"nodebuffer").toNodejsStream(E)},_compressWorker:function(b,E){if(this._data instanceof d&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(I,b,E)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof p?this._data:new u(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<v.length;w++)o.prototype[v[w]]=y;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var a,u,c=o.MutationObserver||o.WebKitMutationObserver;if(c){var d=0,p=new c(b),v=o.document.createTextNode("");p.observe(v,{characterData:!0}),a=function(){v.data=d=++d%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var E=o.document.createElement("script");E.onreadystatechange=function(){b(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},o.document.documentElement.appendChild(E)}:function(){setTimeout(b,0)};else{var y=new o.MessageChannel;y.port1.onmessage=b,a=function(){y.port2.postMessage(0)}}var w=[];function b(){var E,I;u=!0;for(var S=w.length;S;){for(I=w,w=[],E=-1;++E<S;)I[E]();S=w.length}u=!1}r.exports=function(E){w.push(E)!==1||u||a()}}).call(this,typeof Oa<"u"?Oa:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function a(){}var u={},c=["REJECTED"],d=["FULFILLED"],p=["PENDING"];function v(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,S!==a&&E(this,S)}function y(S,k,C){this.promise=S,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function w(S,k,C){o(function(){var A;try{A=k(C)}catch(O){return u.reject(S,O)}A===S?u.reject(S,new TypeError("Cannot resolve promise with itself")):u.resolve(S,A)})}function b(S){var k=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof k=="function")return function(){k.apply(S,arguments)}}function E(S,k){var C=!1;function A(D){C||(C=!0,u.reject(S,D))}function O(D){C||(C=!0,u.resolve(S,D))}var H=I(function(){k(O,A)});H.status==="error"&&A(H.value)}function I(S,k){var C={};try{C.value=S(k),C.status="success"}catch(A){C.status="error",C.value=A}return C}(r.exports=v).prototype.finally=function(S){if(typeof S!="function")return this;var k=this.constructor;return this.then(function(C){return k.resolve(S()).then(function(){return C})},function(C){return k.resolve(S()).then(function(){throw C})})},v.prototype.catch=function(S){return this.then(null,S)},v.prototype.then=function(S,k){if(typeof S!="function"&&this.state===d||typeof k!="function"&&this.state===c)return this;var C=new this.constructor(a);return this.state!==p?w(C,this.state===d?S:k,this.outcome):this.queue.push(new y(C,S,k)),C},y.prototype.callFulfilled=function(S){u.resolve(this.promise,S)},y.prototype.otherCallFulfilled=function(S){w(this.promise,this.onFulfilled,S)},y.prototype.callRejected=function(S){u.reject(this.promise,S)},y.prototype.otherCallRejected=function(S){w(this.promise,this.onRejected,S)},u.resolve=function(S,k){var C=I(b,k);if(C.status==="error")return u.reject(S,C.value);var A=C.value;if(A)E(S,A);else{S.state=d,S.outcome=k;for(var O=-1,H=S.queue.length;++O<H;)S.queue[O].callFulfilled(k)}return S},u.reject=function(S,k){S.state=c,S.outcome=k;for(var C=-1,A=S.queue.length;++C<A;)S.queue[C].callRejected(k);return S},v.resolve=function(S){return S instanceof this?S:u.resolve(new this(a),S)},v.reject=function(S){var k=new this(a);return u.reject(k,S)},v.all=function(S){var k=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,A=!1;if(!C)return this.resolve([]);for(var O=new Array(C),H=0,D=-1,X=new this(a);++D<C;)V(S[D],D);return X;function V(oe,Ie){k.resolve(oe).then(function($){O[Ie]=$,++H!==C||A||(A=!0,u.resolve(X,O))},function($){A||(A=!0,u.reject(X,$))})}},v.race=function(S){var k=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,A=!1;if(!C)return this.resolve([]);for(var O=-1,H=new this(a);++O<C;)D=S[O],k.resolve(D).then(function(X){A||(A=!0,u.resolve(H,X))},function(X){A||(A=!0,u.reject(H,X))});var D;return H}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),a=n("./utils/common"),u=n("./utils/strings"),c=n("./zlib/messages"),d=n("./zlib/zstream"),p=Object.prototype.toString,v=0,y=-1,w=0,b=8;function E(S){if(!(this instanceof E))return new E(S);this.options=a.assign({level:y,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},S||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var C=o.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(C!==v)throw new Error(c[C]);if(k.header&&o.deflateSetHeader(this.strm,k.header),k.dictionary){var A;if(A=typeof k.dictionary=="string"?u.string2buf(k.dictionary):p.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(C=o.deflateSetDictionary(this.strm,A))!==v)throw new Error(c[C]);this._dict_set=!0}}function I(S,k){var C=new E(k);if(C.push(S,!0),C.err)throw C.msg||c[C.err];return C.result}E.prototype.push=function(S,k){var C,A,O=this.strm,H=this.options.chunkSize;if(this.ended)return!1;A=k===~~k?k:k===!0?4:0,typeof S=="string"?O.input=u.string2buf(S):p.call(S)==="[object ArrayBuffer]"?O.input=new Uint8Array(S):O.input=S,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(H),O.next_out=0,O.avail_out=H),(C=o.deflate(O,A))!==1&&C!==v)return this.onEnd(C),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(a.shrinkBuf(O.output,O.next_out))):this.onData(a.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&C!==1);return A===4?(C=o.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===v):A!==2||(this.onEnd(v),!(O.avail_out=0))},E.prototype.onData=function(S){this.chunks.push(S)},E.prototype.onEnd=function(S){S===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Deflate=E,i.deflate=I,i.deflateRaw=function(S,k){return(k=k||{}).raw=!0,I(S,k)},i.gzip=function(S,k){return(k=k||{}).gzip=!0,I(S,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),a=n("./utils/common"),u=n("./utils/strings"),c=n("./zlib/constants"),d=n("./zlib/messages"),p=n("./zlib/zstream"),v=n("./zlib/gzheader"),y=Object.prototype.toString;function w(E){if(!(this instanceof w))return new w(E);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},E||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||E&&E.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&!(15&I.windowBits)&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var S=o.inflateInit2(this.strm,I.windowBits);if(S!==c.Z_OK)throw new Error(d[S]);this.header=new v,o.inflateGetHeader(this.strm,this.header)}function b(E,I){var S=new w(I);if(S.push(E,!0),S.err)throw S.msg||d[S.err];return S.result}w.prototype.push=function(E,I){var S,k,C,A,O,H,D=this.strm,X=this.options.chunkSize,V=this.options.dictionary,oe=!1;if(this.ended)return!1;k=I===~~I?I:I===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof E=="string"?D.input=u.binstring2buf(E):y.call(E)==="[object ArrayBuffer]"?D.input=new Uint8Array(E):D.input=E,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(X),D.next_out=0,D.avail_out=X),(S=o.inflate(D,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&V&&(H=typeof V=="string"?u.string2buf(V):y.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,S=o.inflateSetDictionary(this.strm,H)),S===c.Z_BUF_ERROR&&oe===!0&&(S=c.Z_OK,oe=!1),S!==c.Z_STREAM_END&&S!==c.Z_OK)return this.onEnd(S),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&S!==c.Z_STREAM_END&&(D.avail_in!==0||k!==c.Z_FINISH&&k!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=u.utf8border(D.output,D.next_out),A=D.next_out-C,O=u.buf2string(D.output,C),D.next_out=A,D.avail_out=X-A,A&&a.arraySet(D.output,D.output,C,A,0),this.onData(O)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(oe=!0)}while((0<D.avail_in||D.avail_out===0)&&S!==c.Z_STREAM_END);return S===c.Z_STREAM_END&&(k=c.Z_FINISH),k===c.Z_FINISH?(S=o.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===c.Z_OK):k!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(D.avail_out=0))},w.prototype.onData=function(E){this.chunks.push(E)},w.prototype.onEnd=function(E){E===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},i.Inflate=w,i.inflate=b,i.inflateRaw=function(E,I){return(I=I||{}).raw=!0,b(E,I)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var p=d.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var v in p)p.hasOwnProperty(v)&&(c[v]=p[v])}}return c},i.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var a={arraySet:function(c,d,p,v,y){if(d.subarray&&c.subarray)c.set(d.subarray(p,p+v),y);else for(var w=0;w<v;w++)c[y+w]=d[p+w]},flattenChunks:function(c){var d,p,v,y,w,b;for(d=v=0,p=c.length;d<p;d++)v+=c[d].length;for(b=new Uint8Array(v),d=y=0,p=c.length;d<p;d++)w=c[d],b.set(w,y),y+=w.length;return b}},u={arraySet:function(c,d,p,v,y){for(var w=0;w<v;w++)c[y+w]=d[p+w]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),a=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var c=new o.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function p(v,y){if(y<65537&&(v.subarray&&u||!v.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(v,y));for(var w="",b=0;b<y;b++)w+=String.fromCharCode(v[b]);return w}c[254]=c[254]=1,i.string2buf=function(v){var y,w,b,E,I,S=v.length,k=0;for(E=0;E<S;E++)(64512&(w=v.charCodeAt(E)))==55296&&E+1<S&&(64512&(b=v.charCodeAt(E+1)))==56320&&(w=65536+(w-55296<<10)+(b-56320),E++),k+=w<128?1:w<2048?2:w<65536?3:4;for(y=new o.Buf8(k),E=I=0;I<k;E++)(64512&(w=v.charCodeAt(E)))==55296&&E+1<S&&(64512&(b=v.charCodeAt(E+1)))==56320&&(w=65536+(w-55296<<10)+(b-56320),E++),w<128?y[I++]=w:(w<2048?y[I++]=192|w>>>6:(w<65536?y[I++]=224|w>>>12:(y[I++]=240|w>>>18,y[I++]=128|w>>>12&63),y[I++]=128|w>>>6&63),y[I++]=128|63&w);return y},i.buf2binstring=function(v){return p(v,v.length)},i.binstring2buf=function(v){for(var y=new o.Buf8(v.length),w=0,b=y.length;w<b;w++)y[w]=v.charCodeAt(w);return y},i.buf2string=function(v,y){var w,b,E,I,S=y||v.length,k=new Array(2*S);for(w=b=0;w<S;)if((E=v[w++])<128)k[b++]=E;else if(4<(I=c[E]))k[b++]=65533,w+=I-1;else{for(E&=I===2?31:I===3?15:7;1<I&&w<S;)E=E<<6|63&v[w++],I--;1<I?k[b++]=65533:E<65536?k[b++]=E:(E-=65536,k[b++]=55296|E>>10&1023,k[b++]=56320|1023&E)}return p(k,b)},i.utf8border=function(v,y){var w;for((y=y||v.length)>v.length&&(y=v.length),w=y-1;0<=w&&(192&v[w])==128;)w--;return w<0||w===0?y:w+c[v[w]]>y?w:y}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,a,u,c){for(var d=65535&o|0,p=o>>>16&65535|0,v=0;u!==0;){for(u-=v=2e3<u?2e3:u;p=p+(d=d+a[c++]|0)|0,--v;);d%=65521,p%=65521}return d|p<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=function(){for(var a,u=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;u[c]=a}return u}();r.exports=function(a,u,c,d){var p=o,v=d+c;a^=-1;for(var y=d;y<v;y++)a=a>>>8^p[255&(a^u[y])];return-1^a}},{}],46:[function(n,r,i){var o,a=n("../utils/common"),u=n("./trees"),c=n("./adler32"),d=n("./crc32"),p=n("./messages"),v=0,y=4,w=0,b=-2,E=-1,I=4,S=2,k=8,C=9,A=286,O=30,H=19,D=2*A+1,X=15,V=3,oe=258,Ie=oe+V+1,$=42,te=113,j=1,he=2,Ee=3,re=4;function pe(F,Te){return F.msg=p[Te],Te}function me(F){return(F<<1)-(4<F?9:0)}function Se(F){for(var Te=F.length;0<=--Te;)F[Te]=0}function G(F){var Te=F.state,z=Te.pending;z>F.avail_out&&(z=F.avail_out),z!==0&&(a.arraySet(F.output,Te.pending_buf,Te.pending_out,z,F.next_out),F.next_out+=z,Te.pending_out+=z,F.total_out+=z,F.avail_out-=z,Te.pending-=z,Te.pending===0&&(Te.pending_out=0))}function W(F,Te){u._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Te),F.block_start=F.strstart,G(F.strm)}function ae(F,Te){F.pending_buf[F.pending++]=Te}function de(F,Te){F.pending_buf[F.pending++]=Te>>>8&255,F.pending_buf[F.pending++]=255&Te}function _e(F,Te){var z,x,R=F.max_chain_length,U=F.strstart,ne=F.prev_length,ye=F.nice_match,ue=F.strstart>F.w_size-Ie?F.strstart-(F.w_size-Ie):0,De=F.window,Pe=F.w_mask,Me=F.prev,$e=F.strstart+oe,et=De[U+ne-1],ct=De[U+ne];F.prev_length>=F.good_match&&(R>>=2),ye>F.lookahead&&(ye=F.lookahead);do if(De[(z=Te)+ne]===ct&&De[z+ne-1]===et&&De[z]===De[U]&&De[++z]===De[U+1]){U+=2,z++;do;while(De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&De[++U]===De[++z]&&U<$e);if(x=oe-($e-U),U=$e-oe,ne<x){if(F.match_start=Te,ye<=(ne=x))break;et=De[U+ne-1],ct=De[U+ne]}}while((Te=Me[Te&Pe])>ue&&--R!=0);return ne<=F.lookahead?ne:F.lookahead}function le(F){var Te,z,x,R,U,ne,ye,ue,De,Pe,Me=F.w_size;do{if(R=F.window_size-F.lookahead-F.strstart,F.strstart>=Me+(Me-Ie)){for(a.arraySet(F.window,F.window,Me,Me,0),F.match_start-=Me,F.strstart-=Me,F.block_start-=Me,Te=z=F.hash_size;x=F.head[--Te],F.head[Te]=Me<=x?x-Me:0,--z;);for(Te=z=Me;x=F.prev[--Te],F.prev[Te]=Me<=x?x-Me:0,--z;);R+=Me}if(F.strm.avail_in===0)break;if(ne=F.strm,ye=F.window,ue=F.strstart+F.lookahead,De=R,Pe=void 0,Pe=ne.avail_in,De<Pe&&(Pe=De),z=Pe===0?0:(ne.avail_in-=Pe,a.arraySet(ye,ne.input,ne.next_in,Pe,ue),ne.state.wrap===1?ne.adler=c(ne.adler,ye,Pe,ue):ne.state.wrap===2&&(ne.adler=d(ne.adler,ye,Pe,ue)),ne.next_in+=Pe,ne.total_in+=Pe,Pe),F.lookahead+=z,F.lookahead+F.insert>=V)for(U=F.strstart-F.insert,F.ins_h=F.window[U],F.ins_h=(F.ins_h<<F.hash_shift^F.window[U+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[U+V-1])&F.hash_mask,F.prev[U&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=U,U++,F.insert--,!(F.lookahead+F.insert<V)););}while(F.lookahead<Ie&&F.strm.avail_in!==0)}function B(F,Te){for(var z,x;;){if(F.lookahead<Ie){if(le(F),F.lookahead<Ie&&Te===v)return j;if(F.lookahead===0)break}if(z=0,F.lookahead>=V&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+V-1])&F.hash_mask,z=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),z!==0&&F.strstart-z<=F.w_size-Ie&&(F.match_length=_e(F,z)),F.match_length>=V)if(x=u._tr_tally(F,F.strstart-F.match_start,F.match_length-V),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=V){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+V-1])&F.hash_mask,z=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else x=u._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(x&&(W(F,!1),F.strm.avail_out===0))return j}return F.insert=F.strstart<V-1?F.strstart:V-1,Te===y?(W(F,!0),F.strm.avail_out===0?Ee:re):F.last_lit&&(W(F,!1),F.strm.avail_out===0)?j:he}function M(F,Te){for(var z,x,R;;){if(F.lookahead<Ie){if(le(F),F.lookahead<Ie&&Te===v)return j;if(F.lookahead===0)break}if(z=0,F.lookahead>=V&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+V-1])&F.hash_mask,z=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=V-1,z!==0&&F.prev_length<F.max_lazy_match&&F.strstart-z<=F.w_size-Ie&&(F.match_length=_e(F,z),F.match_length<=5&&(F.strategy===1||F.match_length===V&&4096<F.strstart-F.match_start)&&(F.match_length=V-1)),F.prev_length>=V&&F.match_length<=F.prev_length){for(R=F.strstart+F.lookahead-V,x=u._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-V),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=R&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+V-1])&F.hash_mask,z=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=V-1,F.strstart++,x&&(W(F,!1),F.strm.avail_out===0))return j}else if(F.match_available){if((x=u._tr_tally(F,0,F.window[F.strstart-1]))&&W(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return j}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(x=u._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<V-1?F.strstart:V-1,Te===y?(W(F,!0),F.strm.avail_out===0?Ee:re):F.last_lit&&(W(F,!1),F.strm.avail_out===0)?j:he}function se(F,Te,z,x,R){this.good_length=F,this.max_lazy=Te,this.nice_length=z,this.max_chain=x,this.func=R}function ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*O+1)),this.bl_tree=new a.Buf16(2*(2*H+1)),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(X+1),this.heap=new a.Buf16(2*A+1),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(F){var Te;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=S,(Te=F.state).pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap?$:te,F.adler=Te.wrap===2?0:1,Te.last_flush=v,u._tr_init(Te),w):pe(F,b)}function Z(F){var Te=Q(F);return Te===w&&function(z){z.window_size=2*z.w_size,Se(z.head),z.max_lazy_match=o[z.level].max_lazy,z.good_match=o[z.level].good_length,z.nice_match=o[z.level].nice_length,z.max_chain_length=o[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=V-1,z.match_available=0,z.ins_h=0}(F.state),Te}function Ce(F,Te,z,x,R,U){if(!F)return b;var ne=1;if(Te===E&&(Te=6),x<0?(ne=0,x=-x):15<x&&(ne=2,x-=16),R<1||C<R||z!==k||x<8||15<x||Te<0||9<Te||U<0||I<U)return pe(F,b);x===8&&(x=9);var ye=new ie;return(F.state=ye).strm=F,ye.wrap=ne,ye.gzhead=null,ye.w_bits=x,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=R+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+V-1)/V),ye.window=new a.Buf8(2*ye.w_size),ye.head=new a.Buf16(ye.hash_size),ye.prev=new a.Buf16(ye.w_size),ye.lit_bufsize=1<<R+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new a.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=Te,ye.strategy=U,ye.method=z,Z(F)}o=[new se(0,0,0,0,function(F,Te){var z=65535;for(z>F.pending_buf_size-5&&(z=F.pending_buf_size-5);;){if(F.lookahead<=1){if(le(F),F.lookahead===0&&Te===v)return j;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var x=F.block_start+z;if((F.strstart===0||F.strstart>=x)&&(F.lookahead=F.strstart-x,F.strstart=x,W(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-Ie&&(W(F,!1),F.strm.avail_out===0))return j}return F.insert=0,Te===y?(W(F,!0),F.strm.avail_out===0?Ee:re):(F.strstart>F.block_start&&(W(F,!1),F.strm.avail_out),j)}),new se(4,4,8,4,B),new se(4,5,16,8,B),new se(4,6,32,32,B),new se(4,4,16,16,M),new se(8,16,32,32,M),new se(8,16,128,128,M),new se(8,32,128,256,M),new se(32,128,258,1024,M),new se(32,258,258,4096,M)],i.deflateInit=function(F,Te){return Ce(F,Te,k,15,8,0)},i.deflateInit2=Ce,i.deflateReset=Z,i.deflateResetKeep=Q,i.deflateSetHeader=function(F,Te){return F&&F.state?F.state.wrap!==2?b:(F.state.gzhead=Te,w):b},i.deflate=function(F,Te){var z,x,R,U;if(!F||!F.state||5<Te||Te<0)return F?pe(F,b):b;if(x=F.state,!F.output||!F.input&&F.avail_in!==0||x.status===666&&Te!==y)return pe(F,F.avail_out===0?-5:b);if(x.strm=F,z=x.last_flush,x.last_flush=Te,x.status===$)if(x.wrap===2)F.adler=0,ae(x,31),ae(x,139),ae(x,8),x.gzhead?(ae(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),ae(x,255&x.gzhead.time),ae(x,x.gzhead.time>>8&255),ae(x,x.gzhead.time>>16&255),ae(x,x.gzhead.time>>24&255),ae(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),ae(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(ae(x,255&x.gzhead.extra.length),ae(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(F.adler=d(F.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(ae(x,0),ae(x,0),ae(x,0),ae(x,0),ae(x,0),ae(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),ae(x,3),x.status=te);else{var ne=k+(x.w_bits-8<<4)<<8;ne|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(ne|=32),ne+=31-ne%31,x.status=te,de(x,ne),x.strstart!==0&&(de(x,F.adler>>>16),de(x,65535&F.adler)),F.adler=1}if(x.status===69)if(x.gzhead.extra){for(R=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>R&&(F.adler=d(F.adler,x.pending_buf,x.pending-R,R)),G(F),R=x.pending,x.pending!==x.pending_buf_size));)ae(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>R&&(F.adler=d(F.adler,x.pending_buf,x.pending-R,R)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){R=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>R&&(F.adler=d(F.adler,x.pending_buf,x.pending-R,R)),G(F),R=x.pending,x.pending===x.pending_buf_size)){U=1;break}U=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,ae(x,U)}while(U!==0);x.gzhead.hcrc&&x.pending>R&&(F.adler=d(F.adler,x.pending_buf,x.pending-R,R)),U===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){R=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>R&&(F.adler=d(F.adler,x.pending_buf,x.pending-R,R)),G(F),R=x.pending,x.pending===x.pending_buf_size)){U=1;break}U=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,ae(x,U)}while(U!==0);x.gzhead.hcrc&&x.pending>R&&(F.adler=d(F.adler,x.pending_buf,x.pending-R,R)),U===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&G(F),x.pending+2<=x.pending_buf_size&&(ae(x,255&F.adler),ae(x,F.adler>>8&255),F.adler=0,x.status=te)):x.status=te),x.pending!==0){if(G(F),F.avail_out===0)return x.last_flush=-1,w}else if(F.avail_in===0&&me(Te)<=me(z)&&Te!==y)return pe(F,-5);if(x.status===666&&F.avail_in!==0)return pe(F,-5);if(F.avail_in!==0||x.lookahead!==0||Te!==v&&x.status!==666){var ye=x.strategy===2?function(ue,De){for(var Pe;;){if(ue.lookahead===0&&(le(ue),ue.lookahead===0)){if(De===v)return j;break}if(ue.match_length=0,Pe=u._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,Pe&&(W(ue,!1),ue.strm.avail_out===0))return j}return ue.insert=0,De===y?(W(ue,!0),ue.strm.avail_out===0?Ee:re):ue.last_lit&&(W(ue,!1),ue.strm.avail_out===0)?j:he}(x,Te):x.strategy===3?function(ue,De){for(var Pe,Me,$e,et,ct=ue.window;;){if(ue.lookahead<=oe){if(le(ue),ue.lookahead<=oe&&De===v)return j;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=V&&0<ue.strstart&&(Me=ct[$e=ue.strstart-1])===ct[++$e]&&Me===ct[++$e]&&Me===ct[++$e]){et=ue.strstart+oe;do;while(Me===ct[++$e]&&Me===ct[++$e]&&Me===ct[++$e]&&Me===ct[++$e]&&Me===ct[++$e]&&Me===ct[++$e]&&Me===ct[++$e]&&Me===ct[++$e]&&$e<et);ue.match_length=oe-(et-$e),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=V?(Pe=u._tr_tally(ue,1,ue.match_length-V),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(Pe=u._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),Pe&&(W(ue,!1),ue.strm.avail_out===0))return j}return ue.insert=0,De===y?(W(ue,!0),ue.strm.avail_out===0?Ee:re):ue.last_lit&&(W(ue,!1),ue.strm.avail_out===0)?j:he}(x,Te):o[x.level].func(x,Te);if(ye!==Ee&&ye!==re||(x.status=666),ye===j||ye===Ee)return F.avail_out===0&&(x.last_flush=-1),w;if(ye===he&&(Te===1?u._tr_align(x):Te!==5&&(u._tr_stored_block(x,0,0,!1),Te===3&&(Se(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),G(F),F.avail_out===0))return x.last_flush=-1,w}return Te!==y?w:x.wrap<=0?1:(x.wrap===2?(ae(x,255&F.adler),ae(x,F.adler>>8&255),ae(x,F.adler>>16&255),ae(x,F.adler>>24&255),ae(x,255&F.total_in),ae(x,F.total_in>>8&255),ae(x,F.total_in>>16&255),ae(x,F.total_in>>24&255)):(de(x,F.adler>>>16),de(x,65535&F.adler)),G(F),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?w:1)},i.deflateEnd=function(F){var Te;return F&&F.state?(Te=F.state.status)!==$&&Te!==69&&Te!==73&&Te!==91&&Te!==103&&Te!==te&&Te!==666?pe(F,b):(F.state=null,Te===te?pe(F,-3):w):b},i.deflateSetDictionary=function(F,Te){var z,x,R,U,ne,ye,ue,De,Pe=Te.length;if(!F||!F.state||(U=(z=F.state).wrap)===2||U===1&&z.status!==$||z.lookahead)return b;for(U===1&&(F.adler=c(F.adler,Te,Pe,0)),z.wrap=0,Pe>=z.w_size&&(U===0&&(Se(z.head),z.strstart=0,z.block_start=0,z.insert=0),De=new a.Buf8(z.w_size),a.arraySet(De,Te,Pe-z.w_size,z.w_size,0),Te=De,Pe=z.w_size),ne=F.avail_in,ye=F.next_in,ue=F.input,F.avail_in=Pe,F.next_in=0,F.input=Te,le(z);z.lookahead>=V;){for(x=z.strstart,R=z.lookahead-(V-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[x+V-1])&z.hash_mask,z.prev[x&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=x,x++,--R;);z.strstart=x,z.lookahead=V-1,le(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=V-1,z.match_available=0,F.next_in=ye,F.input=ue,F.avail_in=ne,z.wrap=U,w},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,a){var u,c,d,p,v,y,w,b,E,I,S,k,C,A,O,H,D,X,V,oe,Ie,$,te,j,he;u=o.state,c=o.next_in,j=o.input,d=c+(o.avail_in-5),p=o.next_out,he=o.output,v=p-(a-o.avail_out),y=p+(o.avail_out-257),w=u.dmax,b=u.wsize,E=u.whave,I=u.wnext,S=u.window,k=u.hold,C=u.bits,A=u.lencode,O=u.distcode,H=(1<<u.lenbits)-1,D=(1<<u.distbits)-1;e:do{C<15&&(k+=j[c++]<<C,C+=8,k+=j[c++]<<C,C+=8),X=A[k&H];t:for(;;){if(k>>>=V=X>>>24,C-=V,(V=X>>>16&255)===0)he[p++]=65535&X;else{if(!(16&V)){if(!(64&V)){X=A[(65535&X)+(k&(1<<V)-1)];continue t}if(32&V){u.mode=12;break e}o.msg="invalid literal/length code",u.mode=30;break e}oe=65535&X,(V&=15)&&(C<V&&(k+=j[c++]<<C,C+=8),oe+=k&(1<<V)-1,k>>>=V,C-=V),C<15&&(k+=j[c++]<<C,C+=8,k+=j[c++]<<C,C+=8),X=O[k&D];n:for(;;){if(k>>>=V=X>>>24,C-=V,!(16&(V=X>>>16&255))){if(!(64&V)){X=O[(65535&X)+(k&(1<<V)-1)];continue n}o.msg="invalid distance code",u.mode=30;break e}if(Ie=65535&X,C<(V&=15)&&(k+=j[c++]<<C,(C+=8)<V&&(k+=j[c++]<<C,C+=8)),w<(Ie+=k&(1<<V)-1)){o.msg="invalid distance too far back",u.mode=30;break e}if(k>>>=V,C-=V,(V=p-v)<Ie){if(E<(V=Ie-V)&&u.sane){o.msg="invalid distance too far back",u.mode=30;break e}if(te=S,($=0)===I){if($+=b-V,V<oe){for(oe-=V;he[p++]=S[$++],--V;);$=p-Ie,te=he}}else if(I<V){if($+=b+I-V,(V-=I)<oe){for(oe-=V;he[p++]=S[$++],--V;);if($=0,I<oe){for(oe-=V=I;he[p++]=S[$++],--V;);$=p-Ie,te=he}}}else if($+=I-V,V<oe){for(oe-=V;he[p++]=S[$++],--V;);$=p-Ie,te=he}for(;2<oe;)he[p++]=te[$++],he[p++]=te[$++],he[p++]=te[$++],oe-=3;oe&&(he[p++]=te[$++],1<oe&&(he[p++]=te[$++]))}else{for($=p-Ie;he[p++]=he[$++],he[p++]=he[$++],he[p++]=he[$++],2<(oe-=3););oe&&(he[p++]=he[$++],1<oe&&(he[p++]=he[$++]))}break}}break}}while(c<d&&p<y);c-=oe=C>>3,k&=(1<<(C-=oe<<3))-1,o.next_in=c,o.next_out=p,o.avail_in=c<d?d-c+5:5-(c-d),o.avail_out=p<y?y-p+257:257-(p-y),u.hold=k,u.bits=C}},{}],49:[function(n,r,i){var o=n("../utils/common"),a=n("./adler32"),u=n("./crc32"),c=n("./inffast"),d=n("./inftrees"),p=1,v=2,y=0,w=-2,b=1,E=852,I=592;function S($){return($>>>24&255)+($>>>8&65280)+((65280&$)<<8)+((255&$)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C($){var te;return $&&$.state?(te=$.state,$.total_in=$.total_out=te.total=0,$.msg="",te.wrap&&($.adler=1&te.wrap),te.mode=b,te.last=0,te.havedict=0,te.dmax=32768,te.head=null,te.hold=0,te.bits=0,te.lencode=te.lendyn=new o.Buf32(E),te.distcode=te.distdyn=new o.Buf32(I),te.sane=1,te.back=-1,y):w}function A($){var te;return $&&$.state?((te=$.state).wsize=0,te.whave=0,te.wnext=0,C($)):w}function O($,te){var j,he;return $&&$.state?(he=$.state,te<0?(j=0,te=-te):(j=1+(te>>4),te<48&&(te&=15)),te&&(te<8||15<te)?w:(he.window!==null&&he.wbits!==te&&(he.window=null),he.wrap=j,he.wbits=te,A($))):w}function H($,te){var j,he;return $?(he=new k,($.state=he).window=null,(j=O($,te))!==y&&($.state=null),j):w}var D,X,V=!0;function oe($){if(V){var te;for(D=new o.Buf32(512),X=new o.Buf32(32),te=0;te<144;)$.lens[te++]=8;for(;te<256;)$.lens[te++]=9;for(;te<280;)$.lens[te++]=7;for(;te<288;)$.lens[te++]=8;for(d(p,$.lens,0,288,D,0,$.work,{bits:9}),te=0;te<32;)$.lens[te++]=5;d(v,$.lens,0,32,X,0,$.work,{bits:5}),V=!1}$.lencode=D,$.lenbits=9,$.distcode=X,$.distbits=5}function Ie($,te,j,he){var Ee,re=$.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new o.Buf8(re.wsize)),he>=re.wsize?(o.arraySet(re.window,te,j-re.wsize,re.wsize,0),re.wnext=0,re.whave=re.wsize):(he<(Ee=re.wsize-re.wnext)&&(Ee=he),o.arraySet(re.window,te,j-he,Ee,re.wnext),(he-=Ee)?(o.arraySet(re.window,te,j-he,he,0),re.wnext=he,re.whave=re.wsize):(re.wnext+=Ee,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=Ee))),0}i.inflateReset=A,i.inflateReset2=O,i.inflateResetKeep=C,i.inflateInit=function($){return H($,15)},i.inflateInit2=H,i.inflate=function($,te){var j,he,Ee,re,pe,me,Se,G,W,ae,de,_e,le,B,M,se,ie,Q,Z,Ce,F,Te,z,x,R=0,U=new o.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return w;(j=$.state).mode===12&&(j.mode=13),pe=$.next_out,Ee=$.output,Se=$.avail_out,re=$.next_in,he=$.input,me=$.avail_in,G=j.hold,W=j.bits,ae=me,de=Se,Te=y;e:for(;;)switch(j.mode){case b:if(j.wrap===0){j.mode=13;break}for(;W<16;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if(2&j.wrap&&G===35615){U[j.check=0]=255&G,U[1]=G>>>8&255,j.check=u(j.check,U,2,0),W=G=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&G)<<8)+(G>>8))%31){$.msg="incorrect header check",j.mode=30;break}if((15&G)!=8){$.msg="unknown compression method",j.mode=30;break}if(W-=4,F=8+(15&(G>>>=4)),j.wbits===0)j.wbits=F;else if(F>j.wbits){$.msg="invalid window size",j.mode=30;break}j.dmax=1<<F,$.adler=j.check=1,j.mode=512&G?10:12,W=G=0;break;case 2:for(;W<16;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if(j.flags=G,(255&j.flags)!=8){$.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){$.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=G>>8&1),512&j.flags&&(U[0]=255&G,U[1]=G>>>8&255,j.check=u(j.check,U,2,0)),W=G=0,j.mode=3;case 3:for(;W<32;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}j.head&&(j.head.time=G),512&j.flags&&(U[0]=255&G,U[1]=G>>>8&255,U[2]=G>>>16&255,U[3]=G>>>24&255,j.check=u(j.check,U,4,0)),W=G=0,j.mode=4;case 4:for(;W<16;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}j.head&&(j.head.xflags=255&G,j.head.os=G>>8),512&j.flags&&(U[0]=255&G,U[1]=G>>>8&255,j.check=u(j.check,U,2,0)),W=G=0,j.mode=5;case 5:if(1024&j.flags){for(;W<16;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}j.length=G,j.head&&(j.head.extra_len=G),512&j.flags&&(U[0]=255&G,U[1]=G>>>8&255,j.check=u(j.check,U,2,0)),W=G=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(me<(_e=j.length)&&(_e=me),_e&&(j.head&&(F=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),o.arraySet(j.head.extra,he,re,_e,F)),512&j.flags&&(j.check=u(j.check,he,_e,re)),me-=_e,re+=_e,j.length-=_e),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(me===0)break e;for(_e=0;F=he[re+_e++],j.head&&F&&j.length<65536&&(j.head.name+=String.fromCharCode(F)),F&&_e<me;);if(512&j.flags&&(j.check=u(j.check,he,_e,re)),me-=_e,re+=_e,F)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(me===0)break e;for(_e=0;F=he[re+_e++],j.head&&F&&j.length<65536&&(j.head.comment+=String.fromCharCode(F)),F&&_e<me;);if(512&j.flags&&(j.check=u(j.check,he,_e,re)),me-=_e,re+=_e,F)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;W<16;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if(G!==(65535&j.check)){$.msg="header crc mismatch",j.mode=30;break}W=G=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),$.adler=j.check=0,j.mode=12;break;case 10:for(;W<32;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}$.adler=j.check=S(G),W=G=0,j.mode=11;case 11:if(j.havedict===0)return $.next_out=pe,$.avail_out=Se,$.next_in=re,$.avail_in=me,j.hold=G,j.bits=W,2;$.adler=j.check=1,j.mode=12;case 12:if(te===5||te===6)break e;case 13:if(j.last){G>>>=7&W,W-=7&W,j.mode=27;break}for(;W<3;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}switch(j.last=1&G,W-=1,3&(G>>>=1)){case 0:j.mode=14;break;case 1:if(oe(j),j.mode=20,te!==6)break;G>>>=2,W-=2;break e;case 2:j.mode=17;break;case 3:$.msg="invalid block type",j.mode=30}G>>>=2,W-=2;break;case 14:for(G>>>=7&W,W-=7&W;W<32;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if((65535&G)!=(G>>>16^65535)){$.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&G,W=G=0,j.mode=15,te===6)break e;case 15:j.mode=16;case 16:if(_e=j.length){if(me<_e&&(_e=me),Se<_e&&(_e=Se),_e===0)break e;o.arraySet(Ee,he,re,_e,pe),me-=_e,re+=_e,Se-=_e,pe+=_e,j.length-=_e;break}j.mode=12;break;case 17:for(;W<14;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if(j.nlen=257+(31&G),G>>>=5,W-=5,j.ndist=1+(31&G),G>>>=5,W-=5,j.ncode=4+(15&G),G>>>=4,W-=4,286<j.nlen||30<j.ndist){$.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;W<3;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}j.lens[ne[j.have++]]=7&G,G>>>=3,W-=3}for(;j.have<19;)j.lens[ne[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,z={bits:j.lenbits},Te=d(0,j.lens,0,19,j.lencode,0,j.work,z),j.lenbits=z.bits,Te){$.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;se=(R=j.lencode[G&(1<<j.lenbits)-1])>>>16&255,ie=65535&R,!((M=R>>>24)<=W);){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if(ie<16)G>>>=M,W-=M,j.lens[j.have++]=ie;else{if(ie===16){for(x=M+2;W<x;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if(G>>>=M,W-=M,j.have===0){$.msg="invalid bit length repeat",j.mode=30;break}F=j.lens[j.have-1],_e=3+(3&G),G>>>=2,W-=2}else if(ie===17){for(x=M+3;W<x;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}W-=M,F=0,_e=3+(7&(G>>>=M)),G>>>=3,W-=3}else{for(x=M+7;W<x;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}W-=M,F=0,_e=11+(127&(G>>>=M)),G>>>=7,W-=7}if(j.have+_e>j.nlen+j.ndist){$.msg="invalid bit length repeat",j.mode=30;break}for(;_e--;)j.lens[j.have++]=F}}if(j.mode===30)break;if(j.lens[256]===0){$.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,z={bits:j.lenbits},Te=d(p,j.lens,0,j.nlen,j.lencode,0,j.work,z),j.lenbits=z.bits,Te){$.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,z={bits:j.distbits},Te=d(v,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,z),j.distbits=z.bits,Te){$.msg="invalid distances set",j.mode=30;break}if(j.mode=20,te===6)break e;case 20:j.mode=21;case 21:if(6<=me&&258<=Se){$.next_out=pe,$.avail_out=Se,$.next_in=re,$.avail_in=me,j.hold=G,j.bits=W,c($,de),pe=$.next_out,Ee=$.output,Se=$.avail_out,re=$.next_in,he=$.input,me=$.avail_in,G=j.hold,W=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;se=(R=j.lencode[G&(1<<j.lenbits)-1])>>>16&255,ie=65535&R,!((M=R>>>24)<=W);){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if(se&&!(240&se)){for(Q=M,Z=se,Ce=ie;se=(R=j.lencode[Ce+((G&(1<<Q+Z)-1)>>Q)])>>>16&255,ie=65535&R,!(Q+(M=R>>>24)<=W);){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}G>>>=Q,W-=Q,j.back+=Q}if(G>>>=M,W-=M,j.back+=M,j.length=ie,se===0){j.mode=26;break}if(32&se){j.back=-1,j.mode=12;break}if(64&se){$.msg="invalid literal/length code",j.mode=30;break}j.extra=15&se,j.mode=22;case 22:if(j.extra){for(x=j.extra;W<x;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}j.length+=G&(1<<j.extra)-1,G>>>=j.extra,W-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;se=(R=j.distcode[G&(1<<j.distbits)-1])>>>16&255,ie=65535&R,!((M=R>>>24)<=W);){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if(!(240&se)){for(Q=M,Z=se,Ce=ie;se=(R=j.distcode[Ce+((G&(1<<Q+Z)-1)>>Q)])>>>16&255,ie=65535&R,!(Q+(M=R>>>24)<=W);){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}G>>>=Q,W-=Q,j.back+=Q}if(G>>>=M,W-=M,j.back+=M,64&se){$.msg="invalid distance code",j.mode=30;break}j.offset=ie,j.extra=15&se,j.mode=24;case 24:if(j.extra){for(x=j.extra;W<x;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}j.offset+=G&(1<<j.extra)-1,G>>>=j.extra,W-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){$.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(Se===0)break e;if(_e=de-Se,j.offset>_e){if((_e=j.offset-_e)>j.whave&&j.sane){$.msg="invalid distance too far back",j.mode=30;break}le=_e>j.wnext?(_e-=j.wnext,j.wsize-_e):j.wnext-_e,_e>j.length&&(_e=j.length),B=j.window}else B=Ee,le=pe-j.offset,_e=j.length;for(Se<_e&&(_e=Se),Se-=_e,j.length-=_e;Ee[pe++]=B[le++],--_e;);j.length===0&&(j.mode=21);break;case 26:if(Se===0)break e;Ee[pe++]=j.length,Se--,j.mode=21;break;case 27:if(j.wrap){for(;W<32;){if(me===0)break e;me--,G|=he[re++]<<W,W+=8}if(de-=Se,$.total_out+=de,j.total+=de,de&&($.adler=j.check=j.flags?u(j.check,Ee,de,pe-de):a(j.check,Ee,de,pe-de)),de=Se,(j.flags?G:S(G))!==j.check){$.msg="incorrect data check",j.mode=30;break}W=G=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;W<32;){if(me===0)break e;me--,G+=he[re++]<<W,W+=8}if(G!==(4294967295&j.total)){$.msg="incorrect length check",j.mode=30;break}W=G=0}j.mode=29;case 29:Te=1;break e;case 30:Te=-3;break e;case 31:return-4;case 32:default:return w}return $.next_out=pe,$.avail_out=Se,$.next_in=re,$.avail_in=me,j.hold=G,j.bits=W,(j.wsize||de!==$.avail_out&&j.mode<30&&(j.mode<27||te!==4))&&Ie($,$.output,$.next_out,de-$.avail_out)?(j.mode=31,-4):(ae-=$.avail_in,de-=$.avail_out,$.total_in+=ae,$.total_out+=de,j.total+=de,j.wrap&&de&&($.adler=j.check=j.flags?u(j.check,Ee,de,$.next_out-de):a(j.check,Ee,de,$.next_out-de)),$.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(ae==0&&de===0||te===4)&&Te===y&&(Te=-5),Te)},i.inflateEnd=function($){if(!$||!$.state)return w;var te=$.state;return te.window&&(te.window=null),$.state=null,y},i.inflateGetHeader=function($,te){var j;return $&&$.state&&2&(j=$.state).wrap?((j.head=te).done=!1,y):w},i.inflateSetDictionary=function($,te){var j,he=te.length;return $&&$.state?(j=$.state).wrap!==0&&j.mode!==11?w:j.mode===11&&a(1,te,he,0)!==j.check?-3:Ie($,te,he,he)?(j.mode=31,-4):(j.havedict=1,y):w},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,v,y,w,b,E,I,S){var k,C,A,O,H,D,X,V,oe,Ie=S.bits,$=0,te=0,j=0,he=0,Ee=0,re=0,pe=0,me=0,Se=0,G=0,W=null,ae=0,de=new o.Buf16(16),_e=new o.Buf16(16),le=null,B=0;for($=0;$<=15;$++)de[$]=0;for(te=0;te<w;te++)de[v[y+te]]++;for(Ee=Ie,he=15;1<=he&&de[he]===0;he--);if(he<Ee&&(Ee=he),he===0)return b[E++]=20971520,b[E++]=20971520,S.bits=1,0;for(j=1;j<he&&de[j]===0;j++);for(Ee<j&&(Ee=j),$=me=1;$<=15;$++)if(me<<=1,(me-=de[$])<0)return-1;if(0<me&&(p===0||he!==1))return-1;for(_e[1]=0,$=1;$<15;$++)_e[$+1]=_e[$]+de[$];for(te=0;te<w;te++)v[y+te]!==0&&(I[_e[v[y+te]]++]=te);if(D=p===0?(W=le=I,19):p===1?(W=a,ae-=257,le=u,B-=257,256):(W=c,le=d,-1),$=j,H=E,pe=te=G=0,A=-1,O=(Se=1<<(re=Ee))-1,p===1&&852<Se||p===2&&592<Se)return 1;for(;;){for(X=$-pe,oe=I[te]<D?(V=0,I[te]):I[te]>D?(V=le[B+I[te]],W[ae+I[te]]):(V=96,0),k=1<<$-pe,j=C=1<<re;b[H+(G>>pe)+(C-=k)]=X<<24|V<<16|oe|0,C!==0;);for(k=1<<$-1;G&k;)k>>=1;if(k!==0?(G&=k-1,G+=k):G=0,te++,--de[$]==0){if($===he)break;$=v[y+I[te]]}if(Ee<$&&(G&O)!==A){for(pe===0&&(pe=Ee),H+=j,me=1<<(re=$-pe);re+pe<he&&!((me-=de[re+pe])<=0);)re++,me<<=1;if(Se+=1<<re,p===1&&852<Se||p===2&&592<Se)return 1;b[A=G&O]=Ee<<24|re<<16|H-E|0}}return G!==0&&(b[H+G]=$-pe<<24|64<<16|0),S.bits=Ee,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),a=0,u=1;function c(R){for(var U=R.length;0<=--U;)R[U]=0}var d=0,p=29,v=256,y=v+1+p,w=30,b=19,E=2*y+1,I=15,S=16,k=7,C=256,A=16,O=17,H=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ie=new Array(2*(y+2));c(Ie);var $=new Array(2*w);c($);var te=new Array(512);c(te);var j=new Array(256);c(j);var he=new Array(p);c(he);var Ee,re,pe,me=new Array(w);function Se(R,U,ne,ye,ue){this.static_tree=R,this.extra_bits=U,this.extra_base=ne,this.elems=ye,this.max_length=ue,this.has_stree=R&&R.length}function G(R,U){this.dyn_tree=R,this.max_code=0,this.stat_desc=U}function W(R){return R<256?te[R]:te[256+(R>>>7)]}function ae(R,U){R.pending_buf[R.pending++]=255&U,R.pending_buf[R.pending++]=U>>>8&255}function de(R,U,ne){R.bi_valid>S-ne?(R.bi_buf|=U<<R.bi_valid&65535,ae(R,R.bi_buf),R.bi_buf=U>>S-R.bi_valid,R.bi_valid+=ne-S):(R.bi_buf|=U<<R.bi_valid&65535,R.bi_valid+=ne)}function _e(R,U,ne){de(R,ne[2*U],ne[2*U+1])}function le(R,U){for(var ne=0;ne|=1&R,R>>>=1,ne<<=1,0<--U;);return ne>>>1}function B(R,U,ne){var ye,ue,De=new Array(I+1),Pe=0;for(ye=1;ye<=I;ye++)De[ye]=Pe=Pe+ne[ye-1]<<1;for(ue=0;ue<=U;ue++){var Me=R[2*ue+1];Me!==0&&(R[2*ue]=le(De[Me]++,Me))}}function M(R){var U;for(U=0;U<y;U++)R.dyn_ltree[2*U]=0;for(U=0;U<w;U++)R.dyn_dtree[2*U]=0;for(U=0;U<b;U++)R.bl_tree[2*U]=0;R.dyn_ltree[2*C]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function se(R){8<R.bi_valid?ae(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function ie(R,U,ne,ye){var ue=2*U,De=2*ne;return R[ue]<R[De]||R[ue]===R[De]&&ye[U]<=ye[ne]}function Q(R,U,ne){for(var ye=R.heap[ne],ue=ne<<1;ue<=R.heap_len&&(ue<R.heap_len&&ie(U,R.heap[ue+1],R.heap[ue],R.depth)&&ue++,!ie(U,ye,R.heap[ue],R.depth));)R.heap[ne]=R.heap[ue],ne=ue,ue<<=1;R.heap[ne]=ye}function Z(R,U,ne){var ye,ue,De,Pe,Me=0;if(R.last_lit!==0)for(;ye=R.pending_buf[R.d_buf+2*Me]<<8|R.pending_buf[R.d_buf+2*Me+1],ue=R.pending_buf[R.l_buf+Me],Me++,ye===0?_e(R,ue,U):(_e(R,(De=j[ue])+v+1,U),(Pe=D[De])!==0&&de(R,ue-=he[De],Pe),_e(R,De=W(--ye),ne),(Pe=X[De])!==0&&de(R,ye-=me[De],Pe)),Me<R.last_lit;);_e(R,C,U)}function Ce(R,U){var ne,ye,ue,De=U.dyn_tree,Pe=U.stat_desc.static_tree,Me=U.stat_desc.has_stree,$e=U.stat_desc.elems,et=-1;for(R.heap_len=0,R.heap_max=E,ne=0;ne<$e;ne++)De[2*ne]!==0?(R.heap[++R.heap_len]=et=ne,R.depth[ne]=0):De[2*ne+1]=0;for(;R.heap_len<2;)De[2*(ue=R.heap[++R.heap_len]=et<2?++et:0)]=1,R.depth[ue]=0,R.opt_len--,Me&&(R.static_len-=Pe[2*ue+1]);for(U.max_code=et,ne=R.heap_len>>1;1<=ne;ne--)Q(R,De,ne);for(ue=$e;ne=R.heap[1],R.heap[1]=R.heap[R.heap_len--],Q(R,De,1),ye=R.heap[1],R.heap[--R.heap_max]=ne,R.heap[--R.heap_max]=ye,De[2*ue]=De[2*ne]+De[2*ye],R.depth[ue]=(R.depth[ne]>=R.depth[ye]?R.depth[ne]:R.depth[ye])+1,De[2*ne+1]=De[2*ye+1]=ue,R.heap[1]=ue++,Q(R,De,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(ct,Pt){var Fr,bn,ti,cn,On,qu,En=Pt.dyn_tree,Ms=Pt.max_code,$u=Pt.stat_desc.static_tree,Fs=Pt.stat_desc.has_stree,Us=Pt.stat_desc.extra_bits,To=Pt.stat_desc.extra_base,or=Pt.stat_desc.max_length,js=0;for(cn=0;cn<=I;cn++)ct.bl_count[cn]=0;for(En[2*ct.heap[ct.heap_max]+1]=0,Fr=ct.heap_max+1;Fr<E;Fr++)or<(cn=En[2*En[2*(bn=ct.heap[Fr])+1]+1]+1)&&(cn=or,js++),En[2*bn+1]=cn,Ms<bn||(ct.bl_count[cn]++,On=0,To<=bn&&(On=Us[bn-To]),qu=En[2*bn],ct.opt_len+=qu*(cn+On),Fs&&(ct.static_len+=qu*($u[2*bn+1]+On)));if(js!==0){do{for(cn=or-1;ct.bl_count[cn]===0;)cn--;ct.bl_count[cn]--,ct.bl_count[cn+1]+=2,ct.bl_count[or]--,js-=2}while(0<js);for(cn=or;cn!==0;cn--)for(bn=ct.bl_count[cn];bn!==0;)Ms<(ti=ct.heap[--Fr])||(En[2*ti+1]!==cn&&(ct.opt_len+=(cn-En[2*ti+1])*En[2*ti],En[2*ti+1]=cn),bn--)}}(R,U),B(De,et,R.bl_count)}function F(R,U,ne){var ye,ue,De=-1,Pe=U[1],Me=0,$e=7,et=4;for(Pe===0&&($e=138,et=3),U[2*(ne+1)+1]=65535,ye=0;ye<=ne;ye++)ue=Pe,Pe=U[2*(ye+1)+1],++Me<$e&&ue===Pe||(Me<et?R.bl_tree[2*ue]+=Me:ue!==0?(ue!==De&&R.bl_tree[2*ue]++,R.bl_tree[2*A]++):Me<=10?R.bl_tree[2*O]++:R.bl_tree[2*H]++,De=ue,et=(Me=0)===Pe?($e=138,3):ue===Pe?($e=6,3):($e=7,4))}function Te(R,U,ne){var ye,ue,De=-1,Pe=U[1],Me=0,$e=7,et=4;for(Pe===0&&($e=138,et=3),ye=0;ye<=ne;ye++)if(ue=Pe,Pe=U[2*(ye+1)+1],!(++Me<$e&&ue===Pe)){if(Me<et)for(;_e(R,ue,R.bl_tree),--Me!=0;);else ue!==0?(ue!==De&&(_e(R,ue,R.bl_tree),Me--),_e(R,A,R.bl_tree),de(R,Me-3,2)):Me<=10?(_e(R,O,R.bl_tree),de(R,Me-3,3)):(_e(R,H,R.bl_tree),de(R,Me-11,7));De=ue,et=(Me=0)===Pe?($e=138,3):ue===Pe?($e=6,3):($e=7,4)}}c(me);var z=!1;function x(R,U,ne,ye){de(R,(d<<1)+(ye?1:0),3),function(ue,De,Pe,Me){se(ue),ae(ue,Pe),ae(ue,~Pe),o.arraySet(ue.pending_buf,ue.window,De,Pe,ue.pending),ue.pending+=Pe}(R,U,ne)}i._tr_init=function(R){z||(function(){var U,ne,ye,ue,De,Pe=new Array(I+1);for(ue=ye=0;ue<p-1;ue++)for(he[ue]=ye,U=0;U<1<<D[ue];U++)j[ye++]=ue;for(j[ye-1]=ue,ue=De=0;ue<16;ue++)for(me[ue]=De,U=0;U<1<<X[ue];U++)te[De++]=ue;for(De>>=7;ue<w;ue++)for(me[ue]=De<<7,U=0;U<1<<X[ue]-7;U++)te[256+De++]=ue;for(ne=0;ne<=I;ne++)Pe[ne]=0;for(U=0;U<=143;)Ie[2*U+1]=8,U++,Pe[8]++;for(;U<=255;)Ie[2*U+1]=9,U++,Pe[9]++;for(;U<=279;)Ie[2*U+1]=7,U++,Pe[7]++;for(;U<=287;)Ie[2*U+1]=8,U++,Pe[8]++;for(B(Ie,y+1,Pe),U=0;U<w;U++)$[2*U+1]=5,$[2*U]=le(U,5);Ee=new Se(Ie,D,v+1,y,I),re=new Se($,X,0,w,I),pe=new Se(new Array(0),V,0,b,k)}(),z=!0),R.l_desc=new G(R.dyn_ltree,Ee),R.d_desc=new G(R.dyn_dtree,re),R.bl_desc=new G(R.bl_tree,pe),R.bi_buf=0,R.bi_valid=0,M(R)},i._tr_stored_block=x,i._tr_flush_block=function(R,U,ne,ye){var ue,De,Pe=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(Me){var $e,et=4093624447;for($e=0;$e<=31;$e++,et>>>=1)if(1&et&&Me.dyn_ltree[2*$e]!==0)return a;if(Me.dyn_ltree[18]!==0||Me.dyn_ltree[20]!==0||Me.dyn_ltree[26]!==0)return u;for($e=32;$e<v;$e++)if(Me.dyn_ltree[2*$e]!==0)return u;return a}(R)),Ce(R,R.l_desc),Ce(R,R.d_desc),Pe=function(Me){var $e;for(F(Me,Me.dyn_ltree,Me.l_desc.max_code),F(Me,Me.dyn_dtree,Me.d_desc.max_code),Ce(Me,Me.bl_desc),$e=b-1;3<=$e&&Me.bl_tree[2*oe[$e]+1]===0;$e--);return Me.opt_len+=3*($e+1)+5+5+4,$e}(R),ue=R.opt_len+3+7>>>3,(De=R.static_len+3+7>>>3)<=ue&&(ue=De)):ue=De=ne+5,ne+4<=ue&&U!==-1?x(R,U,ne,ye):R.strategy===4||De===ue?(de(R,2+(ye?1:0),3),Z(R,Ie,$)):(de(R,4+(ye?1:0),3),function(Me,$e,et,ct){var Pt;for(de(Me,$e-257,5),de(Me,et-1,5),de(Me,ct-4,4),Pt=0;Pt<ct;Pt++)de(Me,Me.bl_tree[2*oe[Pt]+1],3);Te(Me,Me.dyn_ltree,$e-1),Te(Me,Me.dyn_dtree,et-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,Pe+1),Z(R,R.dyn_ltree,R.dyn_dtree)),M(R),ye&&se(R)},i._tr_tally=function(R,U,ne){return R.pending_buf[R.d_buf+2*R.last_lit]=U>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&U,R.pending_buf[R.l_buf+R.last_lit]=255&ne,R.last_lit++,U===0?R.dyn_ltree[2*ne]++:(R.matches++,U--,R.dyn_ltree[2*(j[ne]+v+1)]++,R.dyn_dtree[2*W(U)]++),R.last_lit===R.lit_bufsize-1},i._tr_align=function(R){de(R,2,3),_e(R,C,Ie),function(U){U.bi_valid===16?(ae(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(a,u){if(!a.setImmediate){var c,d,p,v,y=1,w={},b=!1,E=a.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(a);I=I&&I.setTimeout?I:a,c={}.toString.call(a.process)==="[object process]"?function(A){kt.nextTick(function(){k(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,O=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=O,A}}()?(v="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",C,!1):a.attachEvent("onmessage",C),function(A){a.postMessage(v+A,"*")}):a.MessageChannel?((p=new MessageChannel).port1.onmessage=function(A){k(A.data)},function(A){p.port2.postMessage(A)}):E&&"onreadystatechange"in E.createElement("script")?(d=E.documentElement,function(A){var O=E.createElement("script");O.onreadystatechange=function(){k(A),O.onreadystatechange=null,d.removeChild(O),O=null},d.appendChild(O)}):function(A){setTimeout(k,0,A)},I.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var O=new Array(arguments.length-1),H=0;H<O.length;H++)O[H]=arguments[H+1];var D={callback:A,args:O};return w[y]=D,c(y),y++},I.clearImmediate=S}function S(A){delete w[A]}function k(A){if(b)setTimeout(k,0,A);else{var O=w[A];if(O){b=!0;try{(function(H){var D=H.callback,X=H.args;switch(X.length){case 0:D();break;case 1:D(X[0]);break;case 2:D(X[0],X[1]);break;case 3:D(X[0],X[1],X[2]);break;default:D.apply(u,X)}})(O)}finally{S(A),b=!1}}}}function C(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(v)===0&&k(+A.data.slice(v.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Oa<"u"?Oa:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(KI)),KI.exports}var _ce=wce();const bce=yR(_ce);var xv={exports:{}},YI,YM;function Ece(){if(YM)return YI;YM=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(n){return n&&n.replace?n.replace(/([&"<>'])/g,function(r,i){return t[i]}):n}return YI=e,YI}var XM;function Sce(){if(XM)return xv.exports;XM=1;var t=Ece(),e=IR().Stream,n="    ";function r(d,p){typeof p!="object"&&(p={indent:p});var v=p.stream?new e:null,y="",w=!1,b=p.indent?p.indent===!0?n:p.indent:"",E=!0;function I(O){E?kt.nextTick(O):O()}function S(O,H){if(H!==void 0&&(y+=H),O&&!w&&(v=v||new e,w=!0),O&&w){var D=y;I(function(){v.emit("data",D)}),y=""}}function k(O,H){u(S,a(O,b,b?1:0),H)}function C(){if(v){var O=y;I(function(){v.emit("data",O),v.emit("end"),v.readable=!1,v.emit("close")})}}function A(O){var H=O.encoding||"UTF-8",D={version:"1.0",encoding:H};O.standalone&&(D.standalone=O.standalone),k({"?xml":{_attr:D}}),y=y.replace("/>","?>")}return I(function(){E=!1}),p.declaration&&A(p.declaration),d&&d.forEach?d.forEach(function(O,H){var D;H+1===d.length&&(D=C),k(O,D)}):k(d,C),v?(v.readable=!0,v):y}function i(){var d=Array.prototype.slice.call(arguments),p={_elem:a(d)};return p.push=function(v){if(!this.append)throw new Error("not assigned to a parent!");var y=this,w=this._elem.indent;u(this.append,a(v,w,this._elem.icount+(w?1:0)),function(){y.append(!0)})},p.close=function(v){v!==void 0&&this.push(v),this.end&&this.end()},p}function o(d,p){return new Array(p||0).join(d||"")}function a(d,p,v){v=v||0;var y=o(p,v),w,b=d,E=!1;if(typeof d=="object"){var I=Object.keys(d);if(w=I[0],b=d[w],b&&b._elem)return b._elem.name=w,b._elem.icount=v,b._elem.indent=p,b._elem.indents=y,b._elem.interrupt=b,b._elem}var S=[],k=[],C;function A(O){var H=Object.keys(O);H.forEach(function(D){S.push(c(D,O[D]))})}switch(typeof b){case"object":if(b===null)break;b._attr&&A(b._attr),b._cdata&&k.push(("<![CDATA["+b._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),b.forEach&&(C=!1,k.push(""),b.forEach(function(O){if(typeof O=="object"){var H=Object.keys(O)[0];H=="_attr"?A(O._attr):k.push(a(O,p,v+1))}else k.pop(),C=!0,k.push(t(O))}),C||k.push(""));break;default:k.push(t(b))}return{name:w,interrupt:E,attributes:S,content:k,icount:v,indents:y,indent:p}}function u(d,p,v){if(typeof p!="object")return d(!1,p);var y=p.interrupt?1:p.content.length;function w(){for(;p.content.length;){var E=p.content.shift();if(E!==void 0){if(b(E))return;u(d,E)}}d(!1,(y>1?p.indents:"")+(p.name?"</"+p.name+">":"")+(p.indent&&!v?`
`:"")),v&&v()}function b(E){return E.interrupt?(E.interrupt.append=d,E.interrupt.end=w,E.interrupt=!1,d(!0),!0):!1}if(d(!1,p.indents+(p.name?"<"+p.name:"")+(p.attributes.length?" "+p.attributes.join(" "):"")+(y?p.name?">":"":p.name?"/>":"")+(p.indent&&y>1?`
`:"")),!y)return d(!1,p.indent?`
`:"");b(p)||w()}function c(d,p){return d+'="'+t(p)+'"'}return xv.exports=r,xv.exports.element=xv.exports.Element=i,xv.exports}var Tce=Sce();const Hn=yR(Tce),kv=0,XI=32,Ice=32,Cce=(t,e)=>{const n=e.replace(/-/g,"");if(n.length!==Ice)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=n.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const a=t.slice(kv,XI).map((c,d)=>c^i[d%i.length]),u=new Uint8Array(kv+a.length+Math.max(0,t.length-XI));return u.set(t.slice(0,kv)),u.set(a,kv),u.set(t.slice(XI),kv+a.length),u};class xce{format(e,n={stack:[]}){const r=e.prepForXml(n);if(r)return r;throw Error("XMLComponent did not format correctly")}}class kce{replace(e,n,r){let i=e;return n.forEach((o,a)=>{i=i.replace(new RegExp(`{${o.fileName}}`,"g"),(r+a).toString())}),i}getMediaData(e,n){return n.Array.filter(r=>e.search(`{${r.fileName}}`)>0)}}class Ace{replace(e,n){let r=e;for(const i of n)r=r.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return r}}class Rce{constructor(){Ne(this,"formatter"),Ne(this,"imageReplacer"),Ne(this,"numberingReplacer"),this.formatter=new xce,this.imageReplacer=new kce,this.numberingReplacer=new Ace}compile(e,n){const r=new bce,i=this.xmlifyFile(e,n),o=new Map(Object.entries(i));for(const[,a]of o)if(Array.isArray(a))for(const u of a)r.file(u.path,u.data);else r.file(a.path,a.data);for(const a of e.Media.Array)a.type!=="svg"?r.file(`word/media/${a.fileName}`,a.data):(r.file(`word/media/${a.fileName}`,a.data),r.file(`word/media/${a.fallback.fileName}`,a.fallback.data));for(const{data:a,name:u,fontKey:c}of e.FontTable.fontOptionsWithKey){const[d]=u.split(".");r.file(`word/fonts/${d}.odttf`,Cce(a,c))}return r}xmlifyFile(e,n){const r=e.Document.Relationships.RelationshipCount+1,i=Hn(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media);return{Relationships:{data:(o.forEach((a,u)=>{e.Document.Relationships.createRelationship(r+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${a.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Hn(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const a=this.imageReplacer.replace(i,o,r);return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const a=Hn(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Hn(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Hn(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Hn(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((a,u)=>{const c=Hn(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((p,v)=>{a.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:Hn(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${u+1}.xml.rels`}}),FooterRelationships:e.Footers.map((a,u)=>{const c=Hn(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((p,v)=>{a.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:Hn(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${u+1}.xml.rels`}}),Headers:e.Headers.map((a,u)=>{const c=Hn(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(c,e.Media),p=this.imageReplacer.replace(c,d,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/header${u+1}.xml`}}),Footers:e.Footers.map((a,u)=>{const c=Hn(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(c,e.Media),p=this.imageReplacer.replace(c,d,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/footer${u+1}.xml`}}),ContentTypes:{data:Hn(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Hn(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Hn(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Hn(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Hn(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Hn(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Hn(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Hn(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Hn(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const Nce={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},Av=t=>t===!0?Nce.WITH_2_BLANKS:t===!1?void 0:t;class Qj{static toString(e,n){return J0(this,null,function*(){return yield this.compiler.compile(e,Av(n)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,n){return J0(this,null,function*(){return yield this.compiler.compile(e,Av(n)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,n){return J0(this,null,function*(){return yield this.compiler.compile(e,Av(n)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,n){return J0(this,null,function*(){return yield this.compiler.compile(e,Av(n)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,n){const r=new yce.Stream;return this.compiler.compile(e,Av(n)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{r.emit("data",o),r.emit("end")}),r}}Ne(Qj,"compiler",new Rce);var k_={exports:{}},Oce=k_.exports,QM;function Pce(){return QM||(QM=1,function(t,e){(function(n,r){r()})(Oce,function(){function n(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,p,v){var y=new XMLHttpRequest;y.open("GET",d),y.responseType="blob",y.onload=function(){c(y.response,p,v)},y.onerror=function(){console.error("could not download file")},y.send()}function i(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof k0=="object"&&k0.global===k0?k0:void 0,u=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(d,p,v){var y=a.URL||a.webkitURL,w=document.createElement("a");p=p||d.name||"download",w.download=p,w.rel="noopener",typeof d=="string"?(w.href=d,w.origin===location.origin?o(w):i(w.href)?r(d,p,v):o(w,w.target="_blank")):(w.href=y.createObjectURL(d),setTimeout(function(){y.revokeObjectURL(w.href)},4e4),setTimeout(function(){o(w)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,v){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,v),p);else if(i(d))r(d,p,v);else{var y=document.createElement("a");y.href=d,y.target="_blank",setTimeout(function(){o(y)})}}:function(d,p,v,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof d=="string")return r(d,p,v);var w=d.type==="application/octet-stream",b=/constructor/i.test(a.HTMLElement)||a.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||w&&b||u)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var C=I.result;C=E?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=C:location=C,y=null},I.readAsDataURL(d)}else{var S=a.URL||a.webkitURL,k=S.createObjectURL(d);y?y.location=k:location.href=k,y=null,setTimeout(function(){S.revokeObjectURL(k)},4e4)}});a.saveAs=c.saveAs=c,t.exports=c})}(k_)),k_.exports}var Dce=Pce();function bh(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Mi(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function $a(t){Mi(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Fu(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Lce(t,e){Mi(2,arguments);var n=$a(t).getTime(),r=bh(e);return new Date(n+r)}var Mce={};function a1(){return Mce}function Fce(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Uce(t){return Mi(1,arguments),t instanceof Date||Fu(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jce(t){if(Mi(1,arguments),!Uce(t)&&typeof t!="number")return!1;var e=$a(t);return!isNaN(Number(e))}function Bce(t,e){Mi(2,arguments);var n=bh(e);return Lce(t,-n)}var Vce=864e5;function zce(t){Mi(1,arguments);var e=$a(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Vce)+1}function Nb(t){Mi(1,arguments);var e=1,n=$a(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Jj(t){Mi(1,arguments);var e=$a(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Nb(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=Nb(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Hce(t){Mi(1,arguments);var e=Jj(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Nb(n);return r}var Wce=6048e5;function qce(t){Mi(1,arguments);var e=$a(t),n=Nb(e).getTime()-Hce(e).getTime();return Math.round(n/Wce)+1}function Ob(t,e){var n,r,i,o,a,u,c,d;Mi(1,arguments);var p=a1(),v=bh((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:p.weekStartsOn)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=$a(t),w=y.getUTCDay(),b=(w<v?7:0)+w-v;return y.setUTCDate(y.getUTCDate()-b),y.setUTCHours(0,0,0,0),y}function Zj(t,e){var n,r,i,o,a,u,c,d;Mi(1,arguments);var p=$a(t),v=p.getUTCFullYear(),y=a1(),w=bh((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:y.firstWeekContainsDate)!==null&&r!==void 0?r:(c=y.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(v+1,0,w),b.setUTCHours(0,0,0,0);var E=Ob(b,e),I=new Date(0);I.setUTCFullYear(v,0,w),I.setUTCHours(0,0,0,0);var S=Ob(I,e);return p.getTime()>=E.getTime()?v+1:p.getTime()>=S.getTime()?v:v-1}function $ce(t,e){var n,r,i,o,a,u,c,d;Mi(1,arguments);var p=a1(),v=bh((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),y=Zj(t,e),w=new Date(0);w.setUTCFullYear(y,0,v),w.setUTCHours(0,0,0,0);var b=Ob(w,e);return b}var Gce=6048e5;function Kce(t,e){Mi(1,arguments);var n=$a(t),r=Ob(n,e).getTime()-$ce(n,e).getTime();return Math.round(r/Gce)+1}function tn(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Zl={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return tn(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):tn(r+1,2)},d:function(e,n){return tn(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return tn(e.getUTCHours()%12||12,n.length)},H:function(e,n){return tn(e.getUTCHours(),n.length)},m:function(e,n){return tn(e.getUTCMinutes(),n.length)},s:function(e,n){return tn(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return tn(o,n.length)}},sp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yce={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Zl.y(e,n)},Y:function(e,n,r,i){var o=Zj(e,i),a=o>0?o:1-o;if(n==="YY"){var u=a%100;return tn(u,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):tn(a,n.length)},R:function(e,n){var r=Jj(e);return tn(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return tn(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return tn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return tn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Zl.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return tn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=Kce(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):tn(o,n.length)},I:function(e,n,r){var i=qce(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):tn(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Zl.d(e,n)},D:function(e,n,r){var i=zce(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):tn(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return tn(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return tn(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return tn(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=sp.noon:i===0?o=sp.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=sp.evening:i>=12?o=sp.afternoon:i>=4?o=sp.morning:o=sp.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Zl.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Zl.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):tn(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):tn(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Zl.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Zl.s(e,n)},S:function(e,n){return Zl.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return ZM(a);case"XXXX":case"XX":return Wf(a);case"XXXXX":case"XXX":default:return Wf(a,":")}},x:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"x":return ZM(a);case"xxxx":case"xx":return Wf(a);case"xxxxx":case"xxx":default:return Wf(a,":")}},O:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+JM(a,":");case"OOOO":default:return"GMT"+Wf(a,":")}},z:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+JM(a,":");case"zzzz":default:return"GMT"+Wf(a,":")}},t:function(e,n,r,i){var o=i._originalDate||e,a=Math.floor(o.getTime()/1e3);return tn(a,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,a=o.getTime();return tn(a,n.length)}};function JM(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var a=e;return n+String(i)+a+tn(o,2)}function ZM(t,e){if(t%60===0){var n=t>0?"-":"+";return n+tn(Math.abs(t)/60,2)}return Wf(t,e)}function Wf(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=tn(Math.floor(i/60),2),a=tn(i%60,2);return r+o+n+a}var eF=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},eB=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Xce=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return eF(e,n);var a;switch(i){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",eF(i,n)).replace("{{time}}",eB(o,n))},Qce={p:eB,P:Xce},Jce=["D","DD"],Zce=["YY","YYYY"];function efe(t){return Jce.indexOf(t)!==-1}function tfe(t){return Zce.indexOf(t)!==-1}function tF(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var nfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rfe=function(e,n,r){var i,o=nfe[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function QI(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var ife={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ofe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},afe={date:QI({formats:ife,defaultWidth:"full"}),time:QI({formats:ofe,defaultWidth:"full"}),dateTime:QI({formats:sfe,defaultWidth:"full"})},ufe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lfe=function(e,n,r,i){return ufe[e]};function Rv(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{var u=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[u]}var d=t.argumentCallback?t.argumentCallback(e):e;return i[d]}}var cfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ffe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gfe=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},vfe={ordinalNumber:gfe,era:Rv({values:cfe,defaultWidth:"wide"}),quarter:Rv({values:ffe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Rv({values:hfe,defaultWidth:"wide"}),day:Rv({values:dfe,defaultWidth:"wide"}),dayPeriod:Rv({values:pfe,defaultWidth:"wide",formattingValues:mfe,defaultFormattingWidth:"wide"})};function Nv(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?wfe(u,function(v){return v.test(a)}):yfe(u,function(v){return v.test(a)}),d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var p=e.slice(a.length);return{value:d,rest:p}}}function yfe(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function wfe(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function _fe(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var u=e.slice(i.length);return{value:a,rest:u}}}var bfe=/^(\d+)(th|st|nd|rd)?/i,Efe=/\d+/i,Sfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tfe={any:[/^b/i,/^(a|c)/i]},Ife={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cfe={any:[/1/i,/2/i,/3/i,/4/i]},xfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Afe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ofe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pfe={ordinalNumber:_fe({matchPattern:bfe,parsePattern:Efe,valueCallback:function(e){return parseInt(e,10)}}),era:Nv({matchPatterns:Sfe,defaultMatchWidth:"wide",parsePatterns:Tfe,defaultParseWidth:"any"}),quarter:Nv({matchPatterns:Ife,defaultMatchWidth:"wide",parsePatterns:Cfe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Nv({matchPatterns:xfe,defaultMatchWidth:"wide",parsePatterns:kfe,defaultParseWidth:"any"}),day:Nv({matchPatterns:Afe,defaultMatchWidth:"wide",parsePatterns:Rfe,defaultParseWidth:"any"}),dayPeriod:Nv({matchPatterns:Nfe,defaultMatchWidth:"any",parsePatterns:Ofe,defaultParseWidth:"any"})},Dfe={code:"en-US",formatDistance:rfe,formatLong:afe,formatRelative:lfe,localize:vfe,match:Pfe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Lfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ffe=/^'([^]*?)'?$/,Ufe=/''/g,jfe=/[a-zA-Z]/;function Ov(t,e,n){var r,i,o,a,u,c,d,p,v,y,w,b,E,I;Mi(2,arguments);var S=String(e),k=a1(),C=(r=(i=void 0)!==null&&i!==void 0?i:k.locale)!==null&&r!==void 0?r:Dfe,A=bh((o=(a=(u=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&u!==void 0?u:k.firstWeekContainsDate)!==null&&a!==void 0?a:(d=k.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=bh((v=(y=(w=(b=void 0)!==null&&b!==void 0?b:void 0)!==null&&w!==void 0?w:k.weekStartsOn)!==null&&y!==void 0?y:(E=k.locale)===null||E===void 0||(I=E.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&v!==void 0?v:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var H=$a(t);if(!jce(H))throw new RangeError("Invalid time value");var D=Fce(H),X=Bce(H,D),V={firstWeekContainsDate:A,weekStartsOn:O,locale:C,_originalDate:H},oe=S.match(Mfe).map(function(Ie){var $=Ie[0];if($==="p"||$==="P"){var te=Qce[$];return te(Ie,C.formatLong)}return Ie}).join("").match(Lfe).map(function(Ie){if(Ie==="''")return"'";var $=Ie[0];if($==="'")return Bfe(Ie);var te=Yce[$];if(te)return tfe(Ie)&&tF(Ie,e,String(t)),efe(Ie)&&tF(Ie,e,String(t)),te(X,Ie,C.localize,V);if($.match(jfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return Ie}).join("");return oe}function Bfe(t){var e=t.match(Ffe);return e?e[1].replace(Ufe,"'"):t}function Vfe({project:t}){const{updateDocument:e,response:n}=JE("projects"),[r,i]=J.useState(""),[o,a]=J.useState(null),[u,c]=J.useState(!1),[d,p]=J.useState(!1),{user:v}=Zo();J.useState({latitude:null,longitude:null}),J.useState(null);const y=J.useRef(null),[w,b]=J.useState(Ov(new Date,"yyyy-MM-dd")),[E,I]=J.useState(Ov(new Date,"yyyy-MM-dd")),S=({startDate:D,endDate:X,onStartDateChange:V,onEndDateChange:oe})=>ee.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date:"}),ee.jsx("input",{type:"date",value:D,onChange:Ie=>V(Ie.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date:"}),ee.jsx("input",{type:"date",value:X,onChange:Ie=>oe(Ie.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),k=D=>{window.open(D,"_blank")},C=async D=>{if(D.preventDefault(),!r.trim()&&!o){console.log("Comment or image is required.");return}if(t.completed){console.log("Cannot add a new report to a completed project.");return}c(!0);try{let X=null;o&&(X=await A(o));const V=Date.now().toString(),oe={displayName:v.displayName,photoURL:v.photoURL,content:r,createdAt:V,id:V+"-"+v.uid.slice(0,4),imageUrl:X};await e(t.id,{comments:[...t.comments,oe]}),n.error||(i(""),a(null))}catch(X){console.error("Error adding report:",X.message)}c(!1)},A=async D=>{try{const X=vU.ref(),V=`${Date.now()}_${D.name}`,oe=X.child(`images/${V}`);return await oe.put(D),await oe.getDownloadURL()}catch(X){return console.error("Error uploading image:",X),null}},O=async D=>{const X=new vce({creator:"Project Report System",title:`Project Report - ${t.name}`,description:"Generated report of project comments",sections:[]}),V=[];for(const oe of D){const Ie=Ov(new Date(parseInt(oe.createdAt)),"MMMM dd, yyyy HH:mm");if(V.push(new xa({heading:oue.HEADING_2,children:[new tc({text:`Comment from ${oe.displayName}`,bold:!0,size:28})]}),new xa({children:[new tc({text:Ie,size:14,color:"666666"})]})),oe.content&&V.push(new xa({children:[new tc({text:oe.content,size:24})]})),oe.location&&V.push(new xa({children:[new tc({text:`Location: ${oe.location.latitude}, ${oe.location.longitude}`,size:14,color:"666666"})]})),oe.imageUrl)try{const $=`https://api.allorigins.win/raw?url=${encodeURIComponent(oe.imageUrl)}`,te=await fetch($);if(!te.ok)throw new Error(`Failed to fetch image: ${te.statusText}`);const j=await te.arrayBuffer();V.push(new xa({children:[new Qae({data:j,transformation:{width:400,height:300}})]}))}catch($){console.error("Error downloading image:",$),V.push(new xa({children:[new tc({text:`[Image could not be loaded: ${oe.imageUrl}]`,color:"FF0000"})]}))}V.push(new xa({children:[new tc({text:"─".repeat(50),color:"666666"})],spacing:{before:240,after:240}}))}return X.addSection({children:V}),X},H=async()=>{const D=new Date(w),X=new Date(E);X.setHours(23,59,59,999);const V=t.comments.filter(oe=>{const Ie=new Date(parseInt(oe.createdAt));return Ie>=D&&Ie<=X});if(V.length===0){alert("No comments found in the selected date range");return}try{p(!0);const oe=await O(V),Ie=await Qj.toBlob(oe);Dce.saveAs(Ie,`${t.name}_Report_${Ov(new Date,"yyyy-MM-dd")}.docx`)}catch(oe){console.error("Error generating document:",oe),alert("Error generating document. Please try again.")}finally{p(!1)}};return ee.jsxs("div",{className:"project-comments",children:[ee.jsxs("div",{children:[!t.completed&&ee.jsxs("form",{className:"add-comment",onSubmit:C,children:[ee.jsxs("label",{children:[ee.jsx("span",{children:"Add new report"}),ee.jsx("textarea",{onChange:D=>i(D.target.value),value:r,className:"w-full p-2 border rounded"})]}),ee.jsx("button",{className:"btn mt-1 bg-blue-500 text-white px-4 py-2 rounded",type:"submit",disabled:u,children:u?"Loading...":"Add Report"})]}),ee.jsxs("div",{className:"my-6 p-4 border rounded-2xl bg-white",children:[ee.jsx("h3",{className:"text-xl font-medium mt-1",children:"Download Comments"}),ee.jsx(S,{startDate:w,endDate:E,onStartDateChange:b,onEndDateChange:I}),ee.jsx("button",{disabled:d,onClick:H,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 btn",children:d?"Generating Document...":" Download Selected Range"})]})]}),ee.jsx("ul",{className:"comments space-y-4",ref:y,children:t.comments.length>0&&t.comments.map(D=>ee.jsxs("li",{className:"border rounded p-4",children:[ee.jsx("div",{className:"comment-author",children:D.imageUrl&&ee.jsx("img",{src:D.imageUrl,alt:"Comment",className:"comment-image cursor-pointer hover:opacity-90 transition-opacity ",onClick:()=>k(D.imageUrl)})}),ee.jsxs("div",{className:"comment-content mt-2",children:[ee.jsx("p",{children:D.content}),ee.jsx("div",{className:"comment-date text-sm text-gray-600 mt-2",children:ee.jsx("p",{children:Ov(new Date(parseInt(D.createdAt)),"HH:mm 'on' dd/MM/yyyy")})}),ee.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[ee.jsx(Ep,{src:D.photoURL}),ee.jsx("span",{children:D.displayName})]}),D.location&&ee.jsx("div",{className:"comment-location text-sm text-gray-600 mt-2",children:ee.jsxs("p",{children:["Location: ",D.location.latitude,", ",D.location.longitude]})})]})]},D.id))})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _x=function(t,e){return _x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},_x(t,e)};function zfe(t,e){_x(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Hfe=100,Wfe=100,nF=50,bx=50,Ex=50;function rF(t){var e=t.className,n=t.counterClockwise,r=t.dashRatio,i=t.pathRadius,o=t.strokeWidth,a=t.style;return J.createElement("path",{className:e,style:Object.assign({},a,$fe({pathRadius:i,dashRatio:r,counterClockwise:n})),d:qfe({pathRadius:i,counterClockwise:n}),strokeWidth:o,fillOpacity:0})}function qfe(t){var e=t.pathRadius,n=t.counterClockwise,r=e,i=n?1:0;return`
      M `+bx+","+Ex+`
      m 0,-`+r+`
      a `+r+","+r+" "+i+" 1 1 0,"+2*r+`
      a `+r+","+r+" "+i+" 1 1 0,-"+2*r+`
    `}function $fe(t){var e=t.counterClockwise,n=t.dashRatio,r=t.pathRadius,i=Math.PI*2*r,o=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(e?-o:o)+"px"}}var Gfe=function(t){zfe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return nF-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var n=this.props,r=n.value,i=n.minValue,o=n.maxValue,a=Math.min(Math.max(r,i),o);return(a-i)/(o-i)},e.prototype.render=function(){var n=this.props,r=n.circleRatio,i=n.className,o=n.classes,a=n.counterClockwise,u=n.styles,c=n.strokeWidth,d=n.text,p=this.getPathRadius(),v=this.getPathRatio();return J.createElement("svg",{className:o.root+" "+i,style:u.root,viewBox:"0 0 "+Hfe+" "+Wfe,"data-test-id":"CircularProgressbar"},this.props.background?J.createElement("circle",{className:o.background,style:u.background,cx:bx,cy:Ex,r:nF}):null,J.createElement(rF,{className:o.trail,counterClockwise:a,dashRatio:r,pathRadius:p,strokeWidth:c,style:u.trail}),J.createElement(rF,{className:o.path,counterClockwise:a,dashRatio:v*r,pathRadius:p,strokeWidth:c,style:u.path}),d?J.createElement("text",{className:o.text,style:u.text,x:bx,y:Ex},d):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(J.Component);function Kfe(t){var e=t.rotation,n=t.strokeLinecap,r=t.textColor,i=t.textSize,o=t.pathColor,a=t.pathTransition,u=t.pathTransitionDuration,c=t.trailColor,d=t.backgroundColor,p=e==null?void 0:"rotate("+e+"turn)",v=e==null?void 0:"center center";return{root:{},path:f_({stroke:o,strokeLinecap:n,transform:p,transformOrigin:v,transition:a,transitionDuration:u==null?void 0:u+"s"}),trail:f_({stroke:c,strokeLinecap:n,transform:p,transformOrigin:v}),text:f_({fill:r,fontSize:i}),background:f_({fill:d})}}function f_(t){return Object.keys(t).forEach(function(e){t[e]==null&&delete t[e]}),t}const tB=({show:t,onClose:e,children:n,className:r=""})=>t?ee.jsx("div",{className:`modal-overlay ${r}`,onClick:e,children:ee.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[ee.jsx("button",{className:"modal-close-button",onClick:e,children:"×"}),n]})}):null;function Yfe({project:t}){const{updateDocument:e,response:n}=JE("projects"),[r,i]=J.useState(""),[o,a]=J.useState([]),[u,c]=J.useState(""),[d,p]=J.useState([]),{user:v}=Zo(),[y,w]=J.useState([]),[b,E]=J.useState(null),[I,S]=J.useState(!1),k=()=>{S(!I)};J.useEffect(()=>{if(t){const X=t.assignedUsersList.map(V=>({value:V,label:V.displayName}));w(X)}},[t]);const C=async X=>{if(X.preventDefault(),o.length===0){E("You must choose at least one user for the task.");return}const V={content:r,assignedUsers:o.map(oe=>({displayName:oe.value.displayName,photoURL:oe.value.photoURL,id:oe.value.id})),done:!1,subtasks:d.map(oe=>({content:oe,done:!1})),id:Math.random()};await e(t.id,{tasks:[...t.tasks,V]}),n.error||(i(""),p([]),a([]))},A=()=>{a(y)},O=()=>{u.trim()!==""&&(p([...d,u]),c(""))},H=async(X,V,oe)=>{const Ie=[...V.subtasks];Ie[oe].done=X.target.checked;const $={...V,subtasks:Ie};await e(t.id,{tasks:t.tasks.map(te=>te.id===V.id?$:te)})},D=X=>X.length===0?0:X.filter(oe=>oe.done).length/X.length*100;return ee.jsxs("div",{className:"taskk",children:[v.uid===t.createdBy.id&&ee.jsx(ee.Fragment,{children:ee.jsxs("div",{className:"add-task-form",children:[ee.jsxs("form",{onSubmit:C,children:[ee.jsxs("label",{children:[ee.jsx("span",{children:"Type in a task:"}),ee.jsx("input",{type:"text",required:!0,onChange:X=>i(X.target.value),value:r})]}),ee.jsxs("label",{children:[ee.jsx("span",{children:"Type in an activity:"}),ee.jsx("input",{type:"text",onChange:X=>c(X.target.value),value:u}),ee.jsx("button",{type:"button",className:"btn",onClick:O,children:"Add Subtask"})]}),ee.jsxs("div",{className:"added-subtasks",children:[ee.jsx("h4",{children:"Subtasks:"}),ee.jsx("ul",{children:d.map((X,V)=>ee.jsx("li",{children:X},V))})]}),ee.jsxs("div",{className:"select-users",children:[ee.jsx(Ab,{options:y,isMulti:!0,placeholder:"Select user(s)",value:o,className:"task-select",onChange:X=>a(X)}),ee.jsx("button",{type:"button",className:"btn select-all",onClick:A,children:"Select All"})]}),ee.jsx("button",{type:"submit",className:"btn",children:"Add Task"})]}),b&&ee.jsx("p",{className:"error",children:b})]})}),ee.jsxs("div",{className:"tasks",children:[ee.jsx("h2",{children:t.tasks.length>0?"":"No tasks yet"}),t.tasks&&t.tasks.map(X=>ee.jsxs("div",{className:"task",children:[ee.jsx("p",{className:"task-content",children:X.content.substr(0,40)}),ee.jsxs("div",{className:"task-man",children:[ee.jsx("p",{children:"Assigned to:"}),ee.jsxs("div",{className:"assigned-users",onClick:k,children:[X.assignedUsers.slice(0,3).map(V=>ee.jsx(Ep,{src:V.photoURL,className:"task-img"},V.id)),X.assignedUsers.length>3&&ee.jsxs("span",{className:"more-users",children:["+",X.assignedUsers.length-3]})]}),I&&ee.jsx(tB,{show:I,onClose:k,className:"task-assigned-modal-overlay",children:ee.jsxs("div",{className:"task-assigned-modal-content",children:[ee.jsx("h2",{className:"task-assigned-modal-title",children:"Assigned Users"}),ee.jsx("div",{className:"task-assigned-modal-list",children:X.assignedUsers.map(V=>ee.jsxs("div",{className:"task-assigned-modal-user task-assigned-user",children:[ee.jsx(Ep,{src:V.photoURL,className:"task-assigned-avatar"}),ee.jsx("p",{className:"task-assigned-username",children:V.displayName})]},V.id))})]})})]}),ee.jsxs("div",{className:"subtasks",children:[ee.jsx("div",{className:"activity",children:"ACTIVITIES"}),(X.subtasks||[]).map((V,oe)=>ee.jsxs("div",{className:"subtask",children:[ee.jsx("input",{type:"checkbox",checked:V.done,onChange:Ie=>H(Ie,X,oe)}),ee.jsx("div",{className:"stcontent",children:ee.jsx("div",{children:V.content})})]},oe))]}),ee.jsx("div",{className:"progress-bar",children:ee.jsx(Gfe,{value:D(X.subtasks||[]),text:`${Math.round(D(X.subtasks||[]))}%`,styles:Kfe({pathColor:"#33B06F",textColor:"#000",trailColor:"#e0e0de",textSize:"12px"})})})]},X.id))]})]})}function Xfe(){const{id:t}=S8(),{document:e,error:n}=soe("projects",t);return n?ee.jsx("div",{className:"error project-margin",children:n}):e?ee.jsxs("div",{className:"project-details w-[80%] pl-5 pages-margin",children:[ee.jsxs("nav",{className:"navbar",children:[ee.jsx(th,{to:"",end:!0,className:({isActive:r})=>r?"nav-icon active":"nav-icon",children:"Summary"}),ee.jsx(th,{to:"tasks",className:({isActive:r})=>r?"nav-icon active":"nav-icon",children:"Tasks"}),ee.jsx(th,{to:"comments",className:({isActive:r})=>r?"nav-icon active":"nav-icon",children:"Comments"})]}),ee.jsx("div",{children:ee.jsxs(vF,{children:[ee.jsx(ka,{path:"",element:ee.jsx(aoe,{project:e})}),ee.jsx(ka,{path:"tasks",element:ee.jsx(Yfe,{project:e})}),ee.jsx(ka,{path:"comments",element:ee.jsx(Vfe,{project:e})})]})})]}):ee.jsx("div",{className:"loading project-margin",children:"loading...."})}const Qfe="/assets/temple-D0wVl4SD.png";function Jfe(){const{logout:t,isPending:e}=vR(),{user:n}=Zo();return console.log({user:n}),console.log(e),ee.jsx("nav",{className:"navbar ",children:ee.jsxs("ul",{children:[ee.jsx("li",{className:"logo",children:ee.jsx(Mb,{to:"/",children:ee.jsxs("div",{className:"logo-flex",children:[ee.jsx("img",{src:Qfe,alt:"logo"}),ee.jsx("span",{children:"EKRUWASSA"})]})})}),!n&&ee.jsx("div",{className:"auth-div"})]})})}const Zfe="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.7897%2026.6009L18.784%2018.4871L13.3675%2018.464L13.348%2026.6218H7.44707L7.13818%2015.44L7.14707%2012.8978L16.0097%203.97247L24.8804%2012.8431L24.8786%2019.2703L24.6715%2026.6391L18.7897%2026.6009Z'%20fill='%23D0CFCE'/%3e%3cpath%20d='M18.6622%2026.6444H23.992C24.2364%2026.6444%2024.4364%2026.4444%2024.4364%2026.2V15.1173M7.5813%2015.1169V26.2C7.5813%2026.4444%207.7813%2026.6444%208.02574%2026.6444H13.4191'%20stroke='%23CACACA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.77417%2015.82L16.0071%203.54535L28.2648%2015.7098M18.5844%2026.6369V18.5009H13.4333V26.6369'%20stroke='%23CACACA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",iF="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Sign%20Out%20Icon'%3e%3cg%20id='Group%20923'%3e%3cpath%20id='Union'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M21.7747%2022.2011L26.3371%2016.8777C26.555%2016.6292%2026.6665%2016.3154%2026.6666%2016C26.6667%2015.7842%2026.6147%2015.5676%2026.5091%2015.3706C26.4621%2015.2828%2026.4047%2015.1994%2026.3371%2015.1223L21.7747%209.79894C21.2955%209.23982%2020.4538%209.17502%2019.8947%209.65422C19.3356%2010.1334%2019.2708%2010.9751%2019.75%2011.5343L22.4345%2014.6666L12.1083%2014.6666C11.3719%2014.6666%2010.775%2015.2636%2010.775%2015.9999C10.775%2016.7363%2011.3719%2017.3333%2012.1083%2017.3333L22.4347%2017.3333L19.75%2020.4658C19.2708%2021.0249%2019.3356%2021.8666%2019.8947%2022.3458C20.4538%2022.825%2021.2955%2022.7602%2021.7747%2022.2011ZM13.3333%207.99992C14.0697%207.99992%2014.6666%208.59687%2014.6666%209.33325L14.6666%2011.3333C14.6666%2012.0696%2015.2636%2012.6666%2016%2012.6666C16.7363%2012.6666%2017.3333%2012.0696%2017.3333%2011.3333L17.3333%209.33325C17.3333%207.12411%2015.5424%205.33325%2013.3333%205.33325L9.33329%205.33325C7.12415%205.33325%205.33329%207.12411%205.33329%209.33325L5.33329%2022.6666C5.33329%2024.8757%207.12415%2026.6666%209.33329%2026.6666L13.3333%2026.6666C15.5424%2026.6666%2017.3333%2024.8757%2017.3333%2022.6666L17.3333%2020.6666C17.3333%2019.9302%2016.7363%2019.3333%2016%2019.3333C15.2636%2019.3333%2014.6666%2019.9302%2014.6666%2020.6666L14.6666%2022.6666C14.6666%2023.403%2014.0697%2023.9999%2013.3333%2023.9999L9.33329%2023.9999C8.59691%2023.9999%207.99996%2023.403%207.99996%2022.6666L7.99996%209.33325C7.99996%208.59687%208.59691%207.99992%209.33329%207.99992L13.3333%207.99992Z'%20fill='%23737791'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ehe="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='oui:ml-create-single-metric-job'%20clip-path='url(%23clip0_30_35)'%3e%3cpath%20id='Vector'%20d='M16%2032C7.163%2032%200%2024.837%200%2016C0%207.163%207.163%200%2016%200C24.837%200%2032%207.163%2032%2016C32%2020.2435%2030.3143%2024.3131%2027.3137%2027.3137C24.3131%2030.3143%2020.2435%2032%2016%2032ZM16%202C8.268%202%202%208.268%202%2016C2%2023.732%208.268%2030%2016%2030C23.732%2030%2030%2023.732%2030%2016C30%2012.287%2028.525%208.72601%2025.8995%206.1005C23.274%203.475%2019.713%202%2016%202Z'%20fill='%23737791'/%3e%3cpath%20id='Vector_2'%20d='M23%2015H17V9H15V15H9V17H15V23H17V17H23V15Z'%20fill='%23737791'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_30_35'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",the="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Menu'%20clip-path='url(%23clip0_2362_12892)'%3e%3cpath%20id='Vector'%20d='M3%2018H21V16H3V18ZM3%2013H21V11H3V13ZM3%206V8H21V6H3Z'%20fill='%230E110F'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2362_12892'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",nhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC0klEQVR4nO1WW4hNYRQ+5PIiESWiJCkpMrm8EJPcb6MmU7yoKZcnGpIJaUJ4nCdRCG+TS6J58HI8npn+9X1r7zlRh0bygMQ0I5c0OlrnDHPm7P/Y+0xDiVXr5d97f9/3f+tf69+p1P/4GyObzU4AsEsh15TykHQ7/hg5gO0kXimRH0zJqUpTV1fnrN9Kruq2KNE/lHwwCelTdStGjDAUWUjKUVVpyOVy4wl5WYm8JJ/m8/nRqrJVgQsA1lZPHIaTSdz7uTPKPhXZkIC8mOqWK3BswJVuBU4aZiLyfD4/SimPSgEDYGMAHEwqgOQec21oeRCai7ECAGzyANYVXKhCAOl2lq8HQH2sAAVORwHluKouTiogCFyNAs0enLNJBJyKgALNYdg5h5Bv8bvHZxGZ4duIAmdiBZBcFz1U0kBydxUl2EzKXt96EgcOe6w7ISLzEzkA+RKG4TQFrkZx3KEkDtR5gF8456Yq0Bhbf6A+CIKZhLz3tOf6WAEWCrnsceE6yUlKfKooANJjraaQu1FncCWVNEjWeqzty2QyE0lprVx7OWdOWRkizoisSSzAgpR2D0HrwEiO2Gtr2Wx2HImLnu/aU9WGAjc9LeaKz6THZ39ROJzH/ttVkZNcQMjrqM3SZqPaet3X/wNjvM3jzgcRWRJLHASuhsQNJb6WgTxW4IBzbqwCRyoeQpUmK4O9S+JJ2fN+c8JuyXQ6PaZ8x7MV8sBj3X07PMVdc1kBIH4S3gKw1L6xb724xDO7XQvkIjKXkDdllnWTXG1KixNQOuOIPeIz9ts2gFGrkOcRR8haO2x3yuqszrnpAFYVlFZJ7Dk3uSBwK+1+sCu57OCmU0q8LVn8aOUIRLb96tdrGNlvtbcLrXSQEfLO+r1FgUuWducXRi7RO4LkP7K3o6NjiorsL+Fr8fV/7LwfdgKNsa2oqvNspCpwfiTTMAEsqmog/Y9/Ir4DQu4oleuWqHUAAAAASUVORK5CYII=";function rhe(){const{error:t,documents:e}=$E("users"),{user:n}=Zo(),[r,i]=J.useState(null),[o,a]=J.useState(""),[u,c]=J.useState(""),[d,p]=J.useState(!1),[v,y]=J.useState(!1),[w,b]=J.useState(null),E=J.useRef(null),I=async H=>{try{const D=await S(H.id);i(D)}catch(D){console.error("Error fetching user details:",D.message)}},S=async H=>(await Nu.collection("users").doc(H).get()).data(),k=async()=>{if(!o.trim()){c("Please enter at least one valid email.");return}const H=o.split(/[\n,]+/).map(D=>D.trim().toLowerCase()).filter(D=>D);if(H.length===0){c("Please enter at least one valid email.");return}y(!0);try{const D=Nu.batch(),X=new Date;H.forEach(V=>{const oe=Nu.collection("approvedEmails").doc(V);D.set(oe,{email:V,addedBy:n.uid,createdAt:X})}),await D.commit(),a(""),c(""),p(!0),setTimeout(()=>p(!1),3e3)}catch(D){console.error("Error adding batch emails:",D.message),c("Failed to add some or all emails. Try again.")}finally{y(!1)}},C=H=>{console.log("Clicked image:",H),b(H)},A=()=>{b(null)};function O({src:H,onClick:D}){return ee.jsx("img",{src:H,alt:"Avatar",className:"avatar",onClick:D})}return ee.jsxs("div",{className:"user-list-container pages-margin",children:[ee.jsx("div",{className:"header",children:ee.jsxs("div",{className:"add-user-form",children:[ee.jsx("textarea",{value:o,onChange:H=>a(H.target.value),placeholder:"Enter emails separated by commas or new lines",rows:"4",className:"email-textarea"}),ee.jsxs("button",{className:"add-email-button",onClick:k,disabled:v,children:[v?"Adding...":"Add Email(s)"," "]}),u&&ee.jsx("p",{className:"error",children:u})]})}),ee.jsxs("div",{className:"user-list",ref:E,children:[ee.jsx("h2",{children:"Registered Users"}),t&&ee.jsx("div",{className:"error",children:t}),e&&e.filter(H=>H.id!==n.uid).map(H=>ee.jsxs("div",{className:"user-list-item",onClick:()=>I(H),children:[ee.jsx(O,{src:H.photoURL,onClick:()=>C(H.photoURL)}),ee.jsxs("div",{className:"user-info",children:[ee.jsx("span",{children:H.displayName}),ee.jsx("span",{className:"user-email",children:H.email})," "]})]},H.id))]}),d&&ee.jsx("div",{className:"success-modal",children:ee.jsxs("div",{className:"success-modal-content",children:[ee.jsx("p",{children:"Email successfully added!"}),ee.jsx("button",{onClick:()=>p(!1),children:"Close"})]})}),w&&ee.jsx("div",{className:"image-modal",onClick:A,children:ee.jsx("div",{className:"image-modal-content",onClick:H=>H.stopPropagation(),children:ee.jsx("img",{src:w,alt:"Enlarged profile",className:"enlarged-image"})})})]})}function ihe(){const{user:t}=Zo(),[e,n]=J.useState(window.innerWidth),r=720,[i,o]=J.useState(!1),[a,u]=J.useState(!1),{logout:c,isPending:d}=vR();J.useEffect(()=>{const v=()=>n(window.innerWidth);return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const p=()=>{u(!a)};return ee.jsxs(ee.Fragment,{children:[e<=r&&ee.jsx("div",{className:"menu-icon",onClick:p,children:ee.jsx("img",{src:the,alt:"Menu Icon",className:"menuu"})}),ee.jsxs("div",{className:`sidebar ${e<=r&&!a?"closed":"open"}`,children:[ee.jsxs("div",{className:"sidebar-content",children:[ee.jsxs("div",{className:"user",children:[ee.jsx(Ep,{src:t.photoURL}),ee.jsxs("p",{children:["Welcome, ",t.displayName]})]}),ee.jsx("nav",{className:"links",children:ee.jsxs("ul",{children:[ee.jsx("li",{children:ee.jsx(th,{to:"/",children:ee.jsxs("div",{className:"link",children:[ee.jsx("img",{src:Zfe,alt:"dashboard icon"}),ee.jsx("span",{children:"Home"})]})})}),ee.jsx("li",{children:ee.jsx(th,{to:"/create",children:ee.jsxs("div",{className:"link",children:[ee.jsx("img",{src:ehe,alt:"add icon"}),ee.jsx("span",{children:"Create Project"})]})})}),ee.jsx("li",{children:ee.jsx(th,{to:"/users",children:ee.jsxs("div",{className:"link",children:[ee.jsx("img",{src:nhe,alt:"user icon"}),ee.jsx("span",{children:"Users"})]})})}),t&&ee.jsxs("li",{children:[!d&&ee.jsxs("div",{className:"signout",onClick:c,children:[ee.jsx("img",{src:iF,alt:"signout icon"}),ee.jsx("span",{children:"Sign Out"})]}),d&&ee.jsxs("div",{className:"signout",disabled:!0,children:[ee.jsx("img",{src:iF,alt:"signout icon"}),ee.jsx("div",{children:"Sign out"})]}),d&&ee.jsx("div",{className:"loading-modal",children:ee.jsx("img",{src:gR,alt:"Loading",className:"loading-gif"})})]})]})})]}),i&&ee.jsx(tB,{isOpen:i,onClose:()=>o(!1)})]}),a&&e<=r&&ee.jsx("div",{className:"overlay",onClick:p})]})}function ohe(){const{user:t,authIsReady:e}=Zo(),[n,r]=J.useState(window.innerWidth);return J.useEffect(()=>{const i=()=>r(window.innerWidth);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),ee.jsx("div",{className:"App",children:e&&ee.jsxs(aV,{children:[t&&ee.jsx(ihe,{}),ee.jsxs("div",{className:"containe w-full ",children:[ee.jsx(Jfe,{}),ee.jsxs(vF,{children:[ee.jsx(ka,{path:"/",element:t?ee.jsx(ate,{}):ee.jsx(Zd,{to:"/login"})}),ee.jsx(ka,{path:"/create",element:t?ee.jsx(eoe,{}):ee.jsx(Zd,{to:"/login"})}),ee.jsx(ka,{path:"/users",element:t?ee.jsx(rhe,{}):ee.jsx(Zd,{to:"/login"})}),ee.jsx(ka,{path:"/signup",element:t?ee.jsx(Zd,{to:"/signup"}):ee.jsx(ooe,{})}),ee.jsx(ka,{path:"/login",element:t?ee.jsx(Zd,{to:"/"}):ee.jsx(roe,{})}),ee.jsx(ka,{path:"/projects/:id/*",element:t?ee.jsx(Xfe,{}):ee.jsx(Zd,{to:"/login"})})]})]})]})})}GB.createRoot(document.getElementById("root")).render(ee.jsx(sF.StrictMode,{children:ee.jsx(qee,{children:ee.jsx(ohe,{})})}));
